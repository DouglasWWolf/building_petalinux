WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.confluence.plugins.pagetree:pagetree-js-resources', location = 'soy/pagetree.soy' */
// This file was automatically generated from pagetree.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Pagetree.Macro.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Pagetree == 'undefined') { Confluence.Templates.Pagetree = {}; }
if (typeof Confluence.Templates.Pagetree.Macro == 'undefined') { Confluence.Templates.Pagetree.Macro = {}; }


Confluence.Templates.Pagetree.Macro.loadingIndicator = function(opt_data, opt_ignored) {
  return '<div class="plugin_pagetree_children_loading_wrapper"><div class="spinner"></div><span class="plugin_pagetree_children_loading">' + soy.$$escapeHtml('Loading...') + '</span></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Pagetree.Macro.loadingIndicator.soyTemplateName = 'Confluence.Templates.Pagetree.Macro.loadingIndicator';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.pagetree:pagetree-js-resources', location = 'com/atlassian/confluence/plugins/pagetree/resource/javascript/pagetree.js' */
(function(){var u=function(q){function u(a){var b=a.target,c=b.getAttribute("data-type"),d="true"===a.currentTarget.getAttribute("data-mobile");if("toggle"===c)a.preventDefault(),a.stopPropagation(),A(a.target,null,null,null,d);else if("load-all-after"===c){var e=b.getAttribute("data-last-rendered-id");c=b.getAttribute("data-page-id")+"-"+b.getAttribute("data-tree-id");p(a.target,c,[],null,"","",d,!1,!0,e,null)}else if("load-all-before"===c)e=b.getAttribute("data-first-rendered-id"),c=b.getAttribute("data-page-id")+
"-"+b.getAttribute("data-tree-id"),b="childrenspan"+e+"-"+b.getAttribute("data-tree-id"),p(a.target,c,[],null,"","",d,!1,!1,null,e,b);else return;a.preventDefault();a.stopPropagation()}var c=this.$=q,B={},C={},A=function(a,b,g,d,e){var l="true"===a.dataset.expanded;if(void 0==b||null==b)b=!l;if(void 0==g||null==g)g=0;var h="true"===a.getAttribute("data-children-loaded");if(l!==b){var n=a.getAttribute("data-page-id")+"-"+a.getAttribute("data-tree-id"),m=c("#children"+n);h?(1==b?(a.classList.remove("aui-iconfont-chevron-right"),
a.classList.add("aui-iconfont-chevron-down"),a.setAttribute("data-expanded",!0),a.setAttribute("aria-expanded",!0)):(a.classList.remove("aui-iconfont-chevron-down"),a.classList.add("aui-iconfont-chevron-right"),a.setAttribute("data-expanded",!1),a.setAttribute("aria-expanded",!1)),1==b?0==e?m.slideDown(300):(m.removeClass("plugin-pagetree-hide-children"),m.animate({opacity:1})):0==e?m.slideUp(300):m.animate({opacity:0},{complete:function(){m.addClass("plugin-pagetree-hide-children")}}),d&&y(n)):p(a,
n,[],g,"",d,e,!0)}d&&y(n)},r=function(a,b,g,d){E(a);var e=c("#"+a).find('a.plugin_pagetree_childtoggle[data-type\x3d"toggle"]');e.each(function(a){A(this,b,999,a==e.length-1,d)});g.preventDefault();g.stopPropagation()},z=function(a){return a&&void 0!=a?a.split("-"):null},E=function(a){var b=a&&void 0!=a?z(a)[1]:null;c("div.plugin_pagetree").each(function(a){a==b&&(c(this).find("span.plugin_pagetree_status").removeClass("hidden"),c(this).find("div.plugin_pagetree_expandcollapse").addClass("hidden"))})},
y=function(a){var b=a&&void 0!=a?z(a)[1]:null;c("div.plugin_pagetree").each(function(a){a==b&&(c(this).find("span.plugin_pagetree_status").addClass("hidden"),c(this).find("div.plugin_pagetree_expandcollapse").removeClass("hidden"))})},F=function(a,b,g,d,e,l,h,n,m,t){var f=B[a];f="Orphan"==b?f+("\x26hasRoot\x3dfalse\x26spaceKey\x3d"+e):f+("\x26hasRoot\x3dtrue\x26pageId\x3d"+b);f+="\x26treeId\x3d"+a+"\x26startDepth\x3d"+d+"\x26mobile\x3d"+h;c.each(g,function(){f+="\x26ancestors\x3d"+this});n&&(f+="\x26loadMore\x3dtrue");
null!=m&&(f+="\x26elementsAfter\x3d"+m);null!=t&&(f+="\x26elementsBefore\x3d"+t);f+="\x26treePageId\x3d"+l;0==h&&(f=(AJS.params.serverUrl||"")+f);return f},G=function(a){var b=null;c("div.plugin_pagetree").each(function(g){g==a&&(b=c(this))});return b},D=function(a){a=a.children("fieldset");var b={};0<a.length&&a.children("input").each(function(){b[this.name]=this.value});return b},H=function(a){a=a.children("fieldset");var b=[];0<a.length&&(a=a.children("fieldset"),0<a.length&&a.children("input").each(function(){b.push(this.value)}));
return b},p=function(a,b,g,d,e,l,h,n,m,t,f,v){function p(){if(t||f)a.innerHTML="Loading...";else{var b=Confluence.Templates.Pagetree.Macro.loadingIndicator();k.find(".plugin_pagetree_children_loading_wrapper .spinner").spin("small");f?k.html(b+k.html()):k.append(b)}}e=z(b);var r=e[0],x=e[1],k=c("#children"+b),w=D(G(x)),q=!1,u=0;"undefined"!==typeof v&&v&&(u=c("#"+v).offset().top);n?setTimeout(function(){q||p()},250):p();c.ajax({type:"GET",url:F(x,r,g,d,w.spaceKey,w.treePageId,h,m,t,f),dataType:"text",
success:function(d){var e=c(document.createElement("div"));e.html(d);e.find("ul[id^\x3d'child_ul']").length?(c(".plugin_pagetree_children_loading_wrapper").remove(),null!=f?(e=k.html(),k.html(d+e)):k.append(d),q=!0,"undefined"!==typeof v&&(d=c("#"+v).offset().top-u,document.getElementsByClassName("acs-side-bar")[0].scrollTop=document.getElementsByClassName("acs-side-bar")[0].scrollTop+d),k.children().length&&k.hasClass("hidden")&&k.removeClass("hidden"),c("#plusminus"+b).addClass("aui-iconfont-chevron-down").removeClass("aui-iconfont-chevron-right"),
c("#childrenspan"+C[parseInt(x)]+"-"+x).addClass("plugin_pagetree_current"),l&&y(b),"undefined"!==typeof a&&(a.setAttribute("data-children-loaded",!0),a.setAttribute("data-expanded",!0),a.setAttribute("aria-expanded",!0)),t&&c("#children"+b+" \x3e ul \x3e .page-tree-load-more-link-after").remove(),f&&c("#children"+b+" \x3e ul \x3e .page-tree-load-more-link-before").remove(),c("div.plugin_pagetree_children_container:empty",k).addClass("hidden"),AJS.PageGadget&&AJS.PageGadget.contentsUpdated&&AJS.PageGadget.contentsUpdated()):
window.location=w.loginUrl;AJS.trigger("pagetree-children-loaded")},error:function(a){"403"==a.status?k.text(w["i18n-pagetree.error.permission"]):k.text(w["i18n-pagetree.error.general"])}})},I=function(a,b,g){a[0].addEventListener("click",u,{passive:!1});var d=D(a),e="true"==d.noRoot,l=e?"Orphan-"+b:d.rootPageId+"-"+b,h="true"==d.mobile;h&&a[0].setAttribute("data-mobile",h);B[b]=d.treeRequestId;C[b]=0==h?AJS.params.pageId:c("div.content-container").parent().attr("data-content-id");a.children("fieldset").each(function(){var a=
c(this);a.children("input[treeId]").attr("value",b);a.children("input[rootPage]").attr("value",l)});e?(a.find("div.plugin_pagetree_children").attr("id","childrenOrphan-"+b),a.find("a.plugin_pagetree_expandall").click(function(a){r("childrenOrphan-"+b,!0,a,h);return!1}),a.find("a.plugin_pagetree_collapseall").click(function(a){r("childrenOrphan-"+b,!1,a,h);return!1})):(a.find("div.plugin_pagetree_children").attr("id","children"+l),a.find("a.plugin_pagetree_expandall").click(function(a){r("children"+
l,!0,a,h);return!1}),a.find("a.plugin_pagetree_collapseall").click(function(a){r("children"+l,!1,a,h);return!1}));a=H(a);p(void 0,l,a,d.startDepth,d.spaceKey,"",h,!1,g,null,null)};this.initPageTrees=function(a){c("div.plugin_pagetree").each(function(b){I(c(this),b,a)});J()};var J=function(){var a=self.placeFocus;a&&(self.placeFocus=function(){var b=c("form[name\x3d'pagetreesearchform']");b.attr("name","inlinecommentform");a();b.attr("name","pagetreesearchform")})};c(".open-flyout-to-search").bind("click",
function(a){c(".fly-out-open").length?setTimeout(function(){ConfluenceMobile.flyout.hide()},400):setTimeout(function(){ConfluenceMobile.flyout.show()},400);a.stopPropagation();a.preventDefault()})};Confluence=Confluence||{};Confluence.Plugins=Confluence.Plugins||{};Confluence.Plugins.PagetreeMacro={bind:function(q){(new u(q)).initPageTrees(!1)}}})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.pagetree:pagetree-js-resources', location = 'com/atlassian/confluence/plugins/pagetree/resource/javascript/pagetree-desktop.js' */
AJS.toInit(function(a){Confluence.Plugins.PagetreeMacro.bind(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:help-dialog-extension', location = '/jira/help-dialog.js' */
Confluence.KeyboardShortcuts&&Confluence.KeyboardShortcuts.Editor.push({context:"editor.actions",descKey:"Insert Jira Issue/Filter"+":",keys:[["Ctrl+Shift+J"]]});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-mentions-plugin:help-dialog-extension', location = 'js/help-dialog.js' */
AJS.toInit(function($) {
    // Add the shortcut to the shortcuts dialog
    Confluence.KeyboardShortcuts && Confluence.KeyboardShortcuts.Autoformat.push(
        {
            action: "@",
            context: "autoformat.autocomplete",
            description: "Mention"
        });
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:footer-analytics', location = '/js/confluence-dashboard/utils/footer-analytics.js' */
define("confluence-dashboard/utils/footer-analytics",["jquery","ajs","confluence/meta"],function(e,a,t){"use strict";var n=i(e).default,o=i(a).default,c=i(t).default;function i(e){return e&&e.__esModule?e:{default:e}}o.toInit(function(){var e=c.get("page-id"),a=n("body").hasClass("dashboard");n("#footer").on("click","a",function(){o.trigger("analytics",{name:"confluence.footer.item.click",data:{pageId:e,isDashboard:a}})})})}),require(["confluence-dashboard/utils/footer-analytics"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.dialog2', location = 'aui.chunk.afb0455b22fe08f3d5f6--3bb4a4578cbbea02f437.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.component.dialog2"],{"0+IH":function(t,e,i){"use strict";i.r(e),i.d(e,"dialog2",(function(){return p}));i("AehQ"),i("rWoL");var a=i("+x/D"),u=i("TmQU"),n=i("KloK"),o=i("jEnx"),c=i("6RZY"),l=i("+ay7"),s=i("Pjwx"),d={"aui-focus":"false","aui-blanketed":"true"};function f(t){var e;this._handlers=new WeakMap,this.$el=t?Object(a.default)(t):Object(a.default)('\n        <section role="dialog" class="aui-layer aui-dialog2 aui-dialog2-medium">\n            <header class="aui-dialog2-header">\n                <h2 class="aui-dialog2-header-main"></h2>\n                '.concat(s.CLOSE_BUTTON,'\n                </button>\n            </header>\n            <div class="aui-dialog2-content"></div>\n            <footer class="aui-dialog2-footer"></footer>\n        </section>')),e=this.$el,a.default.each(d,(function(t,i){var a="data-"+t;e[0].hasAttribute(a)||e.attr(a,i)}))}f.prototype.on=function(t,e){const i=this.$el;if(!this._handlers.get(e)){const a=function(t){t.target===i.get(0)&&e.apply(this,arguments)};Object(o.default)(i).on(t,a),this._handlers.set(e,a)}return this},f.prototype.off=function(t,e){const i=this.$el,a=this._handlers.get(e);return a&&(Object(o.default)(i).off(t,a),this._handlers.delete(e)),this},f.prototype.show=function(){return Object(o.default)(this.$el).show(),this},f.prototype.hide=function(){return Object(o.default)(this.$el).hide(),this},f.prototype.remove=function(){return Object(o.default)(this.$el).remove(),this},f.prototype.isVisible=function(){return Object(o.default)(this.$el).isVisible()};var h=Object(c.default)("dialog2",f),r=new Set;h.on=function(t,e){return r.has(e)||(o.default.on(t,".aui-dialog2",e),r.add(e)),this},h.off=function(t,e){return r.has(e)&&(o.default.off(t,".aui-dialog2",e),r.delete(e)),this},Object(a.default)(document).on("click keydown",".aui-dialog2-header ".concat(s.CLOSE_BUTTON_CLASS_SELECTOR),(function(t){("click"===t.type||t.keyCode===l.default.ENTER||t.keyCode===l.default.SPACE)&&(t.preventDefault(),h(Object(a.default)(t.target).closest(".aui-dialog2")).hide())})),h.on("show",(function(t,e){e.find(s.CLOSE_BUTTON_CLASS_SELECTOR).attr("tabindex",0),e.attr("tabindex",-1);var i=e[0].hasAttribute("data-aui-focus-selector")&&e.attr("data-aui-focus-selector");if(i){var a=e.find(i);if(a.length>0)return a.first().focus()}e.focus()})),h.on("hide",(function(t,e){var i=Object(o.default)(e);e.data("aui-remove-on-hide")&&i.remove()})),Object(u.default)("aui/dialog2",h),Object(n.default)("dialog2",h);var p=h}},[["0+IH","runtime","aui.splitchunk.vendors--894c8113d9","aui.splitchunk.0d131bcbf1","aui.splitchunk.fbbef27525","aui.splitchunk.444efc83be","aui.splitchunk.739b9ec8cc","aui.splitchunk.dd803a46b4","aui.splitchunk.994e478d48","aui.splitchunk.d7c46c2734","aui.splitchunk.e54c7c7304","aui.splitchunk.fb15cffa72","aui.splitchunk.f1e06f97a4","aui.splitchunk.479fe6ee76","aui.splitchunk.f673ef53ac","aui.splitchunk.8659b532c1","aui.splitchunk.5f851f97df","aui.splitchunk.d0110a864f","aui.splitchunk.afa5039e04","aui.splitchunk.bff3715233","aui.splitchunk.c750721820","aui.splitchunk.6d6f245ed3","aui.splitchunk.5b8c290363","aui.splitchunk.3d2cb1af14"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:page-loading-indicator', location = '/includes/js/page-loading-indicator.js' */
define("confluence/page-loading-indicator",["jquery","underscore","ajs","confluence/templates"],function(c,k,a,h){return function(b){function d(){return c(".confluence-page-loading-blanket",b)}function e(){return c(".confluence-loading-indicator",b)}return{show:function(){0===d().length&&c(b).append(h.pageLoadingIndicator());d().show();e().spin({lines:12,length:8,width:4,radius:10,trail:60,speed:1.5,color:"#F0F0F0"})},hide:function(){e().stop();d().hide()},showUntilResolved:function(c,b){var f=this.hide.bind(this);
this.show();c.then(function(){f()},function(){b&&a.messages.error(".confluence-page-loading-errors",{body:b});f()})},showUntilDialogVisible:function(b,d){var f=d||"An error has occurred connecting to the server. Please try again.",g=this.hide.bind(this),e=c(".aui-dialog:visible"),h=c(".aui-dialog2:visible");!e.length&&!h.length&&this.show();b.then(function(){g()},function(){a.messages.error(".confluence-page-loading-errors",{body:f});g()});a.bind("show.dialog",function i(){a.unbind("show.dialog",i);g()});if(null!=a.dialog2&&
void 0!=a.dialog2)a.dialog2.on("show",function j(){a.dialog2.off("show",j);g()})},destroy:function(){b.remove(".confluence-page-loading-blanket")}}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence/page-loading-indicator","Confluence.PageLoadingIndicator");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:page-loading-indicator', location = '/includes/soy/page-loading-indicator.soy' */
// This file was automatically generated from page-loading-indicator.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }


Confluence.Templates.pageLoadingIndicator = function(opt_data, opt_ignored) {
  return '<div class="confluence-page-loading-errors"></div><div class="confluence-page-loading-blanket aui-blanket" aria-hidden="false"><div class="confluence-loading-indicator"></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.pageLoadingIndicator.soyTemplateName = 'Confluence.Templates.pageLoadingIndicator';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:deferred-loaders', location = '/includes/js/deferred-dialog-loader.js' */
define("confluence/deferred-dialog-loader",["underscore","jquery","ajs","confluence/page-loading-indicator","confluence/api/event"],function(c,d,i,j,b){return function(){var k=j(d("body")),f,g=!1,h=!1,e=function(){g&&h&&f&&(b.trigger(f),f=void 0)};b.bind("page.move.dialog.ready",function(){g=!0;e()});b.bind("blogpost.move.dialog.ready",function(){h=!0;e()});c.each({movePageDialogTools:{resource:"confluence.web.resources:page-move-resources",selector:"#action-move-page-dialog-link",event:"deferred.page-move.tools-menu"},
movePageDialogEditor:{resource:"confluence.web.resources:page-move-resources",selector:"#rte-button-location",event:"deferred.page-move.editor"},moveBlogDialogTools:{resource:"confluence.web.resources:page-move-resources",selector:"#action-move-blogpost-dialog-link",event:"deferred.blog-move.tools-menu"},availableGadgetsHelp:{resource:"com.atlassian.confluence.plugins.gadgets:gadget-directory-resources",selector:"#gadget-directory-link",event:"deferred.available-gadgets.help-menu"},aboutConfluenceHelp:{resource:"confluence.web.resources:about",
selector:"#confluence-about-link",event:"deferred.about-confluence.help-menu"}},function(a){d("body").on("click",a.selector,function(c){var d=a.resource+".requested",e=WRM.require("wr!"+a.resource);e.then(function(){"confluence.web.resources:page-move-resources"!==a.resource?b.trigger(a.event):g&&h?b.trigger(a.event):f=a.event});k.showUntilDialogVisible(e);i.Analytics?i.Analytics.triggerPrivacyPolicySafeEvent(d):b.trigger("analyticsEvent",{name:d});c.preventDefault()})})}});
require("confluence/module-exporter").safeRequire("confluence/deferred-dialog-loader",function(c){require("ajs").toInit(c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:deferred-loaders', location = '/includes/js/page-permissions-deferred-loader.js' */
define("confluence/page-permissions-deferred-loader","confluence/dark-features confluence/legacy ajs confluence/page-loading-indicator jquery wrm".split(" "),function(b,a,c,d,e,f){var g=d(e("body"));return function(b){var a=f.require("wr!com.atlassian.confluence.plugins.confluence-page-restrictions-dialog:dialog-resources");a.then(function(){c.trigger("deferred.page.permissions")});g.showUntilDialogVisible(a,"There was an error loading the page restrictions. Please try again later.");b.preventDefault()}});
require("confluence/module-exporter").safeRequire("confluence/page-permissions-deferred-loader",function(b){var a=require("ajs");a.toInit(function(c){c("body").on("click","#rte-button-restrictions,#action-page-permissions-link",b);a.bind("system-content-metadata.open-restrictions-dialog",b)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:navigator-context', location = '/includes/js/api/navigator-context.js' */
define("confluence/api/navigator-context",["confluence/meta","document"],function(g,b){var h=function(a){a=d(a);return"undefined"!==typeof a&&0!==a},d=function(a){a=g.get(a);if(!isNaN(a))return Number(a)},i=function(){return!!b.querySelector(".page.view")||!!b.querySelector(".blogpost.view")},e=function(){return!!b.querySelector(".page.edit")||!!b.querySelector(".blogpost.edit")},f=function(){return g.get("content-type")},c=function(){return d("page-id")};return{getCurrent:function(){return e()&&
0===c()&&h("draft-id")?{target:"contentcreate",context:{contentId:d("draft-id"),contentType:f()}}:e()&&!i()&&0!==c()?{target:"contentedit",context:{contentId:c(),contentType:f()}}:!e()&&i()&&h("page-id")?{target:"contentview",context:{contentId:c(),contentType:f()}}:{target:"unknown",context:{}}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:initialise-metrics-collection', location = '/js/initialise-metrics.js' */
define("collaborative-editing-initialise-metrics-collection",["confluence/legacy"],function(a){return function(){var b={"confluence.editor":!0,"confluence.editor.preload":!0,"confluence.editor.quick.fetchContent":!0,"confluence.editor.tinymce":!0,"confluence.editor.synchrony":!0,"confluence.editor.synchrony.CR":!0,"confluence.editor.synchrony.connect":!0,"confluence.editor.synchrony.deps":!0,"confluence.editor.synchrony.init":!0,"confluence.editor.synchrony.jsLoad":!0,"confluence.editor.synchrony.snapshot":!0,
"confluence.editor.synchrony.unmarshal":!0},c={"confluence.editor.synchrony.connect":!0};a.registerPerformanceSession&&a.registerPerformanceSession("confluence.editor.quickedit.loading.times",b,c)}});require("confluence/module-exporter").safeRequire("collaborative-editing-initialise-metrics-collection",function(a){a()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:e12b2dff228f9633f42e7296a038917e', location = 'build/1706.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[1706],{11706:function(t,e,n){n.r(e),n.d(e,{FONT_FAMILY:function(){return c},findLongestText:function(){return o},getTextWidth:function(){return r},getTextWidthCanvas:function(){return u},hashCode:function(){return i}});var r=t=>u(t),o=t=>{return t.length?1===t.length?{text:t[0],width:r(t[0])}:{text:t.reduce(((t,n,o)=>{1===o&&(e=r(t));var u=r(n);return u>e?(e=u,n):t})),width:e}:{text:"",width:0};var e},u=t=>(u.context||(u.context=document.createElement("canvas").getContext("2d"),u.context.font="14px ".concat(c)),u.context.measureText(t).width),c='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',i=t=>{var e=0;if(!t)return e;for(var n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:4f36dbb6bc302f81ad026327c199a1e3', location = 'build/4818.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4818],{94818:function(r,e,t){t.r(e),t.d(e,{cleanObj:function(){return a},escapeQuotes:function(){return n},escapeTemplateValue:function(){return o},getChildren:function(){return u},getChildrenFromHtmlCollection:function(){return i},getCloudClientUrl:function(){return p},getSelectionFromArray:function(){return l},spliceSelectors:function(){return c}});t(42295),t(98457),t(63045),t(48868),t(88170),t(46527),t(32323),t(98871),t(47002),t(39684),t(59977),t(16856),t(61986),t(6345),t(91463),t(43028),t(99941),t(67590),t(69223),t(15610),t(54861),t(33382),t(17503);var n=r=>r&&"string"==typeof r?r&&r.replace(/"/g,"&#34").replace(/'/g,"&#39"):r,o=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var o="";return r.forEach(((r,e)=>{var n=e<t.length?t[e]:"";"string"==typeof n&&(n=n.replace(/"/g,"&#34").replace(/'/g,"&#39")),o+=r+n})),new String(o)},a=r=>(Object.keys(r).forEach((e=>void 0===r[e]?delete r[e]:{})),r),l=(r,e)=>{for(var t=[],n=r.length/e,o=(r.length-(e-1)*n)/2;o<r.length;o+=n)t.push(r[Math.floor(o)]);return t},c=(r,e,t)=>{if(!e||!e.length)return r;var n=r.toArray(),o=e.toArray();return Array.prototype.push.apply(n,o),n=t?Array.from(new Set(n)):n,$(n)},u=r=>i(r.toArray()),i=r=>{var e=[];return r&&r.length&&Array.prototype.forEach.call(r,(r=>Array.prototype.push.apply(e,r.children))),$(e)},p=()=>new URLSearchParams(window.location.search).get("xdm_e")||window.AP&&AP._hostOrigin||AJS.params&&AJS.params.versionNumber.match(/\d+\.\d+/)[0]||void 0}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:a3572a6023a90d3f52c53cd158d8660a', location = 'build/3926.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3926],{33926:function(e,t,n){n.r(t),n.d(t,{makeAjax:function(){return u},makeRequest:function(){return a}});var u=e=>"object"==typeof e.data?AJS.safe.ajax(e):$.ajax(e),a=e=>(e.url=Confluence.getContextPath()+e.url,u(e))}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:7d2175df33fe9125928e1840e1fb40e2', location = 'build/8018.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8018],{34144:function(t,e,r){var n=r(33392),o=Math.floor,i=function(t,e){var r=t.length,s=o(r/2);return r<8?u(t,e):a(t,i(n(t,0,s),e),i(n(t,s),e),e)},u=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},a=function(t,e,r,n){for(var o=e.length,i=r.length,u=0,a=0;u<o||a<i;)t[u+a]=u<o&&a<i?n(e[u],r[a])<=0?e[u++]:r[a++]:u<o?e[u++]:r[a++];return t};t.exports=i},42149:function(t,e,r){"use strict";var n=r(63927),o=r(84933),i=r(4905);t.exports=function(){for(var t=i(this),e=o(t.add),r=0,u=arguments.length;r<u;r++)n(e,t,arguments[r]);return t}},37247:function(t,e,r){"use strict";var n=r(63927),o=r(84933),i=r(4905);t.exports=function(){for(var t,e=i(this),r=o(e.delete),u=!0,a=0,s=arguments.length;a<s;a++)t=n(r,e,arguments[a]),u=u&&t;return!!u}},36740:function(t,e,r){var n=r(75850);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},89922:function(t,e,r){var n=r(63927);t.exports=function(t){return n(Set.prototype.values,t)}},65264:function(t,e,r){var n=r(25061),o=r(46802),i=r(20013),u=o("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[u]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},12579:function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},17503:function(t,e,r){"use strict";var n=r(63927),o=r(95453),i=r(4905),u=r(64475),a=r(12579),s=r(89284),c=r(53815),f=r(41847);o("search",(function(t,e,r){return[function(e){var r=u(this),o=null==e?void 0:c(e,t);return o?n(o,e,r):new RegExp(e)[t](s(r))},function(t){var n=i(this),o=s(t),u=r(e,n,o);if(u.done)return u.value;var c=n.lastIndex;a(c,0)||(n.lastIndex=0);var l=f(n,o);return a(n.lastIndex,c)||(n.lastIndex=c),null===l?-1:l.index}]}))},88170:function(t,e,r){"use strict";r(29638)({target:"Set",proto:!0,real:!0,forced:!0},{addAll:r(42149)})},46527:function(t,e,r){"use strict";r(29638)({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:r(37247)})},32323:function(t,e,r){"use strict";var n=r(29638),o=r(3425),i=r(63927),u=r(84933),a=r(4905),s=r(63571),c=r(98971);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){var e=a(this),r=new(s(e,o("Set")))(e),n=u(r.delete);return c(t,(function(t){i(n,r,t)})),r}})},98871:function(t,e,r){"use strict";var n=r(29638),o=r(4905),i=r(99918),u=r(89922),a=r(98971);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=o(this),r=u(e),n=i(t,arguments.length>1?arguments[1]:void 0);return!a(r,(function(t,r){if(!n(t,t,e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},47002:function(t,e,r){"use strict";var n=r(29638),o=r(3425),i=r(63927),u=r(84933),a=r(4905),s=r(99918),c=r(63571),f=r(89922),l=r(98971);n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=a(this),r=f(e),n=s(t,arguments.length>1?arguments[1]:void 0),h=new(c(e,o("Set"))),v=u(h.add);return l(r,(function(t){n(t,t,e)&&i(v,h,t)}),{IS_ITERATOR:!0}),h}})},39684:function(t,e,r){"use strict";var n=r(29638),o=r(4905),i=r(99918),u=r(89922),a=r(98971);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=o(this),r=u(e),n=i(t,arguments.length>1?arguments[1]:void 0);return a(r,(function(t,r){if(n(t,t,e))return r(t)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},59977:function(t,e,r){"use strict";var n=r(29638),o=r(3425),i=r(63927),u=r(84933),a=r(4905),s=r(63571),c=r(98971);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){var e=a(this),r=new(s(e,o("Set"))),n=u(e.has),f=u(r.add);return c(t,(function(t){i(n,e,t)&&i(f,r,t)})),r}})},16856:function(t,e,r){"use strict";var n=r(29638),o=r(63927),i=r(84933),u=r(4905),a=r(98971);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){var e=u(this),r=i(e.has);return!a(t,(function(t,n){if(!0===o(r,e,t))return n()}),{INTERRUPTED:!0}).stopped}})},61986:function(t,e,r){"use strict";var n=r(29638),o=r(3425),i=r(63927),u=r(84933),a=r(96291),s=r(4905),c=r(48437),f=r(98971);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){var e=c(this),r=s(t),n=r.has;return a(n)||(r=new(o("Set"))(t),n=u(r.has)),!f(e,(function(t,e){if(!1===i(n,r,t))return e()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},6345:function(t,e,r){"use strict";var n=r(29638),o=r(63927),i=r(84933),u=r(4905),a=r(98971);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){var e=u(this),r=i(e.has);return!a(t,(function(t,n){if(!1===o(r,e,t))return n()}),{INTERRUPTED:!0}).stopped}})},91463:function(t,e,r){"use strict";var n=r(29638),o=r(70936),i=r(4905),u=r(89284),a=r(89922),s=r(98971),c=o([].join),f=[].push;n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=i(this),r=a(e),n=void 0===t?",":u(t),o=[];return s(r,f,{that:o,IS_ITERATOR:!0}),c(o,n)}})},43028:function(t,e,r){"use strict";var n=r(29638),o=r(3425),i=r(99918),u=r(63927),a=r(84933),s=r(4905),c=r(63571),f=r(89922),l=r(98971);n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=s(this),r=f(e),n=i(t,arguments.length>1?arguments[1]:void 0),h=new(c(e,o("Set"))),v=a(h.add);return l(r,(function(t){u(v,h,n(t,t,e))}),{IS_ITERATOR:!0}),h}})},99941:function(t,e,r){"use strict";var n=r(29638),o=r(84933),i=r(4905),u=r(89922),a=r(98971),s=TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=i(this),r=u(e),n=arguments.length<2,c=n?void 0:arguments[1];if(o(t),a(r,(function(r){n?(n=!1,c=r):c=t(c,r,r,e)}),{IS_ITERATOR:!0}),n)throw s("Reduce of empty set with no initial value");return c}})},67590:function(t,e,r){"use strict";var n=r(29638),o=r(4905),i=r(99918),u=r(89922),a=r(98971);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=o(this),r=u(e),n=i(t,arguments.length>1?arguments[1]:void 0);return a(r,(function(t,r){if(n(t,t,e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},69223:function(t,e,r){"use strict";var n=r(29638),o=r(3425),i=r(63927),u=r(84933),a=r(4905),s=r(63571),c=r(98971);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){var e=a(this),r=new(s(e,o("Set")))(e),n=u(r.delete),f=u(r.add);return c(t,(function(t){i(n,r,t)||i(f,r,t)})),r}})},15610:function(t,e,r){"use strict";var n=r(29638),o=r(3425),i=r(84933),u=r(4905),a=r(63571),s=r(98971);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){var e=u(this),r=new(a(e,o("Set")))(e);return s(t,i(r.add),{that:r}),r}})},92964:function(t,e,r){"use strict";r(48868);var n=r(29638),o=r(45001),i=r(63927),u=r(70936),a=r(11502),s=r(65264),c=r(75850),f=r(36740),l=r(40606),h=r(62141),v=r(50684),d=r(72814),p=r(96291),g=r(78382),R=r(99918),S=r(20486),y=r(4905),w=r(62366),T=r(89284),I=r(22275),E=r(86034),U=r(48437),b=r(26354),k=r(57427),m=r(46802),x=r(34144),L=m("iterator"),O="URLSearchParams",_="URLSearchParamsIterator",P=v.set,A=v.getterFor(O),D=v.getterFor(_),j=Object.getOwnPropertyDescriptor,N=function(t){if(!a)return o[t];var e=j(o,t);return e&&e.value},C=N("fetch"),q=N("Request"),F=N("Headers"),Q=q&&q.prototype,z=F&&F.prototype,G=o.RegExp,B=o.TypeError,H=o.decodeURIComponent,J=o.encodeURIComponent,M=u("".charAt),K=u([].join),V=u([].push),W=u("".replace),X=u([].shift),Y=u([].splice),Z=u("".split),$=u("".slice),tt=/\+/g,et=Array(4),rt=function(t){return et[t-1]||(et[t-1]=G("((?:%[\\da-f]{2}){"+t+"})","gi"))},nt=function(t){try{return H(t)}catch(e){return t}},ot=function(t){var e=W(t,tt," "),r=4;try{return H(e)}catch(t){for(;r;)e=W(e,rt(r--),nt);return e}},it=/[!'()~]|%20/g,ut={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},at=function(t){return ut[t]},st=function(t){return W(J(t),it,at)},ct=h((function(t,e){P(this,{type:_,iterator:U(A(t).entries),kind:e})}),"Iterator",(function(){var t=D(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r}),!0),ft=function(t){this.entries=[],this.url=null,void 0!==t&&(w(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===M(t,0)?$(t,1):t:T(t)))};ft.prototype={type:O,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,o,u,a,s,c=b(t);if(c)for(r=(e=U(t,c)).next;!(n=i(r,e)).done;){if(u=(o=U(y(n.value))).next,(a=i(u,o)).done||(s=i(u,o)).done||!i(u,o).done)throw B("Expected sequence with length 2");V(this.entries,{key:T(a.value),value:T(s.value)})}else for(var f in t)g(t,f)&&V(this.entries,{key:f,value:T(t[f])})},parseQuery:function(t){if(t)for(var e,r,n=Z(t,"&"),o=0;o<n.length;)(e=n[o++]).length&&(r=Z(e,"="),V(this.entries,{key:ot(X(r)),value:ot(K(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],V(r,st(t.key)+"="+st(t.value));return K(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var lt=function(){d(this,ht);var t=arguments.length>0?arguments[0]:void 0;P(this,new ft(t))},ht=lt.prototype;if(f(ht,{append:function(t,e){k(arguments.length,2);var r=A(this);V(r.entries,{key:T(t),value:T(e)}),r.updateURL()},delete:function(t){k(arguments.length,1);for(var e=A(this),r=e.entries,n=T(t),o=0;o<r.length;)r[o].key===n?Y(r,o,1):o++;e.updateURL()},get:function(t){k(arguments.length,1);for(var e=A(this).entries,r=T(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){k(arguments.length,1);for(var e=A(this).entries,r=T(t),n=[],o=0;o<e.length;o++)e[o].key===r&&V(n,e[o].value);return n},has:function(t){k(arguments.length,1);for(var e=A(this).entries,r=T(t),n=0;n<e.length;)if(e[n++].key===r)return!0;return!1},set:function(t,e){k(arguments.length,1);for(var r,n=A(this),o=n.entries,i=!1,u=T(t),a=T(e),s=0;s<o.length;s++)(r=o[s]).key===u&&(i?Y(o,s--,1):(i=!0,r.value=a));i||V(o,{key:u,value:a}),n.updateURL()},sort:function(){var t=A(this);x(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=A(this).entries,n=R(t,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;)n((e=r[o++]).value,e.key,this)},keys:function(){return new ct(this,"keys")},values:function(){return new ct(this,"values")},entries:function(){return new ct(this,"entries")}},{enumerable:!0}),c(ht,L,ht.entries,{name:"entries"}),c(ht,"toString",(function(){return A(this).serialize()}),{enumerable:!0}),l(lt,O),n({global:!0,constructor:!0,forced:!s},{URLSearchParams:lt}),!s&&p(F)){var vt=u(z.has),dt=u(z.set),pt=function(t){if(w(t)){var e,r=t.body;if(S(r)===O)return e=t.headers?new F(t.headers):new F,vt(e,"content-type")||dt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),I(t,{body:E(0,T(r)),headers:E(0,e)})}return t};if(p(C)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return C(t,arguments.length>1?pt(arguments[1]):{})}}),p(q)){var gt=function(t){return d(this,Q),new q(t,arguments.length>1?pt(arguments[1]):{})};Q.constructor=gt,gt.prototype=Q,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:gt})}}t.exports={URLSearchParams:lt,getState:A}},33382:function(t,e,r){r(92964)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:99cbe562cf23c328c3eb98f1f5b81db1', location = 'build/7874.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[7874],{5822:function(t,e,r){var n=r(46802),o=r(22275),i=r(56462).f,c=n("unscopables"),a=Array.prototype;null==a[c]&&i(a,c,{configurable:!0,value:o(null)}),t.exports=function(t){a[c][t]=!0}},72814:function(t,e,r){var n=r(66282),o=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw o("Incorrect invocation")}},16607:function(t,e,r){"use strict";var n=r(72758).forEach,o=r(79020)("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},72758:function(t,e,r){var n=r(99918),o=r(70936),i=r(62901),c=r(87615),a=r(44821),u=r(17021),s=o([].push),f=function(t){var e=1==t,r=2==t,o=3==t,f=4==t,v=6==t,p=7==t,l=5==t||v;return function(h,d,y,m){for(var x,T,g=c(h),w=i(g),S=n(d,y),E=a(w),O=0,R=m||u,L=e?R(h,E):r||p?R(h,0):void 0;E>O;O++)if((l||O in w)&&(T=S(x=w[O],O,g),t))if(e)L[O]=T;else if(T)switch(t){case 3:return!0;case 5:return x;case 6:return O;case 2:s(L,x)}else switch(t){case 4:return!1;case 7:s(L,x)}return v?-1:o||f?f:L}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},79020:function(t,e,r){"use strict";var n=r(25061);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},60650:function(t,e,r){var n=r(70936);t.exports=n([].slice)},91892:function(t,e,r){var n=r(20119),o=r(61814),i=r(62366),c=r(46802)("species"),a=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(o(e)&&(e===a||n(e.prototype))||i(e)&&null===(e=e[c]))&&(e=void 0)),void 0===e?a:e}},17021:function(t,e,r){var n=r(91892);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},13165:function(t,e,r){var n=r(46802)("iterator"),o=!1;try{var i=0,c={next:function(){return{done:!!i++}},return:function(){o=!0}};c[n]=function(){return this},Array.from(c,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(t){}return r}},10149:function(t,e,r){var n=r(25061);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},62141:function(t,e,r){"use strict";var n=r(61151).IteratorPrototype,o=r(22275),i=r(86034),c=r(40606),a=r(80501),u=function(){return this};t.exports=function(t,e,r,s){var f=e+" Iterator";return t.prototype=o(n,{next:i(+!s,r)}),c(t,f,!1,!0),a[f]=u,t}},30645:function(t,e,r){"use strict";var n=r(29638),o=r(63927),i=r(20013),c=r(9873),a=r(96291),u=r(62141),s=r(64320),f=r(22848),v=r(40606),p=r(50430),l=r(75850),h=r(46802),d=r(80501),y=r(61151),m=c.PROPER,x=c.CONFIGURABLE,T=y.IteratorPrototype,g=y.BUGGY_SAFARI_ITERATORS,w=h("iterator"),S="keys",E="values",O="entries",R=function(){return this};t.exports=function(t,e,r,c,h,y,L){u(r,e,c);var P,b,j,C=function(t){if(t===h&&M)return M;if(!g&&t in k)return k[t];switch(t){case S:case E:case O:return function(){return new r(this,t)}}return function(){return new r(this)}},A=e+" Iterator",I=!1,k=t.prototype,N=k[w]||k["@@iterator"]||h&&k[h],M=!g&&N||C(h),_="Array"==e&&k.entries||N;if(_&&(P=s(_.call(new t)))!==Object.prototype&&P.next&&(i||s(P)===T||(f?f(P,T):a(P[w])||l(P,w,R)),v(P,A,!0,!0),i&&(d[A]=R)),m&&h==E&&N&&N.name!==E&&(!i&&x?p(k,"name",E):(I=!0,M=function(){return o(N,this)})),h)if(b={values:C(E),keys:y?M:C(S),entries:C(O)},L)for(j in b)(g||I||!(j in k))&&l(k,j,b[j]);else n({target:e,proto:!0,forced:g||I},b);return i&&!L||k[w]===M||l(k,w,M,{name:h}),d[e]=M,b}},58514:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},27234:function(t,e,r){var n=r(36009)("span").classList,o=n&&n.constructor&&n.constructor.prototype;t.exports=o===Object.prototype?void 0:o},16837:function(t){t.exports="object"==typeof window&&"object"!=typeof Deno},81368:function(t,e,r){var n=r(19966),o=r(45001);t.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==o.Pebble},70311:function(t,e,r){var n=r(19966);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},10566:function(t,e,r){var n=r(75489),o=r(45001);t.exports="process"==n(o.process)},74832:function(t,e,r){var n=r(19966);t.exports=/web0s(?!.*chrome)/i.test(n)},99918:function(t,e,r){var n=r(70936),o=r(84933),i=r(58483),c=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?c(t,e):function(){return t.apply(e,arguments)}}},26354:function(t,e,r){var n=r(20486),o=r(53815),i=r(80501),c=r(46802)("iterator");t.exports=function(t){if(null!=t)return o(t,c)||o(t,"@@iterator")||i[n(t)]}},48437:function(t,e,r){var n=r(63927),o=r(84933),i=r(4905),c=r(67073),a=r(26354),u=TypeError;t.exports=function(t,e){var r=arguments.length<2?a(t):e;if(o(r))return i(n(r,t));throw u(c(t)+" is not iterable")}},53455:function(t,e,r){var n=r(45001);t.exports=function(t,e){var r=n.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))}},55557:function(t,e,r){var n=r(46802),o=r(80501),i=n("iterator"),c=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||c[i]===t)}},20119:function(t,e,r){var n=r(75489);t.exports=Array.isArray||function(t){return"Array"==n(t)}},98971:function(t,e,r){var n=r(99918),o=r(63927),i=r(4905),c=r(67073),a=r(55557),u=r(44821),s=r(66282),f=r(48437),v=r(26354),p=r(9200),l=TypeError,h=function(t,e){this.stopped=t,this.result=e},d=h.prototype;t.exports=function(t,e,r){var y,m,x,T,g,w,S,E=r&&r.that,O=!(!r||!r.AS_ENTRIES),R=!(!r||!r.IS_RECORD),L=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),b=n(e,E),j=function(t){return y&&p(y,"normal",t),new h(!0,t)},C=function(t){return O?(i(t),P?b(t[0],t[1],j):b(t[0],t[1])):P?b(t,j):b(t)};if(R)y=t.iterator;else if(L)y=t;else{if(!(m=v(t)))throw l(c(t)+" is not iterable");if(a(m)){for(x=0,T=u(t);T>x;x++)if((g=C(t[x]))&&s(d,g))return g;return new h(!1)}y=f(t,m)}for(w=R?t.next:y.next;!(S=o(w,y)).done;){try{g=C(S.value)}catch(t){p(y,"throw",t)}if("object"==typeof g&&g&&s(d,g))return g}return new h(!1)}},9200:function(t,e,r){var n=r(63927),o=r(4905),i=r(53815);t.exports=function(t,e,r){var c,a;o(t);try{if(!(c=i(t,"return"))){if("throw"===e)throw r;return r}c=n(c,t)}catch(t){a=!0,c=t}if("throw"===e)throw r;if(a)throw c;return o(c),r}},61151:function(t,e,r){"use strict";var n,o,i,c=r(25061),a=r(96291),u=r(22275),s=r(64320),f=r(75850),v=r(46802),p=r(20013),l=v("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(n=o):h=!0),null==n||c((function(){var t={};return n[l].call(t)!==t}))?n={}:p&&(n=u(n)),a(n[l])||f(n,l,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},80501:function(t){t.exports={}},43690:function(t,e,r){var n,o,i,c,a,u,s,f,v=r(45001),p=r(99918),l=r(8117).f,h=r(38680).set,d=r(70311),y=r(81368),m=r(74832),x=r(10566),T=v.MutationObserver||v.WebKitMutationObserver,g=v.document,w=v.process,S=v.Promise,E=l(v,"queueMicrotask"),O=E&&E.value;O||(n=function(){var t,e;for(x&&(t=w.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?c():i=void 0,t}}i=void 0,t&&t.enter()},d||x||m||!T||!g?!y&&S&&S.resolve?((s=S.resolve(void 0)).constructor=S,f=p(s.then,s),c=function(){f(n)}):x?c=function(){w.nextTick(n)}:(h=p(h,v),c=function(){h(n)}):(a=!0,u=g.createTextNode(""),new T(n).observe(u,{characterData:!0}),c=function(){u.data=a=!a})),t.exports=O||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,c()),i=e}},37714:function(t,e,r){"use strict";var n=r(84933),o=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new o(t)}},64320:function(t,e,r){var n=r(78382),o=r(96291),i=r(87615),c=r(61695),a=r(10149),u=c("IE_PROTO"),s=Object,f=s.prototype;t.exports=a?s.getPrototypeOf:function(t){var e=i(t);if(n(e,u))return e[u];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof s?f:null}},37040:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},68410:function(t,e,r){var n=r(45001),o=r(17883),i=r(96291),c=r(91092),a=r(685),u=r(46802),s=r(16837),f=r(20013),v=r(42821),p=o&&o.prototype,l=u("species"),h=!1,d=i(n.PromiseRejectionEvent),y=c("Promise",(function(){var t=a(o),e=t!==String(o);if(!e&&66===v)return!0;if(f&&(!p.catch||!p.finally))return!0;if(v>=51&&/native code/.test(t))return!1;var r=new o((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[l]=n,!(h=r.then((function(){}))instanceof n)||!e&&s&&!d}));t.exports={CONSTRUCTOR:y,REJECTION_EVENT:d,SUBCLASSING:h}},17883:function(t,e,r){var n=r(45001);t.exports=n.Promise},47504:function(t,e,r){var n=r(4905),o=r(62366),i=r(37714);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},43653:function(t,e,r){var n=r(17883),o=r(13165),i=r(68410).CONSTRUCTOR;t.exports=i||!o((function(t){n.all(t).then(void 0,(function(){}))}))},28791:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},40606:function(t,e,r){var n=r(56462).f,o=r(78382),i=r(46802)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!o(t,i)&&n(t,i,{configurable:!0,value:e})}},38680:function(t,e,r){var n,o,i,c,a=r(45001),u=r(25494),s=r(99918),f=r(96291),v=r(78382),p=r(25061),l=r(12118),h=r(60650),d=r(36009),y=r(57427),m=r(70311),x=r(10566),T=a.setImmediate,g=a.clearImmediate,w=a.process,S=a.Dispatch,E=a.Function,O=a.MessageChannel,R=a.String,L=0,P={},b="onreadystatechange";try{n=a.location}catch(t){}var j=function(t){if(v(P,t)){var e=P[t];delete P[t],e()}},C=function(t){return function(){j(t)}},A=function(t){j(t.data)},I=function(t){a.postMessage(R(t),n.protocol+"//"+n.host)};T&&g||(T=function(t){y(arguments.length,1);var e=f(t)?t:E(t),r=h(arguments,1);return P[++L]=function(){u(e,void 0,r)},o(L),L},g=function(t){delete P[t]},x?o=function(t){w.nextTick(C(t))}:S&&S.now?o=function(t){S.now(C(t))}:O&&!m?(c=(i=new O).port2,i.port1.onmessage=A,o=s(c.postMessage,c)):a.addEventListener&&f(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!p(I)?(o=I,a.addEventListener("message",A,!1)):o=b in d("script")?function(t){l.appendChild(d("script")).onreadystatechange=function(){l.removeChild(this),j(t)}}:function(t){setTimeout(C(t),0)}),t.exports={set:T,clear:g}},57427:function(t){var e=TypeError;t.exports=function(t,r){if(t<r)throw e("Not enough arguments");return t}},48868:function(t,e,r){"use strict";var n=r(40678),o=r(5822),i=r(80501),c=r(50684),a=r(56462).f,u=r(30645),s=r(20013),f=r(11502),v="Array Iterator",p=c.set,l=c.getterFor(v);t.exports=u(Array,"Array",(function(t,e){p(this,{type:v,target:n(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!s&&f&&"values"!==h.name)try{a(h,"name",{value:"values"})}catch(t){}},68049:function(t,e,r){var n=r(29638),o=r(11502),i=r(62466),c=r(40678),a=r(8117),u=r(1006);n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,r,n=c(t),o=a.f,s=i(n),f={},v=0;s.length>v;)void 0!==(r=o(n,e=s[v++]))&&u(f,e,r);return f}})},5370:function(t,e,r){"use strict";var n=r(29638),o=r(63927),i=r(84933),c=r(37714),a=r(37040),u=r(98971);n({target:"Promise",stat:!0,forced:r(43653)},{all:function(t){var e=this,r=c.f(e),n=r.resolve,s=r.reject,f=a((function(){var r=i(e.resolve),c=[],a=0,f=1;u(t,(function(t){var i=a++,u=!1;f++,o(r,e,t).then((function(t){u||(u=!0,c[i]=t,--f||n(c))}),s)})),--f||n(c)}));return f.error&&s(f.value),r.promise}})},14139:function(t,e,r){"use strict";var n=r(29638),o=r(20013),i=r(68410).CONSTRUCTOR,c=r(17883),a=r(3425),u=r(96291),s=r(75850),f=c&&c.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&u(c)){var v=a("Promise").prototype.catch;f.catch!==v&&s(f,"catch",v,{unsafe:!0})}},9688:function(t,e,r){"use strict";var n,o,i,c=r(29638),a=r(20013),u=r(10566),s=r(45001),f=r(63927),v=r(75850),p=r(22848),l=r(40606),h=r(53126),d=r(84933),y=r(96291),m=r(62366),x=r(72814),T=r(63571),g=r(38680).set,w=r(43690),S=r(53455),E=r(37040),O=r(28791),R=r(50684),L=r(17883),P=r(68410),b=r(37714),j="Promise",C=P.CONSTRUCTOR,A=P.REJECTION_EVENT,I=P.SUBCLASSING,k=R.getterFor(j),N=R.set,M=L&&L.prototype,_=L,G=M,U=s.TypeError,D=s.document,V=s.process,F=b.f,B=F,H=!!(D&&D.createEvent&&s.dispatchEvent),q="unhandledrejection",J=function(t){var e;return!(!m(t)||!y(e=t.then))&&e},Y=function(t,e){var r,n,o,i=e.value,c=1==e.state,a=c?t.ok:t.fail,u=t.resolve,s=t.reject,v=t.domain;try{a?(c||(2===e.rejection&&X(e),e.rejection=1),!0===a?r=i:(v&&v.enter(),r=a(i),v&&(v.exit(),o=!0)),r===t.promise?s(U("Promise-chain cycle")):(n=J(r))?f(n,r,u,s):u(r)):s(i)}catch(t){v&&!o&&v.exit(),s(t)}},K=function(t,e){t.notified||(t.notified=!0,w((function(){for(var r,n=t.reactions;r=n.get();)Y(r,t);t.notified=!1,e&&!t.rejection&&z(t)})))},W=function(t,e,r){var n,o;H?((n=D.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),s.dispatchEvent(n)):n={promise:e,reason:r},!A&&(o=s["on"+t])?o(n):t===q&&S("Unhandled promise rejection",r)},z=function(t){f(g,s,(function(){var e,r=t.facade,n=t.value;if(Q(t)&&(e=E((function(){u?V.emit("unhandledRejection",n,r):W(q,r,n)})),t.rejection=u||Q(t)?2:1,e.error))throw e.value}))},Q=function(t){return 1!==t.rejection&&!t.parent},X=function(t){f(g,s,(function(){var e=t.facade;u?V.emit("rejectionHandled",e):W("rejectionhandled",e,t.value)}))},Z=function(t,e,r){return function(n){t(e,n,r)}},$=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,K(t,!0))},tt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw U("Promise can't be resolved itself");var n=J(e);n?w((function(){var r={done:!1};try{f(n,e,Z(tt,r,t),Z($,r,t))}catch(e){$(r,e,t)}})):(t.value=e,t.state=1,K(t,!1))}catch(e){$({done:!1},e,t)}}};if(C&&(G=(_=function(t){x(this,G),d(t),f(n,this);var e=k(this);try{t(Z(tt,e),Z($,e))}catch(t){$(e,t)}}).prototype,(n=function(t){N(this,{type:j,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:0,value:void 0})}).prototype=v(G,"then",(function(t,e){var r=k(this),n=F(T(this,_));return r.parent=!0,n.ok=!y(t)||t,n.fail=y(e)&&e,n.domain=u?V.domain:void 0,0==r.state?r.reactions.add(n):w((function(){Y(n,r)})),n.promise})),o=function(){var t=new n,e=k(t);this.promise=t,this.resolve=Z(tt,e),this.reject=Z($,e)},b.f=F=function(t){return t===_||undefined===t?new o(t):B(t)},!a&&y(L)&&M!==Object.prototype)){i=M.then,I||v(M,"then",(function(t,e){var r=this;return new _((function(t,e){f(i,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete M.constructor}catch(t){}p&&p(M,G)}c({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:_}),l(_,j,!1,!0),h(j)},63045:function(t,e,r){r(9688),r(5370),r(14139),r(47508),r(95858),r(71856)},47508:function(t,e,r){"use strict";var n=r(29638),o=r(63927),i=r(84933),c=r(37714),a=r(37040),u=r(98971);n({target:"Promise",stat:!0,forced:r(43653)},{race:function(t){var e=this,r=c.f(e),n=r.reject,s=a((function(){var c=i(e.resolve);u(t,(function(t){o(c,e,t).then(r.resolve,n)}))}));return s.error&&n(s.value),r.promise}})},95858:function(t,e,r){"use strict";var n=r(29638),o=r(63927),i=r(37714);n({target:"Promise",stat:!0,forced:r(68410).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return o(e.reject,void 0,t),e.promise}})},71856:function(t,e,r){"use strict";var n=r(29638),o=r(3425),i=r(20013),c=r(17883),a=r(68410).CONSTRUCTOR,u=r(47504),s=o("Promise"),f=i&&!a;n({target:"Promise",stat:!0,forced:i||a},{resolve:function(t){return u(f&&this===s?c:this,t)}})},98457:function(t,e,r){var n=r(45001),o=r(58514),i=r(27234),c=r(16607),a=r(50430),u=function(t){if(t&&t.forEach!==c)try{a(t,"forEach",c)}catch(e){t.forEach=c}};for(var s in o)o[s]&&u(n[s]&&n[s].prototype);u(i)},54861:function(t,e,r){var n=r(45001),o=r(58514),i=r(27234),c=r(48868),a=r(50430),u=r(46802),s=u("iterator"),f=u("toStringTag"),v=c.values,p=function(t,e){if(t){if(t[s]!==v)try{a(t,s,v)}catch(e){t[s]=v}if(t[f]||a(t,f,e),o[e])for(var r in c)if(t[r]!==c[r])try{a(t,r,c[r])}catch(e){t[r]=c[r]}}};for(var l in o)p(n[l]&&n[l].prototype,l);p(i,"DOMTokenList")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:8411172deeacf63e162af8e145341045', location = 'build/3353.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3353],{18209:function(t,n,r){var e=r(61814),o=r(67073),c=TypeError;t.exports=function(t){if(e(t))return t;throw c(o(t)+" is not a constructor")}},29076:function(t,n,r){var e=r(96291),o=String,c=TypeError;t.exports=function(t){if("object"==typeof t||e(t))return t;throw c("Can't set "+o(t)+" as a prototype")}},33392:function(t,n,r){var e=r(6971),o=r(44821),c=r(1006),u=Array,i=Math.max;t.exports=function(t,n,r){for(var f=o(t),a=e(n,f),s=e(void 0===r?f:r,f),p=u(i(s-a,0)),l=0;a<s;a++,l++)c(p,l,t[a]);return p.length=l,p}},1006:function(t,n,r){"use strict";var e=r(91030),o=r(56462),c=r(86034);t.exports=function(t,n,r){var u=e(n);u in t?o.f(t,u,c(0,r)):t[u]=r}},95453:function(t,n,r){"use strict";r(42295);var e=r(70936),o=r(75850),c=r(44847),u=r(25061),i=r(46802),f=r(50430),a=i("species"),s=RegExp.prototype;t.exports=function(t,n,r,p){var l=i(t),v=!u((function(){var n={};return n[l]=function(){return 7},7!=""[t](n)})),x=v&&!u((function(){var n=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[a]=function(){return r},r.flags="",r[l]=/./[l]),r.exec=function(){return n=!0,null},r[l](""),!n}));if(!v||!x||r){var y=e(/./[l]),_=n(l,""[t],(function(t,n,r,o,u){var i=e(t),f=n.exec;return f===c||f===s.exec?v&&!u?{done:!0,value:y(n,r,o)}:{done:!0,value:i(r,n,o)}:{done:!1}}));o(String.prototype,t,_[0]),o(s,l,_[1])}p&&f(s[l],"sham",!0)}},25494:function(t,n,r){var e=r(58483),o=Function.prototype,c=o.apply,u=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(e?u.bind(c):function(){return u.apply(c,arguments)})},61814:function(t,n,r){var e=r(70936),o=r(25061),c=r(96291),u=r(20486),i=r(3425),f=r(685),a=function(){},s=[],p=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,v=e(l.exec),x=!l.exec(a),y=function(t){if(!c(t))return!1;try{return p(a,s,t),!0}catch(t){return!1}},_=function(t){if(!c(t))return!1;switch(u(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return x||!!v(l,f(t))}catch(t){return!0}};_.sham=!0,t.exports=!p||o((function(){var t;return y(y.call)||!y(Object)||!y((function(){t=!0}))||t}))?_:y},22848:function(t,n,r){var e=r(70936),o=r(4905),c=r(29076);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,n=!1,r={};try{(t=e(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),n=r instanceof Array}catch(t){}return function(r,e){return o(r),c(e),n?t(r,e):r.__proto__=e,r}}():void 0)},41847:function(t,n,r){var e=r(63927),o=r(4905),c=r(96291),u=r(75489),i=r(44847),f=TypeError;t.exports=function(t,n){var r=t.exec;if(c(r)){var a=e(r,t,n);return null!==a&&o(a),a}if("RegExp"===u(t))return e(i,t,n);throw f("RegExp#exec called on incompatible receiver")}},53126:function(t,n,r){"use strict";var e=r(3425),o=r(56462),c=r(46802),u=r(11502),i=c("species");t.exports=function(t){var n=e(t),r=o.f;u&&n&&!n[i]&&r(n,i,{configurable:!0,get:function(){return this}})}},63571:function(t,n,r){var e=r(4905),o=r(18209),c=r(46802)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||null==(r=e(u)[c])?n:o(r)}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:6d61a9cba3712a61da269d71f5515685', location = 'build/2295.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2295],{12118:function(e,t,n){var r=n(3425);e.exports=r("document","documentElement")},22275:function(e,t,n){var r,o=n(4905),c=n(56191),i=n(72089),l=n(92499),a=n(12118),u=n(36009),s=n(61695),p=s("IE_PROTO"),f=function(){},d=function(e){return"<script>"+e+"</"+"script>"},x=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;g="undefined"!=typeof document?document.domain&&r?x(r):((t=u("iframe")).style.display="none",a.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):x(r);for(var n=i.length;n--;)delete g.prototype[i[n]];return g()};l[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=o(e),n=new f,f.prototype=null,n[p]=e):n=g(),void 0===t?n:c.f(n,t)}},56191:function(e,t,n){var r=n(11502),o=n(75780),c=n(56462),i=n(4905),l=n(40678),a=n(89749);t.f=r&&!o?Object.defineProperties:function(e,t){i(e);for(var n,r=l(t),o=a(t),u=o.length,s=0;u>s;)c.f(e,n=o[s++],r[n]);return e}},89749:function(e,t,n){var r=n(23855),o=n(72089);e.exports=Object.keys||function(e){return r(e,o)}},44847:function(e,t,n){"use strict";var r,o,c=n(63927),i=n(70936),l=n(89284),a=n(5268),u=n(4764),s=n(6809),p=n(22275),f=n(50684).get,d=n(21406),x=n(63069),g=s("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,I=v,b=i("".charAt),y=i("".indexOf),h=i("".replace),E=i("".slice),m=(o=/b*/g,c(v,r=/a/,"a"),c(v,o,"a"),0!==r.lastIndex||0!==o.lastIndex),R=u.BROKEN_CARET,_=void 0!==/()??/.exec("")[1];(m||_||R||d||x)&&(I=function(e){var t,n,r,o,i,u,s,d=this,x=f(d),O=l(e),w=x.raw;if(w)return w.lastIndex=d.lastIndex,t=c(I,w,O),d.lastIndex=w.lastIndex,t;var j=x.groups,k=R&&d.sticky,C=c(a,d),S=d.source,A=0,T=O;if(k&&(C=h(C,"y",""),-1===y(C,"g")&&(C+="g"),T=E(O,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==b(O,d.lastIndex-1))&&(S="(?: "+S+")",T=" "+T,A++),n=new RegExp("^(?:"+S+")",C)),_&&(n=new RegExp("^"+S+"$(?!\\s)",C)),m&&(r=d.lastIndex),o=c(v,k?n:d,T),k?o?(o.input=E(o.input,A),o[0]=E(o[0],A),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:m&&o&&(d.lastIndex=d.global?o.index+o[0].length:r),_&&o&&o.length>1&&c(g,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&j)for(o.groups=u=p(null),i=0;i<j.length;i++)u[(s=j[i])[0]]=o[s[1]];return o}),e.exports=I},4764:function(e,t,n){var r=n(25061),o=n(45001).RegExp,c=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),i=c||r((function(){return!o("a","y").sticky})),l=c||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:l,MISSED_STICKY:i,UNSUPPORTED_Y:c}},21406:function(e,t,n){var r=n(25061),o=n(45001).RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},63069:function(e,t,n){var r=n(25061),o=n(45001).RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},42295:function(e,t,n){"use strict";var r=n(29638),o=n(44847);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:8eab4d5dc0fe3827ab07cdbde5e33569', location = 'build/8556.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8556],{84933:function(t,n,r){var e=r(96291),o=r(67073),i=TypeError;t.exports=function(t){if(e(t))return t;throw i(o(t)+" is not a function")}},4905:function(t,n,r){var e=r(62366),o=String,i=TypeError;t.exports=function(t){if(e(t))return t;throw i(o(t)+" is not an object")}},5029:function(t,n,r){var e=r(40678),o=r(6971),i=r(44821),u=function(t){return function(n,r,u){var c,f=e(n),a=i(f),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}};t.exports={includes:u(!0),indexOf:u(!1)}},75489:function(t,n,r){var e=r(70936),o=e({}.toString),i=e("".slice);t.exports=function(t){return i(o(t),8,-1)}},20486:function(t,n,r){var e=r(68171),o=r(96291),i=r(75489),u=r(46802)("toStringTag"),c=Object,f="Arguments"==i(function(){return arguments}());t.exports=e?i:function(t){var n,r,e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=c(t),u))?r:f?i(n):"Object"==(e=i(n))&&o(n.callee)?"Arguments":e}},46810:function(t,n,r){var e=r(78382),o=r(62466),i=r(8117),u=r(56462);t.exports=function(t,n,r){for(var c=o(n),f=u.f,a=i.f,s=0;s<c.length;s++){var p=c[s];e(t,p)||r&&e(r,p)||f(t,p,a(n,p))}}},50430:function(t,n,r){var e=r(11502),o=r(56462),i=r(86034);t.exports=e?function(t,n,r){return o.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},86034:function(t){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},75850:function(t,n,r){var e=r(96291),o=r(56462),i=r(77192),u=r(11756);t.exports=function(t,n,r,c){c||(c={});var f=c.enumerable,a=void 0!==c.name?c.name:n;if(e(r)&&i(r,a,c),c.global)f?t[n]=r:u(n,r);else{try{c.unsafe?t[n]&&(f=!0):delete t[n]}catch(t){}f?t[n]=r:o.f(t,n,{value:r,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return t}},11756:function(t,n,r){var e=r(45001),o=Object.defineProperty;t.exports=function(t,n){try{o(e,t,{value:n,configurable:!0,writable:!0})}catch(r){e[t]=n}return n}},11502:function(t,n,r){var e=r(25061);t.exports=!e((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},36009:function(t,n,r){var e=r(45001),o=r(62366),i=e.document,u=o(i)&&o(i.createElement);t.exports=function(t){return u?i.createElement(t):{}}},19966:function(t,n,r){var e=r(3425);t.exports=e("navigator","userAgent")||""},42821:function(t,n,r){var e,o,i=r(45001),u=r(19966),c=i.process,f=i.Deno,a=c&&c.versions||f&&f.version,s=a&&a.v8;s&&(o=(e=s.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!o&&u&&(!(e=u.match(/Edge\/(\d+)/))||e[1]>=74)&&(e=u.match(/Chrome\/(\d+)/))&&(o=+e[1]),t.exports=o},72089:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},29638:function(t,n,r){var e=r(45001),o=r(8117).f,i=r(50430),u=r(75850),c=r(11756),f=r(46810),a=r(91092);t.exports=function(t,n){var r,s,p,l,v,b=t.target,y=t.global,g=t.stat;if(r=y?e:g?e[b]||c(b,{}):(e[b]||{}).prototype)for(s in n){if(l=n[s],p=t.dontCallGetSet?(v=o(r,s))&&v.value:r[s],!a(y?s:b+(g?".":"#")+s,t.forced)&&void 0!==p){if(typeof l==typeof p)continue;f(l,p)}(t.sham||p&&p.sham)&&i(l,"sham",!0),u(r,s,l,t)}}},25061:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},58483:function(t,n,r){var e=r(25061);t.exports=!e((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},63927:function(t,n,r){var e=r(58483),o=Function.prototype.call;t.exports=e?o.bind(o):function(){return o.apply(o,arguments)}},9873:function(t,n,r){var e=r(11502),o=r(78382),i=Function.prototype,u=e&&Object.getOwnPropertyDescriptor,c=o(i,"name"),f=c&&"something"===function(){}.name,a=c&&(!e||e&&u(i,"name").configurable);t.exports={EXISTS:c,PROPER:f,CONFIGURABLE:a}},70936:function(t,n,r){var e=r(58483),o=Function.prototype,i=o.bind,u=o.call,c=e&&i.bind(u,u);t.exports=e?function(t){return t&&c(t)}:function(t){return t&&function(){return u.apply(t,arguments)}}},3425:function(t,n,r){var e=r(45001),o=r(96291),i=function(t){return o(t)?t:void 0};t.exports=function(t,n){return arguments.length<2?i(e[t]):e[t]&&e[t][n]}},53815:function(t,n,r){var e=r(84933);t.exports=function(t,n){var r=t[n];return null==r?void 0:e(r)}},45001:function(t,n,r){var e=function(t){return t&&t.Math==Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},78382:function(t,n,r){var e=r(70936),o=r(87615),i=e({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,n){return i(o(t),n)}},92499:function(t){t.exports={}},17788:function(t,n,r){var e=r(11502),o=r(25061),i=r(36009);t.exports=!e&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},62901:function(t,n,r){var e=r(70936),o=r(25061),i=r(75489),u=Object,c=e("".split);t.exports=o((function(){return!u("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?c(t,""):u(t)}:u},685:function(t,n,r){var e=r(70936),o=r(96291),i=r(19982),u=e(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return u(t)}),t.exports=i.inspectSource},50684:function(t,n,r){var e,o,i,u=r(77650),c=r(45001),f=r(70936),a=r(62366),s=r(50430),p=r(78382),l=r(19982),v=r(61695),b=r(92499),y="Object already initialized",g=c.TypeError,h=c.WeakMap;if(u||l.state){var m=l.state||(l.state=new h),x=f(m.get),d=f(m.has),S=f(m.set);e=function(t,n){if(d(m,t))throw new g(y);return n.facade=t,S(m,t,n),n},o=function(t){return x(m,t)||{}},i=function(t){return d(m,t)}}else{var w=v("state");b[w]=!0,e=function(t,n){if(p(t,w))throw new g(y);return n.facade=t,s(t,w,n),n},o=function(t){return p(t,w)?t[w]:{}},i=function(t){return p(t,w)}}t.exports={set:e,get:o,has:i,enforce:function(t){return i(t)?o(t):e(t,{})},getterFor:function(t){return function(n){var r;if(!a(n)||(r=o(n)).type!==t)throw g("Incompatible receiver, "+t+" required");return r}}}},96291:function(t){t.exports=function(t){return"function"==typeof t}},91092:function(t,n,r){var e=r(25061),o=r(96291),i=/#|\.prototype\./,u=function(t,n){var r=f[c(t)];return r==s||r!=a&&(o(n)?e(n):!!n)},c=u.normalize=function(t){return String(t).replace(i,".").toLowerCase()},f=u.data={},a=u.NATIVE="N",s=u.POLYFILL="P";t.exports=u},62366:function(t,n,r){var e=r(96291);t.exports=function(t){return"object"==typeof t?null!==t:e(t)}},20013:function(t){t.exports=!1},6448:function(t,n,r){var e=r(3425),o=r(96291),i=r(66282),u=r(37558),c=Object;t.exports=u?function(t){return"symbol"==typeof t}:function(t){var n=e("Symbol");return o(n)&&i(n.prototype,c(t))}},44821:function(t,n,r){var e=r(74479);t.exports=function(t){return e(t.length)}},77192:function(t,n,r){var e=r(25061),o=r(96291),i=r(78382),u=r(11502),c=r(9873).CONFIGURABLE,f=r(685),a=r(50684),s=a.enforce,p=a.get,l=Object.defineProperty,v=u&&!e((function(){return 8!==l((function(){}),"length",{value:8}).length})),b=String(String).split("String"),y=t.exports=function(t,n,r){"Symbol("===String(n).slice(0,7)&&(n="["+String(n).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!i(t,"name")||c&&t.name!==n)&&(u?l(t,"name",{value:n,configurable:!0}):t.name=n),v&&r&&i(r,"arity")&&t.length!==r.arity&&l(t,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?u&&l(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var e=s(t);return i(e,"source")||(e.source=b.join("string"==typeof n?n:"")),t};Function.prototype.toString=y((function(){return o(this)&&p(this).source||f(this)}),"toString")},41367:function(t){var n=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var e=+t;return(e>0?r:n)(e)}},99262:function(t,n,r){var e=r(42821),o=r(25061);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&e&&e<41}))},77650:function(t,n,r){var e=r(45001),o=r(96291),i=r(685),u=e.WeakMap;t.exports=o(u)&&/native code/.test(i(u))},56462:function(t,n,r){var e=r(11502),o=r(17788),i=r(75780),u=r(4905),c=r(91030),f=TypeError,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,p="enumerable",l="configurable",v="writable";n.f=e?i?function(t,n,r){if(u(t),n=c(n),u(r),"function"==typeof t&&"prototype"===n&&"value"in r&&v in r&&!r.writable){var e=s(t,n);e&&e.writable&&(t[n]=r.value,r={configurable:l in r?r.configurable:e.configurable,enumerable:p in r?r.enumerable:e.enumerable,writable:!1})}return a(t,n,r)}:a:function(t,n,r){if(u(t),n=c(n),u(r),o)try{return a(t,n,r)}catch(t){}if("get"in r||"set"in r)throw f("Accessors not supported");return"value"in r&&(t[n]=r.value),t}},8117:function(t,n,r){var e=r(11502),o=r(63927),i=r(49265),u=r(86034),c=r(40678),f=r(91030),a=r(78382),s=r(17788),p=Object.getOwnPropertyDescriptor;n.f=e?p:function(t,n){if(t=c(t),n=f(n),s)try{return p(t,n)}catch(t){}if(a(t,n))return u(!o(i.f,t,n),t[n])}},59219:function(t,n,r){var e=r(23855),o=r(72089).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},72822:function(t,n){n.f=Object.getOwnPropertySymbols},66282:function(t,n,r){var e=r(70936);t.exports=e({}.isPrototypeOf)},23855:function(t,n,r){var e=r(70936),o=r(78382),i=r(40678),u=r(5029).indexOf,c=r(92499),f=e([].push);t.exports=function(t,n){var r,e=i(t),a=0,s=[];for(r in e)!o(c,r)&&o(e,r)&&f(s,r);for(;n.length>a;)o(e,r=n[a++])&&(~u(s,r)||f(s,r));return s}},49265:function(t,n){"use strict";var r={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,o=e&&!r.call({1:2},1);n.f=o?function(t){var n=e(this,t);return!!n&&n.enumerable}:r},50379:function(t,n,r){var e=r(63927),o=r(96291),i=r(62366),u=TypeError;t.exports=function(t,n){var r,c;if("string"===n&&o(r=t.toString)&&!i(c=e(r,t)))return c;if(o(r=t.valueOf)&&!i(c=e(r,t)))return c;if("string"!==n&&o(r=t.toString)&&!i(c=e(r,t)))return c;throw u("Can't convert object to primitive value")}},62466:function(t,n,r){var e=r(3425),o=r(70936),i=r(59219),u=r(72822),c=r(4905),f=o([].concat);t.exports=e("Reflect","ownKeys")||function(t){var n=i.f(c(t)),r=u.f;return r?f(n,r(t)):n}},5268:function(t,n,r){"use strict";var e=r(4905);t.exports=function(){var t=e(this),n="";return t.hasIndices&&(n+="d"),t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.unicodeSets&&(n+="v"),t.sticky&&(n+="y"),n}},64475:function(t){var n=TypeError;t.exports=function(t){if(null==t)throw n("Can't call method on "+t);return t}},61695:function(t,n,r){var e=r(6809),o=r(41050),i=e("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},19982:function(t,n,r){var e=r(45001),o=r(11756),i="__core-js_shared__",u=e[i]||o(i,{});t.exports=u},6809:function(t,n,r){var e=r(20013),o=r(19982);(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.23.4",mode:e?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.4/LICENSE",source:"https://github.com/zloirock/core-js"})},6971:function(t,n,r){var e=r(89398),o=Math.max,i=Math.min;t.exports=function(t,n){var r=e(t);return r<0?o(r+n,0):i(r,n)}},40678:function(t,n,r){var e=r(62901),o=r(64475);t.exports=function(t){return e(o(t))}},89398:function(t,n,r){var e=r(41367);t.exports=function(t){var n=+t;return n!=n||0===n?0:e(n)}},74479:function(t,n,r){var e=r(89398),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},87615:function(t,n,r){var e=r(64475),o=Object;t.exports=function(t){return o(e(t))}},76973:function(t,n,r){var e=r(63927),o=r(62366),i=r(6448),u=r(53815),c=r(50379),f=r(46802),a=TypeError,s=f("toPrimitive");t.exports=function(t,n){if(!o(t)||i(t))return t;var r,f=u(t,s);if(f){if(void 0===n&&(n="default"),r=e(f,t,n),!o(r)||i(r))return r;throw a("Can't convert object to primitive value")}return void 0===n&&(n="number"),c(t,n)}},91030:function(t,n,r){var e=r(76973),o=r(6448);t.exports=function(t){var n=e(t,"string");return o(n)?n:n+""}},68171:function(t,n,r){var e={};e[r(46802)("toStringTag")]="z",t.exports="[object z]"===String(e)},89284:function(t,n,r){var e=r(20486),o=String;t.exports=function(t){if("Symbol"===e(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},67073:function(t){var n=String;t.exports=function(t){try{return n(t)}catch(t){return"Object"}}},41050:function(t,n,r){var e=r(70936),o=0,i=Math.random(),u=e(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+u(++o+i,36)}},37558:function(t,n,r){var e=r(99262);t.exports=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},75780:function(t,n,r){var e=r(11502),o=r(25061);t.exports=e&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},46802:function(t,n,r){var e=r(45001),o=r(6809),i=r(78382),u=r(41050),c=r(99262),f=r(37558),a=o("wks"),s=e.Symbol,p=s&&s.for,l=f?s:s&&s.withoutSetter||u;t.exports=function(t){if(!i(a,t)||!c&&"string"!=typeof a[t]){var n="Symbol."+t;c&&i(s,t)?a[t]=s[t]:a[t]=f&&p?p(n):l(n)}return a[t]}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:google-analytics-resources', location = 'build/google-analytics.js' */
!function(){"use strict";var e,t={6554:function(e,t,n){n.r(t);n(63045),n(98457),n(68049);var r=n(11706),o=n(94818),i=n(33926);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,c,"next",e)}function c(e){f(i,r,o,a,c,"throw",e)}a(void 0)}))}}var l="TF_meta-data",p=function(){var e=s((function*(){var e=(new Date).getTime(),t=localStorage.getItem(l);if(!(t=t?JSON.parse(t):null)||t.expiration<e){if(!(t=yield new Promise((e=>{(0,i.makeRequest)({type:"GET",url:"/rest/table-filter/1.0/meta-data/get",contentType:"application/json",dataType:"json",success:function(t){e(t)},error:function(){e()}})}))))return{};t.expiration=e+2592e6,localStorage.setItem(l,JSON.stringify(t))}return t}));return function(){return e.apply(this,arguments)}}();window.gaMustLoad=!0,window.loadGAScript=function(){return new Promise(function(){var e=s((function*(e){var t,n,i,a;function u(){dataLayer.push(arguments)}window,t=document,n="script",i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src="https://www.googletagmanager.com/gtag/js?id=UA-18056811-35",a.parentNode.insertBefore(i,a),window.dataLayer=window.dataLayer||[],u("js",new Date),u("config","UA-18056811-35",{groups:"UA",cookie_flags:"secure",cookie_domain:"auto"});var f=yield p(),s=(0,o.getCloudClientUrl)(),l=AJS.Meta.get("remote-user-key"),d="C".concat(f.companyHash),g="U".concat(d,"_").concat((0,r.hashCode)(l)),y=f.startDate,v="".concat(y,",server"),b={};f.isEval?(b.cohortEval=v,b.evalStartDate=y):(b.cohortCom=v,b.comSaleDate=y),u("config","G-W2FYNR9BLD",{groups:"G",user_id:g,cookie_flags:"secure",cookie_domain:"auto",transport:"beacon",user_properties:c({user_id_dimension:g,hosting:"server",company:d,TFVersion:"9.0.0",confluenceVersion:s,tierBucket:f.tier,licenseType:f.licenseType},b)}),window.tfGA=u,e(!0)}));return function(t){return e.apply(this,arguments)}}())}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=function(t,n,o,i){if(!n){var a=1/0;for(s=0;s<e.length;s++){n=e[s][0],o=e[s][1],i=e[s][2];for(var c=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(c=!1,i<a&&(a=i));if(c){e.splice(s--,1);var f=o();void 0!==f&&(t=f)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,o,i]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={9510:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,a=n[0],c=n[1],u=n[2],f=0;if(a.some((function(t){return 0!==e[t]}))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(u)var s=u(r)}for(t&&t(n);f<a.length;f++)i=a[f],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(s)},n=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[8556,2295,3353,7874,8018,3926,4818,1706],(function(){return r(6554)}));o=r.O(o)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:eede0a66108c5672defe3f89c34debff', location = 'build/402.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[402],{28823:function(e,a,t){t.r(a),t.d(a,{initChart:function(){return n},initPivot:function(){return o},initTF:function(){return l}});t(63045),t(67285);var r=t(24238),l=function(e,a,t,l,n,o,i,s){var d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{};return new Promise((a=>{WRM.require(["wrc!com.stiltsoft.confluence.tablefilter-resources"],(()=>{var u=$(TableFilterTemplate.panel({macroId:t,pageId:l,comboBoxes:[],edits:[],numberFilters:[],dateFilters:[],iconFilters:[],hidePane:i,editable:n,body:"",sessionId:1,isMacroViewContext:!s}));e.elem.eq(0).before(u),u.find(".tablefilter-table-wrapper").append(e.elem),u.attr("data-hasbody","true").attr("data-macro-name","table-filter"),o&&o(u),new TableFilter({showNRows:"",limitHeight:"",heightValue:"",numbering:"",sorts:[],datepattern:d.datepattern,separator:d.separator,id:t,pageId:l,sparkline:!1,sparkName:"",order:"",isOR:"",ddSeparator:"",ddOperator:"",fixedCols:"",totalrow:"",totalcol:"",isLockEnabled:!1,worklog:r.default.getStoredValue("tf-worklog")||d.worklog,updateSelectOptions:d.updateSelectOptions,totalColName:"",totalRowName:"",thousandSeparator:d.thousandSeparator,tabs:!1,sessionId:1,hidePane:i,hideColumns:d.hideColumns,liveMode:s}),e.elem.trigger("tf-inserted","tf-table-"+t),a(u)}))}))},n=(e,a,t,r)=>new Promise((l=>{WRM.require(["wrc!com.stiltsoft.confluence.chart-resources"],(()=>{var n=$(ChartTemplate.view({type:r.type,height:"",width:"",hidecontrols:!1,align:"center",macroId:a,pageId:t,editable:!0,body:"",isEmail:!1,dateFormat:r.datepattern,is3d:!1,sessionId:1}));e.elem.eq(0).before(n),n.find(".chart-body").append(e.elem),n.attr("data-hasbody","true").attr("data-macro-name","table-chart"),new TableChart({macroId:a,type:r.type,columns:r.column,aggregation:r.aggregation,dateFormat:r.datepattern,separator:TableUtils.mapSeparator(r.separator)||".",pageId:t,hide:"false",dataorientation:"Vertical",grid:!0,legend:"right",minvalue:"",maxvalue:"",xminvalue:"",xmaxvalue:"",scalestep:"",xscalestep:"",title:r.title||"",xtitle:r.xtitle||"",ytitle:r.ytitle||"",isLog:!1,isXLog:!1,colors:r.colors,pieKeys:r.pieKeys,showInnerLabels:!0,showTrendLine:!1,worklog:r.worklog,tabs:!1,interpolation:"",lineSettings:r["line-settings"]||"",version:"",sessionId:1,barColoringType:"mono",outerLabels:!0}),l()}))})),o=(e,a,t,r)=>new Promise((l=>{WRM.require(["wrc!com.stiltsoft.confluence.pivot-resources"],(()=>{var n=$(PivotTemplate.view({hidePanel:!1,macroId:a,pageId:t,decimalSeparator:TableUtils.mapSeparator(r.decimalSeparator)||".",separator:TableUtils.mapSeparator(r.separator)||"",editable:!0,body:"",isEmail:!1,sessionId:1}));e.elem.eq(0).before(n),n.find(".original-table").append(e.elem),n.attr("data-hasbody","true").attr("data-macro-name","pivot-table"),new PivotTable({macroId:a,decimalSeparator:TableUtils.mapSeparator(r.decimalSeparator)||".",pageId:t,separator:TableUtils.mapSeparator(r.separator)||"",decimals:r.decimals||"",column:r.column,row:"",aggregation:"",type:r.type,showrawdata:!0,version:r.version||"",sort:r.sort||"",ddSeparator:"",valueViewPattern:"",dateFormat:r.datepattern||"",dateAccuracy:r.dateaccuracy||"",worklog:"",hideTotal:!1,tabs:!1,numberAccuracy:"",cumulative:!1,literalSeparator:"",sessionId:1}),l()}))}))},62552:function(e,a,t){t.r(a);var r=t(99497),l=t(94874),n=t(62414),o={ignoreTables:[".latexmath-mathblock"],ignoreMacros:[".quiz-settings-content",".code",".profile-macro",".gallery","#course-content",".calendar",".easy-event-calendar-macro",".no-tf","#i_confiform_registration_form"],tfacSources:[{name:"table-joiner",class:"tj-source"},{name:"pivot-table",class:"original-table"},{name:"table-chart",class:"chart-body"}],tfacMacros:[{name:"table-filter",class:"tablefilter-outer-wrapper",id:"tf"},{name:"pivot-table",class:"pivot-content",id:"pivot"},{name:"table-joiner",class:"table-joiner",id:"tj"},{name:"table-chart",class:"table-chart-contents",id:"chart"}],bind:function(e){var a=this,t=a.getContent(),r=t.find("table");r.each((function(){a.initTable($(this),e)})),t.delegate("table","mouseover.tf-init",(function(){var t=$(this);-1===r.index(t)&&(a.initTable(t,e),r=r.add(t))})).delegate("table","reinit-tf-insert",(function(){a.initTable($(this),e)}))},initTable:function(e,a){var t=o;if(!e.is(t.ignoreTables.join(","))&&!(e.parents(t.ignoreMacros.join(",")).length||e.hasClass("confluenceTable")&&e[0].rows.length<=1)){var r={table:e,containerType:"macro",macros:(0,n.copyObject)(t.tfacMacros)};e.parents("."+t.tfacMacros.map((e=>e.class)).concat(t.tfacSources.map((e=>e.class+":not(.table-excerpt)"))).join(",.")).each((function(){var e=$(this);if(e.is("."+t.tfacSources.map((e=>e.class)).join(",.")))return t.setMacroUsage(t.tfacSources,e,r,!0),r.containerType="macro-body",!1;t.setMacroUsage(t.tfacMacros,e,r)}));var l=r.macros.filter((e=>!e.present&&"table-joiner"!==e.name));l.length&&a(e,l,r)}},setMacroUsage:function(e,a,t,r){e.some((function(e){if(a.hasClass(e.class))return t.macros.filter((function(a){return a.name===e.name}))[0].present=!0,t.owner={name:e.name,node:a,class:e.class,wrapNode:r?a.children():a},!0}))},getContent:function(){return $("#main-content")},isEditable:function(){return $("#editPageLink").length>0},getPageId:function(){return AJS.params.contentId||AJS.Meta.get("content-id")||AJS.params.pageId||AJS.Meta.get("page-id")}};AJS.$,AJS.toInit((function(){window.TableBinderWasBind||(window.TableBinderWasBind=!0,r.default.gaMacroViewStructure(o.getContent()),l.default.bindFilterActions(),l.default.bindExportEvent(),l.default.bindOptionsEvents())})),a.default=o},34944:function(e,a,t){t.r(a),t.d(a,{default:function(){return c}});t(98457),t(96609);var r=t(24238),l=t(33926),n=t(72510),o=(t(48868),t(1818),t(83931)),i=(()=>{try{return o.default.getLocaleDateFormat("yy-mm-dd")}catch(e){return"d M yy"}})(),s={[n.PIVOT]:[{name:"datepattern",storedKey:"tf-dateformat",defaultValue:i},{name:"decimals",storedKey:"tf-decimals",defaultValue:""},{name:"decimalSeparator",storedKey:"tf-decimalSeparator",defaultValue:n.SEPARATORS.LONG.POINT},{name:"decimalseparator",storedKey:"tf-decimalSeparator",defaultValue:n.SEPARATORS.LONG.POINT},{name:"separator",storedKey:"tf-separator",defaultValue:""},{name:"showrawdata",storedKey:null,defaultValue:"true"},{name:"isNew",storedKey:null,defaultValue:"false"}],[n.TABLE_FILTER]:[{name:"totalrow",storedKey:null,defaultValue:""},{name:"fixedCols",storedKey:null,defaultValue:""},{name:"hidelabels",storedKey:null,defaultValue:"false"},{name:"ddSeparator",storedKey:null,defaultValue:""},{name:"sparkName",storedKey:null,defaultValue:"Sparkline"},{name:"tabs",storedKey:null,defaultValue:"false"},{name:"hidePane",storedKey:null,defaultValue:n.HIDE_PANE.HEADER},{name:"limitHeight",storedKey:null,defaultValue:""},{name:"sparkline",storedKey:null,defaultValue:"false"},{name:"default",storedKey:null,defaultValue:""},{name:"cell-width",storedKey:null,defaultValue:""},{name:"hideColumns",storedKey:"tf-hideColumns",defaultValue:"false"},{name:"totalRowName",storedKey:null,defaultValue:""},{name:"totalColName",storedKey:null,defaultValue:""},{name:"disabled",storedKey:null,defaultValue:"false"},{name:"globalFilter",storedKey:null,defaultValue:"false"},{name:"formatVersion",storedKey:null,defaultValue:"2"},{name:"order",storedKey:null,defaultValue:""},{name:"hideControls",storedKey:null,defaultValue:"false"},{name:"inverse",storedKey:null,defaultValue:""},{name:"numbering",storedKey:null,defaultValue:""},{name:"sort",storedKey:null,defaultValue:""},{name:"totalcol",storedKey:null,defaultValue:""},{name:"disableSave",storedKey:null,defaultValue:"false"},{name:"separator",storedKey:"tf-decimalSeparator",defaultValue:n.SEPARATORS.LONG.POINT},{name:"rowsPerPage",storedKey:null,defaultValue:""},{name:"labels",storedKey:null,defaultValue:""},{name:"thousandSeparator",storedKey:"tf-separator",mapper:o.default.mapSeparator,defaultValue:""},{name:"ignoreFirstNrows",storedKey:null,defaultValue:""},{name:"datepattern",storedKey:"tf-dateformat",defaultValue:i},{name:"heightValue",storedKey:null,defaultValue:""},{name:"worklog",storedKey:null,defaultValue:"365|5|8|y w d h m|y w d h m"},{name:"updateSelectOptions",storedKey:"tf-updateSelectOptions",defaultValue:"false"},{name:"isOR",storedKey:null,defaultValue:"AND"},{name:"isNew",storedKey:null,defaultValue:"false"}],[n.CHART]:[{name:"separator",storedKey:"tf-decimalSeparator",defaultValue:n.SEPARATORS.LONG.POINT},{name:"datepattern",storedKey:"tf-dateformat",defaultValue:i},{name:"isNew",storedKey:null,defaultValue:"false"}]};function d(e){var a=s[e];return a?Object.fromEntries(a.map((e=>{var{name:a,storedKey:t,mapper:l,defaultValue:n}=e,o=t?r.default.getStoredValue(t):null;return l&&(o=l(o)),[a,o||n]}))):{}}var u={macrosWithBody:["json-table","csv","vote","survey","report-table","confiform-table","sqltablefilter"],macroDuplications:[".pocketquery-dynamic-load-container"],getTableData:function(e,a){var t,r,l,n=this,o=-1,i=e.table.parents('[data-macro-name="table-excerpt-include"]');if(i.length)r="table-excerpt-include",t="macro",l=a.find('[data-macro-name="table-excerpt-include"]').index(i);else if(e.owner)i=e.owner.wrapNode,r=e.owner.name,t=e.containerType,l=n.filterTEI(a.find("."+e.owner.class)).index(e.owner.node);else{var s=e.table.parents(".conf-macro, .jira-table").eq(0);e.table.attr("data-macro-name")?(i=e.table,t="macro",r=e.table.data("macro-name"),l=n.filterTEI(a.find('[data-macro-name="'+r+'"]')).index(e.table)):s.length?(i=s,s.hasClass("jira-table")?(r="jira",l=n.filterTEI(a.find(".jira-table")).index(s)):(r=s.data("macro-name"),l=n.filterTEI(a.find('[data-macro-name="'+r+'"]').not(n.macroDuplications.join(","))).index(s)),"true"===s.attr("data-hasbody")&&-1===n.macrosWithBody.indexOf(r)?(t="macro-body",o=s.find(":not(.conf-macro) table").index(e.table),i=n.getTableContainer(e.table)):t="macro"):e.table.hasClass("appfire-table-plus-parms")?(t="macro",r="json-table|csv|sql-query|table-plus",l=a.find("div.table-wrap > table.confluenceTable.appfire-table-plus-parms").filter((function(){return-1===a.find("table.confluenceTable.appfire-table-plus-parms table.confluenceTable.appfire-table-plus-parms").index(this)})).index(e.table),i=n.getTableContainer(e.table)):(t="table",l=a.find("div.table-wrap > table.confluenceTable:not(.appfire-table-plus-parms)").filter((function(){return 0===$(this).parents(".conf-macro").length})).index(e.table),i=n.getTableContainer(e.table))}return{containerType:t,container:r,number:l,tableNumber:o,elem:i}},filterTEI:function(e){return e.filter((function(){return 0===$(this).parents('[data-macro-name="table-excerpt-include"]').length}))},getTableContainer:function(e){var a=e.parent(".table-wrap");return a.length?a:e},storeMacro:function(e,a,t,o,i,s,u){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},m={datepattern:r.default.getStoredValue("tf-dateformat")||void 0,worklog:r.default.getStoredValue("tf-worklog")||void 0},f=null;"table-filter"===e?f=n.TABLE_FILTER:"pivot-table"===e?(m.showrawdata="true",f=n.PIVOT):"table-chart"===e&&(m.barColoringType="mono",f=n.CHART);var p=d(f);Object.getOwnPropertyNames(p).forEach((e=>{"false"===p[e]&&"isNew"!==e&&delete p[e]})),Object.assign(m,c),Object.getOwnPropertyNames(p).forEach((e=>{Object.prototype.hasOwnProperty.call(m,e)||(m[e]=p[e])})),(0,l.makeAjax)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"POST",async:!1,cache:!1,url:Confluence.getContextPath()+"/rest/table-filter/1.0/service/insert",dataType:"json",data:{pageId:t,pageVersion:$('meta[name="page-version"]').attr("content"),macroName:e,containerType:a.containerType,container:a.container,number:a.number,tableNumber:a.tableNumber,macroId:u,params:JSON.stringify(m)},success:()=>i(m),error:function(e){var a=-1!==e.responseText.indexOf("com.atlassian.confluence.api.service.exceptions.ReadOnlyException"),t=$('<div id="tfac-inserter-message"></div>');o.append(t),AJS.messages.error(t,{body:a?"This Confluence site is temporarily in the read-only mode. You cannot make any changes right now.":"Oops! It seems that the macro cannot be added. Please edit the page and add this macro",closeable:!0}),setTimeout((function(){t.remove()}),5e3),s()}})}},c=u}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:8a9c84fdea6cf8a837be840d789db4f3', location = 'build/4874.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[4874],{94874:function(e,t,i){i.r(t);i(42295),i(86305),i(98457),i(67285);var n=i(99497),r={params:{},bindExportEvent:function(){$("body").bind("export-data",(function(e,t){n.default.gaExportData(t),n.default.gaSendEvent({eventCategory:"Table Data",eventAction:"Export",eventLabel:t.format,dimension1:t.macro,dimension2:r.params.macroCombination})}));var e=$("a.tf-menu-star"),t=$("a.export-file-pdf"),i=$("a.export-file-doc"),l=$("a.export-file-print");function o(e,t){$("body").trigger("export-data",{format:e,macro:a(t)})}function a(e){var t=e.parent().parent().parent().parent().attr("id");return-1!=t.indexOf("filter-menu-view")?"filter":-1!=t.indexOf("chart-menu-view")?"chart":-1!=t.indexOf("pivot-menu-view")?"pivot":"unknown?!"}e.on("click",(function(){var t=a(e);n.default.gaRateAddon(t),n.default.gaSendEvent({eventCategory:"Feedback Sharing",eventAction:"Rate Add-on Button Click",eventLabel:"",dimension1:a(e)})})),t.on("click",(function(){o("Export to PDF",$(this))})),i.on("click",(function(){o("Export to Word",$(this))})),l.on("click",(function(){o("Print browser",$(this))}))},bindFilterActions:function(){$("body").bind("filter-added-deleted",(function(e,t){var i;n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:t.action,eventLabel:(i=t.type,i.replace("userfilter","Free Text Filter").replace("selectfilter","Dropdown Filter").replace("numberfilter","Number Filter").replace("datefilter","Date Filter").replace("iconfilter","Icon Filter").replace("globalfilter","Global Filter").replace("columnhider","Hide Columns")),dimension15:t.pageMode})})),$("body").bind("filter-inverse-direct",(function(e,t){n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Filter Updated",eventLabel:t.type,dimension4:t.pageMode,dimension5:t.filterMode})})),$("body").bind("filter-date-format",(function(e,t){n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Filter Updated",eventLabel:"Date Format",dimension6:t.format})})),$("body").bind("filter-separator-format",(function(e,t){n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Filter Updated",eventLabel:"Separator Format",dimension7:t.format})})),$("body").bind("filter-reordered",(function(e,t){n.default.panelFilterReordered(t.type),n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Filter Reordered",eventLabel:t.type,dimension4:t.pageMode})}))},bindOptionsEvents:function(){$("body").bind("filter-options-showNRows",(function(e,t){n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Option Enabled",eventLabel:"Show First N Rows",dimension3:t.number})})),$("body").bind("filter-options-numbering",(function(e,t){n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Option Enabled",eventLabel:"Automatic Row Numbering",dimension8:t.order})})),$("body").bind("filter-options-sparkline",(function(e,t){n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Option Enabled",eventLabel:"Sparkline Chart",dimension7:t.separator})})),$("body").bind("filter-options-hide-something",(function(e,t){n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Option Enabled",eventLabel:t.name})})),$("body").bind("filter-options-sorting",(function(e,t){n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Option Enabled",eventLabel:"Default Sorting",dimension3:t.number})})),$("body").bind("filter-options-disable-and-reset",(function(e,t){n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Option Enabled",eventLabel:t.type,dimension4:t.pageMode})})),$("body").bind("filter-options-width-defvalues",(function(e,t){n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:t.action,eventLabel:t.type,dimension4:t.pageMode})})),$("body").bind("filter-options-save",(function(){n.default.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Save Changes",eventLabel:"Save Changes"})}))},sendMacroViewEvents:function(e,t,i,l){var o=function(e){var t,i,n=e.find("table:not(table table)"),r=[],l=0;return n.each((function(){t=$(this).find("thead > tr:not(table table tr)").find("td, th").length,i=$(this).find("tbody > tr:not(table table tr)").length,l+=t*i,r.push(i+"R / "+t+"C")})),{tableSize:r.join(" + "),tableCount:r.length,cellCount:l,plainTableCount:e.find("div.table-wrap").not(".table-wrap .table-wrap").length}}(l),a=function(e,t){return e.filter(p).join(" + ")||"plain_table * "+t}(b(t),o.plainTableCount),d=function(e,t){var i=[(l=t,"pivot"==l?l+"-table":"table-"+l)],n=b(e),r=!1;var l;n.forEach((function(e){p(e)&&r?i[i.length-1]=i[i.length-1]+" + "+e:i.push(p(e)?e:e.slice(0,-4)),r=p(e)})),0==i.filter(p).length&&i.push("");return i.map(s)}(e,i);if(o.plainTableCount>0){var f=d[d.length-1].split(" + ");""==f[0]?f[0]="plain_table * "+o.plainTableCount:f.push("plain_table * "+o.plainTableCount),d[d.length-1]=f.join(" + ")}var u=c(d);function c(e){return e.join(" > ")}function b(e){for(var t,i={},n=[],r=[],l=/ac:structured-macro[\w\W]*?ac:name="(.*?)"/g;null!=(t=l.exec(e));)i[t[1]]=1+(i[t[1]]||0),-1==n.indexOf(t[1])&&n.push(t[1]);return n.forEach((function(e){r.push(e+" * "+i[e])})),r}function s(e){return e.replace("table-filter","filter").replace("table-chart","chart").replace("pivot-table","pivot")}function p(e){return!function(e){return-1!=e.indexOf("table-filter")||-1!=e.indexOf("pivot-table")||-1!=e.indexOf("table-chart")}(e)}n.default.macroStructure(i,u,o.tableSize),n.default.gaSendEvent({eventCategory:"Macro Combination",eventAction:"Macro Set",eventLabel:2==d.length?"Single Macro":"Multi Macros",dimension2:u}),n.default.gaSendEvent({eventCategory:"Table Data",eventAction:"Table Source",eventLabel:a.replace(/plain_table \* 0/,"No table"),dimension2:u}),n.default.gaSendEvent({eventCategory:"Table Data",eventAction:"Table Size",eventLabel:function(e){var t="";t=e<=100?"Small":e<=500?"Mid":"Large";return t}(o.cellCount),dimension2:u,dimension3:o.tableSize}),r.params.macroCombination=c(d)},triggerFilterMacroBrowserEvents:function(e,t){var i,n,r,l="Filter Added From Macro Browser";function o(e,t){var i=$.isEmptyObject(e)?[""]:e.split(",").filter((function(e){return!!$.isEmptyObject(t)||-1==t.split(",").indexOf(e)}));return""!=i[0]?i:[]}function a(e,t,i){t!=e&&$("body").trigger("filter-added-deleted",{action:e?"Filter Added From Macro Browser":"Filter Deleted",type:i,pageMode:"Macro Browser"})}function d(e,t,i){for(var n=0;n<e.length;n++)$("body").trigger("filter-added-deleted",{action:t,type:i,pageMode:"Macro Browser"})}d(o(e.column,t.column),l,"Dropdown Filter"),d(o(e.userfilter,t.userfilter),l,"Free Text Filter"),d(o(e.numberfilter,t.numberfilter),l,"Number Filter"),d(o(e.datefilter,t.datefilter),l,"Date Filter"),d(o(e.iconfilter,t.iconfilter),l,"Icon Filter"),d(o(t.column,e.column),"Filter Deleted","Dropdown Filter"),d(o(t.userfilter,e.userfilter),"Filter Deleted","Free Text Filter"),d(o(t.numberfilter,e.numberfilter),"Filter Deleted","Number Filter"),d(o(t.datefilter,e.datefilter),"Filter Deleted","Date Filter"),d(o(t.iconfilter,e.iconfilter),"Filter Deleted","Icon Filter"),a(e.globalFilter,t.globalFilter,"Global Filter"),a(e.hideColumns,t.hideColumns,"Hide Columns"),i=e.datepattern,n=t.datepattern,r=!t.datefilter&&o(e.datefilter,t.datefilter).length>0,(i!=n||r)&&$("body").trigger("filter-date-format",{format:i}),function(e,t,i){(e!=t||i)&&$("body").trigger("filter-separator-format",{format:e})}(e.separator,t.separator,!t.numberfilter&&o(e.numberfilter,t.numberfilter).length>0),function(){var i=r(e),n=r(t);l(e.column?e.column.split(","):[""],"Dropdown Filter"),l(e.userfilter?e.userfilter.split(","):[""],"Free Text Filter"),l(e.numberfilter?e.numberfilter.split(","):[""],"Number Filter"),l(e.datefilter?e.datefilter.split(","):[""],"Date Filter"),e.globalFilter&&l(["Global Filter"],"Global Filter");e.hideColumns&&l(["Hide Columns"],"Hide Columns");function r(e){if($.isEmptyObject(e))return{"Dropdown Filter":[],"Free Text Filter":[],"Number Filter":[],"Date Filter":[],"Global Filter":[],"Hide Columns":[],"Icon Filter":[]};var t={},i=e.inverse.split(","),n=0;return r(e.column?e.column.split(","):[""],"Dropdown Filter"),r(e.userfilter?e.userfilter.split(","):[""],"Free Text Filter"),r(e.numberfilter?e.numberfilter.split(","):[""],"Number Filter"),r(e.datefilter?e.datefilter.split(","):[""],"Date Filter"),e.globalFilter&&r(["Global Filter"],"Global Filter"),e.hideColumns&&r(["Hide Columns"],"Hide Columns"),r(e.iconfilter?e.iconfilter.split(","):[""],"Icon Filter"),t;function r(e,r){if(t[r]={},""!=e[0])for(var l=0;l<e.length;l++)t[r][e[l]]="true"==i[n++]}}function l(e,t){for(var r=0;r<e.length;r++)void 0!==n[t]&&void 0!==n[t][e[r]]?i[t][e[r]]!=n[t][e[r]]&&l(t,i[t][e[r]]?"Inverse":"Normal"):i[t][e[r]]&&l(t,"Inverse");function l(e,t){$("body").trigger("filter-inverse-direct",{type:e,pageMode:"Macro Browser",filterMode:t})}}l(e.iconfilter?e.iconfilter.split(","):[""],"Icon Filter")}(),function(){function i(i){var n=o(e,i?e.default:e["cell-width"]),r=o(t,i?t.default:t["cell-width"]);function l(e,t){if(""!=e[0])for(var l=0;l<e.length;l++)if(void 0!==r[t]&&void 0!==r[t][e[l]]){if(n[t][e[l]]!=r[t][e[l]]){o(t);break}}else if(n[t][e[l]]){if(("Number Filter"==t||"Date Filter"==t)&&"->"==n[t][e[l]])continue;o(t);break}function o(e){$("body").trigger("filter-options-width-defvalues",{action:i?"Default Values Applied":"Filter Width Changed",type:e,pageMode:"Macro Browser"})}}function o(e,t){if($.isEmptyObject(e))return{"Dropdown Filter":[],"Free Text Filter":[],"Number Filter":[],"Date Filter":[],"Global Filter":[],"Hide Columns":[],"Icon Filter":[]};var n={},r=t.split(","),l=0;return o(e.column?e.column.split(","):[""],"Dropdown Filter"),o(e.userfilter?e.userfilter.split(","):[""],"Free Text Filter"),i&&o(e.numberfilter?e.numberfilter.split(","):[""],"Number Filter"),i&&o(e.datefilter?e.datefilter.split(","):[""],"Date Filter"),e.globalFilter&&o(["Global Filter"],"Global Filter"),e.hideColumns&&o(["Hide Columns"],"Hide Columns"),o(e.iconfilter?e.iconfilter.split(","):[""],"Icon Filter"),n;function o(e,t){if(n[t]={},""!=e[0])for(var i=0;i<e.length;i++)n[t][e[i]]=r[l++]}}l(e.column?e.column.split(","):[""],"Dropdown Filter"),l(e.userfilter?e.userfilter.split(","):[""],"Free Text Filter"),i&&l(e.numberfilter?e.numberfilter.split(","):[""],"Number Filter"),i&&l(e.datefilter?e.datefilter.split(","):[""],"Date Filter"),e.globalFilter&&l(["Global Filter"],"Global Filter"),e.hideColumns&&l(["Hide Columns"],"Hide Columns"),l(e.iconfilter?e.iconfilter.split(","):[""],"Icon Filter")}i(!0),i(!1)}(),e.showNRows!=t.showNRows&&"all"!=e.showNRows&&$("body").trigger("filter-options-showNRows",{number:e.showNRows+"R"}),e.numbering!=t.numbering&&""!=e.numbering&&$("body").trigger("filter-options-numbering",{order:e.numbering}),e.sparkline&&!t.sparkline&&$("body").trigger("filter-options-sparkline",{separator:e.separator}),e.hidePane!=t.hidePane&&$("body").trigger("filter-options-hide-something",{name:e.hidePane}),e.hidelabels&&!t.hidelabels&&$("body").trigger("filter-options-hide-something",{name:"Hide Filter Labels"}),(o(e.sort,t.sort).length>0||e.sort&&e.sort.split(",").length>0&&""!=e.sort.split(",")[0]&&o(t.sort,e.sort).length>0)&&$("body").trigger("filter-options-sorting",{number:e.sort.split(",").length+"C"})}};t.default=r}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:2b7548f66b3bf18e033d8e811e1a12f0', location = 'build/1652.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[1652],{51652:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return Fe}});a(42295),a(86305),a(68268),a(79150),a(98457),a(67285),a(75093),a(13616),a(84745),a(96609),a(48868),a(54861),a(71934),a(8547),a(63045),a(75654),a(36364);var i=a(48605),n=a(65392),r=a(37559),u=a.n(r),o=a(75214),s="d3pie",l=0,c={header:{title:{text:"",color:"#333333",fontSize:18,font:"arial"},subtitle:{text:"",color:"#666666",fontSize:14,font:"arial"},location:"top-center",titleSubtitlePadding:8},footer:{text:"",color:"#666666",fontSize:14,font:"arial",location:"left"},size:{canvasHeight:500,canvasWidth:500,pieInnerRadius:"0%",pieOuterRadius:null},data:{sortOrder:"none",ignoreSmallSegments:{enabled:!1,valueType:"percentage",value:null},smallSegmentGrouping:{enabled:!1,value:1,valueType:"percentage",label:"Other",color:"#cccccc"},content:[]},labels:{outer:{format:"label",hideWhenLessThanPercentage:null,pieDistance:30},inner:{format:"percentage",hideWhenLessThanPercentage:null},mainLabel:{color:"#333333",font:"arial",fontSize:10},percentage:{color:"#dddddd",font:"arial",fontSize:10,decimalPlaces:0},value:{color:"#cccc44",font:"arial",fontSize:10},lines:{enabled:!0,style:"curved",color:"segment"},truncation:{enabled:!1,truncateLength:30},formatter:null},effects:{load:{effect:"default",speed:1e3},pullOutSegmentOnClick:{effect:"bounce",speed:300,size:10},highlightSegmentOnMouseover:!0,highlightLuminosity:-.2},tooltips:{enabled:!1,type:"placeholder",string:"",placeholderParser:null,styles:{fadeInSpeed:250,backgroundColor:"#000000",backgroundOpacity:.5,color:"#efefef",borderRadius:2,font:"arial",fontSize:10,padding:4}},misc:{colors:{background:null,segments:["#2484c1","#65a620","#7b6888","#a05d56","#961a1a","#d8d23a","#e98125","#d0743c","#635222","#6ada6a","#0c6197","#7d9058","#207f33","#44b9b0","#bca44a","#e4a14b","#a3acb2","#8cc3e9","#69a6f9","#5b388f","#546e91","#8bde95","#d2ab58","#273c71","#98bf6e","#4daa4b","#98abc5","#cc1010","#31383b","#006391","#c2643f","#b0a474","#a5a39c","#a9c2bc","#22af8c","#7fcecf","#987ac6","#3d3b87","#b77b1c","#c9c2b6","#807ece","#8db27c","#be66a2","#9ed3c6","#00644b","#005064","#77979f","#77e079","#9c73ab","#1f79a7"],segmentStroke:"#ffffff"},gradient:{enabled:!1,percentage:95,color:"#000000"},canvasPadding:{top:5,right:5,bottom:5,left:5},pieCenterOffset:{x:0,y:0},cssPrefix:null},callbacks:{onload:null,onMouseoverSegment:null,onMouseoutSegment:null,onClickSegment:null}},h=function(t){var e=t.cssPrefix,a=t.element,i=t.options;if(!(a instanceof HTMLElement||a instanceof SVGElement))return!1;if(!/[a-zA-Z][a-zA-Z0-9_-]*$/.test(e))return!1;if(!g.isArray(i.data.content))return!1;if(0===i.data.content.length)return!1;for(var n=[],r=0;r<i.data.content.length;r++)"number"!=typeof i.data.content[r].value||isNaN(i.data.content[r].value)||i.data.content[r].value<=0||n.push(i.data.content[r]);return t.options.data.content=n,!0},g={addSVGSpace:function(t){var e=t.element,a=t.options.size.canvasWidth,n=t.options.size.canvasHeight,r=t.options.misc.colors.background,u=i.default.select(e).append("svg:svg").attr("width",a).attr("height",n);return"transparent"!==r&&u.style("background-color",(function(){return r})),u},whenIdExists:function(t,e){var a=1,i=setInterval((function(){document.getElementById(t)&&(clearInterval(i),e()),a>1e3&&clearInterval(i),a++}),1)},whenElementsExist:function(t,e){var a=1,i=setInterval((function(){for(var n=!0,r=0;r<t.length;r++)if(!document.getElementById(t[r])){n=!1;break}n&&(clearInterval(i),e()),a>1e3&&clearInterval(i),a++}),1)},shuffleArray:function(t){for(var e,a,i=t.length;0!==i;)a=Math.floor(Math.random()*i),e=t[i-=1],t[i]=t[a],t[a]=e;return t},processObj:function(t,e,a){return"string"==typeof e?g.processObj(t,e.split("."),a):1===e.length&&void 0!==a?(t[e[0]]=a,t[e[0]]):0===e.length?t:g.processObj(t[e[0]],e.slice(1),a)},getDimensions:function(t){var e=document.getElementById(t),a=0,i=0;if(e){var n=e.getBBox();a=n.width,i=n.height}return{w:a,h:i}},rectIntersect:function(t,e){return!(e.x>t.x+t.w||e.x+e.w<t.x||e.y+e.h<t.y||e.y>t.y+t.h)},getColorShade:function(t,e){(t=String(t).replace(/[^0-9a-f]/gi,"")).length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;for(var a="#",i=0;i<3;i++){var n=parseInt(t.substr(2*i,2),16);a+=("00"+(n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16))).substr(n.length)}return a},initSegmentColors:function(t){for(var e=t.options.data.content,a=t.options.misc.colors.segments,i=[],n=0;n<e.length;n++)e[n].hasOwnProperty("color")?i.push(e[n].color):i.push(a[n]);return i},applySmallSegmentGrouping:function(t,e){var a;"percentage"===e.valueType&&(a=f.getTotalPieSize(t));for(var i=[],n=[],r=0,u=0;u<t.length;u++)if("percentage"===e.valueType){if(t[u].value/a*100<=e.value){n.push(t[u]),r+=t[u].value;continue}t[u].isGrouped=!1,i.push(t[u])}else{if(t[u].value<=e.value){n.push(t[u]),r+=t[u].value;continue}t[u].isGrouped=!1,i.push(t[u])}return n.length&&i.push({color:e.color,label:e.label,value:r,isGrouped:!0,groupedData:n}),i},showPoint:function(t,e,a){t.append("circle").attr("cx",e).attr("cy",a).attr("r",2).style("fill","black")},isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},p=function t(){var e,a,i,n,r,u,o=arguments[0]||{},s=1,l=arguments.length,c=!1,h=Object.prototype.toString,d=Object.prototype.hasOwnProperty,g={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},p={isFunction:function(t){return"function"===p.type(t)},isArray:Array.isArray||function(t){return"array"===p.type(t)},isWindow:function(t){return null!==t&&t===t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null===t?String(t):g[h.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==p.type(t)||t.nodeType)return!1;try{if(t.constructor&&!d.call(t,"constructor")&&!d.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var e;for(e in t);return void 0===e||d.call(t,e)}};for("boolean"==typeof o&&(c=o,o=arguments[1]||{},s=2),"object"==typeof o||p.isFunction(o)||(o={}),l===s&&(o=this,--s);s<l;s++)if(null!==(e=arguments[s]))for(a in e)i=o[a],o!==(n=e[a])&&(c&&n&&(p.isPlainObject(n)||(r=p.isArray(n)))?(r?(r=!1,u=i&&p.isArray(i)?i:[]):u=i&&p.isPlainObject(i)?i:{},o[a]=t(c,u,n)):void 0!==n&&(o[a]=n));return o},f={toRadians:function(t){return t*(Math.PI/180)},toDegrees:function(t){return t*(180/Math.PI)},computePieRadius:function(t){var e=t.options.size,a=t.options.misc.canvasPadding,i=e.canvasWidth-a.left-a.right,n=e.canvasHeight-a.top-a.bottom;"pie-center"!==t.options.header.location&&(n-=t.textComponents.headerHeight),t.textComponents.footer.exists&&(n-=t.textComponents.footer.h);var r,u,o=(i<(n=n<0?0:n)?i:n)/("none"===t.options.labels.outer.format?2:3);if(null!==e.pieOuterRadius)if(/%/.test(e.pieOuterRadius)){u=(u=(u=parseInt(e.pieOuterRadius.replace(/[\D]/,""),10))>99?99:u)<0?0:u;var s=i<n?i:n;if("none"!==t.options.labels.outer.format){var l=2*parseInt(t.options.labels.outer.pieDistance,10);s-l>0&&(s-=l)}o=Math.floor(s/100*u)/2}else o=parseInt(e.pieOuterRadius,10);/%/.test(e.pieInnerRadius)?(u=(u=(u=parseInt(e.pieInnerRadius.replace(/[\D]/,""),10))>99?99:u)<0?0:u,r=Math.floor(o/100*u)):r=parseInt(e.pieInnerRadius,10),t.innerRadius=r,t.outerRadius=o},getTotalPieSize:function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].value;return e},sortPieData:function(t){var e=t.options.data.content;switch(t.options.data.sortOrder){case"none":break;case"random":e=g.shuffleArray(e);break;case"value-asc":e.sort((function(t,e){return t.value<e.value?-1:1}));break;case"value-desc":e.sort((function(t,e){return t.value<e.value?1:-1}));break;case"label-asc":e.sort((function(t,e){return t.label.toLowerCase()>e.label.toLowerCase()?1:-1}));break;case"label-desc":e.sort((function(t,e){return t.label.toLowerCase()<e.label.toLowerCase()?1:-1}))}return e},getPieTranslateCenter:function(t){return"translate("+t.x+","+t.y+")"},calculatePieCenter:function(t){var e=t.options.misc.pieCenterOffset,a=t.textComponents.title.exists&&"pie-center"!==t.options.header.location,i=t.textComponents.subtitle.exists&&"pie-center"!==t.options.header.location,n=t.options.misc.canvasPadding.top;a&&i?n+=t.textComponents.title.h+t.options.header.titleSubtitlePadding+t.textComponents.subtitle.h:a?n+=t.textComponents.title.h:i&&(n+=t.textComponents.subtitle.h);var r=0;t.textComponents.footer.exists&&(r=t.textComponents.footer.h+t.options.misc.canvasPadding.bottom);var u=(t.options.size.canvasWidth-t.options.misc.canvasPadding.left-t.options.misc.canvasPadding.right)/2+t.options.misc.canvasPadding.left,o=(t.options.size.canvasHeight-r-n)/2+n;u+=e.x,o+=e.y,t.pieCenter={x:u,y:o}},rotate:function(t,e,a,i,n){n=n*Math.PI/180;var r=Math.cos,u=Math.sin;return{x:(t-a)*r(n)-(e-i)*u(n)+a,y:(t-a)*u(n)+(e-i)*r(n)+i}},translate:function(t,e,a,i){var n=f.toRadians(i);return{x:t+a*Math.sin(n),y:e-a*Math.cos(n)}},pointIsInArc:function(t,e,a){var i=a.innerRadius()(e),n=a.outerRadius()(e),r=a.startAngle()(e),u=a.endAngle()(e),o=t.x*t.x+t.y*t.y,s=Math.atan2(t.x,-t.y);return s=s<0?s+2*Math.PI:s,i*i<=o&&o<=n*n&&r<=s&&s<=u}},m={add:function(t,e,a){var i=m.getIncludes(a),n=t.options.labels,r=t.svg.insert("g","."+t.cssPrefix+"labels-"+e).attr("class",t.cssPrefix+"labels-"+e).selectAll("."+t.cssPrefix+"labelGroup-"+e).data(t.options.data.content).enter().append("g").attr("id",(function(a,i){return t.cssPrefix+"labelGroup"+i+"-"+e})).attr("data-index",(function(t,e){return e})).attr("class",t.cssPrefix+"labelGroup-"+e).style("opacity",0),u={section:e,sectionDisplayType:a};i.mainLabel&&r.append("text").attr("id",(function(a,i){return t.cssPrefix+"segmentMainLabel"+i+"-"+e})).attr("class",t.cssPrefix+"segmentMainLabel-"+e).text((function(t,e){var a=t.label;return n.formatter?(u.index=e,u.part="mainLabel",u.value=t.value,u.label=a,a=n.formatter(u)):n.truncation.enabled&&t.label.length>n.truncation.truncateLength&&(a=t.label.substring(0,n.truncation.truncateLength)+"..."),a})).style("font-size",n.mainLabel.fontSize+"px").style("font-family",n.mainLabel.font).style("fill",n.mainLabel.color),i.percentage&&r.append("text").attr("id",(function(a,i){return t.cssPrefix+"segmentPercentage"+i+"-"+e})).attr("class",t.cssPrefix+"segmentPercentage-"+e).text((function(t,e){var a=t.percentage;return n.formatter?(u.index=e,u.part="percentage",u.value=t.value,u.label=t.percentage,a=n.formatter(u)):a+="%",a})).style("font-size",n.percentage.fontSize+"px").style("font-family",n.percentage.font).style("fill",n.percentage.color),i.value&&r.append("text").attr("id",(function(a,i){return t.cssPrefix+"segmentValue"+i+"-"+e})).attr("class",t.cssPrefix+"segmentValue-"+e).text((function(t,e){return u.index=e,u.part="value",u.value=t.value,u.label=t.value,n.formatter?n.formatter(u,t.value):t.value})).style("font-size",n.value.fontSize+"px").style("font-family",n.value.font).style("fill",n.value.color)},positionLabelElements:function(t,e,a){m["dimensions-"+e]=[],i.default.selectAll("."+t.cssPrefix+"labelGroup-"+e).each((function(a,n){var r=i.default.select(this).selectAll("."+t.cssPrefix+"segmentMainLabel-"+e),u=i.default.select(this).selectAll("."+t.cssPrefix+"segmentPercentage-"+e),o=i.default.select(this).selectAll("."+t.cssPrefix+"segmentValue-"+e);m["dimensions-"+e].push({mainLabel:null!==r.node()?r.node().getBBox():null,percentage:null!==u.node()?u.node().getBBox():null,value:null!==o.node()?o.node().getBBox():null})}));var n=m["dimensions-"+e];switch(a){case"label-value1":i.default.selectAll("."+t.cssPrefix+"segmentValue-"+e).attr("dx",(function(t,e){return n[e].mainLabel.width+5}));break;case"label-value2":i.default.selectAll("."+t.cssPrefix+"segmentValue-"+e).attr("dy",(function(t,e){return n[e].mainLabel.height}));break;case"label-percentage1":i.default.selectAll("."+t.cssPrefix+"segmentPercentage-"+e).attr("dx",(function(t,e){return n[e].mainLabel.width+5}));break;case"label-percentage2":i.default.selectAll("."+t.cssPrefix+"segmentPercentage-"+e).attr("dx",(function(t,e){return n[e].mainLabel.width/2-n[e].percentage.width/2})).attr("dy",(function(t,e){return n[e].mainLabel.height}));break;case"value-percentage":i.default.selectAll("."+t.cssPrefix+"segmentValue-"+e).attr("dx",(function(t,e){return n[e].percentage.width/2-n[e].value.width/2})).attr("dy",(function(t,e){return-n[e].percentage.height/2})),i.default.selectAll("."+t.cssPrefix+"segmentPercentage-"+e).attr("dy",(function(t,e){return n[e].percentage.height/2}));break;case"percentage-value":i.default.selectAll("."+t.cssPrefix+"segmentValue-"+e).attr("dx",(function(t,e){return n[e].percentage.width/2-n[e].value.width/2})).attr("dy",(function(t,e){return n[e].percentage.height/2})),i.default.selectAll("."+t.cssPrefix+"segmentPercentage-"+e).attr("dy",(function(t,e){return-n[e].percentage.height/2}))}},computeLabelLinePositions:function(t){t.lineCoordGroups=[],i.default.selectAll("."+t.cssPrefix+"labelGroup-outer").each((function(e,a){return m.computeLinePosition(t,a)}))},computeLinePosition:function(t,e){var a,i,n,r,u=x.getSegmentAngle(e,t.options.data.content,t.totalSize,{midpoint:!0}),o=f.rotate(t.pieCenter.x,t.pieCenter.y-t.outerRadius,t.pieCenter.x,t.pieCenter.y,u),s=t.outerLabelGroupData[e].h/5,l=Math.floor(u/90);switch(2===l&&180===u&&(l=1),l){case 0:a=t.outerLabelGroupData[e].x-6-(t.outerLabelGroupData[e].x-6-o.x)/2,i=t.outerLabelGroupData[e].y+(o.y-t.outerLabelGroupData[e].y)/4,n=t.outerLabelGroupData[e].x-6,r=t.outerLabelGroupData[e].y-s;break;case 1:a=o.x+(t.outerLabelGroupData[e].x-o.x)/4,i=o.y+(t.outerLabelGroupData[e].y-o.y)/4,n=t.outerLabelGroupData[e].x-6,r=t.outerLabelGroupData[e].y-s;break;case 2:var c=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+6;a=o.x-(o.x-c)/4,i=o.y+(t.outerLabelGroupData[e].y-o.y)/4,n=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+6,r=t.outerLabelGroupData[e].y-s;break;case 3:var h=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+6;a=h+(o.x-h)/4,i=t.outerLabelGroupData[e].y+(o.y-t.outerLabelGroupData[e].y)/4,n=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+6,r=t.outerLabelGroupData[e].y-s}"straight"===t.options.labels.lines.style?t.lineCoordGroups[e]=[{x:o.x,y:o.y},{x:n,y:r}]:t.lineCoordGroups[e]=[{x:o.x,y:o.y},{x:a,y:i},{x:n,y:r}]},addLabelLines:function(t){var e=t.svg.insert("g","."+t.cssPrefix+"pieChart").attr("class",t.cssPrefix+"lineGroups").style("opacity",0).selectAll("."+t.cssPrefix+"lineGroup").data(t.lineCoordGroups).enter().append("g").attr("class",t.cssPrefix+"lineGroup"),a=i.default.line().curve(i.default.curveBasis).x((function(t){return t.x})).y((function(t){return t.y}));e.append("path").attr("d",a).attr("stroke",(function(e,a){return"segment"===t.options.labels.lines.color?t.options.colors[a]:t.options.labels.lines.color})).attr("stroke-width",1).attr("fill","none").style("opacity",(function(e,a){var i=t.options.labels.outer.hideWhenLessThanPercentage;return null!==i&&e.percentage<i||""===t.options.data.content[a].label?0:1}))},positionLabelGroups:function(t,e){"none"!==t.options.labels[e].format&&i.default.selectAll("."+t.cssPrefix+"labelGroup-"+e).style("opacity",0).attr("transform",(function(a,i){var n,r;if("outer"===e)n=t.outerLabelGroupData[i].x,r=t.outerLabelGroupData[i].y;else{var u=p(!0,{},t.pieCenter);if(t.innerRadius>0){var o=x.getSegmentAngle(i,t.options.data.content,t.totalSize,{midpoint:!0}),s=f.translate(t.pieCenter.x,t.pieCenter.y,t.innerRadius,o);u.x=s.x,u.y=s.y}var l=g.getDimensions(t.cssPrefix+"labelGroup"+i+"-inner"),c=l.w/2,h=l.h/4;n=u.x+(t.lineCoordGroups[i][0].x-u.x)/1.8,r=u.y+(t.lineCoordGroups[i][0].y-u.y)/1.8,n-=c,r+=h}return"translate("+n+","+r+")"}))},fadeInLabelsAndLines:function(t){var e="default"===t.options.effects.load.effect?t.options.effects.load.speed:1;setTimeout((function(){var e="default"===t.options.effects.load.effect?400:1;i.default.selectAll("."+t.cssPrefix+"labelGroup-outer").transition().duration(e).style("opacity",(function(e,a){var i=t.options.labels.outer.hideWhenLessThanPercentage;return null!==i&&e.percentage<i?0:1})),i.default.selectAll("."+t.cssPrefix+"labelGroup-inner").transition().duration(e).style("opacity",(function(e,a){var i=t.options.labels.inner.hideWhenLessThanPercentage;return null!==i&&e.percentage<i?0:1})),i.default.selectAll("g."+t.cssPrefix+"lineGroups").transition().duration(e).style("opacity",1),g.isFunction(t.options.callbacks.onload)&&setTimeout((function(){try{t.options.callbacks.onload()}catch(t){}}),e)}),e)},getIncludes:function(t){var e=!1,a=!1,i=!1;switch(t){case"label":e=!0;break;case"value":a=!0;break;case"percentage":i=!0;break;case"label-value1":case"label-value2":e=!0,a=!0;break;case"label-percentage1":case"label-percentage2":e=!0,i=!0;break;case"value-percentage":case"percentage-value":a=!0,i=!0}return{mainLabel:e,value:a,percentage:i}},computeOuterLabelCoords:function(t){t.svg.selectAll("."+t.cssPrefix+"labelGroup-outer").each((function(e,a){return m.getIdealOuterLabelPositions(t,a)})),m.resolveOuterLabelCollisions(t)},resolveOuterLabelCollisions:function(t){if("none"!==t.options.labels.outer.format){var e=t.options.data.content.length;m.checkConflict(t,0,"clockwise",e),m.checkConflict(t,e-1,"anticlockwise",e)}},checkConflict:function(t,e,a,i){var n,r;if(!(i<=1)){var u=t.outerLabelGroupData[e].hs;if(!("clockwise"===a&&"right"!==u||"anticlockwise"===a&&"left"!==u)){var o="clockwise"===a?e+1:e-1,s=t.outerLabelGroupData[e],l=t.outerLabelGroupData[o],c={labelHeights:t.outerLabelGroupData[0].h,center:t.pieCenter,lineLength:t.outerRadius+t.options.labels.outer.pieDistance,heightChange:t.outerLabelGroupData[0].h+1};if("clockwise"===a){for(n=0;n<=e;n++)if(r=t.outerLabelGroupData[n],!m.isLabelHidden(t,n)&&g.rectIntersect(r,l)){m.adjustLabelPos(t,o,s,c);break}}else for(n=i-1;n>=e;n--)if(r=t.outerLabelGroupData[n],!m.isLabelHidden(t,n)&&g.rectIntersect(r,l)){m.adjustLabelPos(t,o,s,c);break}m.checkConflict(t,o,a,i)}}},isLabelHidden:function(t,e){var a=t.options.labels.outer.hideWhenLessThanPercentage;return null!==a&&d.percentage<a||""===t.options.data.content[e].label},adjustLabelPos:function(t,e,a,i){var n,r,u,o;o=a.y+i.heightChange,r=i.center.y-o,n=Math.abs(i.lineLength)>Math.abs(r)?Math.sqrt(i.lineLength*i.lineLength-r*r):Math.sqrt(r*r-i.lineLength*i.lineLength),u="right"===a.hs?i.center.x+n:i.center.x-n-t.outerLabelGroupData[e].w,t.outerLabelGroupData[e].x=u,t.outerLabelGroupData[e].y=o},getIdealOuterLabelPositions:function(t,e){var a=i.default.select("#"+t.cssPrefix+"labelGroup"+e+"-outer").node();if(a){var n=a.getBBox(),r=x.getSegmentAngle(e,t.options.data.content,t.totalSize,{midpoint:!0}),u=t.pieCenter.x,o=t.pieCenter.y-(t.outerRadius+t.options.labels.outer.pieDistance),s=f.rotate(u,o,t.pieCenter.x,t.pieCenter.y,r),l="right";r>180?(s.x-=n.width+8,l="left"):s.x+=8,t.outerLabelGroupData[e]={x:s.x,y:s.y,w:n.width,h:n.height,hs:l}}}},x={effectMap:{none:i.default.easeLinear,bounce:i.default.easeBounce,linear:i.default.easeLinear,sin:i.default.easeSin,elastic:i.default.easeElastic,back:i.default.easeBack,quad:i.default.easeQuad,circle:i.default.easeCircle,exp:i.default.easeExp},create:function(t){var e=t.pieCenter,a=t.options.colors,n=t.options.effects.load,r=t.options.misc.colors.segmentStroke,u=t.svg.insert("g","#"+t.cssPrefix+"title").attr("transform",(function(){return f.getPieTranslateCenter(e)})).attr("class",t.cssPrefix+"pieChart"),o=i.default.arc().innerRadius(t.innerRadius).outerRadius(t.outerRadius).startAngle(0).endAngle((function(e){return e.value/t.totalSize*2*Math.PI})),s=u.selectAll("."+t.cssPrefix+"arc").data(t.options.data.content).enter().append("g").attr("class",t.cssPrefix+"arc"),l=n.speed;"none"===n.effect&&(l=0),s.append("path").attr("id",(function(e,a){return t.cssPrefix+"segment"+a})).attr("fill",(function(e,i){var n=a[i];return t.options.misc.gradient.enabled&&(n="url(#"+t.cssPrefix+"grad"+i+")"),n})).style("stroke",r).style("stroke-width",1).transition().ease(i.default.easeCubicInOut).duration(l).attr("data-index",(function(t,e){return e})).attrTween("d",(function(e){var a=i.default.interpolate({value:0},e);return function(e){return t.arc(a(e))}})),t.svg.selectAll("g."+t.cssPrefix+"arc").attr("transform",(function(e,a){var i=0;return a>0&&(i=x.getSegmentAngle(a-1,t.options.data.content,t.totalSize)),"rotate("+i+")"})),t.arc=o},addGradients:function(t){var e=t.svg.append("defs").selectAll("radialGradient").data(t.options.data.content).enter().append("radialGradient").attr("gradientUnits","userSpaceOnUse").attr("cx",0).attr("cy",0).attr("r","120%").attr("id",(function(e,a){return t.cssPrefix+"grad"+a}));e.append("stop").attr("offset","0%").style("stop-color",(function(e,a){return t.options.colors[a]})),e.append("stop").attr("offset",t.options.misc.gradient.percentage+"%").style("stop-color",t.options.misc.gradient.color)},addSegmentEventHandlers:function(t){var e=i.default.selectAll("."+t.cssPrefix+"arc,."+t.cssPrefix+"labelGroup-inner,."+t.cssPrefix+"labelGroup-outer");e.on("click",(function(){var e,a=i.default.select(this);if(a.attr("class")===t.cssPrefix+"arc")e=a.select("path");else{var n=a.attr("data-index");e=i.default.select("#"+t.cssPrefix+"segment"+n)}var r=e.attr("class")===t.cssPrefix+"expanded";x.onSegmentEvent(t,t.options.callbacks.onClickSegment,e,r),"none"!==t.options.effects.pullOutSegmentOnClick.effect&&(r?x.closeSegment(t,e.node()):x.openSegment(t,e.node()))})),e.on("mouseover",(function(){var e,a,n=i.default.select(this);if(n.attr("class")===t.cssPrefix+"arc"?e=n.select("path"):(a=n.attr("data-index"),e=i.default.select("#"+t.cssPrefix+"segment"+a)),t.options.effects.highlightSegmentOnMouseover){a=e.attr("data-index");var r=t.options.colors[a];e.style("fill",g.getColorShade(r,t.options.effects.highlightLuminosity))}t.options.tooltips.enabled&&(a=e.attr("data-index"),D.showTooltip(t,a));var u=e.attr("class")===t.cssPrefix+"expanded";x.onSegmentEvent(t,t.options.callbacks.onMouseoverSegment,e,u)})),e.on("mousemove",(function(){D.moveTooltip(t)})),e.on("mouseout",(function(){var e,a,n=i.default.select(this);if(n.attr("class")===t.cssPrefix+"arc"?e=n.select("path"):(a=n.attr("data-index"),e=i.default.select("#"+t.cssPrefix+"segment"+a)),t.options.effects.highlightSegmentOnMouseover){a=e.attr("data-index");var r=t.options.colors[a];t.options.misc.gradient.enabled&&(r="url(#"+t.cssPrefix+"grad"+a+")"),e.style("fill",r)}t.options.tooltips.enabled&&(a=e.attr("data-index"),D.hideTooltip(t,a));var u=e.attr("class")===t.cssPrefix+"expanded";x.onSegmentEvent(t,t.options.callbacks.onMouseoutSegment,e,u)}))},onSegmentEvent:function(t,e,a,i){if(g.isFunction(e)){var n=parseInt(a.attr("data-index"),10);e({segment:a.node(),index:n,expanded:i,data:t.options.data.content[n]})}},openSegment:function(t,e){t.isOpeningSegment||(t.isOpeningSegment=!0,x.maybeCloseOpenSegment(t),i.default.select(e).transition().ease(x.effectMap[t.options.effects.pullOutSegmentOnClick.effect]).duration(t.options.effects.pullOutSegmentOnClick.speed).attr("transform",(function(e,a){var i=t.arc.centroid(e),n=i[0],r=i[1],u=Math.sqrt(n*n+r*r),o=parseInt(t.options.effects.pullOutSegmentOnClick.size,10);return"translate("+n/u*o+","+r/u*o+")"})).on("end",(function(a,n){t.currentlyOpenSegment=e,t.isOpeningSegment=!1,i.default.select(e).attr("class",t.cssPrefix+"expanded")})))},maybeCloseOpenSegment:function(t){i.default.selectAll("."+t.cssPrefix+"expanded").size()>0&&x.closeSegment(t,i.default.select("."+t.cssPrefix+"expanded").node())},closeSegment:function(t,e){i.default.select(e).transition().duration(400).attr("transform","translate(0,0)").on("end",(function(a,n){i.default.select(e).attr("class",""),t.currentlyOpenSegment=null}))},getCentroid:function(t){var e=t.getBBox();return{x:e.x+e.width/2,y:e.y+e.height/2}},getSegmentAngle:function(t,e,a,i){var n,r=p({compounded:!0,midpoint:!1},i),u=e[t].value;if(r.compounded){n=0;for(var o=0;o<=t;o++)n+=e[o].value}void 0===n&&(n=u);var s=n/a*360;r.midpoint&&(s-=u/a*360/2);return s}},y={offscreenCoord:-1e4,addTitle:function(t){t.svg.selectAll("."+t.cssPrefix+"title").data([t.options.header.title]).enter().append("text").text((function(t){return t.text})).attr("id",t.cssPrefix+"title").attr("class",t.cssPrefix+"title").attr("x",y.offscreenCoord).attr("y",y.offscreenCoord).attr("text-anchor",(function(){return"top-center"===t.options.header.location||"pie-center"===t.options.header.location?"middle":"left"})).attr("fill",(function(t){return t.color})).style("font-size",(function(t){return t.fontSize+"px"})).style("font-family",(function(t){return t.font}))},positionTitle:function(t){var e,a=t.textComponents,i=t.options.header.location,n=t.options.misc.canvasPadding,r=t.options.size.canvasWidth,u=t.options.header.titleSubtitlePadding;e="top-left"===i?n.left:(r-n.right)/2+n.left,e+=t.options.misc.pieCenterOffset.x;var o=n.top+a.title.h;"pie-center"===i&&(o=t.pieCenter.y,a.subtitle.exists?o=o-(a.title.h+u+a.subtitle.h)/2+a.title.h:o+=a.title.h/4);t.svg.select("#"+t.cssPrefix+"title").attr("x",e).attr("y",o)},addSubtitle:function(t){var e=t.options.header.location;t.svg.selectAll("."+t.cssPrefix+"subtitle").data([t.options.header.subtitle]).enter().append("text").text((function(t){return t.text})).attr("x",y.offscreenCoord).attr("y",y.offscreenCoord).attr("id",t.cssPrefix+"subtitle").attr("class",t.cssPrefix+"subtitle").attr("text-anchor",(function(){return"top-center"===e||"pie-center"===e?"middle":"left"})).attr("fill",(function(t){return t.color})).style("font-size",(function(t){return t.fontSize+"px"})).style("font-family",(function(t){return t.font}))},positionSubtitle:function(t){var e,a=t.options.misc.canvasPadding,i=t.options.size.canvasWidth;e="top-left"===t.options.header.location?a.left:(i-a.right)/2+a.left,e+=t.options.misc.pieCenterOffset.x;var n=y.getHeaderHeight(t);t.svg.select("#"+t.cssPrefix+"subtitle").attr("x",e).attr("y",n)},addFooter:function(t){t.svg.selectAll("."+t.cssPrefix+"footer").data([t.options.footer]).enter().append("text").text((function(t){return t.text})).attr("x",y.offscreenCoord).attr("y",y.offscreenCoord).attr("id",t.cssPrefix+"footer").attr("class",t.cssPrefix+"footer").attr("text-anchor",(function(){var e="left";return"bottom-center"===t.options.footer.location?e="middle":"bottom-right"===t.options.footer.location&&(e="left"),e})).attr("fill",(function(t){return t.color})).style("font-size",(function(t){return t.fontSize+"px"})).style("font-family",(function(t){return t.font}))},positionFooter:function(t){var e,a=t.options.footer.location,i=t.textComponents.footer.w,n=t.options.size.canvasWidth,r=t.options.size.canvasHeight,u=t.options.misc.canvasPadding;e="bottom-left"===a?u.left:"bottom-right"===a?n-i-u.right:n/2,t.svg.select("#"+t.cssPrefix+"footer").attr("x",e).attr("y",r-u.bottom)},getHeaderHeight:function(t){var e;if(t.textComponents.title.exists){var a=t.textComponents.title.h+t.options.header.titleSubtitlePadding+t.textComponents.subtitle.h;e="pie-center"===t.options.header.location?t.pieCenter.y-a/2+a:a+t.options.misc.canvasPadding.top}else if("pie-center"===t.options.header.location){var i=t.options.misc.canvasPadding.bottom+t.textComponents.footer.h;e=(t.options.size.canvasHeight-i)/2+t.options.misc.canvasPadding.top+t.textComponents.subtitle.h/2}else e=t.options.misc.canvasPadding.top+t.textComponents.subtitle.h;return e}},D={addTooltips:function(t){var e=t.svg.insert("g").attr("class",t.cssPrefix+"tooltips");e.selectAll("."+t.cssPrefix+"tooltip").data(t.options.data.content).enter().append("g").attr("class",t.cssPrefix+"tooltip").attr("id",(function(e,a){return t.cssPrefix+"tooltip"+a})).style("opacity",0).append("rect").attr("rx",t.options.tooltips.styles.borderRadius).attr("ry",t.options.tooltips.styles.borderRadius).attr("x",-t.options.tooltips.styles.padding).attr("opacity",t.options.tooltips.styles.backgroundOpacity).style("fill",t.options.tooltips.styles.backgroundColor),e.selectAll("."+t.cssPrefix+"tooltip").data(t.options.data.content).append("text").attr("fill",(function(e){return t.options.tooltips.styles.color})).style("font-size",(function(e){return t.options.tooltips.styles.fontSize})).style("font-family",(function(e){return t.options.tooltips.styles.font})).text((function(e,a){var i=t.options.tooltips.string;return"caption"===t.options.tooltips.type&&(i=e.caption),D.replacePlaceholders(t,i,a,{label:e.label,value:e.value,percentage:e.percentage})})),e.selectAll("."+t.cssPrefix+"tooltip rect").attr("width",(function(e,a){return g.getDimensions(t.cssPrefix+"tooltip"+a).w+2*t.options.tooltips.styles.padding})).attr("height",(function(e,a){return g.getDimensions(t.cssPrefix+"tooltip"+a).h+2*t.options.tooltips.styles.padding})).attr("y",(function(e,a){return-g.getDimensions(t.cssPrefix+"tooltip"+a).h/2+1}))},showTooltip:function(t,e){var a=t.options.tooltips.styles.fadeInSpeed;D.currentTooltip===e&&(a=1),D.currentTooltip=e,i.default.select("#"+t.cssPrefix+"tooltip"+e).transition().duration(a).style("opacity",(function(){return 1})),D.moveTooltip(t)},moveTooltip:function(t){i.default.selectAll("#"+t.cssPrefix+"tooltip"+D.currentTooltip).attr("transform",(function(e){var a=i.default.pointer(event,this.parentNode);return"translate("+(a[0]+t.options.tooltips.styles.padding+2)+","+(a[1]-2*t.options.tooltips.styles.padding-2)+")"}))},hideTooltip:function(t,e){i.default.select("#"+t.cssPrefix+"tooltip"+e).style("opacity",(function(){return 0})),i.default.select("#"+t.cssPrefix+"tooltip"+D.currentTooltip).attr("transform",(function(e,a){return"translate("+(t.options.size.canvasWidth+1e3)+","+(t.options.size.canvasHeight+1e3)+")"}))},replacePlaceholders:function(t,e,a,i){g.isFunction(t.options.tooltips.placeholderParser)&&t.options.tooltips.placeholderParser(a,i);return e.replace(/\{(\w+)\}/g,(function(t){var e=arguments[1];return i.hasOwnProperty(e)?i[arguments[1]]:arguments[0]}))}},v=function(t,e){if(this.element=t,"string"==typeof t){var a=t.replace(/^#/,"");this.element=document.getElementById(a)}var n={};p(!0,n,c,e),this.options=n,null!==this.options.misc.cssPrefix?this.cssPrefix=this.options.misc.cssPrefix:(this.cssPrefix="p"+l+"_",l++),h(this)&&(i.default.select(this.element).attr(s,"0.2.1"),b.call(this),F.call(this))};v.prototype.recreate=function(){h(this)&&(b.call(this),F.call(this))},v.prototype.redraw=function(){this.element.innerHTML="",F.call(this)},v.prototype.destroy=function(){this.element.innerHTML="",i.default.select(this.element).attr(s,null)},v.prototype.getOpenSegment=function(){var t=this.currentlyOpenSegment;if(null!=t){var e=parseInt(i.default.select(t).attr("data-index"),10);return{element:t,index:e,data:this.options.data.content[e]}}return null},v.prototype.openSegment=function(t){(t=parseInt(t,10))<0||t>this.options.data.content.length-1||x.openSegment(this,i.default.select("#"+this.cssPrefix+"segment"+t).node())},v.prototype.closeSegment=function(t){x.maybeCloseOpenSegment(t)},v.prototype.updateProp=function(t,e){switch(t){case"header.title.text":var a=g.processObj(this.options,t);g.processObj(this.options,t,e),i.default.select("#"+this.cssPrefix+"title").html(e),(""===a&&""!==e||""!==a&&""===e)&&this.redraw();break;case"header.subtitle.text":var n=g.processObj(this.options,t);g.processObj(this.options,t,e),i.default.select("#"+this.cssPrefix+"subtitle").html(e),(""===n&&""!==e||""!==n&&""===e)&&this.redraw();break;case"callbacks.onload":case"callbacks.onMouseoverSegment":case"callbacks.onMouseoutSegment":case"callbacks.onClickSegment":case"effects.pullOutSegmentOnClick.effect":case"effects.pullOutSegmentOnClick.speed":case"effects.pullOutSegmentOnClick.size":case"effects.highlightSegmentOnMouseover":case"effects.highlightLuminosity":g.processObj(this.options,t,e);break;default:g.processObj(this.options,t,e),this.destroy(),this.recreate()}};var b=function(){this.options.data.content=f.sortPieData(this),this.options.data.smallSegmentGrouping.enabled&&(this.options.data.content=g.applySmallSegmentGrouping(this.options.data.content,this.options.data.smallSegmentGrouping)),this.options.colors=g.initSegmentColors(this),this.totalSize=f.getTotalPieSize(this.options.data.content);for(var t=this.options.labels.percentage.decimalPlaces,e=0;e<this.options.data.content.length;e++)this.options.data.content[e].percentage=A(this.options.data.content[e].value,this.totalSize,t);for(var a=0,i=0;i<this.options.data.content.length;i++)i===this.options.data.content.length-1&&(this.options.data.content[i].percentage=(100-a).toFixed(t)),a+=parseFloat(this.options.data.content[i].percentage)},F=function(){this.svg=g.addSVGSpace(this),this.textComponents={headerHeight:0,title:{exists:""!==this.options.header.title.text,h:0,w:0},subtitle:{exists:""!==this.options.header.subtitle.text,h:0,w:0},footer:{exists:""!==this.options.footer.text,h:0,w:0}},this.outerLabelGroupData=[],this.textComponents.title.exists&&y.addTitle(this),this.textComponents.subtitle.exists&&y.addSubtitle(this),y.addFooter(this);var t=this;g.whenIdExists(this.cssPrefix+"footer",(function(){y.positionFooter(t);var e=g.getDimensions(t.cssPrefix+"footer");t.textComponents.footer.h=e.h,t.textComponents.footer.w=e.w}));var e=[];this.textComponents.title.exists&&e.push(this.cssPrefix+"title"),this.textComponents.subtitle.exists&&e.push(this.cssPrefix+"subtitle"),this.textComponents.footer.exists&&e.push(this.cssPrefix+"footer"),g.whenElementsExist(e,(function(){if(t.textComponents.title.exists){var e=g.getDimensions(t.cssPrefix+"title");t.textComponents.title.h=e.h,t.textComponents.title.w=e.w}if(t.textComponents.subtitle.exists){var a=g.getDimensions(t.cssPrefix+"subtitle");t.textComponents.subtitle.h=a.h,t.textComponents.subtitle.w=a.w}if(t.textComponents.title.exists||t.textComponents.subtitle.exists){var i=0;t.textComponents.title.exists&&(i+=t.textComponents.title.h,t.textComponents.subtitle.exists&&(i+=t.options.header.titleSubtitlePadding)),t.textComponents.subtitle.exists&&(i+=t.textComponents.subtitle.h),t.textComponents.headerHeight=i}f.computePieRadius(t),f.calculatePieCenter(t),y.positionTitle(t),y.positionSubtitle(t),t.options.misc.gradient.enabled&&x.addGradients(t),x.create(t),m.add(t,"inner",t.options.labels.inner.format),m.add(t,"outer",t.options.labels.outer.format),m.positionLabelElements(t,"inner",t.options.labels.inner.format),m.positionLabelElements(t,"outer",t.options.labels.outer.format),m.computeOuterLabelCoords(t),m.positionLabelGroups(t,"outer"),m.computeLabelLinePositions(t),t.options.labels.lines.enabled&&"none"!==t.options.labels.outer.format&&m.addLabelLines(t),m.positionLabelGroups(t,"inner"),m.fadeInLabelsAndLines(t),t.options.tooltips.enabled&&D.addTooltips(t),x.addSegmentEventHandlers(t)}))},A=function(t,e,a){var i=t/e;return a<=0?Math.round(100*i):(100*i).toFixed(a)},C=v,E=a(45546),_=a(69264),w=a(22166),B=a.n(w),T={};function S(t,e,a,i){if(t.endAngle-t.startAngle==0)return"M 0 0";var n=e*Math.cos(t.startAngle),r=a*Math.sin(t.startAngle),u=e*Math.cos(6.283185307179587===t.endAngle?6.283185307179586:t.endAngle),o=a*Math.sin(6.283185307179587===t.endAngle?6.283185307179586:t.endAngle),s=[];return s.push("M",n,r,"A",e,a,"0",t.endAngle-t.startAngle>Math.PI?1:0,"1",u,o,"L",i*u,i*o),s.push("A",i*e,i*a,"0",t.endAngle-t.startAngle>Math.PI?1:0,"0",i*n,i*r,"z"),s.join(" ")}function k(t,e,a,i){var n=t.startAngle>Math.PI?Math.PI:t.startAngle,r=t.endAngle>Math.PI?Math.PI:t.endAngle,u=e*Math.cos(n),o=a*Math.sin(n),s=e*Math.cos(r),l=a*Math.sin(r),c=[];return c.push("M",u,i+o,"A",e,a,"0 0 1",s,i+l,"L",s,l,"A",e,a,"0 0 0",u,o,"z"),c.join(" ")}function P(t,e,a,i,n){var r=t.startAngle<Math.PI?Math.PI:t.startAngle,u=t.endAngle<Math.PI?Math.PI:t.endAngle,o=n*e*Math.cos(r),s=n*a*Math.sin(r),l=n*e*Math.cos(u),c=n*a*Math.sin(u),h=[];return h.push("M",o,s,"A",n*e,n*a,"0 0 1",l,c,"L",l,i+c,"A",n*e,n*a,"0 0 0",o,i+s,"z"),h.join(" ")}function L(t,e,a,i,n,r,u){t.data(e).enter().append("text").attr("class","percent").attr("x",(function(t){var e=AJS.$("<span></span>").text(u(t));e.appendTo("body");var n=e.width();e.remove();var r=i*a,o=Math.cos(.5*(t.startAngle+t.endAngle));return.5*(i-r)*o+r*o-n/2})).attr("y",(function(t){var e=n*a,i=Math.sin(.5*(t.startAngle+t.endAngle));return.5*(n-e)*i+e*i+r})).text((function(t){return u(t)})).style("fill",(function(t){return t.data.textColor})).each((function(t){this._current=t}))}T.getPercent=function(t){return Math.round(1e3*(t.endAngle-t.startAngle)/(2*Math.PI))/10+"%"},T.transition=function(t,e,a,n,r,u){var o=i.default.pie().sort(null).value((function(t){return t.value}))(e);i.default.select("#"+t).selectAll(".innerSlice").data(o).transition().duration(750).attrTween("d",(function(t){var e=i.default.interpolate(this._current,t);return this._current=e(0),function(t){return P(e(t),a+.5,n+.5,r,u)}})),i.default.select("#"+t).selectAll(".topSlice").data(o).transition().duration(750).attrTween("d",(function(t){var e=i.default.interpolate(this._current,t);return this._current=e(0),function(t){return S(e(t),a,n,u)}})),i.default.select("#"+t).selectAll(".outerSlice").data(o).transition().duration(750).attrTween("d",(function(t){var e=i.default.interpolate(this._current,t);return this._current=e(0),function(t){return k(e(t),a-.5,n-.5,r)}})),i.default.select("#"+t).selectAll(".percent").data(o).transition().duration(750).attrTween("x",(function(t){var e=i.default.interpolate(this._current,t);return this._current=e(0),function(t){return.6*a*Math.cos(.5*(e(t).startAngle+e(t).endAngle))}})).attrTween("y",(function(t){var e=i.default.interpolate(this._current,t);return this._current=e(0),function(t){return.6*a*Math.sin(.5*(e(t).startAngle+e(t).endAngle))}})).text(T.getPercent)},T.draw=function(t,e,a,n,r,u,o,s,l,c,h,d){var g=i.default.pie().sort(null).value((function(t){return t.value}))(e),p=i.default.select("#"+t).append("g").attr("transform","translate("+a+","+n+")").attr("class","slices");p.selectAll(".innerSlice").data(g).enter().append("path").attr("class","innerSlice").style("fill",(function(t){return i.default.hsl(t.data.color).darker(.7)})).attr("d",(function(t){return P(t,r+.5,u+.5,o,s)})).each((function(t){this._current=t})),p.selectAll(".topSlice").data(g).enter().append("path").attr("class","topSlice").style("fill",(function(t){return t.data.color})).style("stroke",(function(t){return t.data.color})).attr("d",(function(t){return S(t,r,u,s)})).each((function(t){this._current=t})),p.selectAll(".outerSlice").data(g).enter().append("path").attr("class","outerSlice").style("fill",(function(t){return i.default.hsl(t.data.color).darker(.7)})).attr("d",(function(t){return k(t,r-.5,u-.5,o)})).each((function(t){this._current=t}));var f=s||.25,m=p.selectAll(".percent"),x=d?0:-10;if(l){var y=function(){L(m,g,f,r,u,x,(function(t){return T.getPercent(t)})),x-=20},D=function(){L(m,g,f,r,u,x,(function(t){return h(t.value)})),x-=20};c.value_percentage?(x+=20,y(),D()):c.percentage_value?(x+=20,D(),y()):(x+=10,c.value?D():y())}d&&L(m,g,f,r,u,x,(function(t){return t.data.label}))};var M=T,V=a(83931),I=a(65573),O={textMaxLength:20,maxTextWidth:I.MAX_TEXT_WIDTH,minHorizontalTextWidth:120,ellipsis:"…",ellipsisWidth:10.42,legendItemHeight:20,legendTSpanHeight:14,legendRectWidth:18,legendRectMarginLeft:6,legendRectMarginRight:4,legendUnderMargiLeft:20,legendUnderMargiRight:10},W="dash",N="circle",z=["Task","Task - Done","Task - Todo","Milestone","Event"],G=/(^(?:[!-#%-\/:-@\[-\]_\{-~\xA1\xA7\xAB\xAC\xB1\xB6\xB7\xBB\xBF\xD7\xF7\u037E\u0387\u03F6\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u2118\u2140-\u2144\u214B\u2190-\u2194\u219A\u219B\u21A0\u21A3\u21A6\u21AE\u21CE\u21CF\u21D2\u21D4\u21F4-\u22FF\u2308-\u230B\u2320\u2321\u2329\u232A\u237C\u239B-\u23B3\u23DC-\u23E1\u25B7\u25C1\u25F8-\u25FF\u266F\u2768-\u2775\u27C0-\u27FF\u2900-\u2AFF\u2B30-\u2B44\u2B47-\u2B4C\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFB29\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B-\uFF65\uFFE2\uFFE9-\uFFEC]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDEF0\uDEF1])|(?:(?![!-#%-\/:-@\[-\]_\{-~\xA1\xA7\xAB\xAC\xB1\xB6\xB7\xBB\xBF\xD7\xF7\u037E\u0387\u03F6\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u2118\u2140-\u2144\u214B\u2190-\u2194\u219A\u219B\u21A0\u21A3\u21A6\u21AE\u21CE\u21CF\u21D2\u21D4\u21F4-\u22FF\u2308-\u230B\u2320\u2321\u2329\u232A\u237C\u239B-\u23B3\u23DC-\u23E1\u25B7\u25C1\u25F8-\u25FF\u266F\u2768-\u2775\u27C0-\u27FF\u2900-\u2AFF\u2B30-\u2B44\u2B47-\u2B4C\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFB29\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B-\uFF65\uFFE2\uFFE9-\uFFEC]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDEF0\uDEF1])[\s\S]))?(?:(?![!-#%-\/:-\]_\{-~\xA1\xA7\xAB\xAC\xB1\xB6\xB7\xBB\xBF-\xDE\xF7\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037E\u037F\u0386-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F6\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10A0-\u10C5\u10C7\u10CD\u10FB\u1360-\u1368\u13A0-\u13F5\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u2145\u214B\u2183\u2190-\u2194\u219A\u219B\u21A0\u21A3\u21A6\u21AE\u21CE\u21CF\u21D2\u21D4\u21F4-\u22FF\u2308-\u230B\u2320\u2321\u2329\u232A\u237C\u239B-\u23B3\u23DC-\u23E1\u25B7\u25C1\u25F8-\u25FF\u266F\u2768-\u2775\u27C0-\u27FF\u2900-\u2AFF\u2B30-\u2B44\u2B47-\u2B4C\u2C00-\u2C2F\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA673\uA67E\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA6F2-\uA6F7\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C0\uA7C2\uA7C4-\uA7C7\uA7C9\uA7D0\uA7D6\uA7D8\uA7F5\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFB29\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0F\uFF1A-\uFF3D\uFF3F\uFF5B-\uFF65\uFFE2\uFFE9-\uFFEC]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD6F-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDC80-\uDCB2\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDCA0-\uDCBF\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE40-\uDE5F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC1\uDEDB\uDEE2-\uDEFB\uDF15\uDF1C-\uDF35\uDF4F\uDF56-\uDF6F\uDF89\uDF90-\uDFA9\uDFC3\uDFCA]|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD00-\uDD21\uDD5E\uDD5F]|\uD83B[\uDEF0\uDEF1])[\s\S])+((?:[!-#%-\/:-@\[-\]_\{-~\xA1\xA7\xAB\xAC\xB1\xB6\xB7\xBB\xBF\xD7\xF7\u037E\u0387\u03F6\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u2118\u2140-\u2144\u214B\u2190-\u2194\u219A\u219B\u21A0\u21A3\u21A6\u21AE\u21CE\u21CF\u21D2\u21D4\u21F4-\u22FF\u2308-\u230B\u2320\u2321\u2329\u232A\u237C\u239B-\u23B3\u23DC-\u23E1\u25B7\u25C1\u25F8-\u25FF\u266F\u2768-\u2775\u27C0-\u27FF\u2900-\u2AFF\u2B30-\u2B44\u2B47-\u2B4C\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFB29\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B-\uFF65\uFFE2\uFFE9-\uFFEC]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDEF0\uDEF1])?|(?:[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5F\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C1\uA7C3\uA7C8\uA7CA\uA7D1\uA7D3\uA7D5\uA7D7\uA7D9\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD22-\uDD43]))|(?:[!-#%-\/:-@\[-\]_\{-~\xA1\xA7\xAB\xAC\xB1\xB6\xB7\xBB\xBF\xD7\xF7\u037E\u0387\u03F6\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u2118\u2140-\u2144\u214B\u2190-\u2194\u219A\u219B\u21A0\u21A3\u21A6\u21AE\u21CE\u21CF\u21D2\u21D4\u21F4-\u22FF\u2308-\u230B\u2320\u2321\u2329\u232A\u237C\u239B-\u23B3\u23DC-\u23E1\u25B7\u25C1\u25F8-\u25FF\u266F\u2768-\u2775\u27C0-\u27FF\u2900-\u2AFF\u2B30-\u2B44\u2B47-\u2B4C\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFB29\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B-\uFF65\uFFE2\uFFE9-\uFFEC]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDEF0\uDEF1])|(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2F\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C0\uA7C2\uA7C4-\uA7C7\uA7C9\uA7D0\uA7D6\uA7D8\uA7F5\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21])+(?:[!-#%-\/:-@\[-\]_\{-~\xA1\xA7\xAB\xAC\xB1\xB6\xB7\xBB\xBF\xD7\xF7\u037E\u0387\u03F6\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0606-\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u205E\u207A-\u207E\u208A-\u208E\u2118\u2140-\u2144\u214B\u2190-\u2194\u219A\u219B\u21A0\u21A3\u21A6\u21AE\u21CE\u21CF\u21D2\u21D4\u21F4-\u22FF\u2308-\u230B\u2320\u2321\u2329\u232A\u237C\u239B-\u23B3\u23DC-\u23E1\u25B7\u25C1\u25F8-\u25FF\u266F\u2768-\u2775\u27C0-\u27FF\u2900-\u2AFF\u2B30-\u2B44\u2B47-\u2B4C\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFB29\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B-\uFF65\uFFE2\uFFE9-\uFFEC]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]|\uD83B[\uDEF0\uDEF1])?/g,H=a(11706),Y=(t,e)=>{var a=0;return t.ticks().forEach((function(i){var n=(e.tickFormat()||t.tickFormat())(i);a=Math.max((0,H.getTextWidth)(n),a)})),a},R=t=>{var e=K(t);return(299*e.r+587*e.g+114*e.b)/1e3>=128?"black":"white"},K=t=>i.default.hsl(t).rgb(),X=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O.maxTextWidth,i=arguments.length>3?arguments[3]:void 0,n=O.legendRectWidth+O.legendRectMarginRight;i?a-=O.legendUnderMargiLeft+O.legendUnderMargiRight:a=n+O.maxTextWidth;var r={values:U(t,e),width:0,height:0,maxLegendItemWidth:a,keysWidth:0,firstInRow:[]};r.values.forEach((function(t){t.textWidth=(0,H.getTextWidth)(t.view),t.textWidth+n>a&&(i?(t.view=it(t.view,a-n-O.ellipsisWidth),t.textWidth=(0,H.getTextWidth)(t.view)+O.ellipsisWidth):(t.views=nt(t.view,a-O.legendRectWidth-O.legendRectMarginRight),t.textWidth=(0,H.findLongestText)(t.views).width),t.isShorten=!0),t.width=t.textWidth+n,r.width+=t.width,r.keysWidth=Math.max(r.keysWidth,t.width-n+O.legendRectMarginLeft)}));var u=0,o=0;return r.values.forEach((function(t,e){i?(0!==e&&u+r.values[e-1].width+O.legendRectMarginLeft+t.width<a?u+=r.values[e-1].width+O.legendRectMarginLeft:(u=r.width<=a?a/2-r.width/2:O.legendUnderMargiLeft,r.firstInRow.push(e),o+=e>0?O.legendItemHeight:0),t.x=u,t.y=o,t.arrayRowNumber=e):(t.y=o,t.height=t.isShorten?14*t.views.length:O.legendItemHeight,o+=t.height+6)})),r.rowsCount=i?r.firstInRow.length:r.values.length,r.height=i?o:o+O.legendItemHeight,r},j=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,i={values:U(t,e),width:0,keysWidth:0};return i.values.forEach((function(t){var e=(0,H.getTextWidth)(t.view);e>O.maxTextWidth&&(t.view=t.view.substr(0,O.textMaxLength-1)+"…",e=(0,H.getTextWidth)(t.view)),t.width=parseInt(e)+a,i.width+=t.width,i.keysWidth=Math.max(i.keysWidth,t.width-a)})),i},U=(t,e)=>{var a=[],i=e?J(t):0;return t.forEach((function(t){var e=i>3?t.substring(i):t;!e&&t&&(e="Total"),a.push({key:t,view:e})})),a},J=t=>{for(var e=t.concat().sort(((t,e)=>t.localeCompare(e))),a=e[0],i=e[e.length-1],n=a.length,r=0;r<n&&a.charAt(r)===i.charAt(r);)r++;return Math.min(r,a.substring(0,r).lastIndexOf(" ")+1)},q=(t,e,a,i)=>{var n=X(t,a,e,i),r=n.width<=e?e/2-n.width/2:O.legendUnderMargiLeft;return{rows:n.rowsCount,maxWidth:n.keysWidth,firstInRow:n.firstInRow,posX:r}},Z=(t,e)=>{if(Math.abs(t[1]-t[0])/e<=200){for(var a=[],i=Math.ceil(t[0]/e)*e;i<=t[1];i=V.default.addFloats(i,e))a.push(i);return a}},Q=(t,e,a)=>{var i=t;return i=Math.max(e,i),i=Math.min(a,i)},tt=t=>t.xScaleStep.indexOf("h")>-1?i.default.timeHour:t.xScaleStep.indexOf("w")>-1?i.default.timeWeek:t.xScaleStep.indexOf("m")>-1?i.default.timeMonth:t.xScaleStep.indexOf("y")>-1?i.default.timeYear:i.default.timeDay,et=(t,e)=>{var a,n;return e<864e6&&-1===t.workingDateFormat.toLowerCase().indexOf("hh:mm")?(n=i.default.timeDay,a=1):t.workingDateFormat.indexOf("i")>=0?(n=i.default.timeMonth,a=3):t.workingDateFormat.indexOf("w")>=0?(n=i.default.timeWeek,a=Math.floor(e/6048e6)):-1===t.workingDateFormat.toLowerCase().indexOf("m")&&e<31536e7?(n=i.default.timeYear,a=1):-1===t.workingDateFormat.indexOf("d")&&e<2592e7&&(n=i.default.timeMonth,a=1),{ticksStep:a,ticksSize:n}},at=(t,e,a)=>{var i=t,n=(0,H.getTextWidth)(e.substr(0,i));if(n>a)for(;n>a&&--i>0;)n=(0,H.getTextWidth)(e.substr(0,i));else{for(;n<a&&++i<e.length;)n=(0,H.getTextWidth)(e.substr(0,i));i=Math.max(0,--i)}return i},it=(t,e)=>{var a=Math.floor(t.length*e/(0,H.getTextWidth)(t));return t.slice(0,at(a,t,e))},nt=(t,e)=>{for(var a=t.split(/\s+/),i=[],n="",r=0,u=()=>{i.push(n),n="",r=0},o=0;o<a.length;o++){var s=n.length>0?" ":"",l=(0,H.getTextWidth)(a[o]),c=n.length>0?3.85:0;if((r+=c)+c+l<=e)n+=s+a[o],r+=l;else if(l>e){var h=e-r,d=0,g=a[o].match(G),p=!1;if(g&&g.length>0){var f=0,m=0,x=0;do{m+=(0,H.getTextWidth)(g[f]),0===f?p=m>h&&m<=e:x+=g[f-1].length}while(!p&&h>=m&&++f<g.length);d=x}if(!p){if(!d){var y=Math.floor(a[o].length*h/l);d=at(y,a[o],h)}d&&(n+=s+a[o].substring(0,d),r+=d,a[o]=a[o].substring(d))}n.length>0&&(o--,u())}else u(),n+=a[o],r+=l}return n.length&&u(),i},rt=(t,e,a)=>{if(t<=18||a>=e.width)return e.width;a=a||O.maxTextWidth;var i=14*nt(e.text,a).length+4;return i>t?(a=Math.ceil(a*i/t),rt(t,e,a)):a},ut=(t,e)=>{t.offset().top>42?(e.direction("n"),e.offset([-5,0])):(e.direction("s"),e.offset([5,0]))},ot={draw:function(t,e,a){var r=this,u={nodeRadius:5,factorLegend:.85,radians:2*Math.PI,opacityArea:.1,padding:{left:20,right:20,top:20,bottom:20},maxValue:0,grid:!0};if(void 0!==a)for(var o in a)void 0!==a[o]&&(u[o]=a[o]);var s={},l={},c=[];e.forEach((function(t){l[t.aggregation]=Math.max(Math.max(t.value,l[t.aggregation]?l[t.aggregation]:0),u.maxValue),s[t.label]||(s[t.label]=[]),s[t.label].push({axis:t.aggregation,value:t.value}),-1===c.indexOf(t.aggregation)&&c.push(t.aggregation)}));var h=c.length;u.chartDimension={w:u.w-u.padding.left-u.padding.right,h:u.h-u.padding.top-u.padding.bottom},u.radius=Math.min(u.chartDimension.w/2,u.chartDimension.h/2),u.center={x:u.chartDimension.w/2+u.padding.left,y:u.radius+u.padding.top},u.angle=u.radians/h;var d=t.append("svg").attr("width",u.w).attr("height",u.center.y+u.radius+u.padding.bottom).append("g");if(u.maxValue>0&&u.grid){var g=[];if(u.scaleStep)for(var p=0;p<=u.maxValue;p=V.default.addFloats(p,u.scaleStep))g.push(p);else{var f=i.default.scaleLinear();f.domain([0,u.maxValue]),g=f.ticks(3)}g.forEach((function(t){if(t>0){var e=u.radius*t/u.maxValue;d.selectAll(".levels").data(c).enter().append("svg:line").attr("x1",(function(t,a){return u.center.x-e*Math.sin(a*u.angle)})).attr("y1",(function(t,a){return u.center.y-e*Math.cos(a*u.angle)})).attr("x2",(function(t,a){return u.center.x-e*Math.sin((a+1)*u.angle)})).attr("y2",(function(t,a){return u.center.y-e*Math.cos((a+1)*u.angle)})).attr("class","line").style("stroke","#d3d3d3").style("stroke-width","1px"),d.append("text").attr("class","axis-text").text(u.formatter(t,c[0])).style("font-size","14px").attr("y",u.center.y-e+19).attr("x",u.center.x+5)}}))}var m=d.selectAll(".axis").data(c).enter().append("g").attr("class","axis");m.append("line").attr("x1",u.center.x).attr("y1",u.center.y).attr("x2",(function(t,e){return u.center.x-u.radius*Math.sin(e*u.angle)})).attr("y2",(function(t,e){return u.center.y-u.radius*Math.cos(e*u.angle)})).attr("class","line").style("stroke","grey").style("stroke-width","1px"),m.append("text").attr("class","axis-text").text((function(t){return t})).style("font-size","14px").attr("text-anchor","middle").attr("transform",(function(t,e){var a=r.calcTextAngle(u,e);return"rotate("+a/Math.PI*180+" "+r.calcAxisTextX(u,e,a)+","+r.calcAxisTextY(u,e,a)+")"})).attr("x",(function(t,e){return r.calcAxisTextX(u,e,r.calcTextAngle(u,e))})).attr("y",(function(t,e){return r.calcAxisTextY(u,e,r.calcTextAngle(u,e))})),Object.keys(s).forEach((function(t,e){var a=s[t],n=[];d.selectAll(".nodes").data(a,(function(t,e){n.push([r.calcCY(u,t,l,e),r.calcCX(u,t,l,e)])})),n.push(n[0]),d.selectAll(".area").data([n]).enter().append("polygon").attr("class","radar-chart-serie"+e).attr("key",t).style("stroke-width","2px").style("stroke",u.color(t)).attr("points",(function(t){for(var e="",a=0;a<t.length;a++)e=e+t[a][0]+","+t[a][1]+" ";return e})).style("fill",(function(){return u.color(t)})).style("fill-opacity",u.opacityArea).on("mouseover",(function(){var t="polygon."+i.default.select(this).attr("class");d.selectAll("polygon").transition(200).style("fill-opacity",0),d.selectAll(t).transition(200).style("fill-opacity",.5)})).on("mouseout",(function(){d.selectAll("polygon").transition(200).style("fill-opacity",u.opacityArea)}))}));var x=(0,n.default)().attr("class","d3-tip chart"+u.id).offset([-8,0]).html((function(t){return V.default.escapeString(t.key+" ("+u.formatter(t.data.value,t.data.axis)+")")}));return d.call(x),Object.keys(s).forEach((function(t,e){var a=s[t];d.selectAll(".nodes").data(a).enter().append("svg:circle").attr("class","radar-chart-serie"+e).attr("key",t).attr("r",u.nodeRadius).attr("cx",(function(t,e){return r.calcCY(u,t,l,e)})).attr("cy",(function(t,e){return r.calcCX(u,t,l,e)})).attr("data-id",(function(t){return t.axis})).style("fill",u.color(t)).style("fill-opacity",.9).on("mouseover",(function(e,a){ut($(this),x),x.show({key:t,data:a},this);var n="polygon."+i.default.select(this).attr("class");d.selectAll("polygon").transition(200).style("fill-opacity",.1),d.selectAll(n).transition(200).style("fill-opacity",.7)})).on("mouseout",(function(){x.hide(),d.selectAll("polygon").transition(200).style("fill-opacity",u.opacityArea)}))})),{svg:d,cfg:u}},calcCY:function(t,e,a,i){return t.center.x-t.radius*Math.sin(i*t.angle)*Math.max(e.value,0)/a[e.axis]},calcCX:function(t,e,a,i){return t.center.y-t.radius*Math.cos(i*t.angle)*Math.max(e.value,0)/a[e.axis]},calcAxisTextX:function(t,e,a){var i=e*t.angle;return t.center.x-t.radius*Math.sin(i)-(t.nodeRadius+4+9.5*Math.min(1,i+a))*Math.sin(i)},calcAxisTextY:function(t,e,a){var i=e*t.angle;return t.center.y-t.radius*Math.cos(i)-(t.nodeRadius+4+9.5*Math.min(1,i+a))*Math.cos(i)},calcTextAngle:function(t,e){var a=-e*t.angle;return a<-Math.PI/2&&a>1.5*-Math.PI&&(a+=Math.PI),a}},st=a(78644),lt=a(24238),ct=a(33926),ht={saveChanges:function(t,e,a,i,n,r,u,o,s,l,c,h,d,g,p,f,m,x,y,D){(0,ct.makeAjax)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"POST",cache:!1,url:Confluence.getContextPath()+"/rest/table-filter/1.0/service/save-chart",dataType:"json",data:{pageId:t,id:e,column:a,aggregation:i,type:$.trim(n),height:r,width:u,hide:o,version:f,barColoringType:s,colors:l,colorColumns:c,pieKeys:h,interpolation:m,is3D:d,lineSettings:x,innerLabels:y,ganttArrows:D},success:g,error:function(t){lt.default.showError(t,p)}})},saveDateFormat:function(t,e,a){(0,ct.makeAjax)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"POST",cache:!1,url:Confluence.getContextPath()+"/rest/table-filter/1.0/service/save-chart/dateformat",dataType:"json",data:{pageId:t,id:e,dateformat:a}})}},dt=a(99497),gt=a(23778);function pt(t){return"Line"===t||"Time Line"===t}a(15761),a(50903),a(48705),a(60528),a(71263),a(61609),a(13983),a(31589),a(90917),a(65492),a(23942),a(34726),a(72646),a(88489),a(88170),a(46527),a(32323),a(98871),a(47002),a(39684),a(59977),a(16856),a(61986),a(6345),a(91463),a(43028),a(99941),a(67590),a(69223),a(15610),a(25290);var ft=(t,e,a,i)=>{var n;e.selectAll(a).on("mouseover",(function(e,i){clearTimeout(n);var r=$(this);r.is(a)||(r=r.parent()),ut(r,t),t.show(i,r[0])})).on("mouseout",(function(){n=setTimeout((function(){n=null,i.tipHover||t.hide()}),50)}))},mt=function(t){for(var e=t?i.default.min:i.default.max,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return e(n.map(((a,i)=>e(a,(e=>0===i?t?e.startDate:e.endDate:e.date)))))},xt=t=>{var e=t.attr("transform").match(/translate\((.+)[(, ?) ](.+)\)/);e=e&&e.length>2?e:[0,0,0];var a=t.select("rect"),i=Number.parseFloat(a.attr("height")),n=Number.parseFloat(a.attr("width"));return[Number.parseFloat(e[1]),Number.parseFloat(e[2]),n,i]},yt=(t,e)=>{var a,n=t.sourceEvent.target||t.sourceEvent.srcElement,r=null;return(a=n.getAttribute("class"))&&-1!==a.indexOf("g_task")?r=n:(a=n.parentNode.getAttribute("class"))&&-1!==a.indexOf("g_task")&&(r=n.parentNode),r&&r!==e?i.default.select(r):null};function Dt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var vt=10,bt={arrow:{triangleArrowPoints:[[-10,-5],[0,0],[-10,5]],margin:5,offset:3},removeBtn:{radius:5,chord:2.2}};class Ft{constructor(t,e,a,i){this.setTasks(a,i),this.barsContainer=t,this.ganttArrows=e,this.arrow=null,this.initGanttArrows(),a&&this.createArrow(a)}setTasks(t,e){this.task1=t||this.task1,this.task2=e||this.task2,t&&e&&Ft.arrows.add(this)}initGanttArrows(){var t=this.barsContainer.select(".gantt-arrows");this.arrowsContainer=t.empty()?this.barsContainer.append("g").attr("class","gantt-arrows"):t}createArrow(t){var e=t.data()[0].style.match(/#[0-9a-f]{3,6}$/i),a=e&&-1===["#fff","#ffffff"].indexOf(e[0].toLowerCase())&&e[0]||"black";this.arrow=this.arrowsContainer.append("g").attr("class","arrow").attr("stroke",a).attr("fill",a).attr("transform",t.attr("transform")),this.arrowTriangle=this.arrow.append("path").attr("d",i.default.line()(bt.arrow.triangleArrowPoints)).style("stroke","none"),this.arrowLine=this.arrow.append("path").attr("class","arrowLine").style("fill","none").on("resize",(()=>this.draw()))}draw(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.task1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.task2;this.arrow.attr("transform",t.attr("transform")),this.coord1=xt(this.task1);var a=xt(e);a[0]-=this.coord1[0],a[1]-=this.coord1[1]-a[3]/2,this.drawByPoins([this.coord1[2],this.coord1[3]/2],a)}drawByPoins(t,e){var{margin:a}=bt.arrow,n=t[0],r=e[0],u=t[1],o=e[1];this.lineCoords=[[n,u],[n+a,u],[n+a,(o+u)/2],[r-a-vt,(o+u)/2],[r-a-vt,o],[r-vt,o]],this.setAbsoluteLineCoords(),this.correctCrossLinesMargin(),this.arrowLine.attr("d",i.default.line()(this.lineCoords)),this.arrowTriangle.attr("transform","translate(".concat(r,", ").concat(o,")")),this.addRemoveBtn((this.lineCoords[2][0]+this.lineCoords[3][0])/2,this.lineCoords[2][1])}correctCrossLinesMargin(){var t=bt.arrow.offset;Array.from(Ft.arrows).some((e=>{if(e!==this){var a=!1;if(this.hitTestYLines([this.absoluteLineCoords[1],this.absoluteLineCoords[2]],[e.absoluteLineCoords[1],e.absoluteLineCoords[2]])?(this.lineCoords[1][0]+=t,this.lineCoords[2][0]+=t,a=!0):this.hitTestYLines([this.absoluteLineCoords[3],this.absoluteLineCoords[4]],[e.absoluteLineCoords[3],e.absoluteLineCoords[4]])?(this.lineCoords[3][0]-=t,this.lineCoords[4][0]-=t,a=!0):this.hitTestXLines([this.absoluteLineCoords[2],this.absoluteLineCoords[3]],[e.absoluteLineCoords[2],e.absoluteLineCoords[3]])&&(this.lineCoords[2][1]-=t,this.lineCoords[3][1]-=t,a=!0),a)return this.setAbsoluteLineCoords(),!0}}))&&this.correctCrossLinesMargin()}setAbsoluteLineCoords(){this.coord1=void 0===this.coord1?xt(this.task1):this.coord1,this.absoluteLineCoords=this.lineCoords.map((t=>[t[0]+this.coord1[0],t[1]+this.coord1[1]]))}hitTestYLines(t,e){if(t[0][0]===e[0][0]){var a=(t,e)=>t-e,i=[t[0][1],t[1][1]].sort(a),n=[e[0][1],e[1][1]].sort(a);return i[0]<=n[1]&&i[0]>=n[0]||n[0]<=i[1]&&n[0]>=i[0]}return!1}hitTestXLines(t,e){if(t[0][1]===e[0][1]){var a=(t,e)=>t-e,i=[t[0][0],t[1][0]].sort(a),n=[e[0][0],e[1][0]].sort(a);return i[0]<=n[1]&&i[0]>=n[0]||n[0]<=i[1]&&n[0]>=i[0]}return!1}addRemoveBtn(t,e){this.removeBtn||(this.removeBtn=this.arrow.append("g").attr("class","removeBtn").on("click",(t=>{t.stopPropagation(),this.remove();var e=this.task1&&this.task1.data()[0].id,a=this.task2&&this.task2.data()[0].id,i=this.ganttArrows[e+""];if(i){var n=i.indexOf(a+"");-1!==n&&i.splice(n,1)}})),this.removeBtn.append("circle").attr("r",bt.removeBtn.radius),this.removeBtn.append("line").attr("x1",-bt.removeBtn.chord).attr("y1",-bt.removeBtn.chord).attr("x2",bt.removeBtn.chord).attr("y2",bt.removeBtn.chord),this.removeBtn.append("line").attr("x1",bt.removeBtn.chord).attr("y1",-bt.removeBtn.chord).attr("x2",-bt.removeBtn.chord).attr("y2",bt.removeBtn.chord)),this.removeBtn.attr("transform","translate(".concat(t,", ").concat(e,")"))}remove(){this.arrow.remove(),Ft.arrows.delete(this)}}Dt(Ft,"arrows",new Set),Dt(Ft,"resetArrowsSet",(()=>Ft.arrows=new Set));var At=Ft,Ct=function(){var t=[],e={axisLength:600},a=null,n=null,r=i.default.timeFormat("%d%b"),u=null,o=null;function s(){}return s.appendTicks=function(t){return t.tickSize(5).ticks(s.getTicks())},s.appendFormattedTicks=function(t,e){return e?t.tickSize(5).tickFormat(r):s.appendTicks(t).tickFormat(r)},s.init=function(){a=i.default.scaleTime().domain([t[0],t[1]]).range([0,e.axisLength]).clamp(!0),n=s.appendTicks(i.default.axisBottom(a)).tickFormat(r)},s.getTicks=function(){return u===i.default.timeDay&&1!==o?u.filter((function(e){return i.default.timeDay.count(t[0],e)%o==0})):u?u.every(o):void 0},s.ticks=function(){return a.ticks(s.getTicks()).map((function(t){return a(t)}))},s.position=function(t){return a(t)},s.draw=function(t){t.call(n).selectAll("text").attr("transform","translate(0,0)")},s.getAxisLine=function(){return a},s.getAxis=function(){return n},s.domain=function(e){return arguments.length?(t=e,s):t},s.ticksConfig=function(t){return u=t.ticksSize,o=t.ticksStep,s},s.config=function(t){if(!arguments.length)return e;for(var a in e)e[a]=t[a];return s},s.configValue=function(t,a){return e[t]=a,s},s.tickFormat=function(t){return arguments.length?(r=t,s):r},s},Et=function(){var t,e=1,a=[],i={},n=0,r=Fe.maxTextWidth,u={axisLength:null,barHeight:15,setBarHeight:null,progressBarPorcHeight:100,barPadding:5,barMargin:5,minTaskBandHeight:30,mileStoneHeight:0};g.init=function(){for(var t,e=0,r=0,l=0;l<a.length;l++){t=a[l];var c=o(t);r=e+c+s(t),i[t]={taskIni:e,taskEnd:e+c,mStoneIni:e+c,mStoneEnd:r},e=r}return n=r,u.axisLength=u.setBarHeight?n*u.setBarHeight/u.barHeight:u.axisLength,g},g.ticks=function(){for(var t,e,i=[],n=0;n<a.length;n++)t=a[n],e=c(t),i.push(g.scaleValue(e[0]));return null!=e&&i.push(g.scaleValue(e[1])),i},g.position=function(e){if(wt(e,"startDate"))var a=t.taskTotalOverlaps(e),i=h(e.category)[0]+u.barMargin+a*(u.barHeight+u.barPadding);else{if(!wt(e,"date"))return null;i=d(e.category)[0]+u.mileStoneHeight-6}return g.scaleValue(i)},g.textWidth=function(t){return r=t||r},g.draw=function(t){return t.selectAll("line.axisY").remove(),t.append("line").attr("x1","0").attr("y1","0").attr("x2","0").attr("y2",g.scaleValue(n)).attr("class","axisY").attr("style","stroke:black"),t.selectAll("g").remove(),t.selectAll("g").data(a,(function(t){return t})).enter().append("g").attr("transform",l).append("text").attr("x","-5").attr("style","text-anchor: end").attr("class","tickY-label").text((function(t){return t})).call(Fe.textsToMultiline,r),t.selectAll("line.tickY").remove(),t.selectAll("line.tickY").data(g.ticks()).enter().append("line").attr("class","tickY").attr("x1","0").attr("y1",(function(t){return t})).attr("x2","-5").attr("y2",(function(t){return t})),g};var o=function(e){var a=t.categoryMaxOverlaps(e),i=u.minTaskBandHeight;return a>0&&(i=u.barMargin+(a-1)*(u.barHeight+u.barPadding)+u.barHeight+u.barMargin),i},s=function(){return u.mileStoneHeight},l=function(t){var e=c(t),a=e[0]+(e[1]-e[0])/2;return"translate(0,"+g.scaleValue(a)+")"};g.scaleValue=function(t){var e=1;return null!=u.axisLength&&n>0&&(e=u.axisLength/n),t*e};var c=function(t){return[i[t].taskIni,i[t].mStoneEnd]},h=function(t){return[i[t].taskIni,i[t].taskEnd]},d=function(t){return[i[t].mStoneIni,i[t].mStoneEnd]};function g(){}return g.overlappingResolver=function(e){return arguments.length?(t=e,g):t},g.categories=function(t){return arguments.length?(a=t,g):a},g.scale=function(t){return arguments.length?(e=t,g):e},g.config=function(t){if(!arguments.length)return u;for(var e in u)u[e]=t[e];return g},g.configValue=function(t,e){return u[t]=e,g},g.calculatedLength=function(){return n},g},_t=function(){var t=[],e=[],a={},i=[];function n(t,e){if(wt(a,t))for(var i=0;i<a[t].length;i++)n(a[t][i],e),e.push(a[t][i])}o.categories=function(e){return arguments.length?(t=e,o):t},o.tasks=function(t){return arguments.length?(e=t,a={},i=[],o):e},o.categoryMaxOverlaps=function(t){return i[t]?i[t].length:0},o.taskOverlaps=function(t){return a[t.id]},o.taskTotalOverlapsOld=function(t){var e=[];return n(t.id,e),e.filter((function(t,a){return e.indexOf(t)==a}))},o.taskTotalOverlaps=function(t){var e=t.id;return null!=a[e]?a[e].length:0};o.calculateOverlapping=function(){for(var e=0;e<t.length;e++){var a=[];i[t[e]]=a,r(t[e],a)}return o};var r=function(t,a){var i=e.filter((function(e){return e.category==t}));if(null!=i&&i.length>0)for(var n=0;n<i.length;n++)u(i[n],a)},u=function(t,e){for(var i,n,r=e.length,u=0;u<e.length;u++){if(!(t.startDate<e[u].endDate)){r=u;break}i=t,n=e[u],wt(a,i.id)||(a[i.id]=[]),a[i.id].push(n.id)}e[r]=t};function o(){return o}return o};function wt(t,e){var a=t.__proto__||t.constructor.prototype;return e in t&&(!(e in a)||a[e]!==t[e])}var Bt=function(t){var e={axisLength:600,barHeight:15,progressBarHeight:5},a=null,i=null,n=function(t){for(var e in i)t.on(e,i[e])};function r(){}return r.getTruncatedTaskText=function(t,e){if(!t.label)return"";var a=e(t)-10,i=t.label,n=t.label.length;if(this.textContent=t.label,this.getComputedTextLength())for(;n>0&&this.getSubStringLength(0,n)>a;)n--;return n===t.label.length?i:0===n?"":i.substring(0,n)+"…"},r.draw=function(i){i.append("rect").attr("y",0).attr("height",t.scaleValue(e.barHeight)).attr("width",(t=>a(t))).attr("class",(function(t){return wt(t,"class")?t.class+"-bar":"task-bar"})).attr("style",(function(t){return t.style})).attr("rx",3).attr("ry",3).call(n),i.append("rect").attr("y",t.scaleValue((e.barHeight-e.progressBarHeight)/2)).attr("height",t.scaleValue(e.progressBarHeight)).attr("width",(function(t){return wt(t,"progress")?a(t):0})).attr("style",(function(t){return t.todoStyle})).attr("class","task-progress-bar-total"),i.append("rect").attr("y",t.scaleValue((e.barHeight-e.progressBarHeight)/2)).attr("height",t.scaleValue(e.progressBarHeight)).attr("width",(function(t){return wt(t,"progress")?a(t,t.progress):0})).attr("class",(function(t){return wt(t,"class")?t.class+"-progress-bar":"task-progress-bar"})).attr("style",(function(t){return t.doneStyle})).call(n),i.append("text").attr("y",(function(a){var i=t.scaleValue(e.barHeight);return null==a.progress?i/2+5:i-3})).attr("x",5).attr("class",(function(t){return wt(t,"class")?t.class+"-label":"task-label"})).attr("style",(function(t){return t.labelStyle})).text((function(t){return r.getTruncatedTaskText.call(this,t,a)}))},r.eventHandlers=function(t){return arguments.length?(i=t,r):i},r.calculateBarWidth=function(t){return arguments.length?(a=t,r):a},r.config=function(t){if(!arguments.length)return e;for(var a in e)e[a]=t[a];return r},r.configValue=function(t,a){return e[t]=a,r},r},Tt=function(){var t=null,e={mileStoneRadius:2},a=function(e){for(var a in t)e.on(a,t[a])};function i(){}return i.draw=function(t){t.append("polygon").attr("points","10,1 4,19.8 19,7.8 1,7.8 16,19.8").attr("class",(function(t){return wt(t,"class")?t.class+"-mark":"milestone-mark"})).attr("style",(function(t){return t.style})).call(a),t.append("text").attr("x",2).attr("y",30).attr("style",(function(t){return t.style+";font-size: 14px"})).attr("class",(function(t){return wt(t,"class")?t.class+"-label":"milestone-label"})).text((function(t){return t.label}))},i.eventHandlers=function(e){return arguments.length?(t=e,i):t},i.config=function(t){if(!arguments.length)return e;for(var a in e)e[a]=t[a];return i},i.configValue=function(t,a){return e[t]=a,i},i},St=function(){var t=null,e={chartHeight:100};function a(){}return a.draw=function(t){t.append("line").attr("x1","0").attr("y1","0").attr("x2","0").attr("y2",e.chartHeight).attr("class",(function(t){return wt(t,"class")?t.class+"-line":"dateline-line"})).attr("style",(function(t){return t.style}));var a=t.append("text").attr("y",-4).attr("class",(function(t){return wt(t,"class")?t.class+"-label":"dateline-label"})).style("text-anchor","middle").text((function(t){return t.label})),i=[];a.each((function(){var t=this.getBoundingClientRect(),e=0;i.some((function(a){if(a<t.x)return!0;e++})),i[e]=t.x+t.width,this.setAttribute("y",parseFloat(this.getAttribute("y"))+16*e),e>0&&(i[e]=i[e]+5,this.setAttribute("x",0))}))},a.eventHandlers=function(e){return arguments.length?(t=e,a):t},a.config=function(t){if(!arguments.length)return e;for(var i in e)e[i]=t[i];return a},a.configValue=function(t,i){return e[t]=i,a},a},kt=function(t,e){var a=Math.floor(1e6*Math.random()+1),n={top:20,right:40,bottom:140,left:150},r=null,u=null,o=null,s=null,l="fit",c="%d/%b",h=null,d=null,g=!0,p=[],f=[],m=null,x=[],y=[],D=_t(),v=Et(),b=Ct(),F=Bt(v),A=Tt(),C=St(),E={task:{},milestone:{},dateline:{}},_=function(){return null!=r&&r>0?r:v.config().setBarHeight?v.config().axisLength:v.calculatedLength()},w=function(){return null!=u&&u>0?u-n.right-n.left-5:document.body.clientWidth-n.right-n.left-5},B=function(t){return"t_"+t.id},T=function(t){return"ms_"+t.id},S=function(t){return"translate("+b.position(t.startDate)+","+v.position(t)+")"},k=function(t){var e=P(t);return"translate("+e.x+","+e.y+")"},P=function(t){var e=b.position(t.date)-10,a=v.position(t),i=$.grep(f,(function(e){return e.category===t.category}));if(i.length){var n=i[0];i.some((function(e){if(!(e.startDate<=t.date))return!0;n=e})),a=v.position(n)+v.scaleValue(15)/2}return{x:e,y:a-10}},L=function(t){return"translate("+b.position(t.date)+",0)"},M=function(){return t.selectAll("svg").data([a],(function(t){return t})).selectAll(".gantt-chart")},V=function(t,e){var a=E[e],i=function(a){t.on(a,(function(t){E[e].hasOwnProperty(a)&&E[e][a](t)}))};for(var n in a)i(n)},I=function(){var t=f.filter(H);D.tasks(t).calculateOverlapping(),b.domain([o,s]).tickFormat(c).ticksConfig({ticksSize:h,ticksStep:d}).configValue("axisLength",w()),b.init(),null==p&&(p=function(t){var e={};t.map((function(t){e.hasOwnProperty(e,t.category)||(e[t.category]=!0)}));var a=[];for(var i in e)a.push(i);return a}(f)),v.overlappingResolver(D).categories(p),null!=r&&v.configValue("axisLength",r),v.init()},O=function(){var t=M(),e=t.select("g.yaxis-group");v.draw(e);var a=t.select("g.xaxis-group");a.attr("transform","translate(0, "+_()+")"),b.draw(a),a.selectAll(".tick").classed("minor",(function(t){return t.getMonth()}))},W=function(t,e,a){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M().select("g.grid-group");n=t?i.default.axisBottom().tickFormat("").tickSize(_()).scale(a):i.default.axisBottom().tickFormat("").tickSize(_()).ticks(b.getTicks()).scale(a),r.transition().duration(e?750:0).call(n).call((t=>t.select(".domain").attr("display","none"))).call((t=>t.selectAll("g.tick > line").attr("stroke","#ccc")))},N=function(){var t=M().select("g.grid-group");W(!1,!1,b.getAxisLine(),t);var e=w();t.selectAll("line.gridY").remove(),t.selectAll("line.gridY").data(v.ticks(),(function(t){return t})).enter().append("line").attr("class","gridY").attr("x1",0).attr("x2",e).attr("y1",(function(t){return t})).attr("y2",(function(t){return t})).style("stroke","#ccc")},z=function(){var c,h;!function(t){if("fit"===l){if(void 0===t||t.length<1)return o=i.default.timeDay.offset(new Date,-3),void(s=i.default.timeHour.offset(new Date,3));o=t.reduce((function(t,e){return t.startDate<e.startDate?t:e})).startDate,s=t.reduce((function(t,e){return t.endDate>e.endDate?t:e})).endDate,b.domain([o,s]).init()}}(f),c=t.selectAll("svg").data([a],(function(t){return t})).enter().append("svg").attr("class","chart").attr("width",u).attr("height",r).append("g").attr("class","gantt-chart").attr("transform","translate("+n.left+", "+n.top+")"),(h=c.append("g").attr("class","gantt--clipped-area").attr("clip-path","url(#clip".concat(e.macroId).concat(e.pageId,")"))).append("g").attr("class","grid-group"),h.append("g").attr("class","gantt-bars"),c.append("g").attr("class","yaxis-group"),c.append("g").attr("class","xaxis-group")},G=function(t){var e=16*(t.length-1);t.forEach((function(t,a){t.forEach((function(t){var i=P(t.d);AJS.$(t.el).attr("transform","translate("+i.x+","+(i.y-e+32*a)+")")}))}))},H=function(t){return t.endDate>o&&t.startDate<s},Y=function(t){return t.date>=o&&t.date<=s},R=function(t){return t.date>=o&&t.date<=s},K=function(t,e){var a=null!=e?t.startDate.getTime()+(t.endDate-t.startDate)*e:t.endDate,i=Math.max(o,t.startDate),n=Math.min(s,a);return b.position(n)-b.position(i)};function X(){return X}return X.draw=function(){return t.selectAll("svg").data([a],(function(t){return t})).empty()?z():t.selectAll("svg").data([a],(function(t){return t})).selectAll("g.gantt-chart").attr("transform","translate("+n.left+", "+n.top+")"),I(),g&&N(),O(),function(t,e){var a=t.filter(H),n=M().select(".gantt-bars");n.selectAll("g").remove();var r=n.selectAll("g.g_task").data(a,B).enter().append("g").attr("class","g_task").attr("y",0).attr("transform",S);F.calculateBarWidth(K).eventHandlers(E.task).draw(r),e&&function(){var t=new Map;r.each((function(e){t.set(e.id+"",i.default.select(this))})),At.resetArrowsSet();var a=function(a){e[a].forEach((i=>{t.get(a)&&t.get(i)&&new At(n,e,t.get(a),t.get(i)).draw()}))};for(var u in e)a(u)}()}(f,m),function(t){var e=t.filter(R).sort((function(t,e){return t.date.getTime()-e.date.getTime()})),a=M().select(".gantt-bars");a.selectAll("g.g_dateline").remove();var i=a.selectAll("g").data(e,(function(t){return t.date})).enter().append("g").attr("class","g_dateline").attr("y",0).attr("transform",L).call(V,"dateline");C.configValue("chartHeight",_()).eventHandlers(E.dateline).draw(i)}(y),function(t){var e=t.filter(Y).sort((function(t,e){return t.date.getTime()-e.date.getTime()})),a=M().select(".gantt-bars");a.selectAll("g.g_mileStone").remove();var i=a.selectAll("g.g_milestone").data(e,T).enter().append("g").attr("class","g_milestone").attr("y",0).attr("transform",k);A.eventHandlers(E.milestone).draw(i);var n=[],r=[];i.each((function(t){var e=this.getBoundingClientRect();e.y=Math.round(e.y),n[e.y]||(n[e.y]=[],r[e.y]=[]);var a=0,i=!0,u=!1;n[e.y].some((function(t){if(t<e.x)u=!0;else{if(i=!1,u)return!0;a++}})),i&&(G(r[e.y]),n[e.y]=[],r[e.y]=[]),n[e.y][a]=e.x+e.width,r[e.y][a]||(r[e.y][a]=[]),r[e.y][a].push({el:this,d:t})})),r.forEach((function(t){G(t)}))}(x),i.default.select("body").select("svg").data([a],(function(t){return t})).style("height",_()+n.top+n.bottom),X},X.init=function(){z(),I()},X.getTimeAxisRenderer=function(){return b},X.margin=function(t){return arguments.length?(n=t,X):n},X.timeDomain=function(t){return arguments.length?(o=+t[0],s=+t[1],X):[o,s]},X.timeDomainMode=function(t){return arguments.length?(l=t,X):l},X.ticks=function(t){return h=t.ticksSize,d=t.ticksStep,X},X.container=function(e){return t=e,X},X.grid=function(t){return g=t,X},X.id=function(t){return arguments.length?(a=t,X):a},X.width=function(t){return arguments.length?(u=t,X):u},X.height=function(t,e){return arguments.length?(e?v.configValue("setBarHeight",e):r=t,X):r},X.tickFormat=function(t){return arguments.length?(c=t,X):c},X.categories=function(t){return arguments.length?(p=t,D.categories(p),X):p},X.tasks=function(t){return arguments.length?(f=t,X):f},X.arrows=function(t){return arguments.length?(m=t,X):m},X.mileStones=function(t){return arguments.length?(x=t,X):x},X.dateLines=function(t){return arguments.length?(y=t,X):y},X.overlappingResolver=function(t){return arguments.length?(D=t,X):D},X.categoryAxisRenderer=function(t){return arguments.length?(v=t,X):v},X.taskRenderer=function(t){return arguments.length?(F=t,X):F},X.msRenderer=function(t){return arguments.length?(A=t,X):A},X.datelineRenderer=function(t){return arguments.length?(C=t,X):C},X.taskEventHandler=function(t,e){return E.task[t]=e,X},X.milestoneEventHandler=function(t,e){return E.milestone[t]=e,X},X.datelineEventHandler=function(t,e){return E.dateline[t]=e,X},X.rescaleGridX=W,X};var Pt=a(23e3);var Lt=2.5;function Mt(t){var e=t.chart.select(".gantt-bars"),a=(0,n.default)().attr("class","d3-tip").offset([-5,0]).html("Drag and Drop");e.selectAll(".roundBtn").remove(),e.selectAll(".g_task").each((function(n){var r=i.default.select(this),u=r.select("rect"),o=u.attr("height")/2,s=u.attr("width");!function(t,e,a,n,r,u){var o,s=a.node(),l=a.append("g").attr("transform","translate(".concat(n,", ").concat(r,")")),c=()=>{function u(i,n){o=new At(e,t.ganttArrows,a),e.classed("dragging",!0)}function l(t,e){var i=yt(t,s);i?o.draw(a,i):o.drawByPoins([n,r],[n+t.x,r+t.y])}function c(i,n){var r,u=yt(i,s);if(u){var l=a.data()[0].id,c=u.data()[0].id;t.ganttArrows[l+""]?r=t.ganttArrows[l+""]:(r=[],t.ganttArrows[l+""]=r),-1===r.indexOf(c+"")?(r.push(c+""),o.setTasks(a,u),o.draw()):o.remove()}else o.remove();e.classed("dragging",!1)}return i.default.drag().on("start",u).on("drag",l).on("end",c)},h=function(t,e){var a=$(this);ut(a,u),u.show(e,a[0]),t.stopPropagation(),setTimeout((()=>{u.hide(),h=null}),1e3)};l.attr("class","draggable roundBtn").append("circle").attr("r",Lt),l.append("circle").attr("r",Lt).call(c()).call(u).on("mouseover",h).attr("stroke-opacity",0).transition().duration(500).attr("r",8*Lt).attr("stroke-opacity",1).transition().duration(500).attr("r",2*Lt)}(t,e,r,parseFloat(s),o,a)})),e.classed("editMode",!0),t.enableSaveBtn()}function Vt(t){var e=t.chart.select(".gantt-bars"),a=e.selectAll(".g_task");a.selectAll(".arrow").selectAll(".removeBtn").remove(),a.selectAll(".roundBtn").remove(),e.classed("editMode",!1)}var It=a(94818),Ot=a(24865),Wt=a(96570);var Nt=class{constructor(t,e){Object.assign(this,e),this.rawValue=t,this.valueType=e.valueType||Wt.default.getValueType(t,e.separator,e.worklog),this.value=t,this.parsed=!1}getValue(){return this.value}setValue(t){this.value=t}getRawValue(){return this.rawValue}getValueType(){return this.valueType}isEmpty(){return null===this.rawValue||""===this.rawValue}isParsed(){return this.parsed}parseValueByType(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.parsed)return this.value;if(this.valueType===I.DATA_TYPES.date)this.value=Wt.default.parseDate(this.value,t.formats,t.locales);else{var e=t.separator||this.separator,a=t.worklog||this.worklog;this.value=Wt.default.parseValueByType(this.valueType,this.rawValue,e,a)}return this.parsed=!0,this.value}parseValueWithType(t,e){return this.valueType=t,this.parseValueByType(e)}isNumber(){return this.parsed||this.parseValueByType(),Wt.default.isNumber(this.value)}getTextWidth(){return(0,H.getTextWidth)(this.rawValue)}valueOf(){return this.value.valueOf()}};var zt=class{constructor(t,e,a){this.row=t,this.rowIndex=e,this.options=a}get index(){return this.rowIndex}setOwner(t){this.owner=t}get table(){return this.owner}getCellValue(t,e){var{position:a}=t,i=this.getRawValue(a),n=e||{};return Object.assign(n,{separator:this.options.separator,worklog:this.options.worklog}),new Nt(i,n)}getRawValue(t){return this.row[t]}};var Gt=class{constructor(t){Object.assign(this,t),this.rows.forEach((t=>t.setOwner(this)),this)}isMultiColumnTable(){return this.columns.length>1}getHeaderRow(){return this.headers}};var Ht=(t,e)=>!t.some((t=>t.rows.some((a=>t.aggregations.some((t=>{var{position:i}=t;return function(t,e){if(Wt.default.isRevision(t))return!1;var a=Wt.default.parseValueByType(I.DATA_TYPES.number,t,e);return Wt.default.isNumber(a)}(a.getRawValue(i),e)})))))),Yt=a(34714);function Rt(t){return null!=t.position}function Kt(t){return t.reduce(((t,e)=>{var a=(0,H.getTextWidth)(e);return a>t?a:t}),0)}var Xt=(t,e,a,i)=>e.map((function(e,n){return{name:e,index:n,position:a?i:Yt.default.getCellPosition(t,e)}}));var jt=class{constructor(t){this.data=[],this.keys={},this.chartKeys=[],this.chartFullKeyMap={},this.options=t,this.xScaleStep=null,this.textWidth=0,this.parseDate=!1,this.formatters={value:null},this.types={value:null,xValue:null}}isParseDate(){return this.parseDate}getKeyGroup(t){var{keys:e}=this;return e[t]||(e[t]=[]),e[t]}getDescriptor(t,e,a){return{names:t,isHidden:e,hiddenIndex:a}}getColumnsAndAggregations(){}createDataTables(t,e){var{relevantRows:a,worklog:i,separator:n,tables:r}=this.options;return r.reduce(((r,u,o)=>{var s=Xt(u,t.names,t.isHidden,t.hiddenIndex),l=Xt(u,e.names,e.isHidden,e.hiddenIndex);if(s.length&&l.length){var c=u.map(((t,e)=>new zt(t,e,{separator:n,worklog:i}))).filter((t=>{return(e=t.index)>0&&a[o][e];var e}));r.push(new Gt({index:o,headers:u[0],rows:c,columns:s,aggregations:l}))}return r}),[])}beforeCalculate(){this.valueNumberFormatter=new Ot.default}evaluateX(t,e){var a=t.getCellValue(e);if(a.parseValueByType(),a.isNumber())return a}evaluateY(){}addChartKey(t,e,a,i){-1===this.chartKeys.indexOf(e)&&(this.chartKeys.push(e),this.chartFullKeyMap[e]=this.getFullKey(a,i))}getFullKey(t,e){return"".concat(e.name," - ").concat(t.name)}addDataPoint(t,e,a,i,n,r){}getKeyFunction(t){}afterCalculate(t,e,a){}updateTextWidth(t){this.textWidth=Math.max(this.textWidth,Math.min(t.getTextWidth(),I.MAX_TEXT_WIDTH))}afterAggregation(t,e,a,i){return!1}calculate(){var{keys:t}=this,{columns:e,aggregations:a}=this.getColumnsAndAggregations();e.names.forEach((e=>t[e]=[])),a.names.forEach((e=>t[e]=[]));var i=this.createDataTables(e,a);this.beforeCalculate(i,e,a),i.forEach((t=>{var e=this.getKeyFunction(t),a=t.columns.filter(Rt),i=t.aggregations.filter(Rt);t.rows.forEach((n=>{a.some(((r,u)=>{var o=this.evaluateX(n,r);if(o)return this.updateTextWidth(o),i.forEach((t=>{var a=e(r.name,t),i=this.evaluateY(a,n,r,t);i&&(this.addChartKey(o,a,r,t),this.addDataPoint(o,i,a,n,r,t))}),this),this.afterAggregation(n,t.aggregations,u,a)}),this)}),this)}),this),this.afterCalculate(i,e,a);var n={columnWidth:Kt(e.names),aggregationWidth:Kt(a.names),textWidth:this.textWidth};return{data:this.data,keys:this.keys,types:this.types,chartKeys:this.chartKeys,formatters:this.formatters,xScaleStep:this.xScaleStep,chartFullKeyMap:this.chartFullKeyMap,dimensions:n}}},$t=a(31512);function Ut(t,e){return t?e.length>1?function(t,e){return"".concat(e.name," - ").concat(t)}:function(t){return t}:function(t,e){return e.name}}var Jt=(t,e,a)=>(t[e]||(t[e]=[0]),t[e].push(a),t);var qt=class extends jt{constructor(t){super(t),this.isCount=[],this.isFirstVisibleRow=!0}getKeyFunction(t){return Ut(t.isMultiColumnTable(),t.aggregations)}getColumnsAndAggregations(){var{columns:t,columnHidden:e,aggregations:a,aggregationHidden:i}=this.options;return{columns:this.getDescriptor(t,e,0),aggregations:this.getDescriptor(a,i,1)}}setValueType(t){null==this.types.value&&(this.types.value=t)}evaluateX(t,e){return t.getCellValue(e)}getCountId(t,e){return"".concat(t.index,"-").concat(e.index)}evaluateY(t,e,a,i){var{isCount:n,options:r}=this,u=this.getCountId(a,i),o=e.getCellValue(i);if(o.parseValueByType(),o.isEmpty()||this.setValueType(o.getValueType()),this.isFirstVisibleRow&&a.position===i.position&&(n[u]=isNaN(Wt.default.parseNumberQuietly(o.rawValue)),this.isisFirstVisibleRow=!1),!n[u]){if(o.isEmpty()||!o.isNumber())return;o.valueType===I.DATA_TYPES.number&&(this.formatters.value=this.valueNumberFormatter.getFormatter(o.rawValue,r.separator))}return o}addDataPoint(t,e,a,i,n,r){var{data:u,options:o,isCount:s}=this,{helpers:l}=o,c=i.table,h="".concat(n.index,"-").concat(r.index),d=l.getColorFromColumns(c,i),g=this.getKeyGroup(a),p=s[h]?1:e.value;-1===g.indexOf(t.value)?(u.push({label:t.value,value:p,key:n.name,aggregation:a,rowNumber:Jt({},c.index,i.index),colorFromColumns:d}),g.push(t.value)):u.forEach((function(e){e.aggregation===a&&e.label===t.value&&(e.value=$t.default.addFloats(e.value,p),Jt(e.rowNumber,c.index,i.index))}))}};var Zt=class extends jt{constructor(t){super(t)}getColumnsAndAggregations(){var{columns:t,columnHidden:e,aggregations:a,aggregationHidden:i}=this.options;return{columns:this.getDescriptor(a,i,1),aggregations:this.getDescriptor(t,e,0)}}evaluateX(t,e){var a=super.evaluateX(t,e);return a&&(a.getValueType()===I.DATA_TYPES.number&&(this.formatters.value=this.valueNumberFormatter.getFormatter(a.rawValue,this.options.separator)),this.types.value=a.getValueType()),a}afterCalculate(t,e,a){super.afterCalculate(t,e,a),this.data.sort((function(t,e){return t.value>e.value?1:-1}))}addDataPoint(t,e,a,i,n,r){var{data:u}=this,o=i.table,s=this.getKeyGroup(a);-1===s.indexOf(e.valueOf())?(u.push({label:t.value,value:e.value,key:a,aggregation:r.name,rowNumber:Jt({},o.index,i.index)}),s.push(e.valueOf())):u.forEach((function(n){n.key===a&&n.value.valueOf()===e.valueOf()&&(n.label=$t.default.addFloats(n.label,t.value),Jt(n.rowNumber,o.index,i.index))}))}getKeyFunction(t){return e=t.isMultiColumnTable(),t.aggregations.length>1?e?function(t,e){return"".concat(t," - ").concat(e.name)}:function(t,e){return e.name}:function(t){return t};var e}getFullKey(t,e){return"".concat(t.name," - ").concat(e.name)}};var Qt=class extends Zt{constructor(t){super(t),this.types={value:I.DATA_TYPES.number,xValue:I.DATA_TYPES.date}}evaluateY(t,e,a,i){var n=e.getCellValue(i);if(!n.isEmpty()){var{helpers:r}=this.options,u=r.getParseOptions(e.table,i);try{return n.parseValueWithType(I.DATA_TYPES.date,u),this.parseDate=!0,n}catch(t){return void AJS.log("Error while parsing date '"+n+"': "+t)}}}};var te=class extends qt{beforeCalculate(){super.beforeCalculate(),this.formatters.values=[],this.types.value={}}getKeyFunction(t){return Ut(!1,t.aggregations)}setValueType(t,e){null==this.types.value[t]&&(this.types.value[t]=e)}evaluateY(t,e,a,i){var n=e.getCellValue(i);if(n.parseValueByType(),this.setValueType(t,n.getValueType()),n.isNumber()){if(n.getValueType()===I.DATA_TYPES.number){var{separator:r}=this.options;this.formatters.values[t]=this.valueNumberFormatter.getFormatter(n.rawValue,r)}}else n.setValue(0);return n}addChartKey(t){var e,a;e=this.chartKeys,a=t.value,-1===e.indexOf(a)&&e.push(a)}calculate(){var t=super.calculate(),{formatters:e}=t;return t.formatters.value=e.values,t}};var ee=function(){var t=[];return{register:function(e){var a=t.indexOf(e);return-1===a?(t.push(e),t.length-1):a},get:function(e){if(t.length>e)return t[e]},isEmpty:function(){return 0===t.length},values:function(){return[...t]},clear:function(){t.length=0}}};var ae=class extends Zt{constructor(t){super(t)}beforeCalculate(t){super.beforeCalculate();var{separator:e}=this.options,a=Ht(t,e);if(a){var i=new ee;this.formatters.xValue=function(t){return i.get(t)},this.domainIndex=i,this.xScaleStep=1}else this.xValueNumberFormatter=new Ot.default;this.isNotNumbersMode=a}evaluateY(t,e,a,i){var n=e.getCellValue(i);if(n.parseValueByType(),this.isNotNumbersMode)n.setValue(this.domainIndex.register(n.rawValue)),this.types.xValue=I.DATA_TYPES.number;else{if(!n.isNumber())return;var{separator:r}=this.options;n.getValueType()===I.DATA_TYPES.number&&(this.formatters.xValue=this.xValueNumberFormatter.getFormatter(n.rawValue,r)),this.types.xValue=n.getValueType()}return n}};var ie=class extends qt{constructor(t){super(t),this.ganttCategories=[],this.ganttCatColors=[]}beforeCalculate(t,e,a){super.beforeCalculate(),this.aggregations=a,this.gantt=null}evaluateX(t,e){var a=t.getRawValue(e.position),{table:i}=t,n=i.isMultiColumnTable()?e.name:"",{options:r,aggregations:u,data:o,ganttCategories:s,ganttCatColors:l}=this,c=r.helpers.getColorFromColumns(i,t);return this.gantt={id:o.length,category:a,label:n,hint:a,rowNumber:Jt({},i.index,t.index),colorFromColumns:c},this.ganttParamN=0,this.ganttNewKey=-1===this.ganttCategories.indexOf(a),this.prevTextWidth=this.textWidth,this.ganttNewKey&&(s.push(a),l.push(a),u.names.length>2&&(l.push(a+" - Done"),l.push(a+" - Todo"))),super.evaluateX(t,e)}evaluateY(t,e,a,i){var{options:n}=this,r=e.getCellValue(i);if(2===this.ganttParamN)r.parseValueByType(),r.isNumber()&&(this.ganttProgressPercentage||(r.value>1||r.rawValue.indexOf("%")>0)&&(this.ganttProgressPercentage=!0),this.gantt.progress=r.value);else{if(r.isEmpty())return!0;var u=n.helpers.getParseOptions(e.table,i);try{r.parseValueWithType(I.DATA_TYPES.date,u),this.parseDate=!0,this.gantt.text=r.rawValue,0===this.ganttParamN?this.gantt.startDate=r.value:this.gantt.endDate=r.value}catch(t){return void AJS.log("Error while parsing date '"+r+"': "+t)}}return this.ganttParamN++,r}afterAggregation(t,e,a,i){var{data:n,gantt:r,ganttCatColors:u,ganttCategories:o,ganttNewKey:s}=this;if(r.startDate){var l;for(n.push(r),r.endDate||(r.label=null),l=a+1;l<i.length;l++){var c=t.getRawValue(i[l].position);if(c){if(r.label)r.label+="‌: ";else if(!s){var h=r.category+": "+c;u.push(h)}r.label=(r.label||"")+c,r.hint=(r.hint?r.hint+" - ":"")+c,a=l;break}}for(l=a+1;l<i.length;l++){var d=t.getRawValue(i[l].position);d&&(r.hint=(r.hint?r.hint+" - ":"")+d)}if(!r.endDate&&!r.label&&!s){var g=r.category+": milestone";-1===u.indexOf(g)&&u.push(g)}}return!s||r.endDate&&r.startDate||(o.splice(-1,1),this.textWidth=this.prevTextWidth),!s||r.endDate||r.startDate||u.splice(-1,1),!(s&&e.length>2)||void 0!==r.progress&&r.startDate&&r.endDate||(u.splice(-1,1),u.splice(-1,1)),!0}addDataPoint(t,e,a,i,n,r){}},ne=a(44237),re=a(72510),ue=a(62414);function oe(t,e,a,i,n,r,u){try{var o=t[r](u),s=o.value}catch(t){return void a(t)}o.done?e(s):Promise.resolve(s).then(i,n)}function se(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var r=t.apply(e,a);function u(t){oe(r,i,n,u,o,"next",t)}function o(t){oe(r,i,n,u,o,"throw",t)}u(void 0)}))}}var le=function t(e){this.params=e;var a=this;a.palette=V.default.chartColors,a.colors=e.colors?e.colors.split(","):[],a.colorColumns=e.colorColumns?e.colorColumns.split(","):[],a.pieKeys=e.pieKeys?e.pieKeys.split(re.ALTERNATE_COMMA):[],a.barColoringType=t.initParamBarColoringType(e),a.ganttCatColors="mono"===a.barColoringType?z:a.pieKeys.slice(),a.visiblePieKeysLength=a.pieKeys.length,a.macroId=e.macroId,a.pageId=e.pageId,a.dateFormat=e.dateFormat||"yy-mm-dd",a.dateFormat=a.dateFormat.replace("yyyy","yy"),a.hasTimeFormat=a.dateFormat.toLowerCase().indexOf("hh:mm")>=0,a.localeDateFormat=V.default.getLocaleDateFormat(a.dateFormat),a.separator=e.separator,a.worklog=V.default.getWorklog(e.worklog),a.columns=e.columns?e.columns.split(re.ALTERNATE_COMMA):[],a.aggregation=e.aggregation?e.aggregation.split(re.ALTERNATE_COMMA):[],a.trimParams(a.columns),a.trimParams(a.aggregation),a.aggregationCache=a.aggregation.slice(),a.columnsCache=a.columns.slice(),a.transpose="Horizontal"===e.dataorientation,a.grid=e.grid,a.legend=e.legend&&"none"!==e.legend,a.isLegendUnderGraph="under"===e.legend,a.xValueType=null,a.valueType=Wt.default.getValueType(e.minvalue,a.separator,a.worklog)||Wt.default.getValueType(e.maxvalue,a.separator,a.worklog)||Wt.default.getValueType(e.scalestep,a.separator,a.worklog)||null,a.minvalue=Wt.default.parseValueByType(a.valueType,e.minvalue,a.separator,a.worklog),a.minvalue=!1===a.minvalue?NaN:a.minvalue,a.maxvalue=Wt.default.parseValueByType(a.valueType,e.maxvalue,a.separator,a.worklog),a.maxvalue=!1===a.maxvalue?NaN:a.maxvalue,a.xminvalue=e.xminvalue,a.xmaxvalue=e.xmaxvalue,a.yminvalue=e.minvalue,a.ymaxvalue=e.maxvalue,a.scaleStep=Wt.default.parseValueByType(a.valueType,e.scalestep,a.separator,a.worklog),a.scaleStep=!1===a.scaleStep?NaN:a.scaleStep,a.yScaleStep=e.scalestep,a.locale=V.default.getLocale(),a.title=e.title,a.xtitle=e.xtitle,a.ytitle=e.ytitle,a.isLog=e.isLog,a.isXLog=e.isXLog,a.titleHeight=e.title?20:0,a.xtitleHeight=e.xtitle?20:0,a.ytitleHeight=e.ytitle?20:0,a.showTrendLine="string"==typeof e.showTrendLine?"true"==e.showTrendLine:1==e.showTrendLine,a.tabs=e.tabs,a.hide=e.hide,a.textWidth=0,a.bubleMaxTextWidthX=O.maxTextWidth,a.bubleMaxTextWidthY=O.maxTextWidth,a.argumentWidth=0,a.lineSettings=e.lineSettings?e.lineSettings.split(","):{},a.version=3,a.interpolation=e.interpolation?e.interpolation.split(","):["Linear"],a.defaultInterpolation=e.version>=3?"Linear":a.interpolation[0],a.outerLabels=e.outerLabels,a.storedParams={},a.sessionId=e.sessionId||1,a.isEditor=e.isEditor,a.isCloud=e.isCloud,a.ganttArrows=e.ganttArrows?JSON.parse(decodeURI(e.ganttArrows)):{},a.isWasSavedEarlier=!(!a.columns.length||!a.aggregation.length),a.chartKeys=[],e.version>=3?(a.showInnerLabels="None"!==e.showInnerLabels,a.innerLabelsType={percentage:"Percentage"===e.showInnerLabels,value_percentage:"Value (Percentage)"===e.showInnerLabels,percentage_value:"Percentage (Value)"===e.showInnerLabels,value:"Value"===e.showInnerLabels||!e.showInnerLabels}):(a.showInnerLabels="string"==typeof e.showInnerLabels?"false"!=e.showInnerLabels:0!=e.showInnerLabels,a.innerLabelsType={}),be(a.colors,a.palette),a.colorsCache=a.colors.slice(),a.initFormatters(),"editor"!==a.macroId&&(a.initElements(),a.content.data("rendered")||(a.content.data("rendered",!0),a.isPivot&&(a.separator=a.pivotContent.data("decimalseparator")),a.getOriginalTable(),a.getType(),a.getDimension(),a.setIsMultiColorColumn(),a.setChartKeys(),a.updateColorsKeyMap(a.colors),a.bindUpdate(),gt.default.bindUnloadPage(a,a.settings),a.setChosen(),a.bindUI(),a.setControls(),a.draw(),a.bindTips(),a.bindPageResize(),a.setStoreParams()))};function ce(t){if(window.XMLSerializer&&t.length){var e=(new XMLSerializer).serializeToString(t[0]);return(e=e.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,"")).substring(0,4)+' xmlns="http://www.w3.org/2000/svg"'+e.substring(4,e.length)}return t.prop("outerHTML")}function he(t){var e=0;t.forEach((function(t){e+=t.value}));var a=0,i={},n=0,r=[],u=$.grep(t,(function(t){var u,o,s=Math.round(1e3*t.value/e)/10;if(t.percent=s,s>1)return!0;a=$t.default.addFloats(a,t.value),n++,r.push({label:t.label,value:t.value,percent:s}),u=i,o=t.rowNumber,$.each(o,(function(t,e){u[t]||(u[t]=[]),u[t]=u[t].concat(e)})),i=u}));return a&&n>1&&u.push({label:"Other",value:a,percent:Math.round(1e3*a/e)/10,other:!0,rowNumber:i}),{data:u,smallData:r,count:n}}function de(t,e,a){var i=0,n=0;return e.length===a.length?e.length&&(a[0].absTotal?n=a[0].absTotal:(n=0,a.forEach((function(t){n+=t.total})),a[0].absTotal=n)):a.some((function(e){if(e.label===t.label)return n=e.total,!0})),n&&(i=100*t.value/n),i.toFixed(1)+"%"}function ge(t){return i.default.hsl(t).darker(.7)}function pe(t,e,a,i,n,r){var u=parseFloat(t);if(0==u)return"";var o=8*r(u).length+4,s=n?xe(e):ye(e);if(o>=s&&(i||o>=a-s)){if(u>0&&u<1e-4||u>99999.999)return u.toExponential(1);var l=5-Math.floor(u).toString().length;return r(parseFloat(u.toFixed(l>0?l:0)))}return r(u)}function fe(t){var e=t.offset().left,a=xe(t);return{left:e,right:e+a,width:a}}function me(t){var e=t.offset().top,a=ye(t);return{top:e,bottom:e+a,height:a}}function xe(t){return t[0].getBoundingClientRect().width}function ye(t){return t[0].getBoundingClientRect().height}function De(t,e){var a=fe(t);0!==a.width&&"0"!==e.parent().css("opacity")&&e.each((function(){for(var t=$(this),e=fe(t),i=13,n=parseFloat(t.attr("x"))||0;(e.left<a.left||e.right>a.right)&&i>0;){t.css("font-size",i--);var r=e.width;(e=fe(t)).left<a.left&&e.right<=a.right?(n=n+r-xe(t),t.attr("x",n)):e.right>a.right&&e.left>=a.left&&(n=n-r+xe(t),t.attr("x",n))}}))}function ve(t){return"M"+(t=t.map((function(t){return t.join(",")}))).join("L")+"Z"}function be(t,e){e.forEach((function(e){-1===$.inArray(e,t)&&t.push(e)}))}le.textMaxLength=O.textMaxLength,le.maxTextWidth=O.maxTextWidth,le.minHorizontalTextWidth=O.minHorizontalTextWidth,le.prototype.initElements=function(){var t=this;t.content=$('[id="chart'+t.macroId+'"][data-pageid="'+t.pageId+'"][data-sessionid="'+t.sessionId+'"]'),t.chartBody=t.content.children(".chart-body"),t.chartBody=V.default.addExcerpt(t.chartBody,"chart-body"),t.chartBody=V.default.addIframe(t.chartBody,"chart-body",(function(e){t.chartBody=e,t.getOriginalTable(),t.setControls(),t.draw()})),t.wrapper=t.content.children(".chart-wrapper"),t.svgWrapper=t.wrapper.find(".svg-wrapper"),t.chart=i.default.selectAll('[id="chart'+t.macroId+'"][data-pageid="'+t.pageId+'"][data-sessionid="'+t.sessionId+'"] > .chart-wrapper .svg-wrapper'),t.canvas=t.content.find("canvas").eq(0),t.png=t.content.find("#pngdataurl").eq(0),t.columnSelect=t.wrapper.find(".chart-column"),t.aggregationSelect=t.wrapper.find(".chart-aggregation"),t.typeSelect=t.wrapper.find(".chart-type"),t.is3DInput=t.wrapper.find(".is3d"),t.is3D=t.is3DInput.is(":checked"),t.heightInput=t.wrapper.find(".chart-height"),t.widthInput=t.wrapper.find(".chart-width"),t.is3DWrapper=t.wrapper.find(".is3d-wrapper"),t.noTableMessage=t.wrapper.find(".no-table-message"),t.previewTutorial=t.content.find(".preview-tutorial"),t.badSettings=t.wrapper.find(".bad-settings-message"),t.wrongDateFormat=t.wrapper.find(".wrong-date-message"),t.noDataMessage=t.wrapper.find(".no-data-message"),t.customMessage=t.wrapper.find(".custom-message"),t.logZeroMessage=t.wrapper.find(".log-zero-message"),t.loader=t.wrapper.find("#chart-loading"),t.controls=t.wrapper.find(".chart-controls"),t.settings=t.controls.find(".chart-settings"),t.menu=t.content.find("#chart-menu-view-".concat(t.macroId,"-").concat(t.pageId,"-").concat(t.sessionId)),t.showRawDataItem=t.menu.find(".chart-showrawdata"),t.hideRawDataItem=t.menu.find(".chart-hiderawdata"),t.hideRawDataTableItem=t.menu.find(".chart-hiderawdata-table"),t.hideRawDataAllItem=t.menu.find(".chart-hiderawdata-all"),t.setDependenciesItem=t.menu.find(".set-dependencies"),t.selectColors=t.menu.find(".chart-change-color"),t.btn=t.menu.find(".chart-save").not("body.content-preview .chart-save"),t.download=t.menu.find(".save-as-png"),t.dateFormatInput=t.wrongDateFormat.find(".chart-date-format"),t.setInterpolationBtn=t.menu.find(".chart-set-interpolation"),t.changeLineSettingsBtn=t.menu.find(".chart-set-line-settings"),t.checkPivotContent()},le.prototype.setStoreParams=function(){var t=this;t.storedParams={column:t.getSaveParams(t.columns),aggregation:t.getSaveParams(t.aggregation),type:t.type,"tfc-height":t.heightInput.val(),"tfc-width":t.widthInput.val(),hide:t.hide,barColoringType:t.barColoringType,colors:t.colors,colorColumns:t.colorColumns,pieKeys:t.pieKeys,is3d:t.is3D,lineSettings:t.lineSettings,interpolation:t.interpolation,ganttArrows:encodeURI(JSON.stringify(t.ganttArrows))}},le.prototype.getStoreParams=function(){return this.storedParams},le.prototype.checkPivotContent=function(){var t=this;t.pivotContent=t.chartBody.find(".pivot-content"),t.isPivot=t.pivotContent.length>0},le.prototype.initFormatters=function(){var t=this;t.formatNum=B()({mark:t.separator,thousand:" "}),t.formatNumShort=B()({mark:t.separator,thousand:""}),t.formatNumTo=function(e,a){var i=V.default.formatValueByType(e,a&&t.valueType instanceof Object?t.valueType[a]:t.valueType,(function(e){return"number"==typeof e?Math.abs(e)>=1e3?t.formatNum.to(e):t.formatNumShort.to(e):e}),t.worklog,t.separator),n=a&&t.valueFormatter instanceof Object&&"function"!=typeof t.valueFormatter?t.valueFormatter[a]:t.valueFormatter;return n?n(i):i},t.formatNumToX=function(e){var a=V.default.formatValueByType(e,t.xValueType,(function(e){return"number"==typeof e?Math.abs(e)>=1e3?t.formatNum.to(e):t.formatNumShort.to(e):e}),t.worklog,t.separator);return t.xValueFormatter?t.xValueFormatter(a):a}},le.prototype.trimParams=function(t){for(var e=0;e<t.length;e++)t[e]=t[e].replace("‌",""),t.indexOf(t[e])!==e&&t.splice(e--,1)},le.prototype.getSaveParams=function(t){for(var e=[],a=0;a<t.length;a++)""===t[a]?e.push("‌"):e.push(t[a]);return e.length?e.join(re.ALTERNATE_COMMA):""},le.prototype.getDimension=function(){var t=this;if(t.height=t.heightInput.val(),t.ganttBarHeight=null,t.width=t.widthInput.val(),t.adaptiveDimensions=!1,Wt.default.isNumber(t.width))t.width=parseInt(t.width);else{t.width=t.content.closest(":visible").width()||320,t.width-=20;var e=$("body.content-preview").length>0;e||"none"===t.controls.css("display")||(t.width-=190),e&&(t.width=t.width>300?t.width:$(window.parent).width()-250),t.adaptiveDimensions=!0}Wt.default.isNumber(t.height)?t.height=parseInt(t.height):(t.isGantt&&/\d+(.\d+)?\/bar/i.test(t.height)?t.ganttBarHeight=Wt.default.parseNumber(t.height):"undefined"!=typeof AP?t.height=Math.round(9*t.width/16):(t.height=Math.min(.7*window.innerHeight,600),t.height=t.height<300?300:t.height),t.adaptiveDimensions=!0)},le.prototype.bindPageResize=function(){var t=this;if(t.widthInput.val().trim())t.resizeSensor&&t.resizeSensor.detach();else{var e=$(".wiki-content, .ac-content, .touch-tile"),a=e.width();t.resizeSensor=new _.ResizeSensor(e[0],(function(){var i=e.width();Math.abs(i-a)>17&&(a=i,t.getDimension(),t.draw(!0))}))}},le.prototype.getType=function(){var t=this;t.type=t.typeSelect.val(),t.initType(),t.isTime?(t.wrapper.find("label.simple-text, label.series-text, label.bubble-text").hide(),t.wrapper.find("label.time-text").show()):t.isSeries?(t.wrapper.find("label.simple-text, label.time-text, label.bubble-text").hide(),t.wrapper.find("label.series-text").show()):t.isBubblePie?(t.wrapper.find("label.simple-text, label.time-text, label.series-text").hide(),t.wrapper.find("label.bubble-text").show()):(t.wrapper.find("label.time-text, label.series-text, label.bubble-text").hide(),t.wrapper.find("label.simple-text").show()),t.isTime||t.isSeries||t.isGantt||t.isBubblePie||t.isRadar?(t.is3DWrapper.hide(),t.typeSelect.removeClass("short")):(t.is3DWrapper.show(),t.typeSelect.addClass("short"))},le.prototype.initType=function(){var t=this;t.isPie="Pie"===t.type||"Donut"===t.type,t.isTime=-1!==t.type.indexOf("Time"),t.isSeries="Line"===t.type||"Area"===t.type||"Stacked Area"===t.type,t.isArea=-1!==t.type.indexOf("Area"),t.isBar=t.type.indexOf("Bar")>=0||t.type.indexOf("Column")>=0,t.isGantt=t.type.indexOf("Gantt")>=0,t.isBubblePie="Bubble Pie"===t.type,t.isRadar="Radar"===t.type,t.multiple=t.isBar||t.isSeries||t.isTime||t.isGantt},le.prototype.getOriginalTable=function(){var t=this,e=t.tabs&&V.default.hasTabs(t.chartBody);t.originalTable=V.default.getTableNodes(t.chartBody).filter((function(){var t=$(this);return!(e&&V.default.hasInactiveTab(t))})),t.isPivot||(V.default.normalizeTable(t.originalTable,"data-tf-ready"),V.default.processMergedCells(t.originalTable)),t.originalTable.unbind("sortEnd.tfchart-".concat(t.macroId)).bind("sortEnd.tfchart-".concat(t.macroId),(function(){t.sorting=!1,t.setMutationObserver(),t.getTable(),t.draw(!0)})).unbind("sortStart.tfchart-".concat(t.macroId)).bind("sortStart.tfchart-".concat(t.macroId),(function(){t.sorting=!0,t.setMutationObserver()})),t.resetDateFormats(),V.default.setPaginationMsg(t.chartBody),t.getTable()},le.prototype.resetDateFormats=function(){var t=this;t.dateFormats=[],t.locales=[],t.originalTable.each((function(){t.dateFormats.push([]),t.locales.push([])}))},le.prototype.updateSettingsForPivot=function(){var t=this;t.isPivot&&(t.columnSelect.parent().hide(),t.aggregationSelect.parent().hide(),t.columnHidden=!0,t.aggregationHidden=!0,(V.default.getRawColumns(t.tables).length>2||t.isGantt)&&(t.aggregationSelect.parent().show(),t.aggregationHidden=!1,t.columnSelect.parent().show(),t.columnHidden=!1))},le.prototype.bindUpdate=function(){var t=this,e=function(e){e&&(t.getOriginalTable(),t.setControls()),t.draw()};V.default.bindTFACEvents(t.chartBody,".pivot-content, .tablefilter-table-wrapper","tf-filtered pt-calculated",(a=>e("tf-filtered"!==a.type||t.isPivot)),!0)||t.chartBody.bind("tf-filtered-charts",(function(){e(!1)}));var a=null;t.chartBody.bind("tf-jira-updated DOMCharacterDataModified changed.chk",(function(t){V.default.isIgnoreCharacterModified(t)||(clearTimeout(a),a=setTimeout((function(){e(!0)}),100))})),V.default.bindTaskList(t.chartBody,(()=>{e(!0)}));var i=function(i,n){if(!i.parents(".pivot-table").length)return!V.default.isIgnoreUpdateNode(i)&&(n.className===t.chartBody[0].className||V.default.hasRowForUpdate(i)||V.default.hasCellUpdate(i)||V.default.hasTableForUpdate(i)||V.default.hasCharsForUpdate(i,n))?(clearTimeout(a),a=setTimeout((function(){a=null,e(!0)}),100),!0):void 0};t.observer=new MutationObserver((function(t){V.default.mutationObserverFilter(t,i)})),t.setMutationObserver(),t.tabs&&V.default.onTabChange(t.chartBody,(function(){e(!0)})),t.chartBody.bind("tf-save",(function(){return t.content.trigger("tf-save"),!1})).bind("tf-export-ready",(function(e,a){return t.macroId===a.macroId}))},le.prototype.setMutationObserver=function(){var t=this;if(t.observer)if(t.sorting)t.observer.disconnect();else{var e={childList:!0,subtree:!0};t.chartBody.each((function(){t.observer.observe(this,e)}))}},le.prototype.setChosen=function(){var t=this;t.setChosenSelect(t.columnSelect,t.columns,t.columnsCache,!0),t.setChosenSelect(t.aggregationSelect,t.aggregation,t.aggregationCache,!1)},le.prototype.setChosenSelect=function(t,e,a,i){var n=this;t.chosenTF({max_selected_options:i&&n.isBubblePie?2:void 0,no_results_text:"No matches for",placeholder_text_multiple:"Click and start typing...",display_selected_options:!1,width:"178px"}).change((function(r,u){null!=u.selected?(t.find("option").filter((function(){return this.textContent==u.selected})).prop("selected","selected"),e.push(u.selected)):null!=u.deselected&&(t.find("option").filter((function(){return this.textContent==u.deselected})).prop("selected",!1),e.splice($.inArray(u.deselected,e),1)),i&&!n.isGantt&&(n.pieKeys=[],n.visiblePieKeysLength=0),a.length=0,$.merge(a,e),n.aggregationChange=!1,n.columnsChange=!1,n.enableSaveBtn(),n.draw()}));var r=t.parent().find(".chosen-choices");r.sortable({tolerance:"pointer",cursor:"move",helper:"clone",items:".search-choice",stop:function(){var t=e.slice();if(e.length=0,r.find(".search-choice").each((function(){e.push(this.textContent)})),a.length=0,$.merge(a,e),!n.isGantt&&n.multiple){var i=n.colors.slice();t.forEach((function(t,a){var r=$.inArray(t,e);r>=0&&i.length>r&&(n.colors[r]=i[a])})),n.colorsCache=n.colors.slice()}n.btn.prop("disabled",!1),n.enableSaveBtn(),n.draw()}})},le.prototype.bindUI=function(){var t=this;t.typeSelect.change((function(){var e=t.isGantt;t.getType(),(e||t.isGantt)&&(t.ganttBarHeight&&t.getDimension(),t.setDependenciesItem.toggleClass("hidden",!t.isGantt)),t.shiftInterpolationBtn(),t.shiftChangeLineSettingsBtn(),t.enableSaveBtn(),t.draw()}));var e=null;t.heightInput.add(t.widthInput).bind("input",(function(){clearTimeout(e),e=setTimeout((function(){t.getDimension(),t.enableSaveBtn(),t.draw(),t.bindPageResize()}),330)})),t.is3DInput.change((function(){t.is3D=t.is3DInput.is(":checked"),t.enableSaveBtn(),t.draw()})),t.btn.click((function(e){var a,i;t.btn.toggleClass("tf-disabled-link"),t.controls.add(t.btn).find(".tfac-unsaved").hide(),gt.default.removeFromUnloadPageAction(t),t.type&&(t.type.indexOf("Line")>=0||t.type.indexOf("Area")>=0)&&(a=t.calcInterpolation(),t.type.indexOf("Line")>=0&&(i=t.calcLineSettings()));var n=t.getAllChartColorLabels().length,r={column:t.getSaveParams(t.columns),aggregation:t.getSaveParams(t.aggregation),type:t.type,"tfc-height":t.heightInput.val(),"tfc-width":t.widthInput.val(),hide:t.hide,barColoringType:t.barColoringType,colors:t.colors.slice(0,n).join(","),colorColumns:t.colorColumns.slice(0,n).join(","),interpolation:a,pieKeys:t.pieKeys.join(re.ALTERNATE_COMMA),is3d:t.is3D,ganttArrows:encodeURI(JSON.stringify(t.ganttArrows))};Vt(t);var u=t.getStoreParams();u.colors&&(u.colors=u.colors.slice(0,n)),dt.default.gaChartSaveChange(r,u),ht.saveChanges(t.pageId,t.macroId,r.column,r.aggregation,r.type,r["tfc-height"],r["tfc-width"],r.hide,r.barColoringType,r.colors,r.colorColumns,r.pieKeys,r.is3d,void 0,t.content,t.version,r.interpolation,i,t.getInnerLabelsParam(),r.ganttArrows),t.content.trigger("tf-save",t.getExportEventData()),e.preventDefault()})),t.menu.find(".tf-remove").click((function(e){e.preventDefault(),V.default.createDialogRemoveMacro(t,"Chart from Table","Chart from Table")}));var a=function(e){switch(t.hide=e,e){case"true":t.showRawDataItem.parent().show(),t.hideRawDataItem.parent().hide(),t.chartBody.removeClass("hidden-all"),t.chartBody.addClass("chart-hidden");break;case"all":t.showRawDataItem.parent().show(),t.hideRawDataItem.parent().hide(),t.chartBody.addClass("chart-hidden hidden-all");break;case"false":t.hideRawDataItem.parent().show(),t.showRawDataItem.parent().hide(),t.chartBody.removeClass("chart-hidden hidden-all")}};a(t.hide),t.showRawDataItem.click((function(e){a("false"),t.enableSaveBtn(),e.preventDefault()})),t.hideRawDataTableItem.click((function(e){a("true"),t.enableSaveBtn(),e.preventDefault()})),t.hideRawDataAllItem.click((function(e){a("all"),t.enableSaveBtn(),e.preventDefault()})),t.setDependenciesItem.click((function(){Mt(t),dt.default.gaEnableEditArrowsMode(t.ganttArrows)}));var i=t.menu.find(".export-file-pdf"),n=t.menu.find(".export-file-doc"),r=t.menu.find(".export-file-print");void 0===E.saveAs?(i.hide(),n.hide(),r.hide()):(i.click((function(e){lt.default.loadScriptsBeforeExport((function(){V.default.exportToPdf(t.getExportContent(),!0)})),e.preventDefault()})),n.click((function(e){V.default.exportToDoc(t.getExportContent()),e.preventDefault()})),r.click((function(e){V.default.browserPrint(t.getExportContent()),e.preventDefault()})));var u=st.default.initChartColorsDialog(t),o=st.default.initInterpolationDialog(t),s=st.default.initLineSettingsDialog(t),l=!1;t.menu.find(".chart-change-color").click((function(e){l=!0,u.show(),t.controls.addClass("active"),e.preventDefault()})),t.setInterpolationBtn.click((function(e){l=!0,o.show(),t.controls.addClass("active"),e.preventDefault()})),t.changeLineSettingsBtn.click((function(e){l=!0,s.show(),t.controls.addClass("active"),e.preventDefault()})),t.controls.find(".aui-dropdown2").bind("aui-dropdown2-show",(function(){t.controls.addClass("active")})).bind("aui-dropdown2-hide",(function(){l?l=!1:t.controls.removeClass("active")}));var c=null;t.dateFormatInput.bind("change selected keyup",(function(e){var a=function(){t.dateFormat=t.dateFormatInput.val().trim(),t.resetDateFormats(),t.draw()&&ht.saveDateFormat(t.pageId,t.macroId,t.dateFormat)};"keyup"===e.type?13===e.which&&a():(clearTimeout(c),c=setTimeout((function(){a()}),300))})),t.download.click((function(){V.default.isIE11()&&window.navigator.msSaveBlob(t.canvas[0].msToBlob(),"Chart.jpg"),dt.default.gaChartExportJPEG()})),t.shiftInterpolationBtn(),t.shiftChangeLineSettingsBtn()},le.prototype.getExportContent=function(){var t=this,e=t.png;return t.hide&&"false"!==t.hide||(e=e.add(t.chartBody.not(".table-excerpt"))),e},le.prototype.calcInterpolation=function(){var t=this,e=[];return t.interpolation instanceof Array?t.chartKeys.forEach((function(a,i){e.push(i<t.interpolation.length?t.interpolation[i]:t.defaultInterpolation)})):t.chartKeys.forEach((function(a){e.push(t.interpolation[a]?t.interpolation[a]:t.defaultInterpolation)})),e.join(",")},le.prototype.calcLineSettings=function(){var t=this,e=[],a="solid-1.5";return t.lineSettings instanceof Array?t.chartKeys.forEach((function(i,n){e.push(n<t.lineSettings.length?t.lineSettings[n]:a)})):t.chartKeys.forEach((function(i){e.push(t.lineSettings[i]?t.lineSettings[i].type+"-"+t.lineSettings[i].width:a)})),e.join(",")},le.prototype.getChartColorLabels=function(){return this.getColorLabels(this)},le.prototype.getAllChartColorLabels=function(){return this.getColorLabels(this,!0)},le.prototype.getColorLabelsForMenu=function(t){return"columns"===this.barColoringType?this.isGantt?z:this.isPie?["Colors column"]:this.getColorLabels(this,t):this.getColorLabels(this,t)},le.prototype.getColorLabels=function(t,e){if(t.isGantt)return e&&"mono"!==t.barColoringType?t.pieKeys:t.ganttCatColors||[];if(t.multiple&&!t.isMultiColorColumn){var a=t.chartKeys?t.chartKeys.slice():[];return e&&a.length<t.columnsCache.length*t.aggregationCache.length&&(t.columnsCache.length>1&&t.aggregation.length>1?t.columnsCache.forEach((function(e){t.aggregationCache.forEach((function(t){var i=t+" - "+e;-1===a.indexOf(i)&&a.push(i)}))})):t.columnsCache.length>1?t.columnsCache.forEach((function(t){-1===a.indexOf(t)&&a.push(t)})):t.aggregationCache.forEach((function(t){-1===a.indexOf(t)&&a.push(t)}))),a}return e?t.pieKeys:t.pieKeys.slice(0,t.visiblePieKeysLength)},le.prototype.getTable=function(){var t=this,e=V.default.getTablesAndRowsFromTables(t.originalTable,V.default.mixedType,null,t.transpose);t.rows=e.rows,t.tables=e.tables,V.default.updateI18nSettings([V.default.getRawColumns(t.tables)],[t.columns,t.aggregation,t.columnsCache,t.aggregationCache],t.locale,t.chartBody)},le.prototype.setControls=function(){var t=this;t.updateSettingsForPivot();var e=V.default.getRawColumns(t.tables),a=e.slice().sort(((t,e)=>t.localeCompare(e)));if(t.columnSelect.empty(),t.aggregationSelect.empty(),a.length){t.colorKeyMap||"columns"===t.barColoringType||t.updateColorsKeyMap(t.colors),t.tableColumnsCache&&($(t.tableColumnsCache).not(a).length>0||$(a).not(t.tableColumnsCache).length>0)&&(t.aggregationChange&&(t.aggregation.length=0,$.merge(t.aggregation,t.aggregationCache),t.multiple&&!t.isGantt&&(t.colors=t.colorsCache.slice())),t.columnsChange&&(t.columns.length=0,$.merge(t.columns,t.columnsCache))),t.tableColumnsCache=a.slice();var i=document.createDocumentFragment(),n=document.createDocumentFragment(),r=(e,a)=>a.indexOf(e)>=0||t.isPivot&&($.inArray(e+" "+"Total",a)>=0||$.inArray(e.replace(" "+"Total",""),a)>=0),u=(a,i)=>r(a,i)||!t.isPivot&&0===i.length&&0===$.inArray(a,e)?'selected="selected"':"";if($.each(a,(function(e,a){i.appendChild($("<option "+u(a,t.columns)+"></option>").text(a)[0]),n.appendChild($("<option "+u(a,t.aggregation)+"></option>").text(a)[0])})),t.columnSelect.append(i),t.aggregationSelect.append(n),$.each(t.columns.slice(),(function(e,i){r(i,a)||(t.columns.splice($.inArray(i,t.columns),1),t.columnsChange=!0)})),$.each(t.aggregation.slice(),(function(e,i){if(!r(i,a)){var n=$.inArray(i,t.aggregation);t.aggregation.splice(n,1),t.aggregationChange=!0,t.multiple&&!t.isGantt&&t.colors.splice(t.aggregationCache.length-1,0,t.colors.splice(n,1)[0])}})),t.isPivot)0===t.columns.length&&void 0!==e[0]&&(t.columns.push(e[0]),t.columnSelect.find("option").filter((function(){return this.textContent===e[0]})).prop("selected",!0)),0===t.aggregation.length&&void 0!==e[e.length-1]&&(t.aggregation.push(e[e.length-1]),t.aggregationSelect.find("option").filter((function(){return this.textContent===e[e.length-1]})).prop("selected",!0));else if(0===t.columns.length&&(t.columns.push(e[0]),t.transpose&&e[0]&&t.columnSelect.find("option").filter((function(){return this.textContent===e[0]})).prop("selected",!0)),0===t.aggregation.length){var o=Math.min(1,e.length-1);t.aggregation.push(e[o]),t.transpose&&e[o]&&t.aggregationSelect.find("option").filter((function(){return this.textContent===e[o]})).prop("selected",!0)}}t.columnSelect.trigger("chosen:updated"),t.aggregationSelect.trigger("chosen:updated"),V.default.sortSelectedOptions(t.columnSelect,t.columns),V.default.sortSelectedOptions(t.aggregationSelect,t.aggregation)},le.prototype.getDateFormat=function(t,e){var{locale:a,dateFormat:i,dateFormats:n,locales:r,localeDateFormat:u,hasTimeFormat:o,rows:s,tables:l}=this;return V.default.setDateFormatForColumn(n[t],r[t],i,a,u,e,s[t],o,l[t]),this.workingDateFormat=n[t][e],this.workingDateFormat},le.prototype.calculateBubblePieData=function(t){var e=this,a=[];if(2!==e.columns.length||0===e.aggregation.length)return a;e.bubblePieSetting={},e.bubblePieSetting.axisX={title:e.columns[0],order:[]},e.bubblePieSetting.axisY={title:e.columns[1],order:[]},e.bubblePieSetting.indicator={valueType:null},e.bubblePieSetting.sameValuesCount={},e.bubblePieSetting.filterAggregation=[];var i=[],n=[];e.tables.forEach((function(r,u){r.forEach((function(r,o){if(0===o)i=r.slice(0);else if(t[u][o]){for(var s,l,c,h,d={},g=[],p=new Ot.default,f=new Ot.default,m=0,x=r.length;m<x;m++){var y=e.getDateFormat(u,m),D=e.locales[u][m];if(i[m]===e.bubblePieSetting.axisX.title&&r[m])null===e.xValueType&&(e.xValueType=V.default.getAnyValueType(r[m],e.separator,e.worklog,!0,y,D)),null!==e.xValueType?(e.bubblePieSetting.axisX.dateFormat=y,s=Wt.default.parseAnyValueByType(e.xValueType,r[m],e.separator,e.worklog,!0,y,D),Wt.default.isNumber(s)&&e.xValueType===I.DATA_TYPES.number&&(e.xValueFormatter=p.getFormatter(r[m],e.separator)),(void 0===e.bubblePieSetting.axisX.maxValue||e.bubblePieSetting.axisX.maxValue<s)&&(e.bubblePieSetting.axisX.maxValue=s),(void 0===e.bubblePieSetting.axisX.minValue||e.bubblePieSetting.axisX.minValue>s)&&(e.bubblePieSetting.axisX.minValue=s)):s=r[m],e.bubblePieSetting.axisX.order.includes(s)||e.bubblePieSetting.axisX.order.push(s);else if(i[m]===e.bubblePieSetting.axisY.title&&r[m])null===e.valueType&&(e.valueType=V.default.getAnyValueType(r[m],e.separator,e.worklog,!0,y,D)),n.push(r[m]),null!==e.valueType?(e.bubblePieSetting.axisY.dateFormat=y,l=Wt.default.parseAnyValueByType(e.valueType,r[m],e.separator,e.worklog,!0,y,D),Wt.default.isNumber(l)&&e.valueType===I.DATA_TYPES.number&&(e.valueFormatter=f.getFormatter(r[m],e.separator)),(void 0===e.bubblePieSetting.axisY.maxValue||e.bubblePieSetting.axisY.maxValue<l)&&(e.bubblePieSetting.axisY.maxValue=l),(void 0===e.bubblePieSetting.axisY.minValue||e.bubblePieSetting.axisY.minValue>l)&&(e.bubblePieSetting.axisY.minValue=l)):l=r[m],e.bubblePieSetting.axisY.order.includes(l)||e.bubblePieSetting.axisY.order.push(l);else{if(!e.aggregation.includes(i[m])||!r[m])continue;null===e.bubblePieSetting.indicator.valueType&&(e.bubblePieSetting.indicator.valueType=V.default.getAnyValueType(r[m],e.separator,e.worklog,!0,y,D)),[I.DATA_TYPES.number,I.DATA_TYPES.worklog,I.DATA_TYPES.duration].includes(e.bubblePieSetting.indicator.valueType)&&(h=V.default.getAnyValueType(r[m],e.separator,e.worklog,!0,y,D))===e.bubblePieSetting.indicator.valueType&&(c=Wt.default.parseAnyValueByType(h,r[m],e.separator,e.worklog,!0,y,D),e.bubblePieSetting.filterAggregation.includes(i[m])||e.bubblePieSetting.filterAggregation.push(i[m]),g.push({indicator:i[m],value:c>0?c:null}))}}g.length>0&&s&&l&&g.forEach((function(t){d[e.bubblePieSetting.axisX.title]=s,d[e.bubblePieSetting.axisY.title]=l,d.indicator=t.indicator,d.value=t.value,d.tableI=u,d.rowI=o,a.push((0,ue.copyObject)(d)),e.valueType!==I.DATA_TYPES.number&&e.xValueType!==I.DATA_TYPES.number&&e.valueType!==I.DATA_TYPES.duration&&e.xValueType!==I.DATA_TYPES.duration||(s=(0,ue.copyObject)(s),l=(0,ue.copyObject)(l),e.bubblePieSetting.sameValuesCount[s+"_"+l]>0?e.bubblePieSetting.sameValuesCount[s+"_"+l]+=1:e.bubblePieSetting.sameValuesCount[s+"_"+l]=1)}))}}))})),e.bubblePieSetting.filterAggregation.sort((function(t,a){return e.aggregation.indexOf(t)-e.aggregation.indexOf(a)})),e.bubblePieSetting.filterAggregation.length>0&&(e.pieKeys=e.bubblePieSetting.filterAggregation.slice(0)),e.visiblePieKeysLength=e.pieKeys.length,!e.colorKeyMap&&e.updateColorsKeyMap(e.colors),e.colors=e.getColorsFromMap(e.colorKeyMap,e.pieKeys,e.palette),e.colorsCache=e.colors.slice(),e.calcBubbleChartExtremum(),e.filterBubbleChartData(a);var r=t=>null==t||t!==I.DATA_TYPES.date&&t!==I.DATA_TYPES.worklog&&t!==I.DATA_TYPES.number&&t!==I.DATA_TYPES.duration;e.bubleMaxTextWidthX=le.maxTextWidth,e.bubleMaxTextWidthY=le.maxTextWidth;var u=e.getBubbleChartFormattedData(e.bubblePieSetting.axisY.order,e.valueType,e.bubblePieSetting.axisY.dateFormat,e.formatNumTo);e.bubblePieSetting.axisY.longestTitleObject=(0,H.findLongestText)(u);var o=e.bubblePieSetting.axisY.longestTitleObject.width;if(e.bubblePieSetting.axisY.longestTitle=(r(e.valueType)?Math.min(o,e.bubleMaxTextWidthY):o)+9,r(e.xValueType)){var s=e.getBubbleChartFormattedData(e.bubblePieSetting.axisX.order,e.xValueType,e.bubblePieSetting.axisX.dateFormat,e.formatNumToX);e.bubblePieSetting.axisX.longestTitleObject=(0,H.findLongestText)(s)}return a},le.prototype.getBubbleChartFormattedData=function(t,e,a,i){if(e===I.DATA_TYPES.date){this.workingDateFormat=a;var n=this.getTimeFormat(Math.max(t)-Math.min(t));return t.map((t=>n(t)))}return null!==e?t.map((t=>i(t))):t},le.prototype.filterBubbleChartData=function(t){for(var e=this,a=e.bubblePieSetting.axisX.title,i=e.bubblePieSetting.axisY.title,n=e.bubblePieSetting.axisX.minValue,r=e.bubblePieSetting.axisX.maxValue,u=e.bubblePieSetting.axisY.minValue,o=e.bubblePieSetting.axisY.maxValue,s=t.length-1;s>=0;){var l=t[s][i],c=t[s][a],h=e.valueType===I.DATA_TYPES.date?V.default.toDateObject(l):l,d=e.xValueType===I.DATA_TYPES.date?V.default.toDateObject(c):c;r&&d>r||n&&d<n||o&&h>o||u&&h<u?t.splice(s,1):(e.valueType!==I.DATA_TYPES.number&&e.valueType!==I.DATA_TYPES.duration||(t[s]["orig_"+i]=l,t[s][i]=parseFloat(l/e.bubblePieSetting.sameValuesCount[c+"_"+l])),e.xValueType!==I.DATA_TYPES.number&&e.xValueType!==I.DATA_TYPES.duration||(t[s]["orig_"+a]=c,t[s][a]=parseFloat(c/e.bubblePieSetting.sameValuesCount[c+"_"+l]))),s-=1}},Object.assign(le.prototype,{setValueType:function(t,e){2===arguments.length?null==this.valueType[e]&&(this.valueType[e]=t):null==this.valueType&&(this.valueType=t)},setXValueType:function(t){null==this.xValueType&&(this.xValueType=t)},getCellValue:function(t,e,a){var i=t[e],n=a||{};return Object.assign(n,{separator:this.separator,worklog:this.worklog}),new Nt(i,n)}}),le.prototype.getDataCalculatorType=function(){return this.isTime?Qt:this.isSeries?ae:this.isRadar?te:this.isGantt?ie:qt},le.prototype.calculate=function(){var t=[],e={};this.xScaleStep=this.params.xscalestep;var a=this;a.parsedDate=!1,a.ganttProgressPercentage=!1,a.textWidth=0,a.argumentWidth=0,a.aggregationWidth=0,a.columnWidth=0,a.valueType=a.isRadar?{}:null,a.xValueType=null,a.valueFormatter=a.isRadar?{}:null,a.xValueFormatter=null,a.chartKeys=[],a.chartFullKeyMap={},a.setIsMultiColorColumn();var i=V.default.getRelevantRows(a.rows,a.transpose);if(a.isBubblePie)return a.calculateBubblePieData(i);var n=this.getDataCalculatorType();if(n){var r=new n({tables:this.tables,columns:this.columns,columnHidden:this.columnHidden,aggregations:this.aggregation,aggregationHidden:this.aggregationHidden,relevantRows:i,separator:this.separator,worklog:this.worklog,helpers:{getParseOptions:(t,e)=>({formats:a.getDateFormat(t.index,e.position),locales:a.locales[t.index][e.position]}),getColorFromColumns:(t,e)=>{return i=[t.getHeaderRow()],n=e.row,("columns"===a.barColoringType?a.colorColumns.map((t=>Yt.default.getCellPosition(i,t))):[]).map((t=>n[t]));var i,n}}}),u=r.calculate(),{formatters:o,dimensions:s,types:l}=u;t.push.apply(t,u.data),Object.assign(e,u.keys),this.chartKeys.push.apply(this.chartKeys,u.chartKeys),this.chartFullKeyMap=u.chartFullKeyMap,this.xValueFormatter=o.xValue,this.valueFormatter=o.value,this.xScaleStep=u.xScaleStep||this.xScaleStep,this.columnWidth=s.columnWidth,this.aggregationWidth=s.aggregationWidth,this.textWidth=s.textWidth,this.setValueType(l.value),this.setXValueType(l.xValue),this.parsedDate=r.isParseDate(),this.isGantt&&(this.ganttCatColors=r.ganttCatColors,this.ganttCategories=r.ganttCategories,this.ganttProgressPercentage=r.ganttProgressPercentage)}if(a.isGantt&&"mono"===a.barColoringType)a.ganttCatColors=z;else if(!a.multiple||a.isGantt||a.isMultiColorColumn){var c=[];a.isGantt?c=a.ganttCatColors:Object.values(e).forEach((function(t){t.forEach((function(t){-1===c.indexOf(t)&&c.push(t)}))})),c&&(a.visiblePieKeysLength=c.length,a.pieKeys=c.concat(a.pieKeys.filter((function(t){return-1===c.indexOf(t)}))))}else a.setChartKeys();var h=a.getAllChartColorLabels();return!a.colorKeyMap&&a.updateColorsKeyMap(a.colors),a.extendColorsKeyMap(),a.colors=a.getColorsFromMap(a.colorKeyMap,h,a.palette),a.colorsCache=a.colors.slice(),t},le.prototype.setChartKeys=function(){var t=this;t.columns.forEach((function(e){var a=t.chartKeys.indexOf(e);a>=0&&t.chartKeys.push(t.chartKeys.splice(a,1)[0]),t.aggregation.forEach((function(a){var i=t.chartKeys.indexOf(a);i>=0&&t.chartKeys.push(t.chartKeys.splice(i,1)[0]);var n=a+" - "+e,r=t.chartKeys.indexOf(n);r>=0&&t.chartKeys.push(t.chartKeys.splice(r,1)[0])}))}))},le.prototype.rebuildColorsAndChartKeys=function(){this.chartKeys=[],this.setChartKeys();var t=this.getAllChartColorLabels(),e=V.default.updateI18nSettings([V.default.getRawColumns(this.tables)],[this.columns,this.columnsCache,this.aggregation,this.aggregationCache],this.locale,this.chartBody);if(e&&(this.chartKeys=[],this.setChartKeys()),this.colorKeyMap){var a=t;return e&&(a=this.getAllChartColorLabels(),t.forEach(((t,e)=>{this.colorKeyMap[t]&&(this.colorKeyMap[a[e]]=this.colorKeyMap[t])}))),this.colors=this.getColorsFromMap(this.colorKeyMap,a,this.palette),!0}},le.prototype.getColorsData=function(){return{pieKeys:this.pieKeys,colors:this.colors,chartKeys:this.chartKeys}},le.prototype.draw=function(t){var e=this;e.preventExport=t,e.clearTableHighlight(),e.svgWrapper.css({height:"",width:""}),e.svgWrapper.html(""),e.png.html(""),$("body").find("div.d3-tip.chart"+e.macroId+e.pageId).remove();var a=V.default.hasLoadingContent(e.chartBody)||V.default.hasAnyTFACUnfinishedContent(e.originalTable,e.chartBody);if(0===e.originalTable.length||a)e.isEditor&&e.isCloud&&!e.chartBody.data("hasFrame")?(e.previewTutorial.show(),e.loader.hide(),e.wrapper.hide()):(e.previewTutorial.hide(),e.badSettings.hide(),e.logZeroMessage.hide(),e.chartBody.data("hasFrame")||a?(e.noTableMessage.hide(),e.loader.show()):(e.noTableMessage.show(),e.loader.hide()));else{if(clearTimeout(e.timeoutDatePicker),!e.isTime&&!e.isGantt||$.datepicker){e.logZeroMessage.hide(),e.noTableMessage.hide(),e.previewTutorial.hide(),e.badSettings.hide(),e.wrongDateFormat.hide(),e.noDataMessage.hide(),e.customMessage.hide();var i=e.calculate();return e.calculatedData=i,0===i.length?(0===e.columns.length||0===e.aggregation.length?e.badSettings.show():!e.isTime&&!e.isGantt||e.parsedDate?e.noDataMessage.show():(e.wrongDateFormat.show(),e.dateFormatInput.hasClass("autocomplete")||(V.default.dateFormatAutocomplete(e.dateFormatInput),e.dateFormatInput.addClass("autocomplete"))),e.loader.hide(),e.selectColors.hide(),e.setInterpolationBtn.hide(),e.changeLineSettingsBtn.hide(),e.download.hasClass("tf-disabled-link")||e.download.toggleClass("tf-disabled-link"),void e.controls.animate({opacity:1},100)):(e.loader.hide(),e.selectColors.show(),e.shiftInterpolationBtn(),e.shiftChangeLineSettingsBtn(),e.download.hasClass("tf-disabled-link")&&e.download.toggleClass("tf-disabled-link"),e.controls.css("opacity",""),e.drawChart(i),!0)}e.timeoutDatePicker=setTimeout((function(){e.draw()}),100)}},le.prototype.drawChart=function(t){var e=this;if(clearTimeout(e.chartTimer),e.content.is(":visible")){if("Donut"!==e.type||e.is3D)if(e.type.indexOf("Column")>=0)e.drawColumn(t);else if("Pie"!==e.type||e.is3D)if(e.type.indexOf("Bar")>=0)e.drawBar(t);else if(-1!==e.type.indexOf("Area")||-1!==e.type.indexOf("Line"))e.drawSeries(t);else if("Donut"===e.type&&e.is3D)e.drawDonut3D(t,.4);else if("Pie"===e.type&&e.is3D)e.drawDonut3D(t,0);else if(e.isGantt){if(1===e.aggregation.length)return void e.customMessage.show().find(".text").text("Gantt chart requires projects to have start and end dates. Please select start and end date columns.");e.drawGantt(t)}else e.isBubblePie?e.drawBubblePie(t):e.isRadar&&e.drawRadar(t);else e.drawPie(t,0);else e.drawPie(t,"40%");e.isLog&&e.multiple&&e.svgWrapper.find('[y="NaN"], [x="NaN"], [d*="NaN"]').length&&(e.logZeroMessage.show(),e.svgWrapper.html("")),(e.is3D||"Donut"!==e.type&&"Pie"!==e.type)&&setTimeout((function(){e.convertToImage()}),100)}else e.chartTimer=setTimeout((function(){e.drawChart(t)}),200)},le.prototype.drawBubblePie=function(t){var e=this,a=u().newSvg(e.svgWrapper[0],e.width,e.height),i=new(u().chart)(a,t),n=e.setBubbleAxisX(i),r=e.setBubbleAxisY(i);e.bubblePieSetting.filterAggregation.map((function(t){i.assignColor(t,e.colorKeyMap[t],e.colorKeyMap[t],1)})),e.setBubbleAxisXScale(n),e.setBubbleAxisYScale(r),e.settingBubbleAxis(n,r),i.addMeasureAxis("p","value"),i.addMeasureAxis("z","value");var o=i.addSeries([e.bubblePieSetting.axisX.title,e.bubblePieSetting.axisY.title,"indicator"],u().plot.pie);null===e.xValueType&&n.addOrderRule(e.bubblePieSetting.axisX.order),null===e.valueType&&r.addOrderRule(e.bubblePieSetting.axisY.order),o.addOrderRule(e.bubblePieSetting.filterAggregation),o.tooltipFontSize="14px",e.calculateBubbleLegendSize();var s,l={top:20+e.titleHeight,right:20+(e.isLegendUnderGraph||!e.legend?0:10+e.bubblePieSetting.legendWidth),bottom:40+e.xtitleHeight+(e.isLegendUnderGraph?5+e.bubblePieSetting.legendHeight+(e.xtitleHeight?10:0):5),left:25+e.bubblePieSetting.axisY.longestTitle+e.ytitleHeight};i.setBounds(l.left,l.top,e.width-l.left-l.right,e.height-l.top-l.bottom),i.draw(),e.formatExtremumAxesX(n,o,l,i),i.draw(),e.maxSizeX=(s=0,n.shapes.selectAll("text").each((function(){s=Math.max(ye($(this)),s)})),s);var c,h=()=>{l={top:20+e.titleHeight,right:20+(e.isLegendUnderGraph||!e.legend?0:10+e.bubblePieSetting.legendWidth),bottom:40+e.maxSizeX+e.xtitleHeight+(e.isLegendUnderGraph?5+e.bubblePieSetting.legendHeight+(e.xtitleHeight?10:0):5),left:25+e.bubblePieSetting.axisY.longestTitle+e.ytitleHeight}};h(),e.optimizeBubbleMultilineWidth(l,n,r,h),e.addTitle(a,e.width+l.left-l.right,{top:0}),e.calculateBubbleLegendSize(),e.legend&&((c=i.addLegend(e.isLegendUnderGraph?l.left+e.bubblePieSetting.posX:e.width-l.right+10,e.isLegendUnderGraph?e.height-e.bubblePieSetting.legendHeight-20+(e.xtitleHeight?5:0):l.top,e.bubblePieSetting.legendWidth||e.width-l.left,e.bubblePieSetting.legendHeight,"left"))._getEntries=function(){var t=[];return j(e.bubblePieSetting.filterAggregation,e.isPivot).values.forEach((function(e){t.push({key:e.view,fill:i.getColor(e.key).fill,stroke:i.getColor(e.key).stroke,opacity:i.getColor(e.key).opacity,series:o,aggField:[e.key]})}),this),t}),i.setBounds(l.left,l.top,e.width-l.left-l.right,e.height-l.top-l.bottom),i.draw(),e.formatExtremumAxesY(r,o,l,i),i.draw(),e.settingSeriesTooltip(o),e.eventHandlerSeries(o,t),e.formatDimpleAxisX(n),e.legend&&(e.formatBubbleLegend(c),e.eventHandleLegendClick(i,c,t,(()=>e.formatDimpleAxisX(n)))),o.shapes.style("opacity",(function(t){return null===t.angle?0:1}))},le.prototype.drawPie=function(t,e){var a=this,n=a.calcGroupSize(a.chartKeys.length);a.addGroupTitle();var r=i.default.scaleOrdinal().range(a.colors);r.domain(a.pieKeys);var u=0,o=[];a.chartKeys.forEach((function(i){var s=$.grep(t,(function(t){return t.aggregation==i})),l=s,c=he(s);if(c.count>1&&(s=c.data),s.length){var h=[];l.forEach((function(t){-1==$.inArray(t,s)||!t.value&&0!==t.value||h.push(r(t.label))})),h.push("#a3acb2");var d={};(a.title||a.chartKeys.length>1)&&(d={title:{text:a.chartKeys.length>1?i:a.title,color:"#333333",fontSize:16,font:"arial"},location:"top-center"}),s.forEach(((t,e)=>{t.color=t.colorFromColumns&&t.colorFromColumns[0]||h[e%h.length],t.contrastColor=R(t.color)}));var g=new C(a.svgWrapper[0],{header:d,data:{content:s},size:{canvasHeight:n.height,canvasWidth:n.width,pieInnerRadius:e},labels:{mainLabel:{fontSize:14},percentage:{color:function(t){return t.contrastColor},decimalPlaces:1,fontSize:14},value:{color:function(t){return t.contrastColor},fontSize:14},inner:{format:a.innerLabelsType.value_percentage?"value-percentage":a.innerLabelsType.percentage_value?"percentage-value":a.innerLabelsType.value?"value":a.showInnerLabels?"percentage":"none",hideWhenLessThanPercentage:4},outer:{format:"None"!==a.outerLabels?"label":"none"},formatter:function(t){var e=t.label;return"inner"===t.section&&("percentage"===t.part?e+="%":"value"===t.part&&(e=a.formatNumTo(t.value))),e}},tooltips:{enabled:!0,type:"placeholder",string:"{label}: {value} ({percentage}%)",placeholderParser:function(t,e){e.value=a.formatNumTo(e.value)},styles:{color:"white",backgroundColor:"black",backgroundOpacity:.8,padding:12,fontSize:14}},callbacks:{onload:function(){var t=$(g.svg._groups[0]),e=t.find('[class$="_segmentMainLabel-outer"]').css({fill:"#333","font-size":"14px","font-weight":"normal"});c.count>1&&e.last().css("font-style","italic"),u++,function(t,e){var a=fe(t);e.each((function(){var t=$(this),e=fe(t),i=parseFloat(t.attr("y"))||0;if(e.left<a.left||e.right>a.right){var n=e.width,r=Math.max(e.left,a.left),u=Math.min(e.right,a.right)-r,o=n-u;if(e.left<a.left){var s=parseFloat(t.attr("x"))||0;s+=o,t.attr("x",s)}var l=t.text(),c=Math.floor(l.length*u/n);if(c>0)for(var h=[];l.length>c;){t.text(l.substring(0,c)),l=l.substring(c);var d=t.clone();i+=7,d.text(l).attr("y",i),t.after(d),h.push(t),t=d,h.forEach((function(t){t.attr("y",(t.attr("y")||0)-7)}))}}}))}(t,e);var i=t.find('[class$="_segmentPercentage-inner"],[class$="_segmentValue-inner"]'),n=t.find('g[class$="_arc"]'),r=i.length/n.length;i.each((function(t){De(n.eq(parseInt(t/r)),$(this))})),u===a.chartKeys.length&&a.convertToImage()},onClickSegment:function(t){a.clearTableHighlight(),t.expanded||a.highlightTable({rowNumber:t.data.rowNumber,column:t.data.aggregation.replace(" - "+t.data.key,"")}),o.forEach((function(e){if(g!==e){var i=e.getOpenSegment();i&&a.highlightTable({rowNumber:i.data.rowNumber,column:i.data.aggregation.replace(" - "+t.data.key,"")})}}))}},misc:{colors:{segments:h},canvasPadding:{top:20,right:20,bottom:20,left:20}}});o.push(g)}else++u===a.chartKeys.length&&a.convertToImage()}))},le.prototype.drawDonut3D=function(t,e){var a=this,r=a.calcGroupSize(a.chartKeys.length),u=a.chartKeys.length>1?20:a.titleHeight,o=Math.min(r.width,r.height-u)/2;a.addGroupTitle();var s=i.default.scaleOrdinal().range(a.colors);s.domain(a.pieKeys);var l=[];a.hideTips=function(){for(var t=0;t<l.length;t++)l[t].hide()},a.chartKeys.forEach((function(c,h){var d=$.grep(t,(function(t){return t.aggregation===c})),g=d,p=he(d);p.count>1&&(d=p.data);var f=[];g.forEach((function(t){-1!==$.inArray(t,d)&&f.push(s(t.label))})),f.push("#a3acb2");var m=a.chart.append("svg").attr("width",r.width).attr("height",r.height);m.append("g").attr("id","donut3d"+a.macroId+a.pageId+h);var x=i.default.scaleOrdinal().range(f),y=d.map((function(t){var e=t.colorFromColumns&&t.colorFromColumns[0]||x(t.label);return{label:t.label,value:t.value,color:e,textColor:R(e),other:t.other,rowNumber:t.rowNumber,name:c}}));M.draw("donut3d"+a.macroId+a.pageId+h,y,r.width/2,r.height/2,o,.7*o,.2*o,e,a.showInnerLabels,a.innerLabelsType,a.formatNumTo,"None"!==a.outerLabels);var D,v=(0,n.default)().attr("class","d3-tip chart"+a.macroId+a.pageId).offset([-5,0]).html((function(t){var e=V.default.escapeString(t.data.label+": "+a.formatNumTo(t.value)+" ("+M.getPercent(t)+")");return t.data.other&&p.smallData.forEach((function(t){e+="<br>"+V.default.escapeString(t.label+": "+a.formatNumTo(t.value)+" ("+t.percent+"%)")})),e}));l.push(v),a.chartKeys.length>1?a.addTitle(m,r.width,{top:0},{title:c,titleHeight:u}):a.addTitle(m,r.width,{top:0}),m.call(v),m.selectAll(".topSlice, .percent").on("mouseover",(function(t,e){clearTimeout(D);var a=null,i=b.find(".percent").each(((t,i)=>{if(i.textContent===e.data.label)return a=i,!1}));a=a||i[e.index],v.show(e,a),a.__data__.data.other?v.style("font-style","italic"):v.style("font-style","normal")})).on("mouseout",(function(){D=setTimeout((function(){D=null,a.tipHover||v.hide()}),50)})),a.bindElementSelect(m,".topSlice",(function(t){return{rowNumber:t.__data__.data.rowNumber,column:a.getColumnNameForHighlight(t.__data__.data.name)}})),p.count>1&&a.svgWrapper.find("#donut3d"+a.macroId+a.pageId+h+".percent").last().css("font-style","italic");var b=$(m._groups[0]),F=b.find(".percent"),A=b.find(".topSlice");F.each((function(t){var e=$(this),a=A.eq(t%A.length);De(a,e),function(t,e){var a=me(t);if(0===a.height)return;e.each((function(){for(var t=$(this),e=me(t),i=parseInt(t.css("font-size")),n=parseFloat(t.attr("y"))||0,r=parseFloat(t.attr("x"))||0;(e.top<a.top||e.bottom>a.bottom)&&i>0;){var u=xe(t);t.css("font-size",i--);var o=e.height;(e=me(t)).top<a.top&&e.bottom<=a.bottom?(n=n+o-ye(t),t.attr("y",n),r+=(u-xe(t))/2,t.attr("x",r)):e.bottom>a.bottom&&e.top>=a.top&&(n=n-o+ye(t),t.attr("y",n),r-=(u-xe(t))/2,t.attr("x",r))}}))}(a,e)}))}))},le.prototype.drawColumn=function(t){var e=this,a=0,r=e.type.indexOf("Stacked")>=0,u=e.convertData(t),o=e.isLog?i.default.scaleLog():i.default.scaleLinear(),s=i.default.axisLeft(o);e.isLog||s.tickFormat(e.formatNumTo);var l=i.default.min(r&&!e.isLog?u:t,(function(t){return r&&!e.isLog?t.min:t.value})),c=i.default.max(r?u:t,(function(t){return r?t.total:t.value}));e.isLog&&0===e.minvalue&&(e.minvalue=Number.MIN_VALUE,c<0&&(e.minvalue*=-1)),e.isLog&&(l=Math.pow(10,Math.floor(Math.log(l)/Math.LN10))),o.domain([isNaN(e.minvalue)?e.isLog?l:Math.min(0,l):e.minvalue,isNaN(e.maxvalue)?Math.max(c,0):e.maxvalue]),isNaN(e.scaleStep)||s.tickValues(Z(o.domain(),e.scaleStep));var h=e.chart.append("svg"),d=h.append("g");e.argumentWidth=Y(o,s);var g=u.length*i.default.max(u,(function(t){return t.values.length})),p=q(r?e.chartKeys.slice().reverse():e.chartKeys.slice(),Math.min(e.width,e.argumentWidth+20+e.ytitleHeight+20+200*g)-(e.argumentWidth+20+e.ytitleHeight)-20,e.isPivot,e.isLegendUnderGraph),f={top:20+e.titleHeight+(e.titleHeight&&e.is3D?10:0),right:e.legend&&!e.isLegendUnderGraph&&e.chartKeys.length>1?25+p.maxWidth:20,bottom:20+1.5*e.xtitleHeight+(e.isLegendUnderGraph?20*(p.rows+1)+10:0),left:e.argumentWidth+20+e.ytitleHeight},m=Math.min(e.width,f.left+f.right+200*g)-f.left-f.right,x=e.height-f.top-f.bottom;h.attr("width",m+f.left+f.right).attr("height",e.height),d.attr("transform","translate("+f.left+","+f.top+")");var y=i.default.scaleBand().rangeRound([0,m]).padding(.1),D=i.default.scaleBand();o.range([x,0]);var v=i.default.scaleOrdinal().range(e.colors),b=i.default.axisBottom(y),F=(0,n.default)().attr("class","d3-tip chart"+e.macroId+e.pageId).offset([-5,0]).html((function(t){return V.default.escapeString(t.name+" ("+e.formatNumTo(t.value)+")")}));e.addTitle(d,m,f),d.call(F),v.domain(e.isMultiColorColumn?e.pieKeys:e.chartKeys);var A=t=>t.colorFromColumn||v(e.isMultiColorColumn?t.label:t.name);y.domain(u.map((function(t){return t.label}))),D.domain(e.chartKeys).rangeRound([0,y.bandwidth()]);var C=isNaN(e.minvalue)?e.isLog?l:0:Math.max(0,e.minvalue);if(C=isNaN(e.maxvalue)?C:Math.min(e.maxvalue,C),e.xtitle)var E=d.append("text").attr("x",m/2).attr("y",x+f.bottom-10).attr("class","axis-title").style("text-anchor","middle").style("font-weight","bold").text(e.xtitle);if(e.ytitle)var _=d.append("text").attr("transform","rotate(-90)").attr("y",15-f.left).attr("class","axis-title").attr("x",-x/2).style("text-anchor","middle").style("font-weight","bold").text(e.ytitle);var w,B=d.selectAll(".bar").data(u).enter().append("g").attr("class","g").attr("label",(function(t){return t.label})).attr("transform",(function(t){return"translate("+y(t.label)+",0)"}));e.hideTips=function(){F.hide()};var T=B.selectAll("rect").data((function(t){return t.values})).enter(),S=function(t){return Q(t.value,o.domain()[0],o.domain()[1])},k=function(t){return r?0:D(t.name)},P=function(t){if(r)return o(Q(t.y1,o.domain()[0],o.domain()[1]));var e=S(t);return o(e)-o(Math.min(C,e))+o(C)},L=function(t){if(r)return o(Q(t.y0,o.domain()[0],o.domain()[1]))-P(t);var e=S(t);return Math.abs(o(e)-o(C))},M=r?y.bandwidth():D.bandwidth();if(e.addBarTrendLine(d,r,t,u,y,o,A,M),e.is3D){M=parseInt(.8*M);var I=parseInt(M/4),O=function(t){if(!t.value)return ve([[0,0]]);var e=k(t)+M,a=P(t),i=a+L(t);return ve([[e,parseInt(a)],[e+I,a-20],[e+I,i-20],[e,i]])},W=function(t){if(!t.value)return ve([[0,0]]);var e=k(t),a=e+M,i=Math.ceil(P(t));return ve([[e,i],[e+I,i-20],[a+I,i-20],[a,i]])};T.append("path").attr("class","bar-top").attr("key",(function(t){return t.name})).attr("d",W).style("fill",(function(t){return ge(A(t))})),T.append("path").attr("class","bar-right").attr("key",(function(t){return t.name})).attr("d",O).style("fill",(function(t){return ge(A(t))}))}if(T.append("rect").attr("class",e.is3D?"bar 3d":"bar").attr("width",M).attr("x",k).attr("y",P).attr("height",L).attr("key",(function(t){return t.name})).style("fill",(function(t){return A(t)})),!e.isLog)var N=d.append("g").attr("class","y axis").append("line").attr("y1",o(C)).attr("y2",o(C)).attr("x2",m);d.append("g").attr("class","x axis").attr("transform","translate(0,"+x+")").call(b).selectAll("text"),d.append("g").attr("class","y axis").call(s).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end");var z,G,K=!0,X=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.each((function(t){t.barY=P(e||t),t.barHeight=L(e||t)})).style("font-size",(function(t){return M<12||r&&t.rotatedInnerTextHeight>t.barHeight-5?0:14})),a&&(t=t.transition().duration(a)),t.attr("y",(function(t){return t.rotatedInnerTextHeight>t.barHeight-5?t.pivotY=r?0:t.barY-5:t.pivotY=t.barY+t.barHeight/2+(K?7:t.innerTextWidth/2),t.pivotY})).attr("x",(function(t){return t.pivotX=r?y.bandwidth()/2:D(t.name)+D.bandwidth()/2,t.pivotX})).style("fill",(function(t){return t.rotatedInnerTextHeight>t.barHeight-5?"black":R(A(t))})),K?t.style("text-anchor","middle"):t.attr("transform",(function(t){return"rotate(-90, ".concat(t.pivotX,", ").concat(t.pivotY,")")})),t};if(e.showInnerLabels){var j=function(a,i,n){return e.formatBarInnerLabel((function(){return de(a,t,u)}),(function(){return pe(a.value,$(n).parent().find(".bar").eq(i),x,r,!1,e.formatNumTo)}))};T.append("text").attr("class","inner-value-label").attr("key",(function(t,e){return t.innerTextWidth=(0,H.getTextWidth)(j(t,e,this)),K=K&&t.innerTextWidth<M-5,t.rotatedInnerTextHeight=K?14:t.innerTextWidth,t.name})).attr("dy",K?".0em":".35em").text((function(t,e){return j(t,e,this)})).call(X)}d.selectAll(".bar, .inner-value-label").on("mouseover",(function(t,a){clearTimeout(w);var i=$(this);i.is(".inner-value-label")&&(i=i.parent().find(".bar[key]").filterByAttr("key",a.name));var n=a;if(!a.name&&a.values){var r=this.getAttribute("key");n=$.grep(a.values,(function(t){return t.name===r}))[0]}var u=i.offset();u.top>42?(F.direction("n"),F.offset([-5,0])):u.left>e.width/2?(F.direction("w"),F.offset([0,-6])):(F.direction("e"),F.offset([0,6])),F.show(n,i[0])})).on("mouseout",(function(){w=setTimeout((function(){w=null,e.tipHover||e.hideTips()}),50)})),e.bindElementSelect(d,".bar");var U=t=>{var a=(0,H.findLongestText)(y.domain()),i=y.bandwidth();z=a.width>i&&i<le.minHorizontalTextWidth,e.textWidth=z?le.calcTextMaxWidth(i,a,le.maxTextWidth):i,G!=e.textWidth&&(G=e.textWidth,b.tickFormat(le.formatedMultiline(e.textWidth)),t&&d.selectAll(".x.axis").call(b).selectAll)};U(!0);var J,tt,et,at=parseFloat(e.svgWrapper.find("svg").attr("height")),it=function(t){var i=d.selectAll("g.x.axis text");if(z)J="end",et="middle",a=e.textWidth+10,tt="translate(-14, 7) rotate(-90)",h.transition().duration(t).attr("height",at+e.textWidth),e.xtitle&&E.transition().duration(t).attr("y",x+f.bottom-15+e.textWidth-(e.isLegendUnderGraph?20*(p.rows+1)+10:0));else{J="middle",et="top";var n=(a=Math.max(22,le.getMultilineHeight(i)+10))-22;tt="translate(0, 0)",h.transition().duration(t).attr("height",at+n),e.xtitle&&E.transition().duration(t).attr("y",x+f.bottom-15+n-(e.isLegendUnderGraph?20*(p.rows+1)+5:0))}i.transition().duration(t).attr("transform",tt).style("text-anchor",J).call(le.multilineAlign,et)};it(0);if(e.legend&&e.chartKeys.length>1){var nt=e.chartKeys.slice();e.addLegend(d,m,x+e.xtitleHeight+a,f.top,"columns"!==e.barColoringType&&v,r?nt.reverse():nt,e.isLegendUnderGraph,(function(a,n){var u=[];t.forEach((function(t){t.aggregation==a&&(t.hidden=!n),t.hidden||-1!=$.inArray(t.aggregation,u)||u.push(t.aggregation)}));var g=$.grep(t,(function(t){return!t.hidden}));if(g.length){var p=e.convertData(g);y.domain(p.map((function(t){return t.label}))),U(),D.domain(u).rangeRound([0,y.bandwidth()]),l=e.isLog?l:i.default.min(r?p:g,(function(t){return r?t.min:t.value})),c=i.default.max(r?p:g,(function(t){return r?t.total:t.value})),o.domain([isNaN(e.minvalue)?e.isLog?l:Math.min(0,l):e.minvalue,isNaN(e.maxvalue)?Math.max(c,0):e.maxvalue]),M=r?y.bandwidth():D.bandwidth(),e.is3D&&(M*=.8,I=parseInt(M/4)),isNaN(e.scaleStep)||s.tickValues(Z(o.domain(),e.scaleStep)),p.forEach((function(t){var a=d.selectAll("[label]").filterByAttr("label",t.label),i=function(){a.transition().duration(300).attr("transform",(function(t){return"translate("+y(t.label)+",0)"}))};n||i(),t.values.forEach((function(t){var i=P(t),n=L(t);a.selectAll(".bar[key]").filterByAttr("key",t.name).transition().duration(300).attr("width",M).attr("x",k(t)).attr("y",i).attr("height",n),e.is3D&&(a.selectAll(".bar-right[key]").filterByAttr("key",t.name).transition().duration(300).attr("d",O(t)),a.selectAll(".bar-top[key]").filterByAttr("key",t.name).transition().duration(300).attr("d",W(t))),e.showInnerLabels&&a.selectAll("text[key]").filterByAttr("key",t.name).call(X,t,300)})),n&&i()})),d.selectAll(".x.axis").transition().duration(300).on("start",(function(){it(300)})).call(b).selectAll(".x.axis text").style("text-anchor",J).attr("transform",tt),d.selectAll(".y.axis").transition().duration(300).on("start",(function(){f.left-=e.argumentWidth,e.argumentWidth=Y(o,s),f.left+=e.argumentWidth,h.transition().duration(300).attr("width",m+f.left+f.right),d.transition().duration(300).attr("transform","translate("+f.left+","+f.top+")"),e.ytitle&&_.transition().duration(300).attr("y",15-f.left)})).call(s),e.isLog||N.transition().duration(300).attr("y1",o(C)).attr("y2",o(C)),setTimeout((function(){e.convertToImage({noExport:!0})}),400)}}))}},le.prototype.drawBar=function(t){var e=this,a=e.type.indexOf("Stacked")>=0,r=e.convertData(t),u=e.isLog?i.default.scaleLog():i.default.scaleLinear(),o=i.default.axisTop(u);e.isLog||o.tickFormat(e.formatNumTo);var s=i.default.min(a&&!e.isLog?r:t,(function(t){return a&&!e.isLog?t.min:t.value})),l=i.default.max(a?r:t,(function(t){return a?t.total:t.value}));e.isLog&&0==e.minvalue&&(e.minvalue=Number.MIN_VALUE,l<0&&(e.minvalue*=-1)),e.isLog&&(s=Math.pow(10,Math.floor(Math.log(s)/Math.LN10))),u.domain([isNaN(e.minvalue)?e.isLog?s:Math.min(0,s):e.minvalue,isNaN(e.maxvalue)?Math.max(l,0):e.maxvalue]),isNaN(e.scaleStep)||o.tickValues(Z(u.domain(),e.scaleStep));var c=e.chart.append("svg"),h=c.append("g");e.argumentWidth=Y(u,o);var d,g,p,f,m=e.is3D?20:0,x=()=>{d=q(e.chartKeys.slice(),e.width-(e.textWidth+10+e.ytitleHeight)-40,e.isPivot,e.isLegendUnderGraph),g={top:e.argumentWidth+30+e.titleHeight+e.xtitleHeight,right:m+(e.legend&&!e.isLegendUnderGraph&&e.chartKeys.length>1?25+d.maxWidth:40),bottom:10+(e.isLegendUnderGraph?20*(d.rows+1)+10:0),left:e.textWidth+10+e.ytitleHeight},p=e.width-g.left-g.right,f=e.height-g.top-g.bottom},y=r.map((function(t){return t.label}));x();var D=(0,H.findLongestText)(y),v=le.calcTextMaxWidth(f/y.length,D,le.maxTextWidth);e.textWidth<v&&(e.textWidth=v,x()),u.range([0,p]);var b=i.default.scaleBand().rangeRound([0,f]).padding(.2),F=i.default.scaleBand(),A=i.default.scaleOrdinal().range(e.colors),C=i.default.axisLeft(b).tickFormat(le.formatedMultiline(e.textWidth)),E=(0,n.default)().attr("class","d3-tip chart"+e.macroId+e.pageId).offset([-5,0]).html((function(t){return V.default.escapeString(t.name+" ("+e.formatNumTo(t.value)+")")}));c.attr("width",e.width).attr("height",e.height),h.attr("transform","translate("+g.left+","+g.top+")");var _=e.addTitle(h,p,g);h.call(E),A.domain(e.isMultiColorColumn?e.pieKeys:e.chartKeys);var w=t=>t.colorFromColumn||A(e.isMultiColorColumn?t.label:t.name);if(b.domain(y),F.domain(e.chartKeys).rangeRound([0,b.bandwidth()]),e.xtitle)var B=h.append("text").attr("x",p/2).attr("y",e.titleHeight+20-g.top).attr("class","axis-title").style("text-anchor","middle").style("font-weight","bold").text(e.xtitle);e.ytitle&&h.append("text").attr("transform","rotate(-90)").attr("y",15-g.left).attr("class","axis-title").attr("x",-f/2).style("text-anchor","middle").style("font-weight","bold").text(e.ytitle);var T=isNaN(e.minvalue)?e.isLog?s:0:Math.max(0,e.minvalue);T=isNaN(e.maxvalue)?T:Math.min(T,e.maxvalue);var S,k=h.selectAll(".bar").data(r).enter().append("g").attr("class","g").attr("label",(function(t){return t.label})).attr("transform",(function(t){return"translate(0,"+b(t.label)+")"}));e.hideTips=function(){E.hide()};var P,L,M=k.selectAll("rect").data((function(t){return t.values})).enter(),I=function(t){return u(a?Q(t.y0,u.domain()[0],u.domain()[1]):Math.min(T,Q(t.value,u.domain()[0],u.domain()[1])))},O=function(t){return a?0:F(t.name)},W=function(t){return a?u(Q(t.y1,u.domain()[0],u.domain()[1]))-I(t):Math.abs(u(Q(t.value,u.domain()[0],u.domain()[1]))-u(T))},N=a?b.bandwidth():F.bandwidth();if(e.addBarTrendLine(h,a,t,r,b,u,w,N,!0),e.is3D){N=parseInt(.8*N);var z=parseInt(N/4),G=function(t){if(!t.value)return ve([[0,0]]);var e=I(t),a=e+W(t),i=O(t)+N;return ve([[e,i],[a,i],[a+m,i+z],[e+m,i+z]])},K=function(t){if(!t.value)return ve([[0,0]]);var e=I(t)+W(t),a=O(t),i=a+N;return ve([[e,a],[e+m,a+z],[e+m,i+z],[e,i]])};M.append("path").attr("class","bar-right").attr("key",(function(t){return t.name})).attr("d",K).style("fill",(function(t){return ge(w(t))})),M.append("path").attr("class","bar-bottom").attr("key",(function(t){return t.name})).attr("d",G).style("fill",(function(t){return ge(w(t))}))}if(M.append("rect").attr("class","bar").attr("width",W).attr("x",I).attr("y",O).attr("height",N).attr("key",(function(t){return t.name})).style("fill",(function(t){return w(t)})),e.showInnerLabels){var X=function(i,n){return e.formatBarInnerLabel((function(){return de(i,t,r)}),(function(){return pe(i.value,n,p,a,!0,e.formatNumTo)}))};M.append("text").attr("class","inner-value-label").attr("key",(function(t){return t.name})).attr("x",(function(t,e){var i=$(this).parent().find(".bar").eq(e),n=(0,H.getTextWidth)(X(t,i)),r=xe(i);return u(Q(a?Math.min(t.y0,t.y1):Math.min(t.value,T),u.domain()[0],u.domain()[1]))+(n>r-5?r+5:(r-n)/2)})).attr("y",(function(t){return a?b.bandwidth()/2:F(t.name)+F.bandwidth()/2})).attr("dy",".35em").text((function(t,e){return X(t,$(this).parent().find(".bar").eq(e))})).style("font-size",(function(t,e){var i=$(this).parent().find(".bar").eq(e),n=(0,H.getTextWidth)(X(t,i)),r=xe(i);return(a?b.bandwidth()<14||n>r-5:F.bandwidth()<14)?0:14})).style("fill",(function(t){return R(w(t))}))}h.selectAll(".bar, .inner-value-label").on("mouseover",(function(t,e){S&&(clearTimeout(S),S=null);var a=$(this);a.is(".inner-value-label")&&(a=a.parent().find(".bar[key]").filterByAttr("key",e.name));var i=e;if(!e.name){var n=this.getAttribute("key");i=$.grep(e.values,(function(t){return t.name==n}))[0]}E.show(i,a[0])})).on("mouseout",(function(){S=setTimeout((function(){S=null,e.tipHover||e.hideTips()}),50)})),e.bindElementSelect(h,".bar"),h.append("g").attr("class","x axis").call(o);var j=function(t,a){g.top-=e.argumentWidth,e.argumentWidth=Y(u,o),g.top+=e.argumentWidth,t>e.width/(e.argumentWidth+30)?(P="start",L="translate(12, -4) rotate(-65)",c.transition().duration(a).attr("height",e.height).selectAll("svg > g").attr("transform","translate("+g.left+","+g.top+")"),_&&_.transition().duration(a).attr("y",e.titleHeight-g.top),B&&B.transition().duration(a).attr("y",e.titleHeight+20-g.top)):(P="middle",L="translate(0, 0)",c.transition().duration(a).attr("height",e.height-e.argumentWidth).selectAll("svg > g").attr("transform","translate("+g.left+","+(g.top-e.argumentWidth)+")"),_&&_.transition().duration(a).attr("y",e.titleHeight-g.top+e.argumentWidth),B&&B.transition().duration(a).attr("y",e.titleHeight+20-g.top+e.argumentWidth)),h.selectAll(".x.axis text").transition().duration(a).style("text-anchor",P).attr("transform",L)};j(h.selectAll(".x.axis text").size(),0),h.append("g").attr("class","y axis").call(C);var U=h.append("g").attr("class","y axis").append("line").attr("x1",u(T)).attr("x2",u(T)).attr("y2",f);if(e.legend&&e.chartKeys.length>1){var J=e.chartKeys.slice();e.addLegend(h,p+m,f,g.top,"columns"!==e.barColoringType&&A,J,e.isLegendUnderGraph,(function(n,r){var c=[];t.forEach((function(t){t.aggregation==n&&(t.hidden=!r),t.hidden||-1!=$.inArray(t.aggregation,c)||c.push(t.aggregation)}));var d=$.grep(t,(function(t){return!t.hidden}));if(d.length){var g=e.convertData(d);s=e.isLog?s:i.default.min(a?g:d,(function(t){return a?t.min:t.value})),l=i.default.max(a?g:d,(function(t){return a?t.total:t.value})),u.domain([isNaN(e.minvalue)?e.isLog?s:Math.min(0,s):e.minvalue,isNaN(e.maxvalue)?Math.max(l,0):e.maxvalue]),b.domain(g.map((function(t){return t.label}))),F.domain(c).rangeRound([0,b.bandwidth()]),isNaN(e.scaleStep)||o.tickValues(Z(u.domain(),e.scaleStep)),N=a?b.bandwidth():F.bandwidth(),e.is3D&&(N=parseInt(.8*N),z=parseInt(N/4)),g.forEach((function(t){var i=h.selectAll("[label]").filterByAttr("label",t.label),n=function(){i.transition().duration(300).attr("transform",(function(t){return"translate(0,"+b(t.label)+")"}))};r||n(),t.values.forEach((function(t){var n=i.selectAll(".bar[key]").filterByAttr("key",t.name),r=i.selectAll("text[key]").filterByAttr("key",t.name),o=W(t);if(n.transition().duration(300).attr("width",o).attr("x",I(t)).attr("y",O(t)).attr("height",N),e.is3D&&(i.selectAll(".bar-right[key]").filterByAttr("key",t.name).transition().duration(300).attr("d",K(t)),i.selectAll(".bar-bottom[key]").filterByAttr("key",t.name).transition().duration(300).attr("d",G(t))),e.showInnerLabels){var s=$(r._groups[0]).parent().find(".bar[key]").filterByAttr("key",t.name),l=function(t){return e.formatBarInnerLabel((function(){return de(t,d,g)}),(function(){return pe(t.value,s,p,a,!0,e.formatNumTo)}))},c=l(t),h=(0,H.getTextWidth)(l(t)),f=u(Q(a?Math.min(t.y0,t.y1):Math.min(t.value,T),u.domain()[0],u.domain()[1]));r.transition().duration(300).attr("x",f+(h>o-5?o+5:(o-h)/2)).attr("y",a?b.bandwidth()/2:F(t.name)+F.bandwidth()/2).style("font-size",(a?b.bandwidth()<14||h>o-5:F.bandwidth()<14)?0:14).style("fill",h>o-5?"black":R(w(t))).text(c)}})),r&&n()}));var f=h.append("g").attr("class","xaxis-tmp").call(o),m=h.selectAll(".xaxis-tmp .tick").size();f.remove(),h.selectAll(".x.axis").transition().duration(300).on("start",(function(){j(m,300)})).call(o).selectAll(".x.axis text").style("text-anchor",P).attr("transform",L),h.select(".y.axis").transition().duration(300).call(C),U.transition().duration(300).attr("x1",u(T)).attr("x2",u(T)),setTimeout((function(){e.convertToImage({noExport:!0})}),400)}}))}},le.prototype.drawSeries=function(t){var e=this,a=null,n=null,r=0,u=-1!==e.type.indexOf("Stacked"),o=e.chartKeys,s=V.default.parseValueByType(e.xValueType,e.xScaleStep,e.separator,e.worklog);if(s=isNaN(s)||!1===s?null:s,u&&e.convertSeriesDataStacked(t,o),e.isTime){try{a=V.default.parseDate(e.xminvalue,e.dateFormat,e.locale)}catch(t){a=null}try{n=V.default.parseDate(e.xmaxvalue,e.dateFormat,e.locale)}catch(t){n=null}var l=tt(e);if(null==s){var c=t[t.length-1].value-t[0].value;({ticksSize:l,xStep:s}=et(e,c))}else s=Math.floor(s)}else a=V.default.parseValueByType(e.xValueType,e.xminvalue,e.separator,e.worklog),n=V.default.parseValueByType(e.xValueType,e.xmaxvalue,e.separator,e.worklog),a=isNaN(a)||!1===a?null:a,n=isNaN(n)||!1===n?null:n;if(0!==(t=$.grep(t,(function(t){return(null==a||t.value>=a)&&(null==n||t.value<=n)}))).length){var h;h=e.isTime?i.default.scaleTime():e.isXLog?i.default.scaleLog():i.default.scaleLinear();var d=e.isLog?i.default.scaleLog():i.default.scaleLinear(),g=i.default.axisBottom(h);if(e.isTime){var p=e.getTimeFormat(c);g.tickFormat(p)}else e.isXLog||g.tickFormat(e.formatNumToX);var f=i.default.axisLeft(d);e.isLog||f.tickFormat(e.formatNumTo);var m=i.default.min(t,(function(t){return t.value})),x=i.default.max(t,(function(t){return t.value}));!e.isTime&&e.isXLog&&0===a&&(a=Number.MIN_VALUE,x<0&&(a*=-1)),h.domain([null==a?m:a,null==n?x:n]);var y=i.default.min(t,(function(t){return t.label})),D=i.default.max(t,(function(t){return u?t.y1:t.label}));e.isLog&&0===e.minvalue&&(e.minvalue=Number.MIN_VALUE,D<0&&(e.minvalue*=-1)),isNaN(e.minvalue)?d.domain([e.isLog?y:Math.min(0,y),isNaN(e.maxvalue)?D:e.maxvalue]):d.domain([e.minvalue,isNaN(e.maxvalue)?D:e.maxvalue]),dt(g),isNaN(e.scaleStep)||f.tickValues(Z(d.domain(),e.scaleStep));var v=e.chart.append("svg"),b=v.append("g");e.argumentWidth=Y(h,g),e.textWidth=Math.max(Y(d,f),e.argumentWidth/2);var F,A,C=q(u?o.slice().reverse():o.slice(),e.width-(e.textWidth+20+e.ytitleHeight)-40,e.isPivot,e.isLegendUnderGraph),E={top:20+e.titleHeight,right:e.legend&&!e.isLegendUnderGraph&&o.length>1?C.maxWidth+25:40,bottom:e.argumentWidth+25+e.xtitleHeight+(e.isLegendUnderGraph?20*(C.rows+1)+10:0),left:e.textWidth+20+e.ytitleHeight},_=e.width-E.left-E.right;if(h.range([0,_]),d.range([e.height,0]),v.attr("oncontextmenu","return false;").attr("width",e.width).attr("height",e.height+E.top+E.bottom),b.attr("transform","translate("+E.left+","+E.top+")"),e.addTitle(b,_,E),e.xtitle)var w=b.append("text").attr("x",_/2).attr("y",e.height+E.bottom-10).attr("class","axis-title").style("text-anchor","middle").style("font-weight","bold").text(e.xtitle);if(e.ytitle)var B=b.append("text").attr("transform","rotate(-90)").attr("y",20-E.left).attr("class","axis-title").attr("x",-e.height/2).style("text-anchor","middle").style("font-weight","bold").text(e.ytitle);var T=function(t,a){E.bottom-=e.argumentWidth,e.argumentWidth=Y(h,g),E.bottom+=e.argumentWidth;var i=e.height+E.top+E.bottom;return t>_/(e.argumentWidth+10)?(F="end",r=e.argumentWidth+10,A="translate(-14, 7) rotate(-65)",e.xtitle&&w.transition().duration(a).attr("y",e.height+E.bottom-15-(e.isLegendUnderGraph?20*(C.rows+1)+5:0))):(F="middle",r=22,A="translate(0, 0)",i-=e.argumentWidth,e.xtitle&&w.transition().duration(a).attr("y",e.height+E.bottom-e.argumentWidth-(e.isLegendUnderGraph?20*(C.rows+1)+5:0))),b.selectAll(".x.axis text").transition().duration(a).style("text-anchor",F).attr("transform",A),i};b.append("clipPath").attr("id","clip"+e.macroId+e.pageId).append("rect").attr("x",1).attr("width",_).attr("height",e.height);var S,k,P=b.append("g").attr("clip-path","url(#clip"+e.macroId+e.pageId+")");b.append("path").datum(t),e.grid&&!e.isArea&&(S=b.append("g"),k=b.append("g"));var L=function(t){var a=$.inArray(t,o);return e.colors[a%e.colors.length]},M=[];i.default.group(t,(t=>t.key)).forEach((function(t,e){M.push({key:e,values:t})}));var I=e.isArea?"area":"line",O=1,z={};if(o.forEach((function(t){var a,n=$.grep(M,(function(e){return e.key===t}));if(a=e.isArea?i.default.area().curve(e.getInterpolation(t)).x((function(t){return h(t.value)})).y0((function(t){return t.y0?d(t.y0):e.height})).y1((function(t){return d(u?t.y1:t.label)})):i.default.line().curve(e.getInterpolation(t)).x((function(t){return h(t.value)})).y((function(t){return d(t.label)})),z[t]=a,n.length>0){if(n=n[0],pt(e.type)&&e.getLineType(n.key)===N)!function(t){var a=i.default.symbol().type(i.default.symbolCircle).size(100*e.getLineWidth(t.key));P.selectAll('path[key="'+t.key+'"]').data(t.values).enter().append("path").attr("key",t.key).attr("transform",(function(t){return"translate("+h(t.value)+","+d(t.label)+")"})).attr("d",a()).style("fill",L(t.key))}(n);else{var r=P.append("path").attr("class",I).attr("d",a(n.values)).attr("key",n.key);e.isArea?r.style("fill",L(n.key)).style("opacity",O):(r.style("stroke",L(n.key)).style("stroke-width",e.getLineWidth(n.key)+"px"),pt(e.type)&&e.getLineType(n.key)===W&&r.style("stroke-dasharray","9, 6"))}u||(O*=.8),e.addTrendLine(n,b,h,d,L(n.key))}})),e.grid&&e.isArea&&(S=b.append("g"),k=b.append("g")),e.grid){var G=i.default.axisLeft(d).tickSize(-_,0,0).tickFormat(""),H=i.default.axisBottom(h).tickSize(e.height,0,0).tickFormat("");dt(H),isNaN(e.scaleStep)||G.tickValues(Z(d.domain(),e.scaleStep)),S.attr("class","grid").call(G).selectAll("line, .domain").attr("stroke",""),k.attr("class","grid").call(H).selectAll("line, .domain").attr("stroke","")}b.append("g").attr("class","x axis").attr("transform","translate(0,"+e.height+")").call(g).selectAll("text"),b.append("g").attr("class","y axis").call(f).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end"),v.attr("height",T(b.selectAll(".x.axis text").size(),0));var R=i.default.bisector((function(t){return t.value})).left,K={},X={};M.forEach((function(t){var a=b.append("g").attr("class","focus").style("display","none");a.append("circle").attr("r",4.5).style("fill",L(t.key));var i=$('<div class="d3-tip n chart'+e.macroId+e.pageId+'" style="position: absolute; pointer-events: all; box-sizing: border-box; display: none"></div>');e.svgWrapper.append(i),X[t.key]=i,K[t.key]=a}));var j=null;e.hideTips=function(){for(var t in K)K[t].style("display","none"),X[t].hide()};var U=i.default.drag(),J=!1;b.append("rect").attr("class","overlay").attr("width",_).attr("height",e.height).style("fill","none").on("mouseover",(function(){if(!J)for(var t in clearTimeout(j),K)K[t].style("display",""),X[t].show()})).on("mouseout",(function(){j=setTimeout((function(){j=null,e.tipHover||e.hideTips()}),50)})).on("mousemove",(function(t){if(!J)if(t.altKey||t.ctrlKey||t.shiftKey)e.hideTips();else{var a=this,n=[];M.forEach((function(r){var o=K[r.key],s=h.invert(i.default.pointer(t,a)[0]),l=R(r.values,s,1),c=r.values[l-1],g=r.values[l],f=g&&s-c.value>g.value-s?g:c,m=h(f.value),x=d(u?f.y1:f.label);if(!isNaN(m)){if(m<0||m>_||x<0||x>e.height)return X[r.key].hide(),void o.style("display","none");o.style("display",""),o.attr("transform","translate("+m+","+x+")");var y=e.isTime?p(f.value):e.formatNumToX(f.value);X[r.key].show().text(e.formatNumTo(f.label)+" ("+y+")");var D=$(o._groups[0]).offset();D.top-=X[r.key].outerHeight()+6,D.left-=X[r.key].outerWidth()/2-4,n.push({key:r.key,offset:D,y:d(Q(u?f.y1:f.label,d.domain()[0],d.domain()[1]))})}})),n.sort((function(t,e){return t.y-e.y}));var r=0;n.forEach((function(t){r>t.offset.top?(t.offset.top+=60,X[t.key].removeClass("n").addClass("s").offset(t.offset)):X[t.key].removeClass("s").addClass("n").offset(t.offset),r=t.offset.top+45}))}})).on("wheel",(function(t){if(t.altKey||t.ctrlKey){t.preventDefault(),t.stopPropagation();var a=t.deltaY,n=i.default.pointer(t,this),r=_/10,u=n[0]/_*r,o=(1-n[0]/_)*r,s=e.height/10,l=n[1]/e.height*s,c=(1-n[1]/e.height)*s;a<0?(nt.x1=h.invert(u),nt.x2=h.invert(_-o),nt.y2=d.invert(l),nt.y1=d.invert(e.height-c)):(nt.x1=Math.max(h.invert(-u),rt.x1),nt.x2=Math.min(h.invert(_+o),rt.x2),nt.y2=Math.min(d.invert(-l),rt.y2),nt.y1=Math.max(d.invert(e.height+c),rt.y1)),lt()}})).call(U);var at=h.domain(),it=d.domain(),nt={x1:at[0],y1:it[0],x2:at[1],y2:it[1]},rt={x1:at[0],y1:it[0],x2:at[1],y2:it[1]};e.legend&&o.length>1&&e.addLegend(b,_,e.height+r+5+e.xtitleHeight,E.top,L,u?o.slice().reverse():o,e.isLegendUnderGraph,(function(r,s){t.forEach((function(t){t.key===r&&(t.hidden=!s,X[r].css("visibility",s?"":"hidden"),K[r].style("visibility",s?"":"hidden"))}));var l=$.grep(t,(function(t){return!t.hidden}));l.length&&(u&&e.convertSeriesDataStacked(l,o),m=!e.isTime&&e.isXLog?m:i.default.min(l,(function(t){return t.value})),x=i.default.max(l,(function(t){return t.value})),h.domain([null==a?m:a,null==n?x:n]),at=h.domain(),h.domain([at[0]>nt.x1?at[0]:nt.x1,at[1]<nt.x2?at[1]:nt.x2]),y=i.default.min(l,(function(t){return t.label})),D=i.default.max(l,(function(t){return u?t.y1:t.label})),isNaN(e.minvalue)?d.domain([e.isLog?y:Math.min(0,y),isNaN(e.maxvalue)?D:e.maxvalue]):d.domain([e.minvalue,isNaN(e.maxvalue)?D:e.maxvalue]),it=d.domain(),d.domain([Math.max(it[0],nt.y1),Math.min(it[1],nt.y2)]),ht($.grep(M,(function(t){return t.key==r&&(t.hidden=!s),!t.hidden}))))}));var ut=b.append("rect").attr("width",0).attr("height",0).attr("x",0).attr("y",0).attr("class","band"),ot=[-1,-1];U.filter((t=>!t.button)),U.on("end",(function(t){if(J=!1,0==t.sourceEvent.button&&!(t.sourceEvent.altKey||t.sourceEvent.ctrlKey||t.sourceEvent.shiftKey)){var e=i.default.pointer(t,this),a=-1==ot[0]||ot[0]==e[0]||ot[1]==e[1];nt.x1=h.invert(ot[0]),nt.x2=h.invert(e[0]),nt.y1=d.invert(e[1]),nt.y2=d.invert(ot[1]);var n=ot[0]>e[0];ot=[-1,-1],ut.transition().attr("width",0).attr("height",0).attr("x",ot[0]).attr("y",ot[1]),a||(n?ct():lt())}})),U.on("drag",(function(t){if(J=!0,e.hideTips(),0==t.sourceEvent.button){if(t.sourceEvent.altKey||t.sourceEvent.ctrlKey)return a=t.dx,n=t.dy,nt.x1=h.invert(-a),nt.x2=h.invert(_-a),nt.y2=d.invert(-n),nt.y1=d.invert(e.height-n),void lt(0);var a,n;if(t.sourceEvent.shiftKey)!function(t,a){nt.x1=h.invert(t),nt.x2=h.invert(_-t),nt.y2=d.invert(-a),nt.y1=d.invert(e.height+a),lt(0)}(t.dx,t.dy);else{var r=i.default.pointer(t,this);r[0]<ot[0]?ut.attr("stroke","#14892c").attr("transform","translate("+r[0]+","+ot[1]+")"):ut.attr("stroke","#707070"),r[1]<ot[1]&&ut.attr("transform","translate("+r[0]+","+r[1]+")"),r[1]<ot[1]&&r[0]>ot[0]&&ut.attr("transform","translate("+ot[0]+","+r[1]+")"),-1==ot[0]&&(ot=r,ut.attr("transform","translate("+ot[0]+","+ot[1]+")")),ut.transition().duration(1).attr("width",Math.abs(ot[0]-r[0])).attr("height",Math.abs(ot[1]-r[1]))}}}));var st=null}function lt(t){nt.x1!=nt.x2&&(nt.x1>nt.x2?ct():(h.domain([nt.x1,nt.x2]),nt.y1>nt.y2?d.domain([nt.y2,nt.y1]):d.domain([nt.y1,nt.y2]),ht(M,t)))}function ct(){nt={x1:rt.x1,y1:rt.y1,x2:rt.x2,y2:rt.y2},h.domain(at),d.domain(it),ht(M)}function ht(t,a){a=null==a?300:a;var i,n=b.transition().duration(a);t.forEach((function(t){n.selectAll(".line[key], .area[key]").filterByAttr("key",t.key).attr("d",z[t.key](t.values)),pt(e.type)&&e.getLineType(t.key)==N&&n.selectAll('path[key="'+t.key+'"]').attr("transform",(function(t){return"translate("+h(t.value)+","+d(t.label)+")"})),e.showTrendLine&&n.selectAll(".trendline[key]").filterByAttr("key",t.key).attr("x1",h(t.trendData.x1)).attr("y1",d(t.trendData.y1)).attr("x2",h(t.trendData.x2)).attr("y2",d(t.trendData.y2))})),null!=s&&e.isSeries&&(i=Z(h.domain(),s),g.tickValues(i),e.grid&&H.tickValues(i)),isNaN(e.scaleStep)||(i=Z(d.domain(),e.scaleStep),f.tickValues(i),e.grid&&G.tickValues(i));var r=b.append("g").attr("class","xaxis-tmp").call(g),u=b.selectAll(".xaxis-tmp .tick").size();r.remove(),n.selectAll(".x.axis").call(g).selectAll(".x.axis text").style("text-anchor",F).attr("transform",A),n.selectAll(".y.axis").on("start",(function(){var t=e.textWidth;e.textWidth=Math.max(Y(d,f),e.argumentWidth/2),t-=e.textWidth,E.left-=t,e.width-=t,v.transition().duration(a).attr("width",e.width).attr("height",T(u,a)),b.transition().duration(a).attr("transform","translate("+E.left+","+E.top+")"),e.ytitle&&B.transition().duration(a).attr("y",20-E.left)})).call(f),e.grid&&(S.transition().duration(a).call(G).selectAll("line").attr("stroke",""),k.transition().duration(a).call(H).selectAll("line").attr("stroke","")),clearTimeout(st),st=setTimeout((function(){e.convertToImage({noExport:!0})}),a+100)}function dt(t){null!=s&&(e.isSeries?t.tickValues(Z(h.domain(),s)):l===i.default.timeDay&&1!==s?t.ticks(l.filter((function(t){return i.default.timeDay.count(h.domain()[0],t)%s==0}))):t.ticks(l.every(s)))}},le.prototype.drawGantt=function(t){var e=this,a=i.default.scaleOrdinal().range(e.colors);a.domain(e.ganttCatColors);var r=[],u=[],o=[],s=[],l=[],c=[],h=null;if(t.forEach((function(t,i){var n=t.colorFromColumns||[];if(t.endDate){var h="mono"===e.barColoringType?"Task":t.category,d=n[0]||a(h);if(t.style="fill:"+d,t.doneStyle="fill:"+(n[1]||a(h+" - Done")),t.todoStyle="fill:"+(n[2]||a(h+" - Todo")),t.labelStyle="fill:"+R(d),t.label){var g=t.label.split("‌: ")[0];-1===o.indexOf(g)&&o.push(g)}e.hasTimeFormat||t.endDate.setHours(23,59,59);var p="";if(t.label){var f=t.label.split("‌: ");f.length>1&&(p="("+t.label.replace(f[0],"").replace("‌: ","")+")")}var m=Math.round((t.endDate-t.startDate)/864e5);e.ganttProgressPercentage&&t.progress&&(t.progress/=100);var x=t.progress>=0?" "+Math.round(100*t.progress)+"%":"";t.hint=t.category+" "+p+": "+m+" "+"days"+x,r.push(t)}else{var y=-1!==e.ganttCategories.indexOf(t.category),D=-1!==e.ganttCategories.indexOf(t.label);if(y||D){if(D&&c.push(t.label+"-"+t.startDate.getTime()),D||-1===c.indexOf(t.category+"-"+t.startDate.getTime())){var v,b=y?t.label:t.category,F=y?t.category:t.label,A=new RegExp((0,Pt.default)("^".concat(F," - ")),"g");v="mono"===e.barColoringType?"Milestone":D?b:F+": "+(b||"milestone"),e.hasTimeFormat||t.startDate.setHours(12),s.push({id:i,category:F,label:b,date:t.startDate,style:"fill:"+(n[3]||a(v)),hint:t.hint.replace(A,"")}),l.push(b)}}else{var C="mono"===e.barColoringType?"Event":t.category;u.push({date:t.startDate,style:"stroke:"+(n[4]||a(C)),label:t.category||t.label,hint:t.hint,text:t.text})}}})),0!==r.length){if(1===o.length&&r.forEach((function(t){t.label=t.label.replace(o[0],"").replace("‌: ","")})),l.length){var d=u.slice();u=[],d.forEach((function(t){-1===l.indexOf(t.label)&&u.push(t)}))}r.sort((function(t,e){return t.startDate-e.startDate||(t.label>e.label?1:0)}));var g,p,f=null,m=null;try{f=V.default.parseDate(e.xminvalue,e.dateFormat,e.locale)}catch(t){}try{m=V.default.parseDate(e.xmaxvalue,e.dateFormat,e.locale)}catch(t){}if(f||(f=mt(!0,r,s,u)),!m){var x=$.grep(u,(function(t){return-1===["today","heute"].indexOf(t.text.toLowerCase())}));m=mt(!1,r,s,x);var y=V.default.parseDate("today");if(x.length<u.length&&y>m)if(.25*(m-f)>y-m)m=y;else{var D=.25*(m-f)+m.getTime();(m=new Date).setTime(D),u.filter((function(t){return-1!==["today","heute"].indexOf(t.text.toLowerCase())}))[0].date=m}}var v=V.default.parseNumber(e.xScaleStep,e.separator);v=isNaN(v)||!1===v?null:v;var b=r[r.length-1].endDate-r[0].startDate;null!=v?(g=tt(e),p=Math.floor(v)):({ticksSize:g,ticksStep:p}=et(e,b));var F=kt(e.chart,e).height(e.height,e.ganttBarHeight).width(e.width).grid(e.grid).categories(e.ganttCategories).tasks(r).arrows(e.ganttArrows).dateLines(u).mileStones(s).tickFormat(e.getTimeFormat(b)).ticks({ticksSize:g,ticksStep:p}).timeDomain([f,m]).timeDomainMode("fixed");F.init();var A=e.chart.selectAll("svg");e.argumentWidth=Y(F.getTimeAxisRenderer().getAxisLine(),F.getTimeAxisRenderer().getAxis());var C={top:20+e.titleHeight,right:40,bottom:e.argumentWidth+25+e.ytitleHeight},E=(0,H.findLongestText)(e.ganttCategories),_=F.categoryAxisRenderer().config().axisLength;e.textWidth=rt(_/e.ganttCategories.length,E,O.maxTextWidth),F.categoryAxisRenderer().textWidth(e.textWidth),C.left=e.textWidth+20+e.xtitleHeight,F.margin(C).draw();var w=e.width-C.left-C.right,B=A.selectAll(".gantt-chart");e.addTitle(B,w,C),e.ytitle&&(h=B.append("text").attr("x",w/2).attr("y",_+C.bottom-10).attr("class","axis-title").style("text-anchor","middle").style("font-weight","bold").text(e.ytitle)),e.xtitle&&B.append("text").attr("transform","rotate(-90)").attr("y",20-C.left).attr("class","axis-title").attr("x",-_/2).style("text-anchor","middle").style("font-weight","bold").text(e.xtitle);var T=function(t,a){var i,n,r;t>w/(e.argumentWidth+10)?(n="end",i="translate(-14, 7) rotate(-65)",r=_+C.top+C.bottom,A.transition().duration(a).attr("height",r).style("height",r+"px"),e.ytitle&&h.transition().duration(a).attr("y",_+C.bottom-10)):(n="middle",i="translate(0, 0)",r=_+C.top+C.bottom-e.argumentWidth,A.transition().duration(a).attr("height",r).style("height",r+"px"),e.ytitle&&h.transition().duration(a).attr("y",_+C.bottom-10-e.argumentWidth)),A.selectAll(".xaxis-group text").transition().duration(a).style("text-anchor",n).attr("transform",i)};T(A.selectAll(".xaxis-group text").size(),0);var S=(0,n.default)().attr("class","d3-tip chart"+e.macroId+e.pageId).offset([-5,0]).html((function(t){return V.default.escapeString(t.hint)}));e.hideTips=function(){S.hide()};var k=function(t){var{gantt:e,ganttChartNode:a,width:n,height:r,grid:u,rotateText:o,tableChart:s}=t,l=e.getTimeAxisRenderer(),c=e.taskRenderer().getTruncatedTaskText,h=l.appendFormattedTicks,d=l.getAxisLine(),g=a.selectAll("g.xaxis-group"),p=a.selectAll("g.gantt-bars"),f=p.selectAll(".g_task"),m=a.selectAll("g.g_milestone"),x=a.selectAll("g.g_dateline"),y=750,[D,v]=l.domain(),b=Math.round((v-D)/864e6);a.append("defs").append("clipPath").attr("id","clip".concat(s.macroId).concat(s.pageId)).append("rect").attr("x",0).attr("y",-30).attr("width",n-5).attr("height",r+30);var F=(t,e,a,n)=>t.transition().duration(a?y:0).attr("transform","translate(0,".concat(r,")")).call(h(i.default.axisBottom(d).scale(e),n)).call((t=>t.select(".domain"))),A=i.default.zoom().scaleExtent([1,b]).translateExtent([[0,0],[n,r]]).extent([[0,0],[n,r]]).filter((t=>((t.altKey||t.ctrlKey)&&(t.preventDefault(),t.stopPropagation()),t.altKey||t.ctrlKey))).wheelDelta((t=>-t.deltaY/1e3)).on("zoom",(function(t){var n=t.transform,r=n.k/C.k;C=n;var s=n.rescaleX(d),l=1!==r,h=1!==n.k;g.call(F,s,l,h),o(g.selectAll(".xaxis-group text").size(),0),u&&e.rescaleGridX(h,l,s);var D=p.selectAll(".g_task"),v=t=>s(t.endDate)-s(t.startDate);function b(t,e){t.each((function(t){var a=i.default.select(this).attr("transform");a=a?a.replace(/translate\(.*,(.*)\)/,(function(a,i){return"translate(".concat(e(t),", ").concat(i,")")})):"translate(".concat(e(t),", ",0,")"),i.default.select(this).transition().duration(l?y:0).attr("transform",a)}))}D.selectAll("rect:first-child").transition().duration(l?y:0).attr("width",v),D.selectAll(".task-progress-bar-total").transition().duration(l?y:0).attr("width",(t=>isNaN(t.progress)?0:v(t))),D.selectAll(".task-progress-bar").transition().duration(l?y:0).attr("width",(t=>isNaN(t.progress)?0:s(new Date(t.startDate.getTime()+(t.endDate.getTime()-t.startDate.getTime())*t.progress))-s(t.startDate))),D.selectAll("text[class$=-label]").transition().duration(l?y:0).text((function(t){return c.call(this,t,v)})),f.size()&&b(f,(t=>s(t.startDate))),m.size()&&b(m,(t=>n.applyX(d(t.date))-10)),x.size()&&b(x,(t=>n.applyX(d(t.date)))),p.select(".gantt-arrows").selectAll(".arrowLine").transition().duration(l?y:0).attrTween("d",(function(){var t=i.default.select(this);return function(e){return p.classed("editMode")&&Vt({chart:a}),t.dispatch("resize"),t.attr("d")}}))})),C=i.default.zoomIdentity;return A}({gantt:F,ganttChartNode:B,width:w,height:_,grid:e.grid,rotateText:T,tableChart:e});B.insert("rect",":first-child").attr("class","overlay").attr("width",w).attr("height",_).style("fill","none").call(S),B.call(k),ft(S,A,".g_task",e),ft(S,A,".g_dateline",e),ft(S,A,".g_milestone",e),e.bindElementSelect(A,".g_task")}else e.customMessage.show().find(".text").text("No project data found. Please select project name, start and end date columns.")},le.prototype.drawRadar=function(t){var e=this,a=i.default.scaleOrdinal().range(e.colors);a.domain(e.chartKeys);var n=q(e.chartKeys.slice(),e.width-40,e.isPivot,e.isLegendUnderGraph),r={id:e.macroId+""+e.pageId,w:e.width,h:e.height,scaleStep:isNaN(e.scaleStep)?void 0:e.scaleStep,formatter:e.formatNumTo,color:a,padding:{left:20,right:e.legend&&!e.isLegendUnderGraph&&e.chartKeys.length>1?50+n.maxWidth:20,top:20+2*e.titleHeight,bottom:e.isLegendUnderGraph&&e.chartKeys.length>1?30+20*(n.rows+1):20},maxValue:isNaN(e.maxvalue)?0:e.maxvalue,grid:e.grid},u=ot.draw(e.chart,t,r);if(e.addTitle(u.svg,2*u.cfg.center.x,{top:0}),e.legend&&e.chartKeys.length>1){var o=e.chartKeys.slice();e.addLegend(u.svg,u.cfg.center.x+u.cfg.radius+r.padding.left,u.cfg.center.y+u.cfg.radius+20,r.padding.top,a,o,e.isLegendUnderGraph,(function(){}))}this.hideTips=function(){}},le.prototype.addLegend=function(t,e,a,n,r,u,o,s){var l=this,c=X(u,l.isPivot,e,o),h=t.selectAll(".legend").data(o?c.values:c.values.filter((t=>t.y+t.height<=l.svgWrapper.find("svg").attr("height")-n))).enter().append("g").attr("class","legend").attr("transform",(function(t,i){return"translate("+(o?c.values[i].x:e+O.legendRectMarginLeft)+","+(o?a+10+c.values[i].y:c.values[i].y)+")"})).on("click",(function(e,a){var i=t.selectAll("[key]").filterByAttr("key",a.key),n="hidden"==i.style("visibility")?1:0;$(this).css("opacity",0==n?.5:1),n||i.style("visibility","hidden"),s(a.key,n),n&&setTimeout((function(){t.selectAll("[key]").filterByAttr("key",a.key).style("visibility","")}),330)}));h.append("title").text("Click to hide/show this data");var d=h.append("rect").attr("x",0).attr("width",O.legendRectWidth).attr("height",O.legendRectWidth);r?d.style("fill",(function(t){return r(t.key)})):(l.appenColoredGradient(t),d.style("fill","url(#colored-gradient)"));var g=h.append("text").attr("x",(function(){return O.legendRectWidth+O.legendRectMarginRight})).attr("y",O.legendRectWidth/2).attr("dy",".35em").style("text-anchor","start");o?g.text((t=>t.view)).filter((t=>t.isShorten)).append("tspan").text(O.ellipsis).append("title").text((t=>t.key)):g.text((t=>t.isShorten?null:t.view)).filter((t=>t.isShorten)).each((function(t){var e=i.default.select(this),a=e.attr("x")||"0em";t.views.forEach(((t,i)=>{e.append("tspan").attr("dx","0").attr("x",a).attr("dy",0===i?"0":"1em").text(t)}))}))},le.prototype.appenColoredGradient=function(t){var e=t.selectChild("defs");if(!(e=e.empty()?null:e)||e.selectChild("#colored-gradient").empty()){var a=(e||t.append("defs")).append("linearGradient").attr("id","colored-gradient").attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","100%");a.append("stop").attr("offset","0%").attr("stop-color","red"),a.append("stop").attr("offset","100%").attr("stop-color","greenyellow")}},le.prototype.formatBarInnerLabel=function(t,e){var a=this;return a.innerLabelsType.percentage?t():a.innerLabelsType.value_percentage?e()+" ("+t()+")":a.innerLabelsType.percentage_value?t()+" ("+e()+")":e()},le.prototype.addTitle=function(t,e,a,i){var n=this;if(n.title||i&&i.title)return t.append("text").attr("x",e/2).attr("y",(i&&i.titleHeight?i.titleHeight:n.titleHeight)-a.top).attr("class","title").attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").style("fill","#333").text(i&&i.title?i.title:n.title)},le.prototype.addGroupTitle=function(){var t=this,e=0;if(t.title&&t.chartKeys.length>1){var a=$(document.createElementNS("http://www.w3.org/2000/svg","text")).attr("class","_title").attr("x",t.width/2).attr("y",16).attr("text-anchor","middle").text(t.title).css({"font-size":"16px","font-family":H.FONT_FAMILY,"font-weight":"bold"}),i=$(document.createElementNS("http://www.w3.org/2000/svg","svg")).attr("width",t.width).attr("height",17).append(a);t.svgWrapper.prepend(i),e=i.outerHeight()}t.svgWrapper.height(t.height+e+5).width(t.width)},le.prototype.convertToImage=function(){var t=se((function*(t){var e=this;if(document.hidden)$(document).one("visibilitychange",(function(){setTimeout((function(){e.convertToImage(t)}),1e3)}));else{e.svgWrapper.find(".axis").css("font-size","10"),e.svgWrapper.find(".axis path, .axis line, .xaxis-group path, .xaxis-group line").css({fill:"none",stroke:"#000","shape-rendering":"crispEdges"}),e.svgWrapper.find(".line").css({fill:"none"}),e.svgWrapper.find("text").css({"font-family":H.FONT_FAMILY}),e.svgWrapper.find(".axis-title").css({"font-size":"14px"}),e.svgWrapper.find(':not([class$="_tooltip"]) > text:not(.legend):not(.title):not(.percent):not(.axis-title):not(.milestone-label):not([class$="_title"]):not([class$="_segmentPercentage-inner"]):not([class$="_segmentValue-inner"]):not(.inner-value-label):not([class$="_segmentMainLabel-outer"]):not(.task-label)').css({fill:"#333","font-size":"14px","font-weight":"normal"}),e.svgWrapper.find(".grid .tick").css({stroke:"lightgrey","stroke-opacity":.7,"shape-rendering":"crispEdges"}),e.svgWrapper.find(".grid .path").css({"stroke-width":0}),e.svgWrapper.find('[class$="_title"]').css("font-weight","bold"),e.svgWrapper.find('[class$="_tooltips"], .focus').hide(),e.svgWrapper.find(".tickY, .axisY").css({stroke:"black","shape-rendering":"crispEdges"}),e.svgWrapper.find(".gridX").css({"shape-rendering":"crispEdges"}),e.svgWrapper.find(".tick").css("opacity","");var a=e.svgWrapper.find("svg");a.find("#p0_footer").remove(),a.attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg");var i=ce(a);if("undefined"==typeof btoa||!i||$("body").hasClass("edit")||$("body").hasClass("content-preview"))e.download.hide();else{var n=e.canvas.attr("width",e.svgWrapper.width()||e.width).attr("height",e.svgWrapper.height()||e.height)[0],r=n.getContext("2d"),u=e.svgWrapper.offset(),s=[],l=[];a.each(se((function*(){var t=$(this),e=t.offset();i=ce(t);var a=o.Canvg.from(r,i,{offsetX:e.left-u.left,offsetY:e.top-u.top,ignoreDimensions:!0,ignoreClear:!0});s.push(a),l.push((yield a).render())}))),yield Promise.all(s),yield Promise.all(l),r.globalCompositeOperation="destination-over",r.fillStyle="#ffffff",r.fillRect(0,0,n.width,n.height);var c=n.toDataURL("image/jpeg",1),h='<img src="'+c+'">';e.png.html(h),e.download.attr("href",c),e.preventExport||t&&t.noExport||(clearTimeout(e.exportTimer),e.exportTimer=setTimeout((function(){e.content.trigger("tf-export-ready",e.getExportEventData())}),300)),e.svgWrapper.find('[class$="_tooltips"]').show()}}}));return function(e){return t.apply(this,arguments)}}(),le.prototype.getExportEventData=function(){var t=this;return{macroId:t.macroId,adaptiveDimensions:t.adaptiveDimensions,data:t.calculatedData,params:[t.type,t.columns,t.aggregation,t.hide,t.grid,t.legend,t.minvalue,t.maxvalue,t.xminvalue,t.xmaxvalue,t.scalestep,t.xscalestep,t.title,t.xtitle,t.ytitle,t.isLog,t.isXLog,t.colors,t.pieKeys,t.showInnerLabels,t.showTrendLine,t.worklog,t.interpolation,t.lineSettings,t.is3D]}},le.prototype.convertData=function(t){var e=this,a=[],i=[];t.forEach((function(t,n){-1===$.inArray(t.label,i)&&i.push(t.label),a[t.label]||(a[t.label]={label:t.label,values:[]});var r=e.chartKeys.indexOf(t.aggregation);a[t.label].values[r]={name:t.aggregation,value:t.value,label:t.label,rowNumber:t.rowNumber};var u=t.colorFromColumns&&t.colorFromColumns[e.isMultiColorColumn?n:r];u&&(a[t.label].values[r].colorFromColumn=u),t.transformedData=a[t.label].values[r]}));var n=[];return i.forEach((function(t){n.push(a[t])})),n.forEach((function(t){for(var a=e.isLog?Number.MIN_VALUE:0,i=a,n=0;n<t.values.length;n++){var r=t.values[n];r?r.value>=0?(r.y0=a,a+=r.value,r.y1=a):(r.y1=i,i+=r.value,r.y0=i):t.values.splice(n--,1)}t.total=a,t.min=i})),n},le.prototype.convertSeriesDataStacked=function(t,e){var a=[];e.forEach((function(e){t.forEach((function(t){t.key===e&&(a[t.value]||(a[t.value]=0),t.y0=a[t.value],t.y1=t.y0+t.label,a[t.value]+=t.label)}))}))},le.prototype.calcGroupSize=function(t){var e=this,a=e.width/e.height,i=Math.ceil(Math.sqrt(t*a)),n=Math.ceil(t/i),r=e.width/i,u=e.height/n,o=Math.min(r,u),s=i-1,l=Math.ceil(t/s);return o<=Math.min(e.width/s,e.height/l)&&(r=e.width/s,u=e.height/l),{width:r,height:u}},le.prototype.addBarTrendLine=function(t,e,a,i,n,r,u,o,s){var l=this;if(l.showTrendLine){var c={};e?(c._total_={key:"",values:[],transformedData:{}},i.forEach((function(t){c._total_.values.push({value:t.label,label:t.total})}))):a.forEach((function(t){c[t.aggregation]||(c[t.aggregation]={key:t.aggregation,values:[],transformedData:t.transformedData}),c[t.aggregation].values.push({value:t.label,label:t.value})}));var h=0;$.each(c,(function(e,a){l.addTrendLine(a,t,n,r,u(a.transformedData),o*(.5+h++),s)}))}},le.prototype.addTrendLine=function(t,e,a,i,n,r,u){var o=this;if(o.showTrendLine){var s=t.values.map((function(t){return t.value})),l=s.map((function(t){return a(t)})),c=function(t,e){var a=function(t,e){return t+e},i=1*t.reduce(a)/t.length,n=1*e.reduce(a)/e.length,r=t.map((function(t){return Math.pow(t-i,2)})).reduce(a),u=e.map((function(t){return Math.pow(t-n,2)})).reduce(a),o=t.map((function(t,a){return(t-i)*(e[a]-n)})).reduce(a),s=o/r,l=n-i*s,c=Math.pow(o,2)/(r*u);return[s,l,c]}(l,t.values.map((function(t){return parseFloat(t.label)}))),h=a.domain()[a.domain().length-1];t.trendData={x1:s[0],y1:c[0]*l[0]+c[1],x2:h,y2:c[0]*a(h)+c[1]};var d=a(t.trendData.x1),g=i(t.trendData.y1),p=a(t.trendData.x2),f=i(t.trendData.y2);if(!(isNaN(g)||isNaN(f)||isNaN(d)||isNaN(p)))r=r||0,e.selectAll(".trendline[key]").filterByAttr("key",t.key).data([{}]).enter().append("line").attr("class","trendline").attr("clip-path","url(#clip"+o.macroId+o.pageId+")").attr("key",t.key).attr(u?"y1":"x1",d+r).attr(u?"x1":"y1",g).attr(u?"y2":"x2",p+r).attr(u?"x2":"y2",f).attr("stroke",n).attr("stroke-dasharray","10,10").attr("stroke-width",1)}},le.prototype.enableSaveBtn=function(){var t=this;t.btn.removeClass("tf-disabled-link"),t.controls.add(t.btn).find(".tfac-unsaved").show(),gt.default.addToUnloadPageAction(t)},le.prototype.shiftInterpolationBtn=function(){var t=this;!t.type||-1===t.type.indexOf("Line")&&-1===t.type.indexOf("Area")?t.setInterpolationBtn.hide():t.setInterpolationBtn.show()},le.prototype.shiftChangeLineSettingsBtn=function(){var t=this;t.type&&-1!==t.type.indexOf("Line")?t.changeLineSettingsBtn.show():t.changeLineSettingsBtn.hide()},le.prototype.bindTips=function(){var t=this;$("body").delegate(".d3-tip.chart"+t.macroId+t.pageId,"mouseover",(function(){t.tipHover=!0})).delegate(".d3-tip.chart"+t.macroId+t.pageId,"mouseout",(function(){t.tipHover=!1,t.hideTips()}))},le.prototype.getTimeFormat=function(t){var e=this;if(-1===e.workingDateFormat.toLowerCase().indexOf("hh:mm"))return function(t){return V.default.formatDate(t,e.workingDateFormat,e.locale)};var a=ne.default.getDateFormatWithoutTime(e.workingDateFormat);return function(i){return 0===i.getHours()&&0===i.getMinutes()&&0===i.getSeconds()?V.default.formatDate(i,a,e.locale):t>864e6?V.default.formatDate(i,e.workingDateFormat,e.locale):V.default.formatTime(i,e.workingDateFormat)}},le.prototype.getInterpolation=function(t){return function(t){switch(t){case"Linear":default:return i.default.curveLinear;case"Step":return i.default.curveStep;case"Natural cubic":return i.default.curveNatural;case"Monotone X cubic":return i.default.curveMonotoneX;case"Monotone Y cubic":return i.default.curveMonotoneY;case"Cubic Catmull–Rom":return i.default.curveCatmullRom;case"Cubic cardinal":return i.default.curveCardinal;case"Cubic basis":case"Straightened cubic basis":return i.default.curveBasis}}(this.getInterpolationName(t))},le.prototype.getInterpolationName=function(t){var e=this;return e.interpolation instanceof Array&&e.updateInterpolation(),e.interpolation[t]||(e.interpolation[t]=e.defaultInterpolation),e.interpolation[t]},le.prototype.getLineWidth=function(t){var e=this;return e.lineSettings instanceof Array&&e.updateLineSettings(),e.lineSettings[t]&&e.lineSettings[t].width||1.5},le.prototype.getLineType=function(t){var e=this;return e.lineSettings instanceof Array&&e.updateLineSettings(),e.lineSettings[t]&&e.lineSettings[t].type||"solid"},le.prototype.updateInterpolation=function(){var t=this,e={};t.chartKeys.forEach((function(a,i){e[a]=i<t.interpolation.length?t.interpolation[i]:t.defaultInterpolation})),t.interpolation=e},le.prototype.updateLineSettings=function(){var t=this,e={};t.chartKeys.forEach((function(a,i){e[a]=i<t.lineSettings.length?{type:t.lineSettings[i].split("-")[0],width:parseFloat(t.lineSettings[i].split("-")[1])}:{type:"solid",width:1.5}})),t.lineSettings=e},le.prototype.getInnerLabelsParam=function(){var t=this;return t.showInnerLabels?t.innerLabelsType.value_percentage?"Value (Percentage)":t.innerLabelsType.percentage_value?"Percentage (Value)":t.innerLabelsType.percentage?"Percentage":t.innerLabelsType.value?"Value":"Donut"===t.type||"Pie"===t.type?"Percentage":"":"None"},le.prototype.clearTableHighlight=function(){var t=this;t.originalTable.removeClass("tf-chart-highlight"),t.rows.forEach((function(t){t.filter(".tf-chart-highlight").removeClass("tf-chart-highlight")})),t.originalTable.trigger("tf-chart-highlight-off")},le.prototype.highlightTable=function(t){var e,a=this;a.originalTable.addClass("tf-chart-highlight"),$.each(t.rowNumber,(function(i,n){var r=a.rows[i];n.forEach((function(t){var a=r.eq(t).addClass("tf-chart-highlight");e=e||!!(0,It.getChildren)(a).filter("[rowspan]").length})),a.originalTable.eq(i).trigger("tf-chart-highlight-on",{rowNumbers:n,column:t.column})})),e&&(a.originalTable.addClass("tf-table-with-rowspan"),(V.default.isIE11()||V.default.isSafari())&&a.originalTable.addClass("tf-opacity-highlight"))},le.prototype.bindElementSelect=function(t,e,a){var n=this;function r(t){n.clearTableHighlight();var r=i.default.select(t);r.classed("highlighted",!r.classed("highlighted")),n.svgWrapper.find(e+".highlighted").each((function(){n.highlightTable(a?a(this):{rowNumber:this.__data__.rowNumber,column:n.getColumnNameForHighlight(this.__data__.name)})}))}t.selectAll(e).on("click",(function(){r(this)})),t.selectAll("text.inner-value-label, text.percent").on("click",(function(){var t=$(this.parentNode),a=t.find(e);r(a.eq(t.find("text.inner-value-label, text.percent").index(this)%a.length)[0])}))},le.prototype.getColumnNameForHighlight=function(t){return t?this.columns.length<2?t:t.substring(0,t.lastIndexOf(" - ")):""},le.prototype.triggerSettingsButtonInvoke=function(){var t=this;t.settings.trigger("aui-button-invoke"),t.settings.is(".active")&&t.settings.trigger("aui-button-invoke")},le.prototype.formatBubbleLegend=function(t){var e=this,a=[];t.shapes._groups[0].forEach((function(t,i){var n=$(t).children("text"),r=$(t).children("rect"),u=n.text();r.attr("height",18).attr("width",18);var o=r.width()+5+(0,H.getTextWidth)(u),s=0,l=0;e.isLegendUnderGraph?(0===i||(e.bubblePieSetting.indexFirstLegendInRow||[]).includes(i)?(0!==i&&(r.attr("y",a[i-1].signaturePosY+5+18),n.attr("y",a[i-1].signaturePosY+5+18)),s=+r.attr("x"),l=+r.attr("y"),n.attr("x",+n.attr("x")+3)):(s=a[i-1].signaturePosX+a[i-1].width+10,l=a[i-1].signaturePosY,r.attr("y",l)),n.attr("y",l+13),a.push({width:o,signaturePosX:s,signaturePosY:l}),0!==i&&((e.bubblePieSetting.indexFirstLegendInRow||[]).includes(i)?0:(1,n.attr("x",+s+23),r.attr("x",+s)))):0!==i?(n.attr("y",+n.attr("y")+3+9*i),r.attr("y",+r.attr("y")+9*i)):n.attr("y",+n.attr("y")+3)}))},le.prototype.calcBubbleChartExtremum=function(){var t,e,a=this,i=31536e6;if(null!=a.xminvalue){var n=V.default.getAnyValueType(a.xminvalue,a.separator,a.worklog,!0,a.dateFormat,a.locale);n===a.xValueType&&(a.bubblePieSetting.axisX.minValue=Wt.default.parseAnyValueByType(n,a.xminvalue,a.separator,a.worklog,!0,a.dateFormat,a.locale))}if(null!=a.xmaxvalue){var r=V.default.getAnyValueType(a.xmaxvalue,a.separator,a.worklog,!0,a.dateFormat,a.locale);r===a.xValueType&&(a.bubblePieSetting.axisX.maxValue=Wt.default.parseAnyValueByType(r,a.xmaxvalue,a.separator,a.worklog,!0,a.dateFormat,a.locale))}if(a.bubblePieSetting.axisX.maxValue<a.bubblePieSetting.axisX.minValue){var u=a.bubblePieSetting.axisX.minValue,o=a.bubblePieSetting.axisX.maxValue;a.bubblePieSetting.axisX.minValue=o,a.bubblePieSetting.axisX.maxValue=u}a.bubblePieSetting.axisX.maxValue===a.bubblePieSetting.axisX.minValue&&(a.xValueType===I.DATA_TYPES.date?t=i/2:a.xValueType===I.DATA_TYPES.worklog?t=Wt.default.parseAnyValueByType(a.xValueType,"8h",a.separator,a.worklog,!0,a.dateFormat,a.locale):a.xValueType===I.DATA_TYPES.number?t=Wt.default.parseAnyValueByType(a.xValueType,.5*a.bubblePieSetting.axisX.maxValue,a.separator,a.worklog,!0,a.dateFormat,a.locale):a.xValueType===I.DATA_TYPES.duration&&(t=Wt.default.parseAnyValueByType(a.xValueType,"8:00",a.separator,a.worklog,!0,a.dateFormat,a.locale)),a.bubblePieSetting.axisX.maxValue=+a.bubblePieSetting.axisX.maxValue+t,a.bubblePieSetting.axisX.minValue=a.bubblePieSetting.axisX.minValue-t);if(null!=a.yminvalue){var s=V.default.getAnyValueType(a.yminvalue,a.separator,a.worklog,!0,a.dateFormat,a.locale);s===a.valueType&&(a.bubblePieSetting.axisY.minValue=Wt.default.parseAnyValueByType(s,a.yminvalue,a.separator,a.worklog,!0,a.dateFormat,a.locale))}if(null!=a.ymaxvalue){var l=V.default.getAnyValueType(a.ymaxvalue,a.separator,a.worklog,!0,a.dateFormat,a.locale);l===a.valueType&&(a.bubblePieSetting.axisY.maxValue=Wt.default.parseAnyValueByType(l,a.ymaxvalue,a.separator,a.worklog,!0,a.dateFormat,a.locale))}if(a.bubblePieSetting.axisY.maxValue<a.bubblePieSetting.axisY.minValue){var c=a.bubblePieSetting.axisY.minValue,h=a.bubblePieSetting.axisY.maxValue;a.bubblePieSetting.axisY.minValue=h,a.bubblePieSetting.axisY.maxValue=c}a.bubblePieSetting.axisY.maxValue===a.bubblePieSetting.axisY.minValue&&(a.valueType===I.DATA_TYPES.date?e=i/2:a.valueType===I.DATA_TYPES.worklog?e=Wt.default.parseAnyValueByType(a.valueType,"8h",a.separator,a.worklog,!0,a.dateFormat,a.locale):a.valueType===I.DATA_TYPES.number?e=Wt.default.parseAnyValueByType(a.valueType,.5*a.bubblePieSetting.axisY.maxValue,a.separator,a.worklog,!0,a.dateFormat,a.locale):a.valueType===I.DATA_TYPES.duration&&(e=Wt.default.parseAnyValueByType(a.valueType,"8:00",a.separator,a.worklog,!0,a.dateFormat,a.locale)),a.bubblePieSetting.axisY.maxValue=+a.bubblePieSetting.axisY.maxValue+e,a.bubblePieSetting.axisY.minValue=a.bubblePieSetting.axisY.minValue-e)},le.prototype.setBubbleAxisX=function(t){var e,a=this;if(a.xValueType===I.DATA_TYPES.date){a.workingDateFormat=a.bubblePieSetting.axisX.dateFormat;var i=a.getTimeFormat(a.bubblePieSetting.axisX.maxValue-a.bubblePieSetting.axisX.minValue);(e=t.addTimeAxis("x",a.bubblePieSetting.axisX.title))._getFormat=function(){return i}}else a.xValueType===I.DATA_TYPES.worklog?(e=t.addTimeAxis("x",a.bubblePieSetting.axisX.title))._getFormat=function(){return a.formatNumToX}:a.xValueType===I.DATA_TYPES.number||a.xValueType===I.DATA_TYPES.duration?(e=t.addMeasureAxis("x",a.bubblePieSetting.axisX.title))._getFormat=function(){return function(t){return a.formatNumToX(t)}}:(e=t.addCategoryAxis("x",a.bubblePieSetting.axisX.title))._getFormat=()=>(e.maxTextWidth=a.bubleMaxTextWidthX,le.formatedMultiline(a.bubleMaxTextWidthX,null!==a.xValueType?a.formatNumToX:null));return e},le.prototype.setBubbleAxisY=function(t){var e,a=this;if(a.valueType===I.DATA_TYPES.date){a.workingDateFormat=a.bubblePieSetting.axisY.dateFormat;var i=a.getTimeFormat(a.bubblePieSetting.axisY.maxValue-a.bubblePieSetting.axisY.minValue);(e=t.addTimeAxis("y",a.bubblePieSetting.axisY.title))._getFormat=function(){return i}}else a.valueType===I.DATA_TYPES.worklog?(e=t.addTimeAxis("y",a.bubblePieSetting.axisY.title))._getFormat=function(){return a.formatNumTo}:a.valueType===I.DATA_TYPES.number||a.valueType===I.DATA_TYPES.duration?(e=t.addMeasureAxis("y",a.bubblePieSetting.axisY.title))._getFormat=function(){return function(t){return a.formatNumTo(t)}}:(e=t.addCategoryAxis("y",a.bubblePieSetting.axisY.title))._getFormat=()=>(e.maxTextWidth=a.bubleMaxTextWidthY,le.formatedMultiline(a.bubleMaxTextWidthY,null!==a.valueType?a.formatNumTo:null));return e},le.prototype.setBubbleAxisXScale=function(t){var e=this;if(null!=e.bubblePieSetting.axisX.maxValue&&null!=e.bubblePieSetting.axisX.minValue&&e.bubblePieSetting.axisX.maxValue>e.bubblePieSetting.axisX.minValue){if(t.overrideMax=e.bubblePieSetting.axisX.maxValue,t.overrideMin=e.bubblePieSetting.axisX.minValue,!e.xScaleStep&&e.xValueType===I.DATA_TYPES.date){var a=e.bubblePieSetting.axisX.maxValue-e.bubblePieSetting.axisX.minValue;a<1728e5?e.xScaleStep=Math.ceil(a/36e5/12)+"h":a<864e6&&(e.xScaleStep="1d")}if(e.xScaleStep){var n=Wt.default.parseNumber(e.xScaleStep.toString(),e.separator);e.xValueType===I.DATA_TYPES.date&&(t.timePeriod=e.xScaleStep.indexOf("h")>-1?i.default.timeHour:e.xScaleStep.indexOf("w")>-1?i.default.timeWeek:e.xScaleStep.indexOf("m")>-1?i.default.timeMonth:e.xScaleStep.indexOf("y")>-1?i.default.timeYear:i.default.timeDay,t.timeInterval=n),e.xValueType===I.DATA_TYPES.worklog&&(t.timePeriod=e.xScaleStep.indexOf("h")>-1?i.default.timeHour:e.xScaleStep.indexOf("w")>-1?i.default.timeWeek:i.default.timeDay,t.timeInterval=n)}}},le.prototype.setBubbleAxisYScale=function(t){var e=this;if(null!=e.bubblePieSetting.axisY.maxValue&&null!=e.bubblePieSetting.axisY.minValue&&e.bubblePieSetting.axisY.maxValue>e.bubblePieSetting.axisY.minValue){if(t.overrideMax=e.bubblePieSetting.axisY.maxValue,t.overrideMin=e.bubblePieSetting.axisY.minValue,!e.yScaleStep&&e.valueType===I.DATA_TYPES.date){var a=e.bubblePieSetting.axisY.maxValue-e.bubblePieSetting.axisY.minValue;a<1728e5?e.yScaleStep=Math.ceil(a/36e5/12)+"h":a<864e6&&(e.yScaleStep="1d")}if(e.yScaleStep){var n=Wt.default.parseNumber(e.yScaleStep.toString(),e.separator);e.valueType===I.DATA_TYPES.date&&(t.timePeriod=e.yScaleStep.indexOf("h")>-1?i.default.timeHour:e.yScaleStep.indexOf("w")>-1?i.default.timeWeek:e.yScaleStep.indexOf("m")>-1?i.default.timeMonth:e.yScaleStep.indexOf("y")>-1?i.default.timeYear:i.default.timeDay,t.timeInterval=n),e.valueType===I.DATA_TYPES.worklog&&(t.timePeriod=e.yScaleStep.indexOf("h")>-1?i.default.timeHour:e.yScaleStep.indexOf("w")>-1?i.default.timeWeek:i.default.timeDay,t.timeInterval=n)}}},le.prototype.settingBubbleAxis=function(t,e){var a=this;t.showGridlines=a.grid,e.showGridlines=a.grid,t.title=a.xtitle||"",e.title=a.ytitle||"",t.fontSize="14px",e.fontSize="14px"},le.prototype.calculateBubbleLegendSize=function(){var t=this;if(t.isLegendUnderGraph){var e=((t,e,a,i)=>{for(var n,r=0,u=[],o=j(t,a,i),s=n=o.width<=e?e/2-o.width/2:20,l=0;l<t.length;l++)0!==l&&n+o.values[l-1].width+o.values[l].width<e?n+=o.values[l-1].width:(u.push(l),r+=1,n=o.width<=e?e/2-o.width/2:20);return{rows:r,maxWidth:o.keysWidth,firstInRow:u,posX:s}})(t.bubblePieSetting.filterAggregation.slice(),t.width-(20+t.bubblePieSetting.axisY.longestTitle+5+t.ytitleHeight),t.isPivot,36);t.bubblePieSetting.legendHeight=25*(e.rows+1),t.bubblePieSetting.indexFirstLegendInRow=e.firstInRow,t.bubblePieSetting.posX=e.posX}else{var a=V.default.getLongestWordInArr(t.bubblePieSetting.filterAggregation).substr(0,le.textMaxLength);t.bubblePieSetting.legendWidth=23+(0,H.getTextWidth)(a),t.bubblePieSetting.legendHeight=22*t.bubblePieSetting.filterAggregation.length}},le.prototype.optimizeBubbleMultilineWidth=function(t,e,a,i){var n=this,r=0,u=0,o=n.bubleMaxTextWidthX,s=n.bubleMaxTextWidthY,l=n.width-t.left-t.right,c=n.height-t.top-t.bottom,h=n.bubblePieSetting.axisX.order.length,d=n.bubblePieSetting.axisY.order.length,g=()=>{s=le.calcTextMaxWidth(c/d,n.bubblePieSetting.axisY.longestTitleObject,n.bubleMaxTextWidthY),r=s-n.bubleMaxTextWidthY,l-=r},p=()=>{var t,i;a.maxTextWidth&&g(),e.maxTextWidth&&(i=(t=l/h)>e.maxTextWidth,o=i?Math.min(t-5,n.bubblePieSetting.axisX.longestTitleObject.width):le.calcTextMaxWidth(t,n.bubblePieSetting.axisX.longestTitleObject,n.bubleMaxTextWidthX),i?(n.bubleMaxTextWidthX=o,u=0):(u=o-n.bubleMaxTextWidthX,c-=u)),u&&!r&&a.maxTextWidth&&g(),u&&(n.bubleMaxTextWidthX=o,n.maxSizeX=n.bubleMaxTextWidthX),r&&(n.bubleMaxTextWidthY=s,n.bubblePieSetting.axisY.longestTitle=n.bubleMaxTextWidthY+9)},f=0;do{p()}while((r>0||u>0)&&++f<2&&l>0&&c>0);i&&i(),t.left>n.width-t.right&&(t.left=n.width-t.right-100),t.bottom>n.height-t.top&&(t.bottom=n.height-t.top-100)},le.prototype.formatDimpleAxisX=function(t){t.shapes.selectAll("text").each((function(){if(!$(this).attr("transform"))return!1;var t=i.default.select(this),e=t.attr("transform").replace("rotate(90","rotate(-90").replace("translate(-5","translate(5");t.attr("transform",e),"start"===t.style("text-anchor")&&t.style("text-anchor","end")})).call(le.multilineAlign),this.xtitleHeight&&t.titleShape.attr("y",+t.titleShape.attr("y")+5)},le.prototype.eventHandlerSeries=function(t,e){var a=this,i={},n={},r={};t.shapes.on("click",(function(t,u){var o="push",s=u.aggField[0],l=u.aggField[1],c=u.cy,h=u.cx,d=u.aggField[2],g=this;g.classList.contains("highlighted")?(g.classList.remove("highlighted"),o="remove"):g.classList.add("highlighted"),e.forEach((function(t){if(n[t.tableI]||(n[t.tableI]=[0]),-1===n[t.tableI].indexOf(t.rowI)&&n[t.tableI].push(t.rowI),t.indicator===d){if(a.valueType===I.DATA_TYPES.number||a.valueType===I.DATA_TYPES.duration){if(t["orig_"+a.bubblePieSetting.axisY.title]!==c)return}else if(t[a.bubblePieSetting.axisY.title]!==l)return;if(a.xValueType===I.DATA_TYPES.number||a.xValueType===I.DATA_TYPES.duration){if(t["orig_"+a.bubblePieSetting.axisX.title]!==h)return}else if(t[a.bubblePieSetting.axisX.title]!==s)return;"push"===o?(i[t.tableI]||(i[t.tableI]=[0],r[t.tableI]=[]),-1===i[t.tableI].indexOf(t.rowI)&&i[t.tableI].push(t.rowI),r[t.tableI].push(t.rowI)):(r[t.tableI].indexOf(t.rowI)>-1&&r[t.tableI].splice(r[t.tableI].indexOf(t.rowI),1),i[t.tableI].indexOf(t.rowI)>-1&&-1===r[t.tableI].indexOf(t.rowI)&&i[t.tableI].splice(i[t.tableI].indexOf(t.rowI),1),1===i[t.tableI].length&&delete i[t.tableI])}})),a.clearTableHighlight(),a.highlightTable({rowNumber:$.isEmptyObject(i)?n:i})}))},le.prototype.eventHandleLegendClick=function(t,e,a,n){var r=this;t.legends=[];var o=u().getUniqueValues(a,"indicator");e.shapes.selectAll("rect").on("click",(function(e,s){var l=!1,c=[];o.forEach((function(t){t===s.aggField.slice(-1)[0]?l=!0:c.push(t)})),l?i.default.select(this).style("opacity",.2):(c.push(s.aggField.slice(-1)[0]),i.default.select(this).style("opacity",1)),o=c;var h=r.bubblePieSetting.axisX.title,d=r.bubblePieSetting.axisY.title;r.bubblePieSetting.sameValuesCount={},a.forEach((function(t){o.includes(t.indicator)&&(r.valueType!==I.DATA_TYPES.number&&r.valueType!==I.DATA_TYPES.duration&&r.xValueType!==I.DATA_TYPES.number&&r.xValueType!==I.DATA_TYPES.duration||(r.bubblePieSetting.sameValuesCount[(t["orig_"+h]||t[h])+"_"+(t["orig_"+d]||t[d])]>0?r.bubblePieSetting.sameValuesCount[(t["orig_"+h]||t[h])+"_"+(t["orig_"+d]||t[d])]+=1:r.bubblePieSetting.sameValuesCount[(t["orig_"+h]||t[h])+"_"+(t["orig_"+d]||t[d])]=1))}));var g=u().filterData(a,"indicator",o);g.forEach((function(t){r.valueType!==I.DATA_TYPES.number&&r.valueType!==I.DATA_TYPES.duration||(t[d]=parseFloat(t["orig_"+d]/r.bubblePieSetting.sameValuesCount[(t["orig_"+h]||t[h])+"_"+(t["orig_"+d]||t[d])])),r.xValueType!==I.DATA_TYPES.number&&r.xValueType!==I.DATA_TYPES.duration||(t[h]=parseFloat(t["orig_"+h]/r.bubblePieSetting.sameValuesCount[(t["orig_"+h]||t[h])+"_"+(t["orig_"+d]||t[d])]))})),t.data=g,t.draw(),n&&n()}))},le.prototype.settingSeriesTooltip=function(t){var e=this;t.getTooltipText=function(t){var a=function(t,a,i){return V.default.formatAnyValueByType(t,a,(function(t){return t>=1e4?e.formatNum.to(t):e.formatNumShort.to(t)}),e.worklog,i,e.locale,e.separator)},i=null!==e.xValueType?a(t.cx,e.xValueType,e.bubblePieSetting.axisX.dateFormat):t.cx,n=null!==e.valueType?a(t.cy,e.valueType,e.bubblePieSetting.axisY.dateFormat):t.cy,r=null!==e.bubblePieSetting.indicator.valueType?a(t.cz,e.bubblePieSetting.indicator.valueType):t.cz;switch(e.getInnerLabelsParam()){case"Value (Percentage)":r+=" ("+Math.round(100*t.piePct)+"%)";break;case"Percentage (Value)":r=Math.round(100*t.piePct)+"% ("+r+")";break;case"Percentage":r=Math.round(100*t.piePct)+"%"}return[e.bubblePieSetting.axisX.title+": "+i,e.bubblePieSetting.axisY.title+": "+n,t.aggField[2]+": "+r]}},le.prototype.formatExtremumAxesX=function(t,e,a,i){var n=this;if(null!==n.xValueType||null!==n.valueType){var r=fe($(i.svg._groups[0])),u={left:0,right:0,tickXSize:0},o=0,s=0,l=0;t.shapes.selectAll("g").each((function(){o+=1})),u.left=r.left+a.left,u.right=r.right-a.right,u.tickXSize=r.width/o,e.shapes.each((function(){var t=fe($(this));t.left<u.left&&(l=Math.max(l,u.left-t.left)),t.right>u.right&&(s=Math.max(s,t.right-u.right))})),l>0&&null!==n.xValueType&&(t.overrideMin-=(t.overrideMax-t.overrideMin)/o*Math.ceil(l/u.tickXSize)),s>0&&null!==n.xValueType&&(t.overrideMax=+t.overrideMax+(t.overrideMax-t.overrideMin)/o*Math.ceil(s/u.tickXSize))}},le.prototype.formatExtremumAxesY=function(t,e,a,i){var n=this;if(null!==n.xValueType||null!==n.valueType){var r=me($(i.svg._groups[0])),u={top:0,bottom:0,tickYSize:0},o=0,s=0,l=0;t.shapes.selectAll("g").each((function(){o+=1})),u.top=r.top+a.top,u.bottom=r.bottom-a.bottom,u.tickYSize=r.height/o,e.shapes.each((function(){var t=me($(this));t.top<u.top&&(s=Math.max(s,u.top-t.top)),t.bottom>u.bottom&&(l=Math.max(l,t.bottom-u.bottom))})),s>0&&null!==n.valueType&&(t.overrideMax=+t.overrideMax+(t.overrideMax-t.overrideMin)/o*Math.ceil(s/u.tickYSize)),l>0&&null!==n.valueType&&(t.overrideMin-=(t.overrideMax-t.overrideMin)/o*Math.ceil(l/u.tickYSize))}},le.calcTextMaxWidth=rt,le.formatedMultiline=function(t,e){return function(a,n){if(a=e?e(a,n):a,(0,H.getTextWidth)(a)<=t)return a;var r=this.cloneNode(!0);return this.parentNode.insertBefore(r,this),i.default.select(r).text(a).call(le.textToMultiline,t),this.parentNode.removeChild(this),null}},le.textsToMultiline=(t,e,a)=>(t.each((function(){le.textToMultiline(i.default.select(this),e,a)})),t),le.textToMultiline=(t,e,a)=>{e=e||le.textMaxWidth,a=a||"middle";var i=t.text();if((0,H.getTextWidth)(i)<=e)return t;le.stringToLines=nt;var n=le.stringToLines(i,e),r=t.attr("x")||"0em";return t.text(null),n.forEach((e=>{t.append("tspan").attr("x",r).attr("dy","1em").text(e)})),t.call(le.tspanAlign,a),t},le.multilineAlign=(t,e)=>(t.each((function(){le.tspanAlign(i.default.select(this),e)})),t),le.tspanAlign=(t,e)=>{var a=t.selectAll("tspan");if(e=e||("middle"===t.style("text-anchor")?"top":"middle"),a.size()){var n=parseFloat(t.attr("dy"))||0;"middle"===e&&(n-=(a.size()-1)/2),i.default.select(a.nodes()[0]).attr("dy",n+"em")}return t},le.getMultilineHeight=t=>{var e=0;return t.each((function(){i.default.select(this).select("tspan").size()&&(e=Math.max(this.getBBox().height,e))})),e},le.initParamBarColoringType=t=>(t.barColoringType||(t.barColoringType="Gantt"===t.type?"multi":"mono"),t.barColoringType),le.prototype.updateColorsKeyMap=function(t){var e=this.getAllChartColorLabels();return this.colorKeyMap=e.reduce((function(e,a,i){return e[a]=t[i],e}),{}),this.colorKeyMap},le.prototype.extendColorsKeyMap=function(){Object.keys(this.chartFullKeyMap).forEach((t=>{this.colorKeyMap[t]||(this.colorKeyMap[t]=this.colorKeyMap[this.chartFullKeyMap[t]])}))},le.prototype.getColorsFromMap=function(t,e,a){var i=e.map((function(e){return t[e]})),n=i.filter((function(t){return t})),r=n.length;be(n,a);var u=0;return be(i=i.slice(0,e.length).map((function(a,i){return a||(a=n[(r+u++)%n.length],t[e[i]]=a),a})),a),i},le.prototype.setIsMultiColorColumn=function(){this.isMultiColorColumn="multi"===this.barColoringType&&this.columns.length<=1&&this.aggregation.length<=1&&-1!==["Column","Bar"].indexOf(this.type)};var Fe=le},37559:function(t,e,a){!function(e,i){"use strict";t.exports=function(t){var e={version:"2.2.0",plot:{},aggregateMethod:{}};return e.axis=function(a,i,n,r,u,o){this.chart=a,this.position=i,this.categoryFields=null==u?n:[].concat(u),this.measure=r,this.timeField=u,this.floatingBarWidth=5,this.hidden=!1,this.showPercent=!1,this.colors=null,this.overrideMin=null,this.overrideMax=null,this.shapes=null,this.showGridlines=null,this.gridlineShapes=null,this.titleShape=null,this.dateParseFormat=null,this.tickFormat=null,this.timePeriod=null,this.timeInterval=1,this.useLog=!1,this.logBase=10,this.title=void 0,this.clamp=!0,this.ticks=null,this.fontSize="10px",this.fontFamily="sans-serif",this.autoRotateLabel=null==o||o,this._slaves=[],this._scale=null,this._min=0,this._max=0,this._previousOrigin=null,this._origin=null,this._orderRules=[],this._groupOrderRules=[],this._draw=null,this._getAxisData=function(){var t,e,a=[],i=!1;if(this.chart&&this.chart.series){for(t=0;t<this.chart.series.length;t+=1)(e=this.chart.series[t])[this.position]===this&&(e.data&&e.data.length>0?a=a.concat(e.data):i=!0);i&&this.chart.data&&(a=a.concat(this.chart.data))}return a},this._getFontSize=function(){return this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._getFormat=function(){var e,a,i,n,r,u,o;return null!==this.tickFormat&&void 0!==this.tickFormat?e=this._hasTimeField()?t.timeFormat(this.tickFormat):t.format(this.tickFormat):this.showPercent?e=t.format(".0%"):this.useLog&&null!==this.measure?e=function(e){var a=Math.floor(Math.abs(e),0).toString().length,i=Math.min(Math.floor((a-1)/3),4),n="kmBT".substring(i-1,i),r="0"===Math.round(e/Math.pow(1e3,i)*10).toString().slice(-1)?0:1;return 0===e?0:t.format(",."+r+"f")(e/Math.pow(1e3,i))+n}:null!==this.measure?(a=Math.floor(Math.abs(this._max),0).toString(),i=Math.floor(Math.abs(this._min),0).toString(),(n=Math.max(i.length,a.length))>3?(r=Math.min(Math.floor((n-1)/3),4),u="kmBT".substring(r-1,r),o=n-3*r<=1?1:0,e=function(e){return 0===e?0:t.format(",."+o+"f")(e/Math.pow(1e3,r))+u}):(o=Math.max(-(this._tick_step?Math.floor(Math.log(this._tick_step)/Math.LN10):0),0),e=t.format(",."+o+"f"))):e=function(t){return t},e},this._getTimePeriod=function(){var e=this.timePeriod,a=30,i=this._max-this._min;return this._hasTimeField()&&!this.timePeriod&&(e=i/1e3<=a?t.timeSecond:i/6e4<=a?t.timeMinute:i/36e5<=a?t.timeHour:i/864e5<=a?t.timeHay:i/6048e5<=a?t.timeWeek:i/26298e5<=a?t.timeMonth:t.timeYear),e},this._getTooltipText=function(e,a){if(this._hasTimeField())a[this.position+"Field"][0]&&e.push(this.timeField+": "+this._getFormat()(a[this.position+"Field"][0]));else if(this._hasCategories())this.categoryFields.forEach((function(t,i){null!=t&&a[this.position+"Field"][i]&&e.push(t+(a[this.position+"Field"][i]!==t?": "+a[this.position+"Field"][i]:""))}),this);else if(this._hasMeasure())switch(this.position){case"x":e.push(this.measure+": "+this._getFormat()(a.width));break;case"y":e.push(this.measure+": "+this._getFormat()(a.height));break;case"p":e.push(this.measure+": "+this._getFormat()(a.angle)+" ("+t.format(".0%")(a.piePct)+")");break;default:e.push(this.measure+": "+this._getFormat()(a[this.position+"Value"]))}},this._getTopMaster=function(){var t=this;return null!==this.master&&void 0!==this.master&&(t=this.master._getTopMaster()),t},this._hasCategories=function(){return null!==this.categoryFields&&void 0!==this.categoryFields&&this.categoryFields.length>0},this._hasMeasure=function(){return null!==this.measure&&void 0!==this.measure},this._hasTimeField=function(){return null!==this.timeField&&void 0!==this.timeField},this._parseDate=function(e){return null===this.dateParseFormat||void 0===this.dateParseFormat?isNaN(e)?Date.parse(e):new Date(e):t.timeParse(this.dateParseFormat)(e)},this._update=function(a){var i,n,r,u,o=[],s=this.ticks||10,l=function(t,a,i){var n,r,u=t.categoryFields[0],o=t._getAxisData(),s=u,l=!1,c=!0,h=null;for(n=0;n<o.length;n+=1)if(null!=(h=t._parseDate(o[n][u]))&&isNaN(h)){c=!1;break}return c||t.chart.series.forEach((function(e){e[a]===t&&e[i]._hasMeasure()&&(s=e[i].measure,l=!0)}),this),r=t._orderRules.concat({ordering:s,desc:l}),e._getOrderedList(o,u,r)};if(this._min=this.showPercent&&this._min<-1?-1:this._min,this._max=this.showPercent&&this._max>1?1:this._max,this._min=null!==this.overrideMin?this.overrideMin:this._min,this._max=null!==this.overrideMax?this.overrideMax:this._max,"x"!==this.position||null!==this._scale&&!a){if("y"!==this.position||null!==this._scale&&!a)this.position.length>0&&"z"===this.position[0]&&null===this._scale?this.useLog?this._scale=t.scaleLog().range([this.chart._heightPixels()/300,this.chart._heightPixels()/10]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=t.scaleLinear().range([1,this.chart._heightPixels()/10]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&"p"===this.position[0]&&null===this._scale?this.useLog?this._scale=t.scaleLog().range([0,360]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=t.scaleLinear().range([0,360]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&"c"===this.position[0]&&null===this._scale&&(this._scale=t.scaleLinear().range([0,null===this.colors||1===this.colors.length?1:this.colors.length-1]).domain([this._min,this._max]).clamp(this.clamp));else if(this._hasTimeField()?this._scale=t.scaleTime().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=t.scaleLog().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(o=l(this,"y","x"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach((function(t){o=o.concat(l(t,"y","x"))}),this),this._scale=t.scalePoint().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain(o.concat([""]))):this._scale=t.scaleLinear().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"y")){case 0:this._draw=t.axisLeft().scale(this._scale),this.ticks&&this._draw.ticks(s);break;case 1:this._draw=t.axisRight().scale(this._scale),this.ticks&&this._draw.ticks(s)}}else if(this._hasTimeField()?this._scale=t.scaleTime().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=t.scaleLog().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(o=l(this,"x","y"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach((function(t){o=o.concat(l(t,"x","y"))}),this),this._scale=t.scalePoint().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain(o.concat([""]))):this._scale=t.scaleLinear().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"x")){case 0:this._draw=t.axisBottom().scale(this._scale),this.ticks&&this._draw.ticks(s);break;case 1:this._draw=t.axisTop().scale(this._scale),this.ticks&&this._draw.ticks(s)}return null!==this._slaves&&void 0!==this._slaves&&this._slaves.length>0&&this._slaves.forEach((function(t){t._scale=this._scale}),this),null!=a&&!1!==a||this._hasTimeField()||null===this._scale||null===this._scale.ticks||void 0===this._scale.ticks||!(this._scale.ticks(s).length>0)||"x"!==this.position&&"y"!==this.position||(n=(i=this._scale.ticks(s))[1]-i[0],r=((this._max-this._min)%n).toFixed(0),this._tick_step=n,0!==r&&(this._max=Math.ceil(this._max/n)*n,this._min=Math.floor(this._min/n)*n,this._update(!0))),u=null!=o&&o.length>0?this._scale.copy()(o[0]):this._min>0?this._scale.copy()(this._min):this._max<0?this._scale.copy()(this._max):this._scale.copy()(0),this._origin!==u&&(this._previousOrigin=null===this._origin?u:this._origin,this._origin=u),this},this.addGroupOrderRule=function(t,e){this._groupOrderRules.push({ordering:t,desc:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})}},e.chart=function(a,i){this.svg=a,this.x="10%",this.y="10%",this.width="80%",this.height="80%",this.data=i,this.noFormats=!1,this.axes=[],this.series=[],this.legends=[],this.storyboard=null,this.titleShape=null,this.shapes=null,this.ease=t.easeCubicInOut,this.staggerDraw=!1,this.transition={},this._group=a.append("g"),this._group.attr("class","dimple-chart"),this._gridlines_group=this._group.insert("g"),this._gridlines_group.attr("class","dimple-gridlines-group"),this._axis_group=this._group.insert("g"),this._axis_group.attr("class","dimple-axis-group"),this._tooltipGroup=null,this._assignedColors={},this._assignedClasses={},this._nextColor=0,this._nextClass=0,this._axisIndex=function(t,e){var a=0,i=0,n=-1;for(a=0;a<this.axes.length;a+=1){if(this.axes[a]===t){n=i;break}null!=e&&e[0]!==this.axes[a].position[0]||(i+=1)}return n},this._getAllData=function(){var t=[];return null!==this.data&&void 0!==this.data&&this.data.length>0&&(t=t.concat(this.data)),null!==this.series&&void 0!==this.series&&this.series.length>0&&this.series.forEach((function(e){null!==e.data&&void 0!==e.data&&e.data.length>0&&(t=t.concat(e.data))})),t},this._getData=function(a,i,n,r,u,o,s,l,c,h){var d,g,p=[],f=function(t,e){var a=[];return null!==t&&(t._hasTimeField()?a.push(t._parseDate(e[t.timeField])):t._hasCategories()&&t.categoryFields.forEach((function(t){a.push(e[t])}),this)),a},m={x:!1,y:!1,z:!1,p:!1,c:!1},x={x:[],y:[]},y={x:[],y:[],z:[],p:[]},D={min:null,max:null},v={x:[],y:[],z:[],p:[]},b=[],F={},A={x:0,y:0,z:0,p:0},C="",E=[],_=[],w=[],B="",T=[],S="",k=[],P="",L=[],M=[],V=a,I=[];for(g in this.storyboard&&this.storyboard.categoryFields.length>0&&(C=this.storyboard.categoryFields[0],E=e._getOrderedList(V,C,this.storyboard._orderRules)),o&&o._hasCategories()&&o._hasMeasure()&&(B=o.categoryFields[0],T=e._getOrderedList(V,B,o._orderRules.concat([{ordering:o.measure,desc:!0}]))),s&&s._hasCategories()&&s._hasMeasure()&&(S=s.categoryFields[0],k=e._getOrderedList(V,S,s._orderRules.concat([{ordering:s.measure,desc:!0}]))),c&&c._hasCategories()&&c._hasMeasure()&&(P=c.categoryFields[0],L=e._getOrderedList(V,P,c._orderRules.concat([{ordering:c.measure,desc:!0}]))),V.length>0&&i&&i.length>0&&(M=[].concat(r),_=[],i.forEach((function(t){void 0!==V[0][t]&&_.push(t)}),this),c&&c._hasMeasure()?M.push({ordering:c.measure,desc:!0}):h&&h._hasMeasure()?M.push({ordering:h.measure,desc:!0}):l&&l._hasMeasure()?M.push({ordering:l.measure,desc:!0}):o&&o._hasMeasure()?M.push({ordering:o.measure,desc:!0}):s&&s._hasMeasure()&&M.push({ordering:s.measure,desc:!0}),w=e._getOrderedList(V,_,M)),V.sort((function(t,e){var a,i,n,r,u,o,s=0;if(""!==C&&(s=E.indexOf(t[C])-E.indexOf(e[C])),""!==B&&0===s&&(s=T.indexOf(t[B])-T.indexOf(e[B])),""!==S&&0===s&&(s=k.indexOf(t[S])-k.indexOf(e[S])),""!==P&&0===s&&(s=L.indexOf(t[P])-k.indexOf(e[P])),_&&_.length>0&&0===s)for(a=[].concat(_),s=0,n=0;n<w.length;n+=1){for(i=[].concat(w[n]),u=!0,o=!0,r=0;r<a.length;r+=1)u=u&&t[a[r]]===i[r],o=o&&e[a[r]]===i[r];if(u||o){s=u&&o?0:u?-1:1;break}}return s})),V.forEach((function(t){var e,a,r,u,d,g=-1,x=f(o,t),y=f(s,t),D=f(l,t),v=f(c,t),b=[];if(i&&0!==i.length)for(r=0;r<i.length;r+=1)void 0===t[i[r]]?b.push(i[r]):b.push(t[i[r]]);else b=["All"];for(e=b.join("/")+"_"+x.join("/")+"_"+y.join("/")+"_"+v.join("/")+"_"+D.join("/"),a=0;a<p.length;a+=1)if(p[a].key===e){g=a;break}-1===g&&(u={key:e,aggField:b,xField:x,xValue:null,xCount:0,yField:y,yValue:null,yCount:0,pField:v,pValue:null,pCount:0,zField:D,zValue:null,zCount:0,cValue:0,cCount:0,x:0,y:0,xOffset:0,yOffset:0,width:0,height:0,cx:0,cy:0,xBound:0,yBound:0,xValueList:[],yValueList:[],zValueList:[],pValueList:[],cValueList:[],fill:{},stroke:{}},p.push(u),g=p.length-1),d=function(e,a){var i,r,u=!0,o={value:0,count:1},s={value:0,count:1},l="";null!==a&&(i=a.getFrameValue(),a.categoryFields.forEach((function(e,a){a>0&&(l+="/"),l+=t[e],u=l===i}),this)),null!=e&&u&&(r=p[g],e._hasMeasure()&&null!==t[e.measure]&&void 0!==t[e.measure]&&(-1===r[e.position+"ValueList"].indexOf(t[e.measure])&&r[e.position+"ValueList"].push(t[e.measure]),isNaN(parseFloat(t[e.measure]))&&(m[e.position]=!0),o.value=r[e.position+"Value"],o.count=r[e.position+"Count"],s.value=t[e.measure],r[e.position+"Value"]=n(o,s),r[e.position+"Count"]+=1))},d(o,this.storyboard),d(s,this.storyboard),d(l,this.storyboard),d(c,this.storyboard),d(h,this.storyboard)}),this),o&&o._hasCategories()&&o.categoryFields.length>1&&void 0!==x.x&&(I=[],s._hasMeasure()&&I.push({ordering:s.measure,desc:!0}),x.x=e._getOrderedList(V,o.categoryFields[1],o._groupOrderRules.concat(I))),s&&s._hasCategories()&&s.categoryFields.length>1&&void 0!==x.y&&(I=[],o._hasMeasure()&&I.push({ordering:o.measure,desc:!0}),x.y=e._getOrderedList(V,s.categoryFields[1],s._groupOrderRules.concat(I)),x.y.reverse()),p.forEach((function(t){null!==o&&(!0===m.x&&(t.xValue=t.xValueList.length),d=o._hasMeasure()&&o._hasCategories()?(y.x[t.xField.join("/")]||0)+(o._hasMeasure()?Math.abs(t.xValue):0):(y.x[t.xField.join("/")]||0)+(s._hasMeasure()?Math.abs(t.yValue):0),y.x[t.xField.join("/")]=d),null!==s&&(!0===m.y&&(t.yValue=t.yValueList.length),d=s._hasMeasure()&&s._hasCategories()?(y.y[t.yField.join("/")]||0)+(s._hasMeasure()?Math.abs(t.yValue):0):(y.y[t.yField.join("/")]||0)+(o._hasMeasure()?Math.abs(t.xValue):0),y.y[t.yField.join("/")]=d),null!==c&&(!0===m.p&&(t.pValue=t.pValueList.length),d=(y.p[t.pField.join("/")]||0)+(c._hasMeasure()?Math.abs(t.pValue):0),y.p[t.pField.join("/")]=d),null!==l&&(!0===m.z&&(t.zValue=t.zValueList.length),d=(y.z[t.zField.join("/")]||0)+(l._hasMeasure()?Math.abs(t.zValue):0),y.z[t.zField.join("/")]=d),null!==h&&((null===D.min||t.cValue<D.min)&&(D.min=t.cValue),(null===D.max||t.cValue>D.max)&&(D.max=t.cValue))}),this),y.x)y.x.hasOwnProperty(g)&&(A.x+=y.x[g]);for(g in y.y)y.y.hasOwnProperty(g)&&(A.y+=y.y[g]);for(g in y.p)y.p.hasOwnProperty(g)&&(A.p+=y.p[g]);for(g in y.z)y.z.hasOwnProperty(g)&&(A.z+=y.z[g]);return p.forEach((function(e){var a,i,n,r,d=function(t,a,i){var n,r,o,s,l;null!=t&&(s=t.position,t._hasCategories()?t._hasMeasure()?(n=e[t.position+"Field"].join("/"),r=t.showPercent?y[t.position][n]/A[t.position]:y[t.position][n],-1===b.indexOf(n)&&(F[n]=r+(b.length>0?F[b[b.length-1]]:0),b.push(n)),o=e[s+"Bound"]=e["c"+s]="x"!==s&&"y"!==s||!u?r:F[n],e[i]=r,e[s]=o-("x"===s&&r>=0||"y"===s&&r<=0?r:0)):(e[s]=e["c"+s]=e[s+"Field"][0],e[i]=1,void 0!==x[s]&&null!==x[s]&&x[s].length>=2&&(e[s+"Offset"]=x[s].indexOf(e[s+"Field"][1]),e[i]=1/x[s].length)):(r=t.showPercent?e[s+"Value"]/y[a][e[a+"Field"].join("/")]:e[s+"Value"],n=e[a+"Field"].join("/")+(e[s+"Value"]>=0),l=v[s][n]=(null===v[s][n]||void 0===v[s][n]||"z"===s||"p"===s?0:v[s][n])+r,o=e[s+"Bound"]=e["c"+s]="x"!==s&&"y"!==s||!u?r:l,e[i]=r,e[s]=o-("x"===s&&r>=0||"y"===s&&r<=0?r:0)))};d(o,"y","width"),d(s,"x","height"),d(l,"z","r"),d(c,"p","angle"),null!==h&&null!==D.min&&null!==D.max&&(D.min===D.max&&(D.min-=.5,D.max+=.5),D.min=h.overrideMin||D.min,D.max=h.overrideMax||D.max,e.cValue=e.cValue>D.max?D.max:e.cValue<D.min?D.min:e.cValue,r=(n=t.scaleLinear().range([0,null===h.colors||1===h.colors.length?1:h.colors.length-1]).domain([D.min,D.max])(e.cValue))-Math.floor(n),e.cValue===D.max&&(r=1),h.colors&&1===h.colors.length?(a=t.rgb(h.colors[0]),i=t.rgb(this.getColor(e.aggField.slice(-1)[0]).fill)):h.colors&&h.colors.length>1?(a=t.rgb(h.colors[Math.floor(n)]),i=t.rgb(h.colors[Math.ceil(n)])):(a=t.rgb("white"),i=t.rgb(this.getColor(e.aggField.slice(-1)[0]).fill)),a.r=Math.floor(a.r+(i.r-a.r)*r),a.g=Math.floor(a.g+(i.g-a.g)*r),a.b=Math.floor(a.b+(i.b-a.b)*r),e.fill=a.toString(),e.stroke=a.darker(.5).toString())}),this),p},this._getDelay=function(t,a,i){return function(n){var r=0;return i&&a.staggerDraw&&(i.x._hasCategories()?r=e._helpers.cx(n,a,i)/a._widthPixels()*t:i.y._hasCategories()&&(r=(1-e._helpers.cy(n,a,i)/a._heightPixels())*t)),r}},this._getSeriesData=function(){null!==this.series&&void 0!==this.series&&this.series.forEach((function(t){var e,a,i,n,r,u=t.data||this.data||[],o=[].concat(t.categoryFields||"All"),s=this._getData(u,o,t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),l=[],c={},h=t.startAngle*(Math.PI/180)||0,d=(t.endAngle||360)*(Math.PI/180);if(h>d&&(h-=2*Math.PI),t.p&&o.length>0){if(t.x&&t.y){for(o.pop(),l=this._getData(u,["__dimple_placeholder__"].concat(o),t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),e=0;e<s.length;e+=1)for((i=["__dimple_placeholder__"].concat(s[e].aggField)).pop(),t.x&&t.x._hasCategories()&&(i=i.concat(s[e].xField)),t.y&&t.y._hasCategories()&&(i=i.concat(s[e].yField)),n=i.join("|"),a=0;a<l.length;a+=1)if(r=[].concat(l[a].aggField),t.x&&t.x._hasCategories()&&(r=r.concat(l[a].xField)),t.y&&t.y._hasCategories()&&(r=r.concat(l[a].yField)),n===r.join("|")){s[e].xField=l[a].xField,s[e].xValue=l[a].xValue,s[e].xCount=l[a].xCount,s[e].yField=l[a].yField,s[e].yValue=l[a].yValue,s[e].yCount=l[a].yCount,s[e].zField=l[a].zField,s[e].zValue=l[a].zValue,s[e].zCount=l[a].zCount,s[e].x=l[a].x,s[e].y=l[a].y,s[e].r=l[a].r,s[e].xOffset=l[a].xOffset,s[e].yOffset=l[a].yOffset,s[e].width=l[a].width,s[e].height=l[a].height,s[e].cx=l[a].cx,s[e].cy=l[a].cy,s[e].xBound=l[a].xBound,s[e].yBound=l[a].yBound,s[e].xValueList=l[a].xValueList,s[e].yValueList=l[a].yValueList,s[e].zValueList=l[a].zValueList,s[e].cValueList=l[a].cValueList,s[e].pieKey=l[a].key,s[e].value=s.pValue,c[l[a].key]||(c[l[a].key]={total:0,angle:h}),c[l[a].key].total+=s[e].pValue;break}}else for(e=0;e<s.length;e+=1)s[e].pieKey="All",s[e].value=s.pValue,c[s[e].pieKey]||(c[s[e].pieKey]={total:0,angle:h}),c[s[e].pieKey].total+=s[e].pValue;for(e=0;e<s.length;e+=1)0===c[s[e].pieKey].total?s[e].piePct=0:s[e].piePct=s[e].pValue/c[s[e].pieKey].total,s[e].startAngle=c[s[e].pieKey].angle,s[e].endAngle=s[e].startAngle+s[e].piePct*(d-h),c[s[e].pieKey].angle=s[e].endAngle}t._positionData=s}),this)},this._handleTransition=function(t,a,i,n){var r=null;return 0===a?r=t:(r=t.transition().duration(a).delay(i._getDelay(a,i,n)),e._ease(r,i.ease)),r},this._heightPixels=function(){return e._parseYPosition(this.height,this.svg.node())},this._registerEventHandlers=function(a){null!==a._eventHandlers&&a._eventHandlers.length>0&&a._eventHandlers.forEach((function(i){var n,r=function(n){var r=new e.eventArgs;null!==a.chart.storyboard&&(r.frameValue=a.chart.storyboard.getFrameValue()),r.seriesValue=n.aggField,r.xValue=n.x,r.yValue=n.y,r.zValue=n.z,r.pValue=n.p,r.colorValue=n.cValue,r.seriesShapes=a.shapes,r.selectedShape=t.select(this),i.handler(r)};if(null!==i.handler&&"function"==typeof i.handler)if(null!==a._markers&&void 0!==a._markers)for(n in a._markers)a._markers.hasOwnProperty(n)&&a._markers[n].on(i.event,r);else a.shapes.on(i.event,r)}),this)},this._widthPixels=function(){return e._parseXPosition(this.width,this.svg.node())},this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this.addAxis=function(t,a,i,n){var r,u=null,o=null;if(null!=a&&(a=[].concat(a)),"string"==typeof t||t instanceof String)u=new e.axis(this,t,a,i,n),this.axes.push(u);else{if(o=t,(u=new e.axis(this,o.position,a,i,n))._hasMeasure()!==o._hasMeasure()?r="You have specified a composite axis where some but not all axes have a measure - this is not supported, all axes must be of the same type.":u._hasTimeField()!==o._hasTimeField()?r="You have specified a composite axis where some but not all axes have a time field - this is not supported, all axes must be of the same type.":(null===u.categoryFields||void 0===u.categoryFields?0:u.categoryFields.length)!==(null===o.categoryFields||void 0===o.categoryFields?0:o.categoryFields.length)&&(r="You have specified a composite axis where axes have differing numbers of category fields - this is not supported, all axes must be of the same type."),r)throw r;o._slaves.push(u)}return u},this.addCategoryAxis=function(t,e){return this.addAxis(t,e,null)},this.addColorAxis=function(t,e){var a=this.addAxis("c",null,t);return a.colors=null==e?null:[].concat(e),a},this.addLegend=function(t,a,i,n,r,u){u=null==u?this.series:[].concat(u),r=null==r?"left":r;var o=new e.legend(this,t,a,i,n,r,u);return this.legends.push(o),o},this.addLogAxis=function(t,e,a){var i=this.addAxis(t,null,e,null);return null!=a&&(i.logBase=a),i.useLog=!0,i},this.addMeasureAxis=function(t,e){return this.addAxis(t,null,e)},this.addPctAxis=function(t,e,a){var i=null;return(i=null!=a?this.addAxis(t,a,e):this.addMeasureAxis(t,e)).showPercent=!0,i},this.addSeries=function(t,a,i){null!=i||(i=this.axes),null!=a||(a=e.plot.bubble);var n,r=null,u=null,o=null,s=null,l=null;return i.forEach((function(t){null!==t&&a.supportedAxes.indexOf(t.position)>-1&&(null===r&&"x"===t.position[0]?r=t:null===u&&"y"===t.position[0]?u=t:null===o&&"z"===t.position[0]?o=t:null===s&&"c"===t.position[0]?s=t:null===s&&"p"===t.position[0]&&(l=t))}),this),t&&(t=[].concat(t)),n=new e.series(this,t,r,u,o,s,l,a,e.aggregateMethod.sum,a.stacked),this.series.push(n),n},this.addTimeAxis=function(t,e,a,i){var n=this.addAxis(t,null,null,e);return n.tickFormat=i,n.dateParseFormat=a,n},this.assignClass=function(t,e){return this._assignedClasses[t]=e,this._assignedClasses[t]},this.assignColor=function(t,a,i,n){return this._assignedColors[t]=new e.color(a,i,n),this._assignedColors[t]},this.customClassList={axisLine:"dimple-custom-axis-line",axisLabel:"dimple-custom-axis-label",axisTitle:"dimple-custom-axis-title",tooltipBox:"dimple-custom-tooltip-box",tooltipLabel:"dimple-custom-tooltip-label",tooltipDropLine:"dimple-custom-tooltip-dropline",lineMarker:"dimple-custom-line-marker",lineMarkerCircle:"dimple-custom-line-marker-circle",legendLabel:"dimple-custom-legend-label",legendKey:"dimple-custom-legend-key",areaSeries:"dimple-custom-series-area",barSeries:"dimple-custom-series-bar",bubbleSeries:"dimple-custom-series-bubble",lineSeries:"dimple-custom-series-line",pieSeries:"dimple-custom-series-pie",gridline:"dimple-custom-gridline",colorClasses:["dimple-custom-format-1","dimple-custom-format-2","dimple-custom-format-3","dimple-custom-format-4","dimple-custom-format-5","dimple-custom-format-6","dimple-custom-format-7","dimple-custom-format-8","dimple-custom-format-9","dimple-custom-format-10"]},this.defaultColors=[new e.color("#80B1D3"),new e.color("#FB8072"),new e.color("#FDB462"),new e.color("#B3DE69"),new e.color("#FFED6F"),new e.color("#BC80BD"),new e.color("#8DD3C7"),new e.color("#CCEBC5"),new e.color("#FFFFB3"),new e.color("#BEBADA"),new e.color("#FCCDE5"),new e.color("#D9D9D9")],this.draw=function(e,a){e=e||0;var i,n,r=null,u=null,o=!1,s=!1,l=this._xPixels(),c=this._yPixels(),h=this._widthPixels(),d=this._heightPixels();return null!=a&&!1!==a||this._getSeriesData(),this.axes.forEach((function(t){t._scale=null}),this),this.axes.forEach((function(t){if(t._min=0,t._max=0,n=[],t._hasMeasure()){var e=!1;this.series.forEach((function(a){if(a._deepMatch(t)){var i=a._axisBounds(t.position);t._min>i.min&&(t._min=i.min),t._max<i.max&&(t._max=i.max),e=!0}}),this),e||this._getAllData().forEach((function(e){t._min>e[t.measure]&&(t._min=e[t.measure]),t._max<e[t.measure]&&(t._max=e[t.measure])}),this)}else t._hasTimeField()?(t._min=null,t._max=null,this.series.forEach((function(e){e._deepMatch(t)&&null!==e[t.position].timeField&&void 0!==e[t.position].timeField&&-1===n.indexOf(e[t.position].timeField)&&n.push(e[t.position].timeField)}),this),t._getAxisData().forEach((function(e){n.forEach((function(a){var i=t._parseDate(e[a]);(null===t._min||i<t._min)&&(t._min=i),(null===t._max||i>t._max)&&(t._max=i)}),this)}),this)):t._hasCategories()&&(t._min=0,i=[],this.series.forEach((function(e){e._deepMatch(t)&&null!==e[t.position].categoryFields[0]&&void 0!==e[t.position].categoryFields[0]&&-1===n.indexOf(e[t.position].categoryFields[0])&&n.push(e[t.position].categoryFields[0])}),this),t._getAxisData().forEach((function(t){n.forEach((function(e){-1===i.indexOf(t[e])&&i.push(t[e])}),this)}),this),t._max=i.length);null!==t._slaves&&void 0!==t._slaves&&t._slaves.length>0&&t._slaves.forEach((function(e){e._min=t._min,e._max=t._max}),this),t._update(),null===r&&"x"===t.position?r=t:null===u&&"y"===t.position&&(u=t)}),this),this.axes.forEach((function(a){var i=!1,n=null,g=0,p=null,f=!1,m=0,x={l:null,t:null,r:null,b:null},y=0,D=0,v="",b=this,F=function(t){return null===n||0===e||i?t:b._handleTransition(t,e,b)},A=function(){var e=t.select(this).selectAll("text");return!a.measure&&a._max>0&&("x"===a.position?e.attr("x",h/a._max/2):"y"===a.position&&e.attr("y",d/a._max*-1/2)),a.categoryFields&&a.categoryFields.length>0&&(a!==r||null!==u.categoryFields&&0!==u.categoryFields.length||e.attr("y",c+d-u._scale(0)+9),a!==u||null!==r.categoryFields&&0!==r.categoryFields.length||e.attr("x",-1*(r._scale(0)-l)-9)),this},C=function(e){return function(){var a=t.select(this).attr("class")||"";return-1===a.indexOf(e)&&(a+=" "+e),a.trim()}};null===a.gridlineShapes?(a.showGridlines||null===a.showGridlines&&!a._hasCategories()&&(!o&&"x"===a.position||!s&&"y"===a.position))&&(a.gridlineShapes=this._gridlines_group.append("g").attr("class","dimple-gridline"),"x"===a.position?o=!0:s=!0):"x"===a.position?o=!0:s=!0,null===a.shapes&&(a.shapes=this._axis_group.append("g").attr("class","dimple-axis dimple-axis-"+a.position).each((function(){b.noFormats||t.select(this).style("font-family",a.fontFamily).style("font-size",a._getFontSize())})),i=!0),a===r&&null!==u?(n="translate(0, "+(null===u.categoryFields||0===u.categoryFields.length?u._scale(0):c+d)+")",p="translate(0, "+(a===r?c+d:c)+")",g=-d):a===u&&null!==r?(n="translate("+(null===r.categoryFields||0===r.categoryFields.length?r._scale(0):l)+", 0)",p="translate("+(a===u?l:l+h)+", 0)",g=-h):"x"===a.position?(p=n="translate(0, "+(a===r?c+d:c)+")",g=-d):"y"===a.position&&(p=n="translate("+(a===u?l:l+h)+", 0)",g=-h),null!==n&&null!==a._draw&&(a._hasTimeField()?F(a.shapes).call(a._draw.ticks(a._getTimePeriod(),a.timeInterval).tickFormat(a._getFormat())).attr("transform",n).each(A):a.useLog?F(a.shapes).call(a._draw.ticks(4,a._getFormat())).attr("transform",n).each(A):F(a.shapes).call(a._draw.tickFormat(a._getFormat())).attr("transform",n).each(A),null!==a.gridlineShapes&&F(a.gridlineShapes).call(a._draw.tickSize(g,0,0).tickFormat("")).attr("transform",p)),F(a.shapes.selectAll("text")).attr("class",C(b.customClassList.axisLabel)).call((function(t){b.noFormats||t.style("font-family",a.fontFamily).style("font-size",a._getFontSize())})),F(a.shapes.selectAll("path, line")).attr("class",C(b.customClassList.axisLine)).call((function(t){b.noFormats||t.style("fill","none").style("stroke","black").style("shape-rendering","crispEdges")})),null!==a.gridlineShapes&&(a.gridlineShapes.selectAll("path").remove(),F(a.gridlineShapes.selectAll("line")).attr("class",C(b.customClassList.gridline)).call((function(t){b.noFormats||t.style("fill","none").style("stroke","lightgray").style("opacity",.8)}))),null!==a.measure&&void 0!==a.measure||(a.autoRotateLabel?a===r?(m=0,a.shapes.selectAll("text").each((function(){var t=a.maxTextWidth||this.getComputedTextLength();m=t>m?t:m})),m>(a._scale.step?a._scale.step():h/a.shapes.selectAll("text").nodes().length)?(f=!0,a.shapes.selectAll("text").style("text-anchor","start").each((function(){var e=this.getBBox();t.select(this).attr("transform","rotate(90,"+e.x+","+(e.y+e.height/2)+") translate(-5, 0)")}))):(f=!1,a.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):"x"===a.position&&(m=0,a.shapes.selectAll("text").each((function(){var t=this.getComputedTextLength();m=t>m?t:m})),m>h/a.shapes.selectAll("text").nodes().length?(f=!0,a.shapes.selectAll("text").style("text-anchor","end").each((function(){var e=this.getBBox();t.select(this).attr("transform","rotate(90,"+(e.x+e.width)+","+(e.y+e.height/2)+") translate(5, 0)")}))):(f=!1,a.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):(f=!1,a.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))),null!==a.titleShape&&void 0!==a.titleShape&&a.titleShape.remove(),a.shapes.selectAll("text").each((function(){var t=this.getBBox();(null===x.l||-9-t.width<x.l)&&(x.l=-9-t.width),(null===x.r||t.x+t.width>x.r)&&(x.r=t.x+t.width),f?((null===x.t||t.y+t.height-t.width<x.t)&&(x.t=t.y+t.height-t.width),(null===x.b||t.height+t.width>x.b)&&(x.b=(a.maxTextWidth?20:t.height)+t.width)):((null===x.t||t.y<x.t)&&(x.t=t.y),(null===x.b||9+t.height>x.b)&&(x.b=9+t.height))})),"x"===a.position?(D=a===r?c+d+x.b+5:c+x.t-10,y=l+h/2):"y"===a.position&&(v="rotate(270, "+(y=a===u?l+x.l-10:l+h+x.r+20)+", "+(D=c+d/2)+")"),a.hidden||"x"!==a.position&&"y"!==a.position||null===a.title||(a.titleShape=this._axis_group.append("text").attr("class","dimple-axis dimple-title "+b.customClassList.axisTitle+" dimple-axis-"+a.position),a.titleShape.attr("x",y).attr("y",D).attr("text-anchor","middle").attr("transform",v).text(void 0!==a.title?a.title:null===a.categoryFields||void 0===a.categoryFields||0===a.categoryFields.length?a.measure:a.categoryFields.join("/")).each((function(){b.noFormats||t.select(this).style("font-family",a.fontFamily).style("font-size",a._getFontSize())})),a===r?a.titleShape.each((function(){t.select(this).attr("y",D+this.getBBox().height/1.65)})):a===u&&a.titleShape.each((function(){t.select(this).attr("x",y+this.getBBox().height/1.65)})))}),this),this.series.forEach((function(t){t.plot.draw(this,t,e),this._registerEventHandlers(t)}),this),this.legends.forEach((function(t){t._draw()}),this),this.storyboard&&(this.storyboard._drawText(),this.storyboard.autoplay&&this.storyboard.startAnimation()),this},this.getClass=function(t){return this._assignedClasses[t]||(this._assignedClasses[t]=this.customClassList.colorClasses[this._nextClass],this._nextClass=(this._nextClass+1)%this.customClassList.colorClasses.length),this._assignedClasses[t]},this.getColor=function(t){return null!==this._assignedColors[t]&&void 0!==this._assignedColors[t]||(this._assignedColors[t]=this.defaultColors[this._nextColor],this._nextColor=(this._nextColor+1)%this.defaultColors.length),this._assignedColors[t]},this.setBounds=function(t,a,i,n){return this.x=t,this.y=a,this.width=i,this.height=n,this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this.draw(0,!0),this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return e._parseXPosition(this.width,this.svg.node())},this._heightPixels=function(){return e._parseYPosition(this.height,this.svg.node())},this},this.setMargins=function(t,a,i,n){return this.x=t,this.y=a,this.width=0,this.height=0,this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return e._parentWidth(this.svg.node())-this._xPixels()-e._parseXPosition(i,this.svg.node())},this._heightPixels=function(){return e._parentHeight(this.svg.node())-this._yPixels()-e._parseYPosition(n,this.svg.node())},this},this.setStoryboard=function(t,a){return this.storyboard=new e.storyboard(this,t),null!=a&&(this.storyboard.onTick=a),this.storyboard}},e.color=function(e,a,i){this.fill=e,this.stroke=null==a?t.rgb(e).darker(.5).toString():a,this.opacity=null==i?.8:i},e.eventArgs=function(){this.seriesValue=null,this.xValue=null,this.yValue=null,this.zValue=null,this.pValue=null,this.colorValue=null,this.frameValue=null,this.seriesShapes=null,this.selectedShape=null},e.legend=function(a,i,n,r,u,o,s){this.chart=a,this.series=s,this.x=i,this.y=n,this.width=r,this.height=u,this.horizontalAlign=o,this.shapes=null,this.fontSize="10px",this.fontFamily="sans-serif",this._draw=function(){var a,i=this._getEntries(),n=0,r=0,u=0,o=0,s=15,l=9,c=5,h=this;this.shapes&&this.shapes.remove(),a=this.chart._group.selectAll(".dimple-dont-select-any").data(i).enter().append("g").attr("class",(function(t){return"dimple-legend "+e._createClass(t.aggField)})).attr("opacity",1),a.append("text").attr("class",(function(t){return"dimple-legend dimple-legend-text "+e._createClass(t.aggField)+" "+h.chart.customClassList.legendLabel})).text((function(t){return t.key})).call((function(t){h.chart.noFormats||t.style("font-family",h.fontFamily).style("font-size",h._getFontSize()).style("shape-rendering","crispEdges")})).each((function(){var t=this.getBBox();t.width>n&&(n=t.width),t.height>r&&(r=t.height)})),a.append("rect").attr("class",(function(t){return"dimple-legend dimple-legend-key "+e._createClass(t.aggField)})).attr("height",l).attr("width",s),r=(r<l?l:r)+h._getVerticalPadding(),n+=s+h._getHorizontalPadding(),a.each((function(a){u+n>h._widthPixels()&&(u=0,o+=r),o>h._heightPixels()?t.select(this).remove():(t.select(this).select("text").attr("x","left"===h.horizontalAlign?h._xPixels()+s+c+u:h._xPixels()+(h._widthPixels()-u-n)+s+c).attr("y",(function(){return h._yPixels()+o+this.getBBox().height/1.65})).attr("width",h._widthPixels()).attr("height",h._heightPixels()),t.select(this).select("rect").attr("class",(function(t){return"dimple-legend dimple-legend-key "+e._createClass(t.aggField)+" "+h.chart.customClassList.legendKey+" "+t.css})).attr("x","left"===h.horizontalAlign?h._xPixels()+u:h._xPixels()+(h._widthPixels()-u-n)).attr("y",h._yPixels()+o).attr("height",l).attr("width",s).call((function(t){h.chart.noFormats||t.style("fill",a.fill).style("stroke",a.stroke).style("opacity",a.opacity).style("shape-rendering","crispEdges")})),u+=n)})),this.shapes=a},this._getEntries=function(){var t=[];return this.series&&this.series.forEach((function(e){e._positionData.forEach((function(a){var i,n=-1,r=e.plot.grouped&&!e.x._hasCategories()&&!e.y._hasCategories()&&a.aggField.length<2?"All":a.aggField.slice(-1)[0];for(i=0;i<t.length;i+=1)if(t[i].key===r){n=i;break}-1===n&&e.chart._assignedColors[r]&&(t.push({key:r,fill:e.chart._assignedColors[r].fill,stroke:e.chart._assignedColors[r].stroke,opacity:e.chart._assignedColors[r].opacity,css:e.chart._assignedClasses[r],series:e,aggField:a.aggField}),n=t.length-1)}))}),this),t},this._getFontSize=function(){return this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._getHorizontalPadding=function(){return isNaN(this.horizontalPadding)?20:this.horizontalPadding},this._getVerticalPadding=function(){return isNaN(this.verticalPadding)?2:this.verticalPadding},this._heightPixels=function(){return e._parseYPosition(this.height,this.chart.svg.node())},this._widthPixels=function(){return e._parseXPosition(this.width,this.chart.svg.node())},this._xPixels=function(){return e._parseXPosition(this.x,this.chart.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.chart.svg.node())}},e.series=function(t,e,a,i,n,r,u,o,s,l){this.chart=t,this.x=a,this.y=i,this.z=n,this.c=r,this.p=u,this.plot=o,this.categoryFields=e,this.aggregate=s,this.stacked=l,this.barGap=.2,this.clusterBarGap=.1,this.lineWeight=2,this.lineMarkers=!1,this.afterDraw=null,this.interpolation="linear",this.tooltipFontSize="10px",this.tooltipFontFamily="sans-serif",this.radius="auto",this._group=t._group.append("g"),this._group.attr("class","dimple-series-group-"+t.series.length),this._eventHandlers=[],this._positionData=[],this._orderRules=[],this._axisBounds=function(t){var e,a,i,n={min:0,max:0},r=null,u=null,o=[],s=0,l=this._positionData;return"x"===t?(r=this.x,u=this.y):"y"===t?(r=this.y,u=this.x):"z"===t?r=this.z:"p"===t?r=this.p:"c"===t&&(r=this.c),r.showPercent?l.forEach((function(t){t[r.position+"Bound"]<n.min&&(n.min=t[r.position+"Bound"]),t[r.position+"Bound"]>n.max&&(n.max=t[r.position+"Bound"])}),this):null===u||null===u.categoryFields||0===u.categoryFields.length?l.forEach((function(t){!this._isStacked()||"x"!==r.position&&"y"!==r.position?(t[r.position+"Value"]<n.min&&(n.min=t[r.position+"Value"]),t[r.position+"Value"]>n.max&&(n.max=t[r.position+"Value"])):t[r.position+"Value"]<0?n.min=n.min+t[r.position+"Value"]:n.max=n.max+t[r.position+"Value"]}),this):(e=r.position+"Value",a=u.position+"Field",i=[],l.forEach((function(t){var n=t[a].join("/"),r=i.indexOf(n);-1===r&&(i.push(n),r=i.length-1),void 0===o[r]&&(o[r]={min:0,max:0},r>=s&&(s=r+1)),this.stacked?t[e]<0?o[r].min=o[r].min+t[e]:o[r].max=o[r].max+t[e]:(t[e]<o[r].min&&(o[r].min=t[e]),t[e]>o[r].max&&(o[r].max=t[e]))}),this),o.forEach((function(t){void 0!==t&&(t.min<n.min&&(n.min=t.min),t.max>n.max&&(n.max=t.max))}),this)),n},this._deepMatch=function(t){var e=!1;return this[t.position]===t?e=!0:void 0!==t._slaves&&null!==t._slaves&&t._slaves.length>0&&t._slaves.forEach((function(t){e=e||this._deepMatch(t)}),this),e},this._dropLineOrigin=function(){var t=0,e=0,a={x:null,y:null},i={x:null,y:null};return this.chart.axes.forEach((function(t){"x"===t.position&&null===i.x?t._hasTimeField()?i.x=this.chart._xPixels():i.x=t._origin:"y"===t.position&&null===i.y&&(t._hasTimeField()?i.y=this.chart._yPixels()+this.chart._heightPixels():i.y=t._origin)}),this),this.chart.axes.forEach((function(n){"x"!==n.position||this.x.hidden?"y"!==n.position||this.y.hidden||(this._deepMatch(n)&&(0===e?a.x=i.x:1===e&&(a.x=this.chart._xPixels()+this.chart._widthPixels())),e+=1):(this._deepMatch(n)&&(0===t?a.y=i.y:1===t&&(a.y=this.chart._yPixels())),t+=1)}),this),a},this._getTooltipFontSize=function(){return this.tooltipFontSize&&"auto"!==this.tooltipFontSize.toString().toLowerCase()?isNaN(this.tooltipFontSize)?this.tooltipFontSize:this.tooltipFontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._isStacked=function(){return this.stacked&&(this.x._hasCategories()||this.y._hasCategories())},this.addEventHandler=function(t,e){this._eventHandlers.push({event:t,handler:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getTooltipText=function(t){var e=[];return null!==this.categoryFields&&void 0!==this.categoryFields&&this.categoryFields.length>0&&this.categoryFields.forEach((function(a,i){null!=a&&null!==t.aggField[i]&&void 0!==t.aggField[i]&&e.push(a+(t.aggField[i]!==a?": "+t.aggField[i]:""))}),this),this.p?(this.x&&this.x._hasCategories()&&this.x._getTooltipText(e,t),this.y&&this.y._hasCategories()&&this.y._getTooltipText(e,t),this.z&&this.z._hasCategories()&&this.z._getTooltipText(e,t),this.p._getTooltipText(e,t)):(this.x&&this.x._getTooltipText(e,t),this.y&&this.y._getTooltipText(e,t),this.z&&this.z._getTooltipText(e,t)),this.c&&this.c._getTooltipText(e,t),e.filter((function(t,a){return e.indexOf(t)===a}))}},e.storyboard=function(t,e){null!=e&&(e=[].concat(e)),this.chart=t,this.categoryFields=e,this.autoplay=!0,this.frameDuration=3e3,this.storyLabel=null,this.onTick=null,this.fontSize="10px",this.fontFamily="sans-serif",this._frame=0,this._animationTimer=null,this._categories=[],this._cachedCategoryFields=[],this._orderRules=[],this._drawText=function(){var e=this,a=0;e.storyLabel||(e.chart.axes.forEach((function(t){"x"===t.position&&(a+=1)}),e),e.storyLabel=e.chart._group.append("text").attr("class","dimple-storyboard-label").attr("opacity",1).attr("x",e.chart._xPixels()+.01*e.chart._widthPixels()).attr("y",e.chart._yPixels()+(e.chart._heightPixels()/35>10?e.chart._heightPixels()/35:10)*(a>1?1.25:-1)).call((function(a){t.noFormats||a.style("font-family",e.fontFamily).style("font-size",e._getFontSize())}))),e.storyLabel.text(e.categoryFields.join("\\")+": "+e.getFrameValue())},this._getCategories=function(){return this._categoryFields!==this._cachedCategoryFields&&(this._categories=[],this.chart._getAllData().forEach((function(t){var e="";null!==this.categoryFields&&(this.categoryFields.forEach((function(a,i){i>0&&(e+="/"),e+=t[a]}),this),-1===this._categories.indexOf(e)&&(this._categories.push(e),this._categories.length))}),this),this._cachedCategoryFields=this._categoryFields),this._categories},this._getFontSize=function(){return this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._goToFrameIndex=function(t){this._frame=t%this._getCategories().length,this.chart.draw(this.frameDuration/2)},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getFrameValue=function(){var t=null;return this._frame>=0&&this._getCategories().length>this._frame&&(t=this._getCategories()[this._frame]),t},this.goToFrame=function(t){if(this._getCategories().length>0){var e=this._getCategories().indexOf(t);this._goToFrameIndex(e)}},this.pauseAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null)},this.startAnimation=function(){null===this._animationTimer&&(null!==this.onTick&&this.onTick(this.getFrameValue()),this._animationTimer=window.setInterval(function(t){return function(){t._goToFrameIndex(t._frame+1),null!==t.onTick&&t.onTick(t.getFrameValue()),t._drawText(t.frameDuration/2)}}(this),this.frameDuration))},this.stopAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null,this._frame=0)}},e.aggregateMethod.avg=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),t.count=null===t.count||void 0===t.count?1:parseFloat(t.count),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),e.count=null===e.count||void 0===e.count?1:parseFloat(e.count),(t.value*t.count+e.value*e.count)/(t.count+e.count)},e.aggregateMethod.count=function(t,e){return t.count=null===t.count||void 0===t.count?0:parseFloat(t.count),e.count=null===e.count||void 0===e.count?0:parseFloat(e.count),t.count+e.count},e.aggregateMethod.max=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value>e.value?t.value:e.value},e.aggregateMethod.min=function(t,e){return null===t.value?parseFloat(e.value):parseFloat(t.value)<parseFloat(e.value)?parseFloat(t.value):parseFloat(e.value)},e.aggregateMethod.sum=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value+e.value},e.plot.area={stacked:!0,grouped:!0,supportedAxes:["x","y","c"],draw:function(a,i,n){var r,u,o,s,l,c,h,d,g,p,f,m,x,y,D,v,b,F,A,C,E,_,w,B,T=i._positionData,S=[],k=null,P="dimple-series-"+a.series.indexOf(i),L=i.x._hasCategories()||i.y._hasCategories()?0:1,M=!1,V={},I=[],O=[],W=function(){return function(a,i,n,r){t.select(i).style("opacity",1),e._showPointTooltip(a,i,n,r)}},N=function(a){return function(i,n,r,u){t.select(n).style("opacity",u.lineMarkers||a.data.length<2?e._helpers.opacity(i,r,u):0),e._removeTooltip(i,n,r,u)}},z=function(t,r){e._drawMarkers(t,a,i,n,P,M,W(t),N(t),r)},G=function(t,n){var r;return"step"===i.interpolation&&i[t]._hasCategories()?(r=e._helpers[t](n,a,i)+("y"===t?e._helpers.height(n,a,i):0),i[t].categoryFields.length<2&&(r+=("y"===t?1:-1)*e._helpers[t+"Gap"](a,i))):r=e._helpers["c"+t](n,a,i),parseFloat(r)},H=function(a,n){var r=t.line().x((function(t){return i.x._hasCategories()||!n?t.x:i.x[n]})).y((function(t){return i.y._hasCategories()||!n?t.y:i.y[n]}));return e._interpolate(r,a),r},Y=function(t,e){return parseFloat(t)-parseFloat(e)},R=function(t,e){return parseFloat(t.x)-parseFloat(e.x)},K=function(t,e,a){var i,n,r=e[e.length-1],u=9999,o=r;for(i=0;i<t.length;i+=1)t[i].x===r.x&&t[i].y===r.y||(n=180-Math.atan2(t[i].x-r.x,t[i].y-r.y)*(180/Math.PI))>a&&n<u&&(o=t[i],u=n);return e.push(o),u};for(r="step"===i.interpolation?"step-after":i.interpolation,f=e._getSeriesOrder(i.data||a.data,i),i.c&&(i.x._hasCategories()&&i.y._hasMeasure()||i.y._hasCategories()&&i.x._hasMeasure())&&(M=!0),i.x._hasCategories()?(w="x",B="y"):i.y._hasCategories()&&(w="y",B="x"),u=0;u<T.length;u+=1){for(l=[],h=-1,s=L;s<T[u].aggField.length;s+=1)l.push(T[u].aggField[s]);for(c=e._createClass(l),s=0;s<S.length;s+=1)if(S[s].keyString===c){h=s;break}-1===h&&(h=S.length,S.push({key:l,keyString:c,color:"white",data:[],points:[],area:{},entry:{},exit:{},group:w&&T[u][w+"Field"]&&T[u][w+"Field"].length>=2?T[u][w+"Field"][0]:"All"})),S[h].data.push(T[u])}for(f&&S.sort((function(t,a){return e._arrayIndexCompare(f,t.key,a.key)})),u=0;u<S.length;u+=1){for(S[u].data.sort(e._getSeriesSortPredicate(a,i,f)),o=0;o<S[u].data.length;o+=1)S[u].points.push({x:G("x",S[u].data[o]),y:G("y",S[u].data[o])}),w&&(V[S[u].group]||(V[S[u].group]={}),V[S[u].group][S[u].points[S[u].points.length-1][w]]=i[B]._origin);m=S[u].points,"step"===i.interpolation&&m.length>1&&w&&(i.x._hasCategories()?(m.push({x:2*m[m.length-1].x-m[m.length-2].x,y:m[m.length-1].y}),V[S[u].group][m[m.length-1][w]]=i[B]._origin):i.y._hasCategories()&&(m=[{x:m[0].x,y:2*m[0].y-m[1].y}].concat(m),V[S[u].group][m[0][w]]=i[B]._origin,S[u].points=m))}for(D in V)if(V.hasOwnProperty(D)){for(v in I[D]=[],V[D])V[D].hasOwnProperty(v)&&I[D].push(parseFloat(v));I[D].sort(Y)}for(u=0;u<S.length;u+=1){if(m=S[u].points,b=S[u].group,x=[],O=[],M&&e._addGradient(S[u].key,"fill-area-gradient-"+S[u].keyString,i.x._hasCategories()?i.x:i.y,T,a,n,"fill"),I[b]&&I[b].length>0)for(o=0,s=0;o<I[b].length;o+=1)I[b][o]>=m[0][w]&&I[b][o]<=m[m.length-1][w]&&((y={})[w]=I[b][o],y[B]=V[b][I[b][o]],x.push(y),m[s][w]>I[b][o]?O.push(y):(O.push(m[s]),V[S[u].group][I[b][o]]=m[s][B],s+=1));else if(i._orderRules&&i._orderRules.length>0)O=m.concat(m[0]);else{m=m.sort(R),O.push(m[0]),_=0;do{_=K(m,O,_)}while(O.length<=m.length&&(O[0].x!==O[O.length-1].x||O[0].y!==O[O.length-1].y))}x=x.reverse(),F=H(r,"_previousOrigin")(O),A=H("step-after"===r?"step-before":"step-before"===r?"step-after":r,"_previousOrigin")(x),E=-1===(C=H("linear","_previousOrigin")(O)).indexOf("L")?void 0:C.indexOf("L"),S[u].entry=F+(A&&A.length>0?"L"+A.substring(1):"")+(C&&C.length>0?"L"+C.substring(1,E):0),F=H(r)(O),A=H("step-after"===r?"step-before":"step-before"===r?"step-after":r)(x),E=-1===(C=H("linear")(O)).indexOf("L")?void 0:C.indexOf("L"),S[u].update=F+(A&&A.length>0?"L"+A.substring(1):"")+(C&&C.length>0?"L"+C.substring(1,E):0),F=H(r,"_origin")(O),A=H("step-after"===r?"step-before":"step-before"===r?"step-after":r,"_origin")(x),E=-1===(C=H("linear","_origin")(O)).indexOf("L")?void 0:C.indexOf("L"),S[u].exit=F+(A&&A.length>0?"L"+A.substring(1):"")+(C&&C.length>0?"L"+C.substring(1,E):0),S[u].color=a.getColor(S[u].key.length>0?S[u].key[S[u].key.length-1]:"All"),S[u].css=a.getClass(S[u].key.length>0?S[u].key[S[u].key.length-1]:"All")}a._tooltipGroup&&a._tooltipGroup.remove(),k=i.shapes?i.shapes.data(S,(function(t){return t.key})):i._group.selectAll("."+P).data(S,(function(t){return t.key})),d=k.enter().append("path").attr("id",(function(t){return e._createClass([t.key])})).attr("class",(function(t){return P+" dimple-line "+t.keyString+" "+a.customClassList.areaSeries+" "+t.css})).attr("d",(function(t){return t.entry})).call((function(t){a.noFormats||t.attr("opacity",(function(t){return M?1:t.color.opacity})).style("fill",(function(t){return M?"url(#"+e._createClass(["fill-area-gradient-"+t.keyString])+")":t.color.fill})).style("stroke",(function(t){return M?"url(#"+e._createClass(["stroke-area-gradient-"+t.keyString])+")":t.color.stroke})).style("stroke-width",i.lineWeight)})).each((function(t){t.markerData=t.data,z(t,this)})),g=a._handleTransition(k.merge(d),n,a).attr("d",(function(t){return t.update})).each((function(t){t.markerData=t.data,z(t,this)})),p=a._handleTransition(k.exit(),n,a).attr("d",(function(t){return t.exit})).each((function(t){t.markerData=[],z(t,this)})),e._postDrawHandling(i,g,p,n),i.shapes=i._group.selectAll("."+P)}},e.plot.bar={stacked:!0,grouped:!1,supportedAxes:["x","y","c"],draw:function(t,a,i){var n,r,u,o=a._positionData,s=null,l=["dimple-series-"+t.series.indexOf(a),"dimple-bar"],c=!a._isStacked()&&a.x._hasMeasure(),h=!a._isStacked()&&a.y._hasMeasure(),d="none";a.x._hasCategories()&&a.y._hasCategories()?d="both":a.x._hasCategories()?d="x":a.y._hasCategories()&&(d="y"),t._tooltipGroup&&t._tooltipGroup.remove(),s=a.shapes?a.shapes.data(o,(function(t){return t.key})):a._group.selectAll("."+l.join(".")).data(o,(function(t){return t.key})),n=s.enter().append("rect").attr("id",(function(t){return e._createClass([t.key])})).attr("class",(function(a){var i=[];return i=(i=(i=i.concat(a.aggField)).concat(a.xField)).concat(a.yField),l.join(" ")+" "+e._createClass(i)+" "+t.customClassList.barSeries+" "+e._helpers.css(a,t)})).attr("x",(function(i){var n=a.x._previousOrigin;return"x"===d?n=e._helpers.x(i,t,a):"both"===d&&(n=e._helpers.cx(i,t,a)),n})).attr("y",(function(i){var n=a.y._previousOrigin;return"y"===d?n=e._helpers.y(i,t,a):"both"===d&&(n=e._helpers.cy(i,t,a)),n})).attr("width",(function(i){return"x"===d?e._helpers.width(i,t,a):0})).attr("height",(function(i){return"y"===d?e._helpers.height(i,t,a):0})).on("mouseover",(function(i,n){e._showBarTooltip(n,this,t,a)})).on("mouseleave",(function(i,n){e._removeTooltip(n,this,t,a)})).call((function(i){t.noFormats||i.attr("opacity",(function(i){return e._helpers.opacity(i,t,a)})).style("fill",(function(i){return e._helpers.fill(i,t,a)})).style("stroke",(function(i){return e._helpers.stroke(i,t,a)}))})),r=t._handleTransition(s.merge(n),i,t,a).attr("x",(function(i){return c?e._helpers.cx(i,t,a)-a.x.floatingBarWidth/2:e._helpers.x(i,t,a)})).attr("y",(function(i){return h?e._helpers.cy(i,t,a)-a.y.floatingBarWidth/2:e._helpers.y(i,t,a)})).attr("width",(function(i){return c?a.x.floatingBarWidth:e._helpers.width(i,t,a)})).attr("height",(function(i){return h?a.y.floatingBarWidth:e._helpers.height(i,t,a)})).call((function(i){t.noFormats||i.attr("fill",(function(i){return e._helpers.fill(i,t,a)})).attr("stroke",(function(i){return e._helpers.stroke(i,t,a)}))})),u=t._handleTransition(s.exit(),i,t,a).attr("x",(function(i){var n=a.x._origin;return"x"===d?n=e._helpers.x(i,t,a):"both"===d&&(n=e._helpers.cx(i,t,a)),n})).attr("y",(function(i){var n=a.y._origin;return"y"===d?n=e._helpers.y(i,t,a):"both"===d&&(n=e._helpers.cy(i,t,a)),n})).attr("width",(function(i){return"x"===d?e._helpers.width(i,t,a):0})).attr("height",(function(i){return"y"===d?e._helpers.height(i,t,a):0})),e._postDrawHandling(a,r,u,i),a.shapes=a._group.selectAll("."+l.join("."))}},e.plot.bubble={stacked:!1,grouped:!1,supportedAxes:["x","y","z","c"],draw:function(t,a,i){var n,r,u,o=a._positionData,s=null,l=["dimple-series-"+t.series.indexOf(a),"dimple-bubble"];t._tooltipGroup&&t._tooltipGroup.remove(),s=a.shapes?a.shapes.data(o,(function(t){return t.key})):a._group.selectAll("."+l.join(".")).data(o,(function(t){return t.key})),n=s.enter().append("circle").attr("id",(function(t){return e._createClass([t.key])})).attr("class",(function(a){var i=[];return i=(i=(i=(i=i.concat(a.aggField)).concat(a.xField)).concat(a.yField)).concat(a.zField),l.join(" ")+" "+e._createClass(i)+" "+t.customClassList.bubbleSeries+" "+e._helpers.css(a,t)})).attr("cx",(function(i){return a.x._hasCategories()?e._helpers.cx(i,t,a):a.x._previousOrigin})).attr("cy",(function(i){return a.y._hasCategories()?e._helpers.cy(i,t,a):a.y._previousOrigin})).attr("r",0).on("mouseover",(function(i,n){e._showPointTooltip(n,this,t,a)})).on("mouseleave",(function(i,n){e._removeTooltip(n,this,t,a)})).call((function(i){t.noFormats||i.attr("opacity",(function(i){return e._helpers.opacity(i,t,a)})).style("fill",(function(i){return e._helpers.fill(i,t,a)})).style("stroke",(function(i){return e._helpers.stroke(i,t,a)}))})),r=t._handleTransition(s.merge(n),i,t,a).attr("cx",(function(i){return e._helpers.cx(i,t,a)})).attr("cy",(function(i){return e._helpers.cy(i,t,a)})).attr("r",(function(i){return e._helpers.r(i,t,a)})).call((function(i){t.noFormats||i.attr("fill",(function(i){return e._helpers.fill(i,t,a)})).attr("stroke",(function(i){return e._helpers.stroke(i,t,a)}))})),u=t._handleTransition(s.exit(),i,t,a).attr("r",0).attr("cx",(function(i){return a.x._hasCategories()?e._helpers.cx(i,t,a):a.x._origin})).attr("cy",(function(i){return a.y._hasCategories()?e._helpers.cy(i,t,a):a.y._origin})),e._postDrawHandling(a,r,u,i),a.shapes=a._group.selectAll("."+l.join("."))}},e.plot.line={stacked:!1,grouped:!0,supportedAxes:["x","y","c"],draw:function(a,i,n){var r,u,o,s,l,c,h,d,g,p,f,m=i._positionData,x=[],y=null,D="dimple-series-"+a.series.indexOf(i),v=i.x._hasCategories()||i.y._hasCategories()?0:1,b=!1,F=function(){return function(a,i,n,r){t.select(i).style("opacity",1),e._showPointTooltip(a,i,n,r)}},A=function(a){return function(i,n,r,u){t.select(n).style("opacity",u.lineMarkers||a.data.length<2?e._helpers.opacity(i,r,u):0),e._removeTooltip(i,n,r,u)}},C=function(t,r){e._drawMarkers(t,a,i,n,D,b,F(t),A(t),r)},E=function(t,n){var r;return"step"===i.interpolation&&i[t]._hasCategories()?(i.barGap=0,i.clusterBarGap=0,r=e._helpers[t](n,a,i)+("y"===t?e._helpers.height(n,a,i):0)):r=e._helpers["c"+t](n,a,i),parseFloat(r.toFixed(1))},_=function(a,n){var r=t.line().x((function(t){return i.x._hasCategories()||!n?t.x:i.x[n]})).y((function(t){return i.y._hasCategories()||!n?t.y:i.y[n]}));return e._interpolate(r,a),r};for(r="step"===i.interpolation?"step-after":i.interpolation,f=e._getSeriesOrder(i.data||a.data,i),i.c&&(i.x._hasCategories()&&i.y._hasMeasure()||i.y._hasCategories()&&i.x._hasMeasure())&&(b=!0),u=0;u<m.length;u+=1){for(l=[],h=-1,s=v;s<m[u].aggField.length;s+=1)l.push(m[u].aggField[s]);for(c=e._createClass(l),s=0;s<x.length;s+=1)if(x[s].keyString===c){h=s;break}-1===h&&(h=x.length,x.push({key:l,keyString:c,color:"white",data:[],markerData:[],points:[],line:{},entry:{},exit:{}})),x[h].data.push(m[u])}for(f&&x.sort((function(t,a){return e._arrayIndexCompare(f,t.key,a.key)})),u=0;u<x.length;u+=1){for(x[u].data.sort(e._getSeriesSortPredicate(a,i,f)),b&&e._addGradient(x[u].key,"fill-line-gradient-"+x[u].keyString,i.x._hasCategories()?i.x:i.y,m,a,n,"fill"),o=0;o<x[u].data.length;o+=1)x[u].points.push({x:E("x",x[u].data[o]),y:E("y",x[u].data[o])});"step"===i.interpolation&&x[u].points.length>1&&(i.x._hasCategories()?x[u].points.push({x:2*x[u].points[x[u].points.length-1].x-x[u].points[x[u].points.length-2].x,y:x[u].points[x[u].points.length-1].y}):i.y._hasCategories()&&(x[u].points=[{x:x[u].points[0].x,y:2*x[u].points[0].y-x[u].points[1].y}].concat(x[u].points))),x&&x[u]&&x[u].points&&1===x[u].points.length&&x[u].points.push({x:x[u].points[0].x,y:x[u].points[0].y}),x[u].entry=_(r,"_previousOrigin")(x[u].points),x[u].update=_(r)(x[u].points),x[u].exit=_(r,"_origin")(x[u].points),x[u].color=a.getColor(x[u].key.length>0?x[u].key[x[u].key.length-1]:"All"),x[u].css=a.getClass(x[u].key.length>0?x[u].key[x[u].key.length-1]:"All")}a._tooltipGroup&&a._tooltipGroup.remove(),y=i.shapes?i.shapes.data(x,(function(t){return t.key})):i._group.selectAll("."+D).data(x,(function(t){return t.key})),d=y.enter().append("path").attr("id",(function(t){return e._createClass([t.key])})).attr("class",(function(t){return D+" dimple-line "+t.keyString+" "+a.customClassList.lineSeries+" "+t.css})).attr("d",(function(t){return t.entry})).call((function(t){a.noFormats||t.attr("opacity",(function(t){return b?1:t.color.opacity})).style("fill","none").style("stroke",(function(t){return b?"url(#"+e._createClass(["fill-line-gradient-"+t.keyString])+")":t.color.stroke})).style("stroke-width",i.lineWeight)})).each((function(t){t.markerData=t.data,C(t,this)})),g=a._handleTransition(y.merge(d),n,a).attr("d",(function(t){return t.update})).each((function(t){t.markerData=t.data,C(t,this)})),p=a._handleTransition(y.exit(),n,a).attr("d",(function(t){return t.exit})).each((function(t){t.markerData=[],C(t,this)})),e._postDrawHandling(i,g,p,n),i.shapes=i._group.selectAll("."+D)}},e.plot.pie={stacked:!1,grouped:!1,supportedAxes:["x","y","c","z","p"],draw:function(a,i,n){var r,u,o,s=i._positionData,l=null,c=["dimple-series-"+a.series.indexOf(i),"dimple-pie"],h=function(t){return i.x&&i.y?e._helpers.r(t,a,i):a._widthPixels()<a._heightPixels()?a._widthPixels()/2:a._heightPixels()/2},d=function(t){var a=h(t);return i.outerRadius&&(a=e._parsePosition(i.outerRadius,a)),Math.max(a,0)},g=function(t){var a=0;return i.innerRadius&&(a=e._parsePosition(i.innerRadius,h(t))),Math.max(a,0)},p=function(e){return t.arc().innerRadius(g(e)).outerRadius(d(e))(e)},f=function(e){e.innerRadius=g(e),e.outerRadius=d(e);var a,i=t.interpolate(this._current,e);return a=t.arc().innerRadius((function(t){return t.innerRadius})).outerRadius((function(t){return t.outerRadius})),this._current=i(0),function(t){return a(i(t))}},m=function(t){return function(n){var r,u;return i.x&&i.y?(r=!t||i.x._hasCategories()?e._helpers.cx(n,a,i):i.x._previousOrigin,u=!t||i.y._hasCategories()?e._helpers.cy(n,a,i):i.y._previousOrigin):(r=a._xPixels()+a._widthPixels()/2,u=a._yPixels()+a._heightPixels()/2),"translate("+r+","+u+")"}};a._tooltipGroup&&a._tooltipGroup.remove(),l=i.shapes?i.shapes.data(s,(function(t){return t.key})):i._group.selectAll("."+c.join(".")).data(s,(function(t){return t.key})),r=l.enter().append("path").attr("id",(function(t){return e._createClass([t.key])})).attr("class",(function(t){var i=[];return i=(i=i.concat(t.aggField)).concat(t.pField),c.join(" ")+" "+e._createClass(i)+" "+a.customClassList.pieSeries+" "+e._helpers.css(t,a)})).attr("d",p).on("mouseover",(function(t,n){e._showBarTooltip(n,this,a,i)})).on("mouseleave",(function(t,n){e._removeTooltip(n,this,a,i)})).call((function(t){a.noFormats||t.attr("opacity",(function(t){return e._helpers.opacity(t,a,i)})).style("fill",(function(t){return e._helpers.fill(t,a,i)})).style("stroke",(function(t){return e._helpers.stroke(t,a,i)}))})).attr("transform",m(!0)).each((function(t){this._current=t,t.innerRadius=g(t),t.outerRadius=d(t)})),u=a._handleTransition(l.merge(r),n,a,i).call((function(t){n&&n>0?t.attrTween("d",f):t.attr("d",p),a.noFormats||t.attr("fill",(function(t){return e._helpers.fill(t,a,i)})).attr("stroke",(function(t){return e._helpers.stroke(t,a,i)}))})).attr("transform",m(!1)),o=a._handleTransition(l.exit(),n,a,i).attr("transform",m(!0)).attr("d",p),e._postDrawHandling(i,u,o,n),i.shapes=i._group.selectAll("."+c.join("."))}},e._addGradient=function(t,a,i,n,r,u,o){var s=[].concat(t),l=r.svg.select("#"+e._createClass([a])),c=[],h=i.position+"Field",d=!0,g=[];n.forEach((function(t){-1===c.indexOf(t[h])&&t.aggField.join("_")===s.join("_")&&c.push(t[h])}),this),c=c.sort((function(t,e){return i._scale(t)-i._scale(e)})),null===l.node()&&(d=!1,l=r.svg.append("defs").append("linearGradient").attr("id",e._createClass([a])).attr("gradientUnits","userSpaceOnUse").attr("x1","x"===i.position?i._scale(c[0])+r._widthPixels()/c.length/2:0).attr("y1","y"===i.position?i._scale(c[0])-r._heightPixels()/c.length/2:0).attr("x2","x"===i.position?i._scale(c[c.length-1])+r._widthPixels()/c.length/2:0).attr("y2","y"===i.position?i._scale(c[c.length-1])-r._heightPixels()/c.length/2:0)),c.forEach((function(t,e){var a={},i=0;for(i=0;i<n.length;i+=1)if(n[i].aggField.join("_")===s.join("_")&&n[i][h].join("_")===t.join("_")){a=n[i];break}g.push({offset:Math.round(e/(c.length-1)*100)+"%",color:a[o]})}),this),d?r._handleTransition(l.selectAll("stop").data(g),u,r).attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color})):l.selectAll("stop").data(g).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color}))},e._arrayIndexCompare=function(t,e,a){var i,n,r,u,o,s;for(n=0;n<t.length;n+=1){for(u=!0,o=!0,s=[].concat(t[n]),r=0;r<e.length;r+=1)u=u&&e[r]===s[r];for(r=0;r<a.length;r+=1)o=o&&a[r]===s[r];if(u||o){i=u&&o?0:u?-1:1;break}}return i},e._createClass=function(t){var e,a,i=[];if(a=function(t){var e=t.charCodeAt(0),a="-";return e>=65&&e<=90&&(a=t.toLowerCase()),a},t.length>0)for(e=0;e<t.length;e+=1)t[e]&&i.push("dimple-"+t[e].toString().replace(/[^a-z0-9]/g,a));else i=["dimple-all"];return i.join(" ")},e._drawMarkerBacks=function(a,i,n,r,u,o){var s,l,c,h=["dimple-marker-back",u,a.keyString];n.lineMarkers&&(s=null===n._markerBacks||void 0===n._markerBacks||void 0===n._markerBacks[a.keyString]?n._group.selectAll("."+h.join(".")).data(a.markerData):n._markerBacks[a.keyString].data(a.markerData,(function(t){return t.key})),(c=o.nextSibling&&o.nextSibling.id?s.enter().insert("circle","#"+o.nextSibling.id):s.enter().append("circle")).attr("id",(function(t){return e._createClass([t.key+" Marker Back"])})).attr("class",(function(t){var a=[];return n.x._hasCategories()&&(a=a.concat(t.xField)),n.y._hasCategories()&&(a=a.concat(t.yField)),e._createClass(a)+" "+h.join(" ")})).attr("cx",(function(t){return n.x._hasCategories()?e._helpers.cx(t,i,n):n.x._previousOrigin})).attr("cy",(function(t){return n.y._hasCategories()?e._helpers.cy(t,i,n):n.y._previousOrigin})).attr("r",0).attr("fill","white").attr("stroke","none"),i._handleTransition(s.merge(c),r,i).attr("cx",(function(t){return e._helpers.cx(t,i,n)})).attr("cy",(function(t){return e._helpers.cy(t,i,n)})).attr("r",2+n.lineWeight),l=i._handleTransition(s.exit(),r,i).attr("cx",(function(t){return n.x._hasCategories()?e._helpers.cx(t,i,n):n.x._origin})).attr("cy",(function(t){return n.y._hasCategories()?e._helpers.cy(t,i,n):n.y._origin})).attr("r",0),0===r?l.remove():l.each("end",(function(){t.select(this).remove()})),void 0!==n._markerBacks&&null!==n._markerBacks||(n._markerBacks={}),n._markerBacks[a.keyString]=s)},e._drawMarkers=function(a,i,n,r,u,o,s,l,c){var h,d,g,p=["dimple-marker",u,a.keyString];h=null===n._markers||void 0===n._markers||void 0===n._markers[a.keyString]?n._group.selectAll("."+p.join(".")).data(a.markerData):n._markers[a.keyString].data(a.markerData,(function(t){return t.key})),(g=c.nextSibling&&c.nextSibling.id?h.enter().insert("circle","#"+c.nextSibling.id):h.enter().append("circle")).attr("id",(function(t){return e._createClass([t.key+" Marker"])})).attr("class",(function(t){var a=[],r=i.getClass(t.aggField.length>0?t.aggField[t.aggField.length-1]:"All");return n.x._hasCategories()&&(a=a.concat(t.xField)),n.y._hasCategories()&&(a=a.concat(t.yField)),e._createClass(a)+" "+p.join(" ")+" "+i.customClassList.lineMarker+" "+r})).on("mouseover",(function(t,e){s(e,this,i,n)})).on("mouseleave",(function(t,e){l(e,this,i,n)})).attr("cx",(function(t){return n.x._hasCategories()?e._helpers.cx(t,i,n):n.x._previousOrigin})).attr("cy",(function(t){return n.y._hasCategories()?e._helpers.cy(t,i,n):n.y._previousOrigin})).attr("r",0).attr("opacity",n.lineMarkers||a.data.length<2?a.color.opacity:0).call((function(t){i.noFormats||t.attr("fill","white").style("stroke-width",n.lineWeight).attr("stroke",(function(t){return o?e._helpers.fill(t,i,n):a.color.stroke}))})),i._handleTransition(h.merge(g),r,i).attr("cx",(function(t){return e._helpers.cx(t,i,n)})).attr("cy",(function(t){return e._helpers.cy(t,i,n)})).attr("r",2+n.lineWeight).attr("opacity",n.lineMarkers||a.data.length<2?a.color.opacity:0).call((function(t){i.noFormats||t.attr("fill","white").style("stroke-width",n.lineWeight).attr("stroke",(function(t){return o?e._helpers.fill(t,i,n):a.color.stroke}))})),d=i._handleTransition(h.exit(),r,i).attr("cx",(function(t){return n.x._hasCategories()?e._helpers.cx(t,i,n):n.x._origin})).attr("cy",(function(t){return n.y._hasCategories()?e._helpers.cy(t,i,n):n.y._origin})).attr("r",0),0===r?d.remove():d.each("end",(function(){t.select(this).remove()})),void 0!==n._markers&&null!==n._markers||(n._markers={}),n._markers[a.keyString]=h,e._drawMarkerBacks(a,i,n,r,u,c)},e._ease=function(e,a){if(e&&a&&"[object String]"===Object.prototype.toString.call(a)){switch(a){case"linear":a=t.easeLinear;break;case"poly":a=t.easePoly;break;case"quad":a=t.easeQuad;break;case"cubic":a=t.easeCubic;break;case"sin":a=t.easeSin;break;case"exp":a=t.easeExp;break;case"circle":a=t.easeCircle;break;case"elastic":a=t.easeElastic;break;case"back":a=t.easeBack;break;case"bounce":a=t.easeBounce}e.ease(a)}},e._getOrderedList=function(t,a,i){var n,r=[],u=[],o=[].concat(a),s=[].concat(a),l=[];return null!=i&&(l=l.concat(i)),(l=l.concat({ordering:o,desc:!1})).forEach((function(e){var a,i=[],n=[];if("function"==typeof e.ordering){if(t&&t.length>0)for(a in t[0])t[0].hasOwnProperty(a)&&-1===s.indexOf(a)&&s.push(a)}else if(e.ordering instanceof Array){for(a=0;a<e.ordering.length;a+=1)t&&t.length>0&&t[0].hasOwnProperty(e.ordering[a])&&n.push(e.ordering[a]),i.push(e.ordering[a]);n.length>i.length/2?s.concat(n):e.values=i}else s.push(e.ordering)}),this),n=e._rollUp(t,o,s),l.length>=1&&(l.forEach((function(t){var e=null!==t.desc&&void 0!==t.desc&&t.desc,a=t.ordering,i=[],n=function(t){var e,a=0;for(e=0;e<t.length;e+=1){if(isNaN(t[e])){a=void 0;break}a+=parseFloat(t[e])}return a},u=function(t,e){var a=0,i=n(t),r=n(e);return isNaN(i)||isNaN(r)?isNaN(Date.parse(t[0]))||isNaN(Date.parse(e[0]))?t[0]<e[0]?a=-1:t[0]>e[0]&&(a=1):a=Date.parse(t[0])-Date.parse(e[0]):a=parseFloat(i)-parseFloat(r),a};"function"==typeof a?r.push((function(t,i){return(e?-1:1)*a(t,i)})):t.values&&t.values.length>0?(t.values.forEach((function(t){i.push([].concat(t).join("|"))}),this),r.push((function(t,a){var n,r,u,s="",l="";for(u=0;u<o.length;u+=1)u>0&&(s+="|",l+="|"),s+=t[o[u]],l+=a[o[u]];return n=i.indexOf(s),r=i.indexOf(l),n=n<0?e?-1:i.length:n,r=r<0?e?-1:i.length:r,(e?-1:1)*(n-r)}))):[].concat(t.ordering).forEach((function(t){r.push((function(a,i){var n=0;return void 0!==a[t]&&void 0!==i[t]&&(n=u([].concat(a[t]),[].concat(i[t]))),(e?-1:1)*n}))}))})),n.sort((function(t,e){for(var a=0,i=0;a<r.length&&0===i;)i=r[a](t,e),a+=1;return i})),n.forEach((function(t){var e,a=[];if(1===o.length)u.push(t[o[0]]);else{for(e=0;e<o.length;e+=1)a.push(t[o[e]]);u.push(a)}}),this)),u},e._getSeriesOrder=function(t,a){var i=[].concat(a._orderRules),n=a.categoryFields,r=[];return null!=n&&n.length>0&&(null!==a.c&&void 0!==a.c&&a.c._hasMeasure()&&i.push({ordering:a.c.measure,desc:!0}),a.x._hasMeasure()&&i.push({ordering:a.x.measure,desc:!0}),a.y._hasMeasure()&&i.push({ordering:a.y.measure,desc:!0}),r=e._getOrderedList(t,n,i)),r},e._getSeriesSortPredicate=function(t,a,i){return function(n,r){var u=0;return a.x._hasCategories()&&(u=e._helpers.cx(n,t,a)-e._helpers.cx(r,t,a)),0===u&&a.y._hasCategories()&&(u=e._helpers.cy(n,t,a)-e._helpers.cy(r,t,a)),0===u&&i&&(u=e._arrayIndexCompare(i,n.aggField,r.aggField)),u}},e._helpers={cx:function(t,a,i){return null!==i.x.measure&&void 0!==i.x.measure?i.x._scale(t.cx):i.x._hasCategories()&&i.x.categoryFields.length>=2?i.x._scale(t.cx)+e._helpers.xGap(a,i)+(t.xOffset+.5)*((a._widthPixels()/i.x._max-2*e._helpers.xGap(a,i))*t.width):i.x._scale(t.cx)+a._widthPixels()/i.x._max/2},cy:function(t,a,i){return null!==i.y.measure&&void 0!==i.y.measure?i.y._scale(t.cy):null!==i.y.categoryFields&&void 0!==i.y.categoryFields&&i.y.categoryFields.length>=2?i.y._scale(t.cy)-a._heightPixels()/i.y._max+e._helpers.yGap(a,i)+(t.yOffset+.5)*((a._heightPixels()/i.y._max-2*e._helpers.yGap(a,i))*t.height):i.y._scale(t.cy)-a._heightPixels()/i.y._max/2},r:function(t,e,a){var i=0,n=1;return null===a.z||void 0===a.z?i=a.radius&&"auto"!==a.radius?a.radius:5:(a.radius&&"auto"!==a.radius&&a.radius>1&&(n=a.radius/a.z._scale(a.z._max)),i=a.z._hasMeasure()?a.z._scale(t.r)*n:a.z._scale(e._heightPixels()/100)*n),i},xGap:function(t,e){var a=0;return(null===e.x.measure||void 0===e.x.measure)&&e.barGap>0&&(a=t._widthPixels()/e.x._max*(e.barGap>.99?.99:e.barGap)/2),a},xClusterGap:function(t,a,i){var n=0;return null!==i.x.categoryFields&&void 0!==i.x.categoryFields&&i.x.categoryFields.length>=2&&i.clusterBarGap>0&&!i.x._hasMeasure()&&(n=t.width*(a._widthPixels()/i.x._max-2*e._helpers.xGap(a,i))*(i.clusterBarGap>.99?.99:i.clusterBarGap)/2),n},yGap:function(t,e){var a=0;return(null===e.y.measure||void 0===e.y.measure)&&e.barGap>0&&(a=t._heightPixels()/e.y._max*(e.barGap>.99?.99:e.barGap)/2),a},yClusterGap:function(t,a,i){var n=0;return null!==i.y.categoryFields&&void 0!==i.y.categoryFields&&i.y.categoryFields.length>=2&&i.clusterBarGap>0&&!i.y._hasMeasure()&&(n=t.height*(a._heightPixels()/i.y._max-2*e._helpers.yGap(a,i))*(i.clusterBarGap>.99?.99:i.clusterBarGap)/2),n},x:function(t,a,i){return i.x._hasTimeField()?i.x._scale(t.x)-e._helpers.width(t,a,i)/2:null!==i.x.measure&&void 0!==i.x.measure?i.x._scale(t.x):i.x._scale(t.x)+e._helpers.xGap(a,i)+t.xOffset*(e._helpers.width(t,a,i)+2*e._helpers.xClusterGap(t,a,i))+e._helpers.xClusterGap(t,a,i)},y:function(t,a,i){return i.y._hasTimeField()?i.y._scale(t.y)-e._helpers.height(t,a,i)/2:null!==i.y.measure&&void 0!==i.y.measure?i.y._scale(t.y):i.y._scale(t.y)-a._heightPixels()/i.y._max+e._helpers.yGap(a,i)+t.yOffset*(e._helpers.height(t,a,i)+2*e._helpers.yClusterGap(t,a,i))+e._helpers.yClusterGap(t,a,i)},width:function(t,a,i){return null!==i.x.measure&&void 0!==i.x.measure?Math.abs(i.x._scale(t.x<0?t.x-t.width:t.x+t.width)-i.x._scale(t.x)):i.x._hasTimeField()?i.x.floatingBarWidth:t.width*(a._widthPixels()/i.x._max-2*e._helpers.xGap(a,i))-2*e._helpers.xClusterGap(t,a,i)},height:function(t,a,i){return i.y._hasTimeField()?i.y.floatingBarWidth:null!==i.y.measure&&void 0!==i.y.measure?Math.abs(i.y._scale(t.y)-i.y._scale(t.y<=0?t.y+t.height:t.y-t.height)):t.height*(a._heightPixels()/i.y._max-2*e._helpers.yGap(a,i))-2*e._helpers.yClusterGap(t,a,i)},opacity:function(t,e,a){return null!==a.c&&void 0!==a.c?t.opacity:e.getColor(t.aggField.slice(-1)[0]).opacity},fill:function(t,e,a){return null!==a.c&&void 0!==a.c?t.fill:e.getColor(t.aggField.slice(-1)[0]).fill},stroke:function(t,e,a){return null!==a.c&&void 0!==a.c?t.stroke:e.getColor(t.aggField.slice(-1)[0]).stroke},css:function(t,e){return e.getClass(t.aggField.slice(-1)[0])}},e._interpolate=function(e,a){if(e&&a){if("[object String]"===Object.prototype.toString.call(a))switch(a){case"linear":a=t.curveLinear;break;case"linear-closed":a=t.curveLinearClosed;break;case"step":a=t.curveStep;break;case"step-before":a=t.curveStepBefore;break;case"step-after":a=t.curveStepAfter;break;case"basis":a=t.curveBasis;break;case"basis-open":a=t.curveBasisOpen;break;case"basis-closed":a=t.curveBasisClosed;break;case"bundle":a=t.curveBundle;break;case"cardinal":a=t.curveCardinal;break;case"cardinal-open":a=t.curveCardinalOpen;break;case"cardinal-closed":a=t.curveCardinalClosed;break;case"monotone":a=t.curveMonotoneX}e.curve(a)}},e._parentHeight=function(t){var e=t.getBoundingClientRect().height;return(!e||e<0)&&(e=t.clientHeight),e},e._parentWidth=function(t){var e=t.getBoundingClientRect().width;return(!e||e<0)&&(e=t.clientWidth),e},e._parsePosition=function(t,e){var a=0;return t&&t.toString().split(",").forEach((function(i){i&&(isNaN(i)?"%"===i.slice(-1)?a+=e*(parseFloat(i.slice(0,i.length-1))/100):"px"===i.slice(-2)?a+=parseFloat(i.slice(0,i.length-2)):a=t:a+=parseFloat(i))}),this),a<0&&(a=e+a),a},e._parseXPosition=function(t,a){return e._parsePosition(t,e._parentWidth(a))},e._parseYPosition=function(t,a){return e._parsePosition(t,e._parentHeight(a))},e._postDrawHandling=function(t,e,a,i){0===i?(e.each((function(e,a){t.afterDraw&&t.afterDraw(this,e,a)})),a.remove()):(e.on("end",(function(e,a){t.afterDraw&&t.afterDraw(this,e,a)})),a.call((function(){t.shapes&&t.shapes.exit().remove()})))},e._removeTooltip=function(t,e,a,i){a._tooltipGroup&&a._tooltipGroup.remove()},e._rollUp=function(t,e,a){var i=[];return e=null!=e?[].concat(e):[],t.forEach((function(t){var n=-1,r={},u=!0;i.forEach((function(a,i){-1===n&&(u=!0,e.forEach((function(e){u=u&&t[e]===a[e]}),this),u&&(n=i))}),this),-1!==n?r=i[n]:(e.forEach((function(e){r[e]=t[e]}),this),i.push(r),n=i.length-1),a.forEach((function(a){-1===e.indexOf(a)&&(void 0===r[a]&&(r[a]=[]),r[a]=r[a].concat(t[a]))}),this),i[n]=r}),this),i},e._showBarTooltip=function(e,a,i,n){var r,u,o,s,l,c,h=5,d=10,g=750,p=t.select(a),f=p.node().getBBox().x,m=p.node().getBBox().y,x=p.node().getBBox().width,y=p.node().getBBox().height,D=p.attr("opacity"),v=p.attr("fill"),b=n._dropLineOrigin(),F=t.rgb(t.rgb(v).r+.6*(255-t.rgb(v).r),t.rgb(v).g+.6*(255-t.rgb(v).g),t.rgb(v).b+.6*(255-t.rgb(v).b)),A=t.rgb(t.rgb(v).r+.8*(255-t.rgb(v).r),t.rgb(v).g+.8*(255-t.rgb(v).g),t.rgb(v).b+.8*(255-t.rgb(v).b)),C=n.getTooltipText(e),E=0,_=0,w=0,B=function(t,e){var a=p.node().getCTM(),n=i.svg.node().createSVGPoint();return n.x=t||0,n.y=e||0,n.matrixTransform(a)};null!==i._tooltipGroup&&void 0!==i._tooltipGroup&&i._tooltipGroup.remove(),i._tooltipGroup=i.svg.append("g"),n.p||(c=n._isStacked()?1:x/2,n.x._hasCategories()||null===b.y||i._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+i.customClassList.tooltipDropLine).attr("x1",f<n.x._origin?f+c:f+x-c).attr("y1",m<b.y?m+y:m).attr("x2",f<n.x._origin?f+c:f+x-c).attr("y2",m<b.y?m+y:m).call((function(t){i.noFormats||t.style("fill","none").style("stroke",v).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",D)})).transition().delay(g/2).duration(g/2).ease(t.easeLinear).attr("y2",m<b.y?b.y-1:b.y+1),c=n._isStacked()?1:y/2,n.y._hasCategories()||null===b.x||i._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+i.customClassList.tooltipDropLine).attr("x1",f<b.x?f+x:f).attr("y1",m<n.y._origin?m+c:m+y-c).attr("x2",f<b.x?f+x:f).attr("y2",m<n.y._origin?m+c:m+y-c).call((function(t){i.noFormats||t.style("fill","none").style("stroke",v).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",D)})).transition().delay(g/2).duration(g/2).ease(t.easeLinear).attr("x2",f<b.x?b.x-1:b.x+1)),u=(r=i._tooltipGroup.append("g")).append("rect").attr("class","dimple-tooltip "+i.customClassList.tooltipBox),r.selectAll(".dimple-dont-select-any").data(C).enter().append("text").attr("class","dimple-tooltip "+i.customClassList.tooltipLabel).text((function(t){return t})).call((function(t){i.noFormats||t.style("font-family",n.tooltipFontFamily).style("font-size",n._getTooltipFontSize())})),r.each((function(){_=this.getBBox().width>_?this.getBBox().width:_,w=this.getBBox().width>w?this.getBBox().height:w})),r.selectAll("text").attr("x",0).attr("y",(function(){return(E+=this.getBBox().height)-this.getBBox().height/2})),u.attr("x",-h).attr("y",-h).attr("height",Math.floor(E+h)-.5).attr("width",_+2*h).attr("rx",5).attr("ry",5).call((function(t){i.noFormats||t.style("fill",A).style("stroke",F).style("stroke-width",2).style("opacity",.95)})),B(f+x+h+d+_).x<parseFloat(i.svg.node().getBBox().width)?(o=f+x+h+d,s=m+y/2-(E-(w-h))/2):B(f-(h+d+_)).x>0?(o=f-(h+d+_),s=m+y/2-(E-(w-h))/2):B(0,m+y+E+d+h).y<parseFloat(i.svg.node().getBBox().height)?(o=(o=(o=f+x/2-(2*h+_)/2)>0?o:d)+_<parseFloat(i.svg.node().getBBox().width)?o:parseFloat(i.svg.node().getBBox().width)-_-d,s=m+y+2*h):(o=(o=(o=f+x/2-(2*h+_)/2)>0?o:d)+_<parseFloat(i.svg.node().getBBox().width)?o:parseFloat(i.svg.node().getBBox().width)-_-d,s=m-E-(w-h)),l=B(o,s),r.attr("transform","translate("+l.x+" , "+l.y+")")},e._showPointTooltip=function(a,i,n,r){var u,o,s,l,c=5,h=10,d=750,g=t.select(i),p=parseFloat(g.attr("cx")),f=parseFloat(g.attr("cy")),m=parseFloat(g.attr("r")),x=e._helpers.opacity(a,n,r),y=g.attr("stroke"),D=r._dropLineOrigin(),v=t.rgb(t.rgb(y).r+.6*(255-t.rgb(y).r),t.rgb(y).g+.6*(255-t.rgb(y).g),t.rgb(y).b+.6*(255-t.rgb(y).b)),b=t.rgb(t.rgb(y).r+.8*(255-t.rgb(y).r),t.rgb(y).g+.8*(255-t.rgb(y).g),t.rgb(y).b+.8*(255-t.rgb(y).b)),F=0,A=0,C=0,E=r.getTooltipText(a);null!==n._tooltipGroup&&void 0!==n._tooltipGroup&&n._tooltipGroup.remove(),n._tooltipGroup=n.svg.append("g"),n._tooltipGroup.append("circle").attr("class","dimple-line-marker-circle "+n.customClassList.lineMarkerCircle).attr("cx",p).attr("cy",f).attr("r",m).call((function(t){n.noFormats||t.attr("opacity",0).style("fill","none").style("stroke",y).style("stroke-width",1)})).transition().duration(d/2).ease(t.easeLinear).attr("r",m+r.lineWeight+2).call((function(t){n.noFormats||t.attr("opacity",1).style("stroke-width",2)})),null!==D.y&&n._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+n.customClassList.tooltipDropLine).attr("x1",p).attr("y1",f<D.y?f+m+r.lineWeight+2:f-m-r.lineWeight-2).attr("x2",p).attr("y2",f<D.y?f+m+r.lineWeight+2:f-m-r.lineWeight-2).call((function(t){n.noFormats||t.style("fill","none").style("stroke",y).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",x)})).transition().delay(d/2).duration(d/2).ease(t.easeLinear).attr("y2",f<D.y?D.y-1:D.y+1),null!==D.x&&n._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+n.customClassList.tooltipDropLine).attr("x1",p<D.x?p+m+r.lineWeight+2:p-m-r.lineWeight-2).attr("y1",f).attr("x2",p<D.x?p+m+r.lineWeight+2:p-m-r.lineWeight-2).attr("y2",f).call((function(t){n.noFormats||t.style("fill","none").style("stroke",y).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",x)})).transition().delay(d/2).duration(d/2).ease(t.easeLinear).attr("x2",p<D.x?D.x-1:D.x+1),o=(u=n._tooltipGroup.append("g")).append("rect").attr("class","dimple-tooltip "+n.customClassList.tooltipBox),u.selectAll(".dont-select-any").data(E).enter().append("text").attr("class","dimple-tooltip "+n.customClassList.tooltipLabel).text((function(t){return t})).call((function(t){n.noFormats||t.style("font-family",r.tooltipFontFamily).style("font-size",r._getTooltipFontSize())})),u.each((function(){A=this.getBBox().width>A?this.getBBox().width:A,C=this.getBBox().width>C?this.getBBox().height:C})),u.selectAll("text").attr("x",0).attr("y",(function(){return(F+=this.getBBox().height)-this.getBBox().height/2})),o.attr("x",-c).attr("y",-c).attr("height",Math.floor(F+c)-.5).attr("width",A+2*c).attr("rx",5).attr("ry",5).call((function(t){n.noFormats||t.style("fill",b).style("stroke",v).style("stroke-width",2).style("opacity",.95)})),p+m+c+h+A<parseFloat(n.svg.node().getBBox().width)?(s=p+m+c+h,l=f-(F-(C-c))/2):p-m-(c+h+A)>0?(s=p-m-(c+h+A),l=f-(F-(C-c))/2):f+m+F+h+c<parseFloat(n.svg.node().getBBox().height)?(s=(s=(s=p-(2*c+A)/2)>0?s:h)+A<parseFloat(n.svg.node().getBBox().width)?s:parseFloat(n.svg.node().getBBox().width)-A-h,l=f+m+2*c):(s=(s=(s=p-(2*c+A)/2)>0?s:h)+A<parseFloat(n.svg.node().getBBox().width)?s:parseFloat(n.svg.node().getBBox().width)-A-h,l=f-F-(C-c)),u.attr("transform","translate("+s+" , "+l+")")},e.filterData=function(t,e,a){var i=t;return null!==e&&null!==a&&(null!=a&&(a=[].concat(a)),i=[],t.forEach((function(t){(null===t[e]||a.indexOf([].concat(t[e]).join("/"))>-1)&&i.push(t)}),this)),i},e.getUniqueValues=function(t,e){var a=[];return null!=e&&(e=[].concat(e),t.forEach((function(t){var i="";e.forEach((function(e,a){a>0&&(i+="/"),i+=t[e]}),this),-1===a.indexOf(i)&&a.push(i)}),this)),a},e.newSvg=function(e,a,i){var n=null;if(null!=e||(e="body"),(n=t.select(e)).empty())throw"The '"+e+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return n.append("svg").attr("width",a).attr("height",i)},e}(a(93102))}()},48605:function(t,e,a){"use strict";a.r(e);var i=a(93102);i.selection.prototype.filterByAttr=function(t,e){return this.filter((function(){return this.attributes[t].textContent===e}))},i.transition.prototype.filterByAttr=i.selection.prototype.filterByAttr,e.default=i},78644:function(t,e,a){"use strict";a.r(e);a(98457),a(84745),a(68049);var i=a(53348),n=a(16631),r=a.n(n);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l={initChartColorsDialog:function(t){var e="tf-chart-color-"+t.macroId,a=e+"-"+t.pageId;return i.default.initAJSDialog(o(o({container:t.settings,dialogName:e,dialogId:a,options:{offsetX:-20,width:220,gravity:"n",noBind:!0,addActiveClass:!1}},i.default.getColorsDialogOptions(t,a,!0)),{},{cancelCallback:function(){t.triggerSettingsButtonInvoke()}}))},initInterpolationDialog:function(t){var e="tf-interpolation-dialog-"+t.macroId,a=e+"-"+t.pageId;return i.default.initAJSDialog({container:t.settings,dialogName:e,dialogId:a,options:{offsetX:-20,width:250,gravity:"n",noBind:!0,addActiveClass:!1},getContent:function(){var e=t.getChartColorLabels(),n=[];return e.forEach((function(e,a){t.interpolation[e]||(t.interpolation[e]=t.defaultInterpolation),n.push({field:e,value:t.interpolation[e],variant:i.default.FIELD_VARIANTS.INTERPOLATION_SELECT})})),r().inlineDialog({clazz:"tf-interpolation-dialog",name:"interpolation",inputs:n,dialogId:a})},applyCallback:function(e){t.triggerSettingsButtonInvoke(),t.enableSaveBtn();var a={};e.popup.find("form").find("select").each((function(t,e){var i=$(e);a[i.data("name")]=i.val()})),t.interpolation=a,t.draw()},cancelCallback:function(){t.triggerSettingsButtonInvoke()},hideCallback:function(){t.controls.removeClass("active")}})},initLineSettingsDialog:function(t){var e="tf-line-settings-dialog-"+t.macroId,a=e+"-"+t.pageId;return i.default.initAJSDialog({container:t.settings,dialogName:e,dialogId:a,options:{offsetX:-20,width:250,gravity:"n",noBind:!0,addActiveClass:!1},getContent:function(){var e=t.getChartColorLabels(),n=[];return e.forEach((function(e,a){t.lineSettings[e]||(t.lineSettings[e]={type:"solid",width:1.5}),n.push({field:e,value:t.lineSettings[e],variant:i.default.FIELD_VARIANTS.LINE_SETTINGS})})),r().inlineDialog({clazz:"tf-line-settings-dialog",name:"line-settings",inputs:n,dialogId:a})},applyCallback:function(e){t.triggerSettingsButtonInvoke(),t.enableSaveBtn();var a={};e.popup.find("form").find(".field-group").each((function(t,e){var i=$(e),n=i.find("select"),r=n.data("name"),u=n.val(),o=Math.abs(parseFloat(i.find("input").val()||"1.5"));a[r]={type:u,width:o}})),t.lineSettings=a,t.draw()},cancelCallback:function(){t.triggerSettingsButtonInvoke()},hideCallback:function(){t.controls.removeClass("active")}})}};e.default=l}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:1791a6b5a8055d273cb9cc15df557148', location = 'build/3924.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3924],{34138:function(e,t,a){a.r(t),a.d(t,{DATA_TYPES:function(){return l}});var l={date:"date",number:"number",label:"label",text:"text"}},43924:function(e,t,a){a.r(t);a(98457),a(48868),a(88170),a(46527),a(32323),a(98871),a(47002),a(39684),a(59977),a(16856),a(61986),a(6345),a(91463),a(43028),a(99941),a(67590),a(69223),a(15610),a(54861);var l=a(83931),r=a(34138),u=a(24238),s=a(96570),o=a(72510);t.default=class{init(e){e.hasClass("pivot-table-result")||(l.default.normalizeTable(e,"data-tf-ready"),l.default.processMergedCells(e));var t=l.default.getTablesAndRowsFromTables(e,l.default.mixedType);this.rowsArray=t.rows,this.tablesArray=t.tables,this.tableColumns=l.default.getRawColumns(this.tablesArray),this.dateFormat=u.default.getStoredValue("tf-dateformat")||l.default.getLocaleDateFormat("yy-mm-dd"),this.locale=l.default.getLocale(),this.worklog=l.default.getWorklog(u.default.getStoredValue("tf-worklog")),this.separator=l.default.mapSeparator(u.default.getStoredValue("tf-decimalSeparator"))||o.SEPARATORS.SHORT.POINT}get rows(){return this.rowsArray}get tables(){return this.tablesArray}get columns(){return this.tableColumns}get userLocale(){return this.locale}get columnsData(){var e={};return this.tableColumns.forEach(((t,a)=>{this.tablesArray.some((a=>{var r=l.default.getCellPosition(a,t),u=this.getColumnData(a,r,this.dateFormat,this.locale,this.separator,this.worklog);if(u)return e[u.type]||(e[u.type]=[]),e[u.type].push({column:t,columnData:u}),!0}))})),e}getColumnValues(e,t){return e.map((e=>e[t])).filter(((e,t)=>t&&e))}getColumnData(e,t,a,u,o,n){var i=this.getColumnValues(e,t),f=new Set(i);if(i.length){var d=l.default.getDateFormat(i,u,a);if(d)return{type:r.DATA_TYPES.date,values:f,rawValues:e.map((e=>e[t])),dateFormat:d};var g=s.default.getValueType(i[0],o,n,!0);if(null!==g)return{type:r.DATA_TYPES.number,values:f,valueType:g};if(f.size<i.length)return{type:r.DATA_TYPES.label,values:f,hasRepeats:!0};if(i.length<51){var h=i.reduce(((e,t)=>e+t)).length/i.length;if(h<30)return{type:r.DATA_TYPES.label,values:f,avgLength:h}}return{type:r.DATA_TYPES.text,values:i}}return null}}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:3e124e3485c6c8a6bde8f7a10c345c52', location = 'build/8479.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8479],{16631:function(e){if(void 0===(t=window.TFACInlineDialogTemplates=window.TFACInlineDialogTemplates||{}))var t={};t.inlineDialog=function(e,a){var n="",r=soy.$$escapeHtml(e.name)+"-"+soy.$$escapeHtml(e.dialogId);if(n+='<form class="aui top-label aui-legacy-forms inline-dialog-form tf-inline-dialog-form '+soy.$$escapeHtml(e.clazz)+'" id="'+soy.$$escapeHtml(r)+'">',""!=e.inputs){n+='<div class="fieldset total">';for(var i=e.inputs,s=i.length,o=0;o<s;o++){var l=i[o];n+='<div class="field-group"><label for="input-'+soy.$$escapeHtml(l.field)+"-"+soy.$$escapeHtml(o)+'">'+soy.$$escapeHtml(l.field)+(l.help?'<a href="'+soy.$$escapeHtml(l.help)+'" target="_blank"><span class="aui-icon aui-icon-small aui-iconfont-help tf-macro-editor-help"></span></a>':"")+"</label>"+t.field({input:l,index:o,formId:r})+"</div>"}n+='</div><div class="buttons-container"><div class="buttons"><input class="aui-button" type="button" value="'+soy.$$escapeHtml("Save")+'" id="apply-'+soy.$$escapeHtml(e.dialogId)+'"/><a class="cancel" id="cancel-'+soy.$$escapeHtml(e.dialogId)+'">'+soy.$$escapeHtml("Cancel")+"</a></div></div>"}else n+='<div class="aui-message info aui-message-info"><p>'+soy.$$escapeHtml("Filters are not specified")+'</p></div><div class="buttons-container"><div class="buttons"><a class="cancel" id="cancel-'+soy.$$escapeHtml(e.dialogId)+'">'+soy.$$escapeHtml("Cancel")+"</a></div></div>";return n+="</form>"},goog.DEBUG&&(t.inlineDialog.soyTemplateName="TFACInlineDialogTemplates.inlineDialog"),t.field=function(e,t){var a="";if("checkbox"==e.input.variant)a+='<input class="checkbox inverse-input" type="checkbox" name="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" id="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-type="'+soy.$$escapeHtml(e.input.type)+'"'+(e.input.value?' checked="checked"':"")+"/>";else if("text"==e.input.variant||"password"==e.input.variant)a+='<input type="'+soy.$$escapeHtml(e.input.variant)+'" class="text simple-input" name="'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" id="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-type="'+soy.$$escapeHtml(e.input.type)+'"'+(e.input.value?' value="'+soy.$$escapeHtml(e.input.value)+'"':"")+"/>";else if("textarea"==e.input.variant)a+='<textarea class="textarea" name="'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" id="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-type="'+soy.$$escapeHtml(e.input.type)+'">'+(e.input.value?soy.$$escapeHtml(e.input.value):"")+"</textarea>";else if("number"==e.input.variant)a+='<input type="number" min="'+soy.$$escapeHtml(e.input.min)+'" max="'+soy.$$escapeHtml(e.input.max)+'" class="text simple-input" name="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" id="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-type="'+soy.$$escapeHtml(e.input.type)+'"'+(e.input.value?' value="'+soy.$$escapeHtml(e.input.value)+'"':"")+"/>";else if("single_select"==e.input.variant){a+='<select class="select" name="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-type="'+soy.$$escapeHtml(e.input.type)+'"'+(e.input.isMultiple?"multiple":"")+(e.input.isIcon?' data-html="true"':"")+">";for(var n=e.input.selects,r=n.length,i=0;i<r;i++){var s=n[i];a+='<option value="'+soy.$$escapeHtml(s)+'"';for(var o=e.input.value,l=o.length,c=0;c<l;c++){a+=o[c]==s?' selected="selected"':""}a+=">"+soy.$$escapeHtml(s)+"</option>"}for(var u=e.input.fakeSelects,d=u.length,h=0;h<d;h++){var p=u[h];a+='<option value="'+soy.$$escapeHtml(p)+'" selected="selected">'+soy.$$escapeHtml(p)+"</option>"}a+="</select>"}else if("line_settings"==e.input.variant)a+='<select class="select line-settings-type" name="'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-name="'+soy.$$escapeHtml(e.input.field)+'"><option value="solid"'+("solid"==e.input.value.type?'selected="selected"':"")+">"+soy.$$escapeHtml("Solid")+'</option><option value="dash"'+("dash"==e.input.value.type?'selected="selected"':"")+">"+soy.$$escapeHtml("Dash")+'</option><option value="circle"'+("circle"==e.input.value.type?'selected="selected"':"")+">"+soy.$$escapeHtml("Dot")+'</option></select><input class="line-settings-width text simple-input" type="number" min="0" max="100000" name="'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'" data-type="number"'+(e.input.value.width?'value="'+soy.$$escapeHtml(e.input.value.width)+'"':"")+"/>px";else if("interpolation_select"==e.input.variant)a+='<select class="select" data-name="'+soy.$$escapeHtml(e.input.field)+'" name="input-'+soy.$$escapeHtml(e.input.field)+"-"+soy.$$escapeHtml(e.index)+'"><option value="Linear"'+("Linear"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Linear")+'</option><option value="Step"'+("Step"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Step")+'</option><option value="Natural cubic"'+("Natural cubic"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Natural cubic")+'</option><option value="Monotone X cubic"'+("Monotone X cubic"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Monotone X cubic")+'</option><option value="Monotone Y cubic"'+("Monotone Y cubic"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Monotone Y cubic")+'</option><option value="Cubic Catmull–Rom"'+("Cubic Catmull–Rom"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Cubic Catmull-Rom")+'</option><option value="Cubic cardinal"'+("Cubic cardinal"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Cubic cardinal")+'</option><option value="Cubic basis"'+("Cubic basis"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Cubic basis")+'</option><option value="Straightened cubic basis"'+("Straightened cubic basis"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Straightened cubic basis")+"</option></select>";else if("colors"==e.input.variant){a+='<button class="aui-button aui-dropdown2-trigger" aria-owns="tf-chart-colors-'+soy.$$escapeHtml(e.index)+"-"+soy.$$escapeHtml(e.input.id)+'" data-aui-alignment-container="#inline-dialog-tf-chart-colors" aria-haspopup="true"><a class="tfc-color selected" data-color="'+soy.$$escapeHtml(e.input.color)+'" style="background: '+soy.$$escapeHtml(e.input.color)+';"></a></button><div id="tf-chart-colors-'+soy.$$escapeHtml(e.index)+"-"+soy.$$escapeHtml(e.input.id)+'" class="aui-style-default aui-dropdown2 tfc-color-dd" data-aui-dom-container="#'+soy.$$escapeHtml(e.formId)+'"><ul>';for(var f=["#8eb021","#d04437","#3572b0","#f6c342","#654982","#f691b2","#2484c1","#65a620","#7b6888","#d8d23a","#e98125","#6ada6a","#0c6197","#e4a14b","#8cc3e9","#a3acb2","#69a6f9","#cc1010","#31383b","#000000","#ffffff"],m=f.length,g=0;g<m;g++){var b=f[g];a+='<li class="tfc-li-color"><a class="tfc-color" data-color="'+soy.$$escapeHtml(b)+'" style="background: '+soy.$$escapeHtml(b)+';" data-index="'+soy.$$escapeHtml(e.index)+'"></a></li>'}a+="</ul></div>"}else if("color scheme"==e.input.variant)a+='<select class="select macro-param-input" id="macro-param-barColoringType"><option value="mono" '+("mono"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Single color")+'</option><option value="multi" '+("multi"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Multicolor")+'</option><option value="columns" '+("columns"==e.input.value?'selected="selected"':"")+">"+soy.$$escapeHtml("Colors in table columns")+"</option></select>";else if("range"==e.input.variant){var v=e.input.isDate?"date":"number";a+='<div class="'+soy.$$escapeHtml(v)+'s range" data-type="'+soy.$$escapeHtml(e.input.type)+'">'+soy.$$escapeHtml("from")+'<input type="text" class="text '+soy.$$escapeHtml(v)+' from" name="'+soy.$$escapeHtml(e.input.field)+"-from-"+soy.$$escapeHtml(e.index)+'" id="input-'+soy.$$escapeHtml(e.input.field)+"-from-"+soy.$$escapeHtml(e.index)+'" '+(e.input.value?' value="'+soy.$$escapeHtml(e.input.value)+'" ':"")+(e.input.isDate?' placeholder="'+soy.$$escapeHtml("Pick date")+'" ':"")+"/>"+soy.$$escapeHtml("to")+'<input type="text" class="text '+soy.$$escapeHtml(v)+' to" name="'+soy.$$escapeHtml(e.input.field)+"-to-"+soy.$$escapeHtml(e.index)+'" id="input-'+soy.$$escapeHtml(e.input.field)+"-to-"+soy.$$escapeHtml(e.index)+'" '+(e.input.valueTo?' value="'+soy.$$escapeHtml(e.input.valueTo)+'" ':"")+(e.input.isDate?' placeholder="'+soy.$$escapeHtml("Pick date")+'" ':"")+"/></div>"}return a},goog.DEBUG&&(t.field.soyTemplateName="TFACInlineDialogTemplates.field"),e.exports=t},79086:function(e){if(void 0===(t=window.TFACMacroEditorUI=window.TFACMacroEditorUI||{}))var t={};t.subtleButton=function(e,t){return"<div class='aui-button aui-button-subtle' id='button-"+soy.$$escapeHtml(e.id)+'\' style="padding-left: 0"><span class="aui-icon aui-icon-small tf-iconfont-view-table" style="margin-right: 3px"></span><span class="name">'+soy.$$escapeHtml(e.name)+"</span></div>"},goog.DEBUG&&(t.subtleButton.soyTemplateName="TFACMacroEditorUI.subtleButton"),t.tableFilterTabs=function(e,t){return'<div class="aui-tabs horizontal-tabs tf-macrobrowser-tabs"><ul class="tabs-menu"><li id="tab-filters" class="menu-item"><a href="#tab-filters-div">'+soy.$$escapeHtml("Filters")+'</a></li><li id="tab-filter-options" class="menu-item"><a href="#tab-filter-options-div">'+soy.$$escapeHtml("Filtration")+'</a></li><li id="tab-table-options" class="menu-item"><a href="#tab-table-options-div">'+soy.$$escapeHtml("Table view")+'</a></li></ul><div class="tabs-pane active-pane"></div></div>'},goog.DEBUG&&(t.tableFilterTabs.soyTemplateName="TFACMacroEditorUI.tableFilterTabs"),t.pivotTabs=function(e,t){return'<div class="aui-tabs horizontal-tabs tf-macrobrowser-tabs"><ul class="tabs-menu"><li id="tab-columns" class="menu-item"><a href="#tab-columns-div">'+soy.$$escapeHtml("Data Source")+'</a></li><li id="tab-options" class="menu-item"><a href="#tab-options-div">'+soy.$$escapeHtml("Options")+'</a></li></ul><div class="tabs-pane active-pane"></div></div>'},goog.DEBUG&&(t.pivotTabs.soyTemplateName="TFACMacroEditorUI.pivotTabs"),t.chartTabs=function(e,t){return'<div class="aui-tabs horizontal-tabs tf-macrobrowser-tabs"><ul class="tabs-menu"><li id="tab-columns" class="menu-item"><a href="#tab-columns-div">'+soy.$$escapeHtml("Settings")+'</a></li><li id="tab-display-options" class="menu-item"><a href="#tab-display-options-div">'+soy.$$escapeHtml("Look")+'</a></li><li id="tab-advanced-options" class="menu-item"><a href="#tab-advanced-options-div">'+soy.$$escapeHtml("Adjustments")+'</a></li></ul><div class="tabs-pane active-pane"></div></div>'},goog.DEBUG&&(t.chartTabs.soyTemplateName="TFACMacroEditorUI.chartTabs"),e.exports=t},26754:function(e){if(void 0===(t=window.TableJoinerMacroTemplate=window.TableJoinerMacroTemplate||{}))var t={};t.dialog=function(e,a){return'<section id="table-joiner-dialog" class="aui-dialog2 aui-dialog2-xlarge tfac aui-layer" role="dialog" data-aui-modal="true" data-aui-remove-on-hide="true"'+(e.params.isCloud?"":' style="width: 1000px; height: 534px"')+'><base target="_blank"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+(e.isInsert?soy.$$escapeHtml(AJS.format("Insert \u2018{0}\u2019 Macro","Table Transformer")):soy.$$escapeHtml(AJS.format("Edit \u2018{0}\u2019 Macro","Table Transformer")))+'</h2></header><div class="aui-dialog2-content" style="height: 420px">'+t.dialogBody(e)+'</div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button class="aui-button aui-button-primary tj-next">'+soy.$$escapeHtml("Next \u003e\u003e")+'</button><button class="aui-button tj-insert">'+(e.isInsert?soy.$$escapeHtml("Insert"):soy.$$escapeHtml("Save"))+'</button><button class="aui-button aui-button-link tj-cancel">'+soy.$$escapeHtml("Cancel")+'</button></div><div class="aui-dialog2-footer-hint"><a href="https://docs.stiltsoft.com/display/TFAC/How+to+use+Table+Transformer+macro" target="_blank">'+soy.$$escapeHtml("Documentation")+"</a>.&nbsp;<span>"+soy.$$filterNoAutoescape("Post \u003ca href=\u0022https://stiltsoft.customercase.com/forums/table-filter-for-confluence/ideas/create?from=macro\u0022\u003eIdea\u003c/a\u003e or \u003ca href=\u0022https://jsd.stiltsoft.com/servicedesk/customer/portal/2?from=macro\u0022\u003eIssue\u003c/a\u003e.   ")+"</span></div></footer></section>"},goog.DEBUG&&(t.dialog.soyTemplateName="TableJoinerMacroTemplate.dialog"),t.dialogBody=function(e,a){for(var n='<form id="table-joiner-macro" class="aui"><div id="tj-main-tabs" class="aui-tabs vertical-tabs table-macro-main-tabs"><ul class="tabs-menu"><li class="menu-item active-tab"><a href="#tj-wizard">'+soy.$$escapeHtml("Presets")+'</a></li><li class="menu-item"><a href="#tj-sql">'+soy.$$escapeHtml("SQL query")+'</a></li><li class="menu-item"><a href="#tj-options">'+soy.$$escapeHtml("Settings")+'</a></li><li class="menu-item"><a href="#tj-view">'+soy.$$escapeHtml("Options")+"</a></li></ul>"+(e.courseBtn?soy.$$filterNoAutoescape(e.courseBtn):"")+'<div class="tabs-pane-container"><div class="tabs-pane active-pane" id="tj-wizard"><p class="desc">'+soy.$$filterNoAutoescape("Please, select one of the presets for \u003ca href=\u0022https://docs.stiltsoft.com/pages/viewpage.action?pageId=42241562#Defaultautomaticpresets-Mergetablespreset\u0022\u003emerging the tables\u003c/a\u003e or \u003ca href=\u0022https://docs.stiltsoft.com/pages/viewpage.action?pageId=42241562#Defaultautomaticpresets-Lookuptablespreset\u0022\u003elookup\u003c/a\u003e or select \u003ca href=\u0022https://docs.stiltsoft.com/display/TFAC/Custom+Transformation+-+use+cases+with+advanced+SQL+queries\u0022\u003eCustom transformation\u003c/a\u003e for using advanced \u003ca href=\u0022https://docs.stiltsoft.com/display/TFAC/List+of+SQL+functions+available\u0022\u003eSQL queries\u003c/a\u003e.")+'</p><div id="tj-presets">'+t.preset({colsBefore1:3,rowsBefore1:1,colsBefore2:3,rowsBefore2:1,colsAfter:3,rowsAfter:2,id:"tj-union",orientation:"vertical",title:"Merge tables"})+t.preset({colsBefore1:2,rowsBefore1:3,colsBefore2:2,rowsBefore2:3,colsAfter:3,rowsAfter:3,id:"tj-join",orientation:"horizontal",title:"Lookup tables"})+'<div id="tj-custom" class="tj-preset"><div class="preset-wrapper"><h4>'+soy.$$escapeHtml("Custom transformation")+'</h4></div></div></div><div id="join-column-field-group" class="join-column-field-group field-group'+(0==e.joinColumns.length?" hidden":"")+'"><label for="join-column">'+soy.$$escapeHtml("Match records by")+'</label><select id="join-column-param" class="select" data-param="join-column">',r=e.joinColumns,i=r.length,s=0;s<i;s++){var o=r[s];n+='<option value="'+soy.$$escapeHtml(o)+'" '+(e.params["join-column"]==o?" selected ":"")+">"+soy.$$escapeHtml(o)+"</option>"}return n+='</select><div class="arrow"></div></div><div id="join-column-field-message" class="join-column-field-group aui-message info aui-message-info'+(0==!e.joinColumns.length?" hidden":"")+'">'+(e.isProcessorMacro?"<p>"+soy.$$filterNoAutoescape("Unable to determine column to match records. Please, click \u003cbutton class=\u0022aui-button ap-aui-button ap-aui-dialog-button aui-button-link joiner-proc-next-button\u0022\u003eNext\u003c/button\u003e and set the SQL.")+"</p>":"<p>"+soy.$$escapeHtml("Unable to determine column to match records. Please, click \u0022Next\u0022 button and set the SQL.")+"</p>")+'<div class="arrow"></div></div></div><div class="tabs-pane" id="tj-sql"><p class="desc">'+soy.$$filterNoAutoescape("The \u003ca href=\u0022https://docs.stiltsoft.com/display/TFAC/List+of+SQL+functions+available\u0022\u003eSQL\u003c/a\u003e is used to \u003ca href=\u0022https://docs.stiltsoft.com/display/TFAC/Custom+Transformation+-+use+cases+with+advanced+SQL+queries\u0022\u003etransform\u003c/a\u003e source tables. It is either generated by macro when you choose a \u003ca href=\u0022https://docs.stiltsoft.com/display/TFAC/Default+automatic+presets\u0022\u003epreset\u003c/a\u003e in the macro Wizard, or you can write your own \u003ca href=\u0022https://docs.stiltsoft.com/display/TFAC/Advanced+table+cells+formatting\u0022\u003ecomplex query\u003c/a\u003e. Tables are named as \u0022T1\u0022, \u0022T2\u0022, \u0022T3\u0022 and so on. Table name variable \u0022T*\u0022 can be used in \u0022UNION\u0022 and \u0022JOIN\u0022 operations when you have a large or uncertain number of tables. Use single quotes to reference table columns.")+'</p><textarea id="sql-param" class="textarea" data-param="sql">'+soy.$$escapeHtml(e.params.sql)+'</textarea><div id="sql-error"></div></div><div class="tabs-pane" id="tj-options"><p class="desc">'+soy.$$escapeHtml("The following settings are used to process non-text values, such as numbers, dates, time duration and so on.")+'</p><div class="field-group"><label for="macro-param-datepattern">'+soy.$$escapeHtml("Date format")+'</label><input id="macro-param-datepattern" class="text" type="text" data-param="dateFormat" '+(e.params.datepattern?' value="'+soy.$$escapeHtml(e.params.datepattern)+'"':"")+'><div class="macro-param-desc">'+soy.$$filterNoAutoescape("Specify the \u003ca href=\u0022https://docs.stiltsoft.com/display/TFAC/FAQ?from=macro#FAQ-Whatarethesupporteddateformats?\u0022 target=\u0022_blank\u0022\u003edate format\u003c/a\u003e that will be used to read date values.")+'</div></div><div class="field-group"><label for="separator-param">'+soy.$$escapeHtml("Decimal separator")+'</label><select id="separator-param" class="select" data-param="separator"><option value="." '+("."==e.params.separator?" selected ":"")+">"+soy.$$escapeHtml("Point (.)")+'</option><option value="," '+(","==e.params.separator?" selected ":"")+">"+soy.$$escapeHtml("Comma (,)")+'</option></select></div><div class="field-group"><label for="thousand-separator-param">'+soy.$$escapeHtml("Thousands separator")+'</label><select id="thousand-separator-param" class="select" data-param="thousand-separator"><option value="" '+(e.params["thousand-separator"]?"":" selected ")+'></option><option value="\\u0020" '+(" "==e.params["thousand-separator"]?" selected ":"")+">"+soy.$$escapeHtml("Space ( )")+'</option><option value="," '+(","==e.params["thousand-separator"]?" selected ":"")+">"+soy.$$escapeHtml("Comma (,)")+'</option><option value="." '+("."==e.params["thousand-separator"]?" selected ":"")+">"+soy.$$escapeHtml("Point (.)")+'</option></select></div><div class="field-group"><label for="decimals-param">'+soy.$$escapeHtml("Decimal places")+'</label><input id="decimals-param" class="text" type="text" data-param="decimals" '+(e.params.decimals?'value="'+soy.$$escapeHtml(e.params.decimals)+'"':"")+'></div><div class="field-group" id="macro-param-div-worklog"><label for="worklog-param">'+soy.$$escapeHtml("Set worklog settings")+'</label><input id="macro-param-worklog" class="text" type="text" data-param="worklog" '+(e.params.worklog?' value="'+soy.$$escapeHtml(e.params.worklog)+'"':"")+'></div><div class="field-group" id="macro-param-div-transpose"><label for="macro-param-transpose">'+soy.$$escapeHtml("Transpose source tables")+'</label><input id="macro-param-transpose" class="checkbox" type="checkbox" data-param="transpose" '+("true"==e.params.transpose||1==e.params.transpose?' checked="checked"':"")+'></div><div class="field-group" id="macro-param-div-transposeResult"><label for="macro-param-transposeResult">'+soy.$$escapeHtml("Transpose result table")+'</label><input id="macro-param-transposeResult" class="checkbox" type="checkbox" data-param="transposeResult" '+("true"==e.params.transposeResult||1==e.params.transposeResult?' checked="checked"':"")+'></div><input id="macro-param-id" class="text tf-always-hidden" type="text" data-param="id" value="'+soy.$$escapeHtml(e.params.id)+'"></div><div class="tabs-pane" id="tj-view"><p class="desc">'+soy.$$escapeHtml("Choose options you want to have.")+'</p><div class="field-group"><label for="show-source-param">'+soy.$$escapeHtml("Source data:")+'</label><select class="select" id="show-source-param" data-param="show-source"><option value="true" '+("true"==e.params["show-source"]?"selected":"")+">"+soy.$$escapeHtml("Show all content")+'</option><option value="false" '+("true"!=e.params["show-source"]&&"all"!=e.params["show-source"]?"selected":"")+">"+soy.$$escapeHtml("Hide tables")+'</option><option value="all" '+("all"==e.params["show-source"]?"selected":"")+">"+soy.$$escapeHtml("Hide all content")+'</option></select></div><div class="field-group"><label for="export-csv-param">'+soy.$$escapeHtml("Export to CSV button")+'</label><input id="export-csv-param" class="checkbox" type="checkbox" data-param="export-csv"'+("true"==e.params["export-csv"]?'checked="checked"':"")+'></div><div class="field-group"><label for="export-pdf-param">'+soy.$$escapeHtml("Export to PDF button")+'</label><input id="export-pdf-param" class="checkbox" type="checkbox" data-param="export-pdf"'+("true"==e.params["export-pdf"]?'checked="checked"':"")+'></div><div class="field-group"><label for="export-word-param">'+soy.$$escapeHtml("Export to Word button")+'</label><input id="export-word-param" class="checkbox" type="checkbox" data-param="export-word"'+("true"==e.params["export-word"]?'checked="checked"':"")+'></div><div class="field-group"><label for="export-print-param">'+soy.$$escapeHtml("Print button")+'</label><input id="export-print-param" class="checkbox" type="checkbox" data-param="export-print"'+("true"==e.params["export-print"]?'checked="checked"':"")+'></div></div></div></div><div id="tj-preview"><div id="tj-preview-sidebar" title="'+soy.$$escapeHtml("Preview")+'"><div><span class="aui-icon aui-icon-small aui-iconfont-view"></span></div><div id="tj-refresh-preview" title="'+soy.$$escapeHtml("Refresh")+'"><span class="aui-icon aui-icon-small aui-iconfont-build"></span></div></div><div id="tj-preview-content"><span id="tj-preview-spinner"></span><iframe src="'+soy.$$escapeHtml(e.previewSrc)+'"></iframe></div></div></form>'},goog.DEBUG&&(t.dialogBody.soyTemplateName="TableJoinerMacroTemplate.dialogBody"),t.tableExample=function(e,t){for(var a='<div class="table-wrapper"><table class="table-example confluenceTable"><thead><tr>',n=e.cols,r=0;r<n;r++)a+='<th class="confluenceTh"></th>';a+="</tr></thead><tbody>";for(var i=e.rows,s=0;s<i;s++){a+="<tr>";for(var o=e.cols,l=0;l<o;l++)a+='<td class="confluenceTd"></td>';a+="</tr>"}return a+="</tbody></table></div>"},goog.DEBUG&&(t.tableExample.soyTemplateName="TableJoinerMacroTemplate.tableExample"),t.preset=function(e,a){return'<div id="'+soy.$$escapeHtml(e.id)+'" class="tj-preset"><div class="preset-wrapper"><h4>'+soy.$$escapeHtml(e.title)+'</h4><table class="example-container"><tr><td class="dashed '+("vertical"!=e.orientation?"left":"")+'"'+("vertical"==e.orientation?'colspan="3"':"")+">"+t.tableExample({cols:e.colsBefore1,rows:e.rowsBefore1})+("vertical"==e.orientation?'<div class="tj-example-plus">+</div>'+t.tableExample({cols:e.colsBefore2,rows:e.rowsBefore2}):"")+"</td>"+("vertical"!=e.orientation?'<td class="dashed left right">+</td><td class="dashed right">'+t.tableExample({cols:e.colsBefore2,rows:e.rowsBefore2})+"</td>":"")+'</tr><tr><td colspan="3">'+t.arrowDown(null)+'</td></tr><tr><td colspan="3" class="dashed result">'+t.tableExample({cols:e.colsAfter,rows:e.rowsAfter})+"</td></tr></table></div></div>"},goog.DEBUG&&(t.preset.soyTemplateName="TableJoinerMacroTemplate.preset"),t.arrowDown=function(e,t){return'<span class="down-arrow">&#x21e9;</span>'},goog.DEBUG&&(t.arrowDown.soyTemplateName="TableJoinerMacroTemplate.arrowDown"),e.exports=t},12926:function(e){if(void 0===(t=window.TableJoinerTemplate=window.TableJoinerTemplate||{}))var t={};t.view=function(e,t){return'<div class="table-joiner" id="table-joiner-'+soy.$$escapeHtml(e.macroId)+'" data-id="'+soy.$$escapeHtml(e.macroId)+'" data-pageid="'+soy.$$escapeHtml(e.pageId)+'" data-sessionid="'+soy.$$escapeHtml(e.sessionId)+'" data-tj-not-ready="true">'+(e.isEmail?"":(e.exportCSV||e.exportWord||e.exportPDF||e.exportPrint?'<div class="tj-exports">'+(e.exportCSV?'<button class="aui-button export-csv">'+soy.$$escapeHtml("Export to CSV")+"</button>":"")+(e.exportPDF?'<button class="aui-button export-pdf">'+soy.$$escapeHtml("Export to PDF")+"</button>":"")+(e.exportWord?'<button class="aui-button export-word">'+soy.$$escapeHtml("Export to Word")+"</button>":"")+(e.exportPrint?'<button class="aui-button export-print">'+soy.$$escapeHtml("Print")+"</button>":"")+"</div>":"")+'<div class="wrapper"><span class="loading"></span><div class="table-wrap"></div></div>')+'<div class="tj-source '+("false"==e.showSource?"tj-hidden":"all"==e.showSource?"tj-hidden hidden-all":"")+'">'+soy.$$filterNoAutoescape(e.body)+"</div></div>"},goog.DEBUG&&(t.view.soyTemplateName="TableJoinerTemplate.view"),t.table=function(e,t){for(var a='<table class="confluenceTable tfac-tj"><thead><tr>',n=e.cols,r=n.length,i=0;i<r;i++){var s=n[i];a+=soy.$$filterNoAutoescape(s.html)}a+="</tr></thead><tbody>";for(var o=e.rows,l=o.length,c=0;c<l;c++){a+="<tr>";for(var u=o[c],d=u.length,h=0;h<d;h++){var p=u[h];a+=p?soy.$$filterNoAutoescape(p.html):'<td class="confluenceTd"></td>'}a+="</tr>"}return a+="</tbody></table>"},goog.DEBUG&&(t.table.soyTemplateName="TableJoinerTemplate.table"),t.tableTh=function(e,t){return'<th class="confluenceTh">'+soy.$$escapeHtml(e.value)+"</th>"},goog.DEBUG&&(t.tableTh.soyTemplateName="TableJoinerTemplate.tableTh"),t.tableTd=function(e,t){return'<td class="confluenceTd '+soy.$$escapeHtml(e.cell.type)+'">'+soy.$$escapeHtml(e.cell.html)+"</td>"},goog.DEBUG&&(t.tableTd.soyTemplateName="TableJoinerTemplate.tableTd"),t.empty=function(e,t){return'<div class="aui-message info aui-message-info"><p>'+soy.$$escapeHtml("Oops, it seems that you need to place a table or a macro generating a table within the Table Transformer macro.")+"</p></div>"},goog.DEBUG&&(t.empty.soyTemplateName="TableJoinerTemplate.empty"),t.tutorial=function(e,t){return'<div id="tt-preview-tutorial" class="preview-tutorial"><h2>'+soy.$$escapeHtml("Welcome to Table Transformer!")+"</h2><h3>"+soy.$$escapeHtml("To start working with tables:")+'</h3><ol type="1"><li>'+soy.$$filterNoAutoescape("Click \u003cdiv class=\u0022tutorial-img img-insert-btn\u0022\u003e\u003c/div\u003e to add the macro to the page")+"</li><li>"+soy.$$escapeHtml("Place one or multiple tables (including macros outputting tables) within the macro body")+"</li><li>"+soy.$$escapeHtml("Edit the macro in the page view or edit mode")+'</li></ol><div class="tt-tutorial-img tutorial-img" /></div>'},goog.DEBUG&&(t.tutorial.soyTemplateName="TableJoinerTemplate.tutorial"),t.noResult=function(e,t){return'<div class="aui-message info aui-message-info"><p>'+soy.$$escapeHtml("The query returned no rows.")+"</p></div>"},goog.DEBUG&&(t.noResult.soyTemplateName="TableJoinerTemplate.noResult"),t.error=function(e,t){return'<div class="aui-message error aui-message-error"><p>'+soy.$$escapeHtml(e.error)+"</p></div>"},goog.DEBUG&&(t.error.soyTemplateName="TableJoinerTemplate.error"),e.exports=t},77406:function(e){if(void 0===(t=window.TableUtilsTemplate=window.TableUtilsTemplate||{}))var t={};t.exportToCSV=function(e,t){return'<section role="dialog" id="export-csv-dialog-'+soy.$$escapeHtml(e.macroId)+'" class="aui-layer aui-dialog2 aui-dialog2-medium tf-csv-export-dialog" aria-hidden="true" data-aui-remove-on-hide="true" data-aui-modal="true" style="height: 440px; width: 600px;"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml("Export Options")+'</h2></header><div class="aui-dialog2-content"><form class="aui" action="javascript: void(0)"><div class="export-csv-input tf-csv-link tf-csv-export-links-wrapper"><label for="tf-csv-export-link">'+soy.$$escapeHtml("Export clickable links")+'</label><select class="select tf-csv-export-links" id="tf-csv-export-link"><option value="false" '+("false"==e.exportLinks?"selected":"")+">"+soy.$$escapeHtml("None")+'</option><option value="true" '+("true"!=e.exportLinks&&e.exportLinks?"":"selected")+">"+soy.$$escapeHtml("Excel friendly")+'</option><option value="all" '+("all"==e.exportLinks?"selected":"")+">"+soy.$$escapeHtml("All links")+'</option></select></div><div class="export-csv-input tf-csv-link param separator"><label class="tf-csv-export-link-separator-label" for="tf-csv-export-link-separator">'+soy.$$escapeHtml("List Separator")+'</label><select class="select" id="tf-csv-export-link-separator"><option value=";" '+(";"==e.linkSeparator?"selected":"")+'>;</option><option value="," '+(","==e.linkSeparator?"selected":"")+'>,</option></select></div><div class="export-csv-input tf-csv-link param hyperlink"><label for="tf-csv-export-hyperlink">'+soy.$$escapeHtml("Office language")+'</label><select class="select" id="tf-csv-export-hyperlink"><option value="Czech" '+("Czech"==e.hyperlink?"selected":"")+'>Czech</option><option value="Danish" '+("Danish"==e.hyperlink?"selected":"")+'>Danish</option><option value="Dutch" '+("Dutch"==e.hyperlink?"selected":"")+'>Dutch</option><option value="English" '+("English"==e.hyperlink?"selected":"")+'>English</option><option value="Finnish" '+("Finnish"==e.hyperlink?"selected":"")+'>Finnish</option><option value="French" '+("French"==e.hyperlink?"selected":"")+'>French</option><option value="German" '+("German"==e.hyperlink?"selected":"")+'>German</option><option value="Hungarian" '+("Hungarian"==e.hyperlink?"selected":"")+'>Hungarian</option><option value="Italian" '+("Italian"==e.hyperlink?"selected":"")+'>Italian</option><option value="Norwegian" '+("Norwegian"==e.hyperlink?"selected":"")+'>Norwegian</option><option value="Polish" '+("Polish"==e.hyperlink?"selected":"")+'>Polish</option><option value="Portugese" '+("Portugese"==e.hyperlink?"selected":"")+'>Portugese</option><option value="Russian" '+("Russian"==e.hyperlink?"selected":"")+'>Russian</option><option value="Spanish" '+("Spanish"==e.hyperlink?"selected":"")+'>Spanish</option><option value="Swedish" '+("Swedish"==e.hyperlink?"selected":"")+'>Swedish</option><option value="Turkish" '+("Turkish"==e.hyperlink?"selected":"")+'>Turkish</option></select></div><select class="select" id="tf-csv-export-type"><option value="default">'+soy.$$escapeHtml("Default settings")+'</option><option value="custom">'+soy.$$escapeHtml("Custom settings")+'</option></select><div id="tf-csv-export-default-message">'+soy.$$escapeHtml("Default settings work well for most spreadsheet management applications, such as MS Excel and others.")+'</div><div id="tf-csv-export-params"><div><div class="export-csv-input" style="width: 49%;"><label>'+soy.$$escapeHtml("Delimiter character")+'</label><div><input class="text export-csv-separator" type="text" style="width: 100%; max-width: none;" placeholder="'+soy.$$escapeHtml("Start typing...\u200b")+'" data-width="150px" value="'+soy.$$escapeHtml(e.separator)+'" /></div></div><div class="export-csv-input" style="width: 49%; margin-right: 0 !important;"><label>'+soy.$$escapeHtml("Quote character")+'</label><div><input class="text export-csv-quote" type="text" style="width: 100%; max-width: none;" placeholder="'+soy.$$escapeHtml("Start typing...\u200b")+'" data-width="150px" value="'+soy.$$escapeHtml(e.quote)+'" /></div></div></div><div class="export-csv-textarea"><label>'+soy.$$escapeHtml("Export table header")+'</label><textarea class="textarea max-textarea export-csv-headers" rows="3" cols="54">'+soy.$$escapeHtml(e.headers)+'</textarea></div></div></form></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button id="csv-export-'+soy.$$escapeHtml(e.macroId)+'" class="aui-button aui-button-primary">'+soy.$$escapeHtml("Export")+'</button><button id="csv-cancel-'+soy.$$escapeHtml(e.macroId)+'" class="aui-button aui-button-link">'+soy.$$escapeHtml("Cancel")+"</button></div></footer></section>"},goog.DEBUG&&(t.exportToCSV.soyTemplateName="TableUtilsTemplate.exportToCSV"),t.dialogRemoveMacro=function(e,t){return'<section id="remove-macro-dialog-'+soy.$$escapeHtml(e.macroId)+'" class="aui-dialog2 aui-dialog2-small aui-layer remove-macro-dialog" role="dialog" aria-hidden="true" data-aui-remove-on-hide="true" style="width: 454px;"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml(AJS.format("Remove {0} Macro",e.macroName))+'</h2><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Close")+'</span></a></header><div class="aui-dialog2-content" style="max-height: 100%;"><p>'+soy.$$escapeHtml("Are you sure you want to remove the macro? All your content will remain on the page safely.")+'</p><p><span class="aui-icon aui-icon-small aui-iconfont-info"></span> '+soy.$$escapeHtml("You can restore the macro by rolling back to a previous page version in the Page History section.")+'</p></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button id="warning-dialog-confirm" class="aui-button aui-button-primary">'+soy.$$escapeHtml("Remove")+'</button><button id="warning-dialog-cancel" class="aui-button aui-button-link">'+soy.$$escapeHtml("Cancel")+"</button></div></footer></section>"},goog.DEBUG&&(t.dialogRemoveMacro.soyTemplateName="TableUtilsTemplate.dialogRemoveMacro"),t.userMentionPopup=function(e,t){return'<div class="ajs-content-hover aui-box-shadow tf-user-mention-popup"><div class="contents" style="width: 300px;"><div class="profile-macro hipchat-status-applied"><div class="vcard"><a class="userLogoLink" data-username="admin" href="" target="_blank"><img class="userLogo logo" src="'+soy.$$escapeHtml(e.logoUrl)+'" alt="User icon: '+soy.$$escapeHtml(e.publicName)+'" title="'+soy.$$escapeHtml(e.publicName)+'" data-fallback-img-loaded-listener="true" width="48" height="48"></a><div class="values"><h4><a href="'+soy.$$escapeHtml(e.baseUrl)+"/people/"+soy.$$escapeHtml(e.accountId)+'" class="url fn confluence-userlink" data-username="'+soy.$$escapeHtml(e.publicName)+'" target="_blank">'+soy.$$escapeHtml(e.displayName)+'</a></h4><a href="mailto:'+soy.$$escapeHtml(e.email)+'" title="Send Email to '+soy.$$escapeHtml(e.displayName)+'" class="email" target="_self">'+soy.$$escapeHtml(e.email)+"</a></div></div></div></div></div>"},goog.DEBUG&&(t.userMentionPopup.soyTemplateName="TableUtilsTemplate.userMentionPopup"),t.paginationMsg=function(e,a){return'<li class="tfac-pagination">'+t.displayedRowsMsg(null)+"</li>"},goog.DEBUG&&(t.paginationMsg.soyTemplateName="TableUtilsTemplate.paginationMsg"),t.jiraIssuesMsg=function(e,a){return'<span class="tfac-pagination">'+t.displayedRowsMsg(null)+"</span>"},goog.DEBUG&&(t.jiraIssuesMsg.soyTemplateName="TableUtilsTemplate.jiraIssuesMsg"),t.displayedRowsMsg=function(e,t){return'<a><span class="aui-icon aui-icon-small aui-iconfont-info"></span></a>'+soy.$$escapeHtml("Set the maximum number of rows to display in the source table to process it correctly.")+'<span class="aui-icon aui-icon-small aui-iconfont-remove-label hide" title="'+soy.$$escapeHtml("Hide this message")+'"></span>'},goog.DEBUG&&(t.displayedRowsMsg.soyTemplateName="TableUtilsTemplate.displayedRowsMsg"),t.mergedHeader=function(e,t){for(var a='<tr class="tf-header-hidden synchrony-exclude" '+(e.isFireFox?"":'contenteditable="false"')+">",n=e.data,r=n.length,i=0;i<r;i++){var s=n[i];a+="<th>"+soy.$$filterNoAutoescape(s.html)+"</th>"}return a+="</tr>"},goog.DEBUG&&(t.mergedHeader.soyTemplateName="TableUtilsTemplate.mergedHeader"),e.exports=t},65573:function(e,t,a){"use strict";a.r(t),a.d(t,{DATA_TYPES:function(){return n},DAY_KEY_WORDS:function(){return s},MAX_TEXT_WIDTH:function(){return r},MONTH_DAY_COUNT:function(){return i}});var n={number:0,worklog:1,duration:2,date:3},r=150,i=[0,31,59,90,120,151,181,212,243,273,304,334],s=["today","heute","weekend","weekstart","monthend","monthstart"]},60712:function(e,t,a){"use strict";a.r(t);var n=a(27509);a(71519),a(16618),a(14687),a(14161);t.default=n},85274:function(e,t,a){"use strict";function n(e,t){var a=typeof e;return-1!==["string","number"].indexOf(a)&&((e="string"===a?new String(e):new Number(e)).tfView=t),e}a.r(t),a.d(t,{default:function(){return n}})},53348:function(e,t,a){"use strict";a.r(t),a.d(t,{getFormValue:function(){return l}});a(98457),a(71934),a(48868),a(54861),a(42295),a(86305);var n=a(16631),r=a.n(n),i=a(83931),s=a(72510),o={FIELD_VARIANTS:{CHECKBOX:"checkbox",COLORS:"colors",COLOR_SCHEME:"color scheme",INTERPOLATION_SELECT:"interpolation_select",LINE_SETTINGS:"line_settings",NUMBER:"number",SINGLE_SELECT:"single_select",TEXT:"text",TEXTAREA:"textarea",PASSWORD:"password",RANGE:"range"},isMultiSelectFilter:function(e){return"icon"===e||"select_"===e||"hideColumns"===e},isAllColumnsFilter:function(e){return"global"===e||"hideColumns"===e},isRangeFilter:function(e){return"number_"===e||"date_"===e},fieldTypeToVariant:function(e){var t;switch(e){case"date_":case"number_":t=o.FIELD_VARIANTS.RANGE;break;case"hideColumns":case"select_":case"icon":t=o.FIELD_VARIANTS.SINGLE_SELECT;break;default:t=o.FIELD_VARIANTS.TEXT}return t},initAJSDialog:function(e){return AJS.InlineDialog(e.container,e.dialogName,(function(t,a,n){return t.html(e.getContent()),n(),!1}),{initCallback:function(){var t=this;t.popup.find("#cancel-"+e.dialogId).click((function(){return t.hide(),"function"==typeof e.cancelCallback&&e.cancelCallback(),!1})),t.popup.find("#apply-"+e.dialogId).click((function(){return $(this).prop("disabled",!0),t.hide(),"function"==typeof e.applyCallback&&e.applyCallback(t),!1})),t.popup.find(".aui-dropdown2").click((function(){return!1})),"function"==typeof e.bindsCallback&&e.bindsCallback(t)},hideCallback:function(){"function"==typeof e.hideCallback&&e.hideCallback()},hideDelay:null,gravity:e.options.gravity||"n",persistent:e.options.persistent,width:e.options.width,offsetX:e.options.offsetX,noBind:e.options.noBind,addActiveClass:e.options.addActiveClass||!0})},getColorsDialogOptions:function(e,t,a){var n,i,s,c=a?e:e.TableChart,u=e=>{c.barColoringType=e,c.calculate()};return{getContent:function(){s||(s=c.barColoringType,!a&&e.calculateColors()),i="columns"===c.barColoringType&&(e.isPie||e.isGantt||e.isBar);var l=c.getAllChartColorLabels();n=c.colors.slice(0,l.length);var u=[],d=(a?e.tableColumnsCache:e.tableColumns).slice();return d.unshift(""),c.getColorLabelsForMenu().forEach((function(e,a){i?u.push({field:e,id:t,variant:o.FIELD_VARIANTS.SINGLE_SELECT,selects:d,fakeSelects:[],type:"single-select",value:[c.colorColumns[a]||""]}):u.push({color:n[a%n.length],field:e,id:t,variant:o.FIELD_VARIANTS.COLORS})})),u.unshift({field:"Color scheme",variant:o.FIELD_VARIANTS.COLOR_SCHEME,value:c.barColoringType}),r().inlineDialog({clazz:"tf-chart-colors-".concat(i?"columns-":"","dialog"),name:"chart-colors",inputs:u,dialogId:t})},applyCallback:function(t){if(s=c.barColoringType,i){var r=t.popup.find("form"),o={};l(r,{values:o}),c.colorColumns=[],Object.values(o).forEach((e=>c.colorColumns.push(...e.split("&&")))),c.colorColumns.shift()}else c.getColorLabelsForMenu().forEach(((e,t)=>{c.colorKeyMap[e]=n[t]})),e.setChartKeys(),n=c.getAllChartColorLabels().map((e=>c.colorKeyMap[e])),a&&(c.colorsCache=n.slice()),e.colors=n;e.pieKeys=c.pieKeys,a&&(c.triggerSettingsButtonInvoke(),c.enableSaveBtn(),c.draw())},bindsCallback:function(t){var r=t.popup.find("#macro-param-barColoringType");switch(r.parent().addClass("barColoringType"),r.change((function(){u(this.value),t.popup.show()})),r.children().fadeIn(),a?c.type:e.typeSelect.val()){case"Pie":case"Donut":r.children(":nth-child(1)").fadeOut(0),0===r.prop("selectedIndex")&&(c.barColoringType="multi")&&r.prop("selectedIndex",1);break;case"Stacked Column":case"Stacked Bar":r.children(":nth-child(2)").fadeOut(0),1===r.prop("selectedIndex")&&(c.barColoringType="mono")&&r.prop("selectedIndex",0);break;case"Gantt":case"Column":case"Bar":break;default:r.parent().fadeOut(0)}t.popup.find(".tfc-color:not(.selected)").on("click",(function(){var e=$(this);n[e.data("index")-1]=e.data("color"),t.popup.find("button .tfc-color").eq(e.data("index")-1).css("background",e.data("color")).attr("data-color",e.data("color"))}))},hideCallback:function(){a&&c.controls.removeClass("active"),s!==c.barColoringType&&u(s),s=null}}}};t.default=o;var l=function(e,t,a){e.find("div.field-group").find("select, .simple-input, .range, .checkbox").each((function(){var e=$(this),n=e.data("type"),r="global"==n||"hideColumns"==n?"":e.prev().text();if(e.hasClass("checkbox"))t.values[n+r]=e.is(":checked");else if(e.hasClass("simple-input"))t.values[n+r]=a?e.val():e.val().replace(/,/g,s.ALTERNATE_COMMA);else if(e.hasClass("range")){var o=e.find(".from").val(),l=e.find(".to").val();if(t.locale&&e.hasClass("dates"))try{o=i.default.dateToUTCTimestamp(o,t.dateFormat,t.locale),l=i.default.dateToUTCTimestamp(l,t.dateFormat,t.locale)}catch(e){}t.values[n+r]=(o+"->"+l).replace(/,/g,s.ALTERNATE_COMMA)}else{var c=[];e.find("option:selected").each((function(){c.push(this.textContent.replace(/,/g,s.ALTERNATE_COMMA))})),t.values[n+r]=c.join("&&")}}))}},12746:function(e,t,a){"use strict";a.r(t),a.d(t,{initMacroBrowserAJSDialog:function(){return v}});a(98457),a(84745),a(75654),a(42295),a(86305),a(79150),a(96609),a(68049);var n=a(53348),r=a(83931),i=a(24238),s=a(16631),o=a.n(s),l=a(79086),c=a.n(l),u=a(16951),d=a.n(u),h=a(94121),p=a(72510);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var g={initMacroBrowserChartColorsDialog:function(e,t){var a="tf-chart-colors";return v(t,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({dialogName:a,dialogId:a,options:{persistent:!0,width:220,gravity:"w"}},n.default.getColorsDialogOptions(e,a,!1)))},initMacroBrowserInterpolationDialog:function(e,t){var a="tf-interpolation-dialog";return v(t,{dialogName:a,dialogId:a,options:{persistent:!0,width:250,gravity:"w"},getContent:function(){var t=[];return e.updatePieKeys(),e.TableChart.getColorLabelsForMenu().forEach((function(a){t.push({field:a,value:e.TableChart.getInterpolationName(a),variant:n.default.FIELD_VARIANTS.INTERPOLATION_SELECT})})),o().inlineDialog({clazz:a,name:"interpolation",inputs:t,dialogId:a})},applyCallback:function(t){var a=[];t.popup.find("form").find("select").each((function(t,n){var r=$(n),i=r.val();e.TableChart.interpolation[r.data("name")]=i,a.push(i)})),$("#macro-param-interpolation").val(a.join(","))}})},initMacroBrowserLineSettingsDialog:function(e,t){var a="tf-line-settings-dialog";return v(t,{dialogName:a,dialogId:a,options:{persistent:!0,width:250,gravity:"w"},getContent:function(){var t=[];return e.updatePieKeys(),e.TableChart.getColorLabelsForMenu().forEach((function(a){t.push({field:a,value:{type:e.TableChart.getLineType(a),width:e.TableChart.getLineWidth(a)},variant:n.default.FIELD_VARIANTS.LINE_SETTINGS})})),o().inlineDialog({clazz:a,name:"line-settings",inputs:t,dialogId:a})},applyCallback:function(t){var a=[];t.popup.find("form").find(".field-group").each((function(t,n){var r=$(n),i=r.find("label").text(),s=Math.abs(parseFloat(r.find("input").val())),o=r.find("select").val();e.TableChart.lineSettings[i]={type:o,width:s},a.push(o+"-"+s.toString())})),$("#macro-param-line-settings").val(a.join(","))}})},initMacroBrowserWorklogDialog:function(e,t){var a="tf-worklog-dialog",r=(t||$(document)).find("#macro-param-div-worklog"),s=r.find("#macro-param-worklog").val(e||i.default.getStoredValue("tf-worklog")||"365|5|8|y w d h m|y w d h m");return v(r,{dialogName:a,dialogId:a,options:{persistent:!0,width:270,gravity:"w"},getContent:function(){var e=s.val().split("|");isNaN(e[2])&&e.unshift(365),e.length<5&&(e[4]="y w d h m");var t=e[4].split(" ");t.length<5&&t.unshift("y");var r=[{field:"Days in year",value:e[0],type:"number",variant:n.default.FIELD_VARIANTS.NUMBER,min:1,max:366},{field:"Days in week",value:e[1],type:"number",variant:n.default.FIELD_VARIANTS.NUMBER,min:1,max:7},{field:"Hours in day",value:e[2],type:"number",variant:n.default.FIELD_VARIANTS.NUMBER,min:1,max:24},{field:"Time format",value:[e[3]],type:"single-select",variant:n.default.FIELD_VARIANTS.SINGLE_SELECT,selects:["y w d h m","w d h m","y w d h","w d h","d h m","d h","d","h m","h"],fakeSelects:[]},{field:"Year shortening",value:t[0],type:"text",variant:n.default.FIELD_VARIANTS.TEXT,help:"https://docs.stiltsoft.com/display/TFAC/FAQ?from=macro#FAQ-Whydomacrosprocessmyworklogvaluesincorrectly?"},{field:"Week shortening",value:t[1],type:"text",variant:n.default.FIELD_VARIANTS.TEXT,help:"https://docs.stiltsoft.com/display/TFAC/FAQ?from=macro#FAQ-Whydomacrosprocessmyworklogvaluesincorrectly?"},{field:"Day shortening",value:t[2],type:"text",variant:n.default.FIELD_VARIANTS.TEXT,help:"https://docs.stiltsoft.com/display/TFAC/FAQ?from=macro#FAQ-Whydomacrosprocessmyworklogvaluesincorrectly?"},{field:"Hour shortening",value:t[3],type:"text",variant:n.default.FIELD_VARIANTS.TEXT,help:"https://docs.stiltsoft.com/display/TFAC/FAQ?from=macro#FAQ-Whydomacrosprocessmyworklogvaluesincorrectly?"},{field:"Minute shortening",value:t[4],type:"text",variant:n.default.FIELD_VARIANTS.TEXT,help:"https://docs.stiltsoft.com/display/TFAC/FAQ?from=macro#FAQ-Whydomacrosprocessmyworklogvaluesincorrectly?"}];return o().inlineDialog({clazz:a,name:"worklog",inputs:r,dialogId:a})},applyCallback:function(e){var t=[],a=e.popup.find("form");t.push(a.find("input").eq(0).val()),t.push(a.find("input").eq(1).val()),t.push(a.find("input").eq(2).val()),t.push(a.find("select").val());var n=[];n.push(a.find("input").eq(3).val().trim()||"y"),n.push(a.find("input").eq(4).val().trim()||"w"),n.push(a.find("input").eq(5).val().trim()||"d"),n.push(a.find("input").eq(6).val().trim()||"h"),n.push(a.find("input").eq(7).val().trim()||"m"),t.push(n.join(" ")),t=t.join("|"),s.val(t),i.default.storeValue("tf-worklog",t)}},t)},initMacroBrowserDefaultValueDialog:function(e,t){var a="tf-default-value-dialog";return v(t,{dialogName:a,dialogId:a,options:{persistent:!0,width:270,gravity:"w"},getContent:function(){var t=[];return e.getSelectedFilters().forEach((function(a){var i,s,o=[],l=[];if(n.default.isAllColumnsFilter(a.type))i=e.defaults[a.type]||"",n.default.isMultiSelectFilter(a.type)&&(i=i.split("&&"),o=e.tableColumns.slice().map((e=>e.replace(/,/g,p.ALTERNATE_COMMA))));else{if(i=e.defaults[a.type+a.field]||"",n.default.isMultiSelectFilter(a.type)){var c=e.getSelectFilterOptions(a.field,a.isIcon,e);o=c.allSelects,i=i.split("&&");var u=[];a.isIcon&&i.forEach(((e,t)=>{if(e!=="-Empty-"){i[t]=d().sanitize(e);var a=$(i[t]);a.is("img")?u.push(r.default.clearIconSrc(a[0].src)):u.push(i[t])}else u.push(e)})),$.each(o,(function(e,t){""==t&&(o[e]="-Empty-",c.options[e]=o[e])})),$.each(i,(function(e,t){if(""!=t)if(a.isIcon){var n=$.inArray(u[e],c.options);-1===n?l.push(t):o[n]=t}else-1===$.inArray(t,o)&&l.push(t)}))}if(n.default.isRangeFilter(a.type)&&i){var h=i.split("->");i=h[0],s=h[1],a.isDate&&(i=r.default.convertToDate(i,e.dateFormatInput.val(),e.locale),s=r.default.convertToDate(s,e.dateFormatInput.val(),e.locale))}}t.push({field:a.field,value:i,valueTo:s,selects:o,fakeSelects:l,type:a.type,isMultiple:!0,isIcon:a.isIcon,isDate:a.isDate,variant:n.default.fieldTypeToVariant(a.type)})})),o().inlineDialog({clazz:a,name:"default-value",inputs:t,dialogId:a})},applyCallback:function(t){var a=t.popup.find("form"),r=Object.assign({},e.defaults);(0,n.getFormValue)(a,{values:e.defaults,locale:e.locale,dateFormat:e.dateFormatInput.val()},!1),h.default.macrobrowserFilterUpdated(e.defaults,r,e.inverse)},bindsCallback:function(t){r.default.initChosen(t.popup),r.default.initDatePickerLocalisations(e.locale),t.popup.find(".date").each((function(){$(this).datePicker({overrideBrowserDefault:!0,dateFormat:e.dateFormatInput.val()||"yy-mm-dd",languageCode:e.locale})}))}})},initMacroBrowserCellWidthDialog:function(e,t){var a="tf-cell-width-dialog";return v(t,{dialogName:a,dialogId:a,options:{persistent:!0,width:200,gravity:"w"},getContent:function(){var t=[];return e.getSelectedFilters().forEach((function(a){n.default.isRangeFilter(a.type)||t.push({field:a.field,value:b(e.widths,a,""),type:a.type,variant:n.default.FIELD_VARIANTS.NUMBER})})),o().inlineDialog({clazz:a,name:"cell-width",inputs:t,dialogId:a})},applyCallback:function(t){var a=t.popup.find("form");(0,n.getFormValue)(a,{values:e.widths},!1)}})},initMacroBrowserDDSeparatorDialog:function(e,t){var a="tf-dd-separator-dialog";return v(t,{dialogName:a,dialogId:a,options:{persistent:!0,width:200,gravity:"w"},getContent:function(){var t=[];return e.getSelectedFilters().forEach((function(a){"select_"===a.type&&t.push({field:a.field,value:b(e.ddSeparators,a,""),type:a.type,variant:n.default.FIELD_VARIANTS.TEXT})})),o().inlineDialog({clazz:a,name:"dd-separator",inputs:t,dialogId:a})},applyCallback:function(t){var a=t.popup.find("form");(0,n.getFormValue)(a,{values:e.ddSeparators},!0)}})},initMacroBrowserDDOperatorDialog:function(e,t){var a="tf-dd-operator-dialog";return v(t,{dialogName:a,dialogId:a,options:{persistent:!0,width:200,gravity:"w"},getContent:function(){var t=[];return e.getSelectedFilters().forEach((function(a){-1!==["select_","icon"].indexOf(a.type)&&t.push({field:a.field,value:[b(e.ddOperators,a,"OR")],type:a.type,selects:["OR","AND"],fakeSelects:[],variant:n.default.FIELD_VARIANTS.SINGLE_SELECT})})),o().inlineDialog({clazz:a,name:"dd-operator",inputs:t,dialogId:a})},applyCallback:function(t){var a=t.popup.find("form");(0,n.getFormValue)(a,{values:e.ddOperators},!0)}})},initMacroBrowserInverseFilterDialog:function(e,t){var a="tf-inverse-filter-dialog";return v(t,{dialogName:a,dialogId:a,options:{persistent:!0,width:200,gravity:"w"},getContent:function(){var t=[];return e.getSelectedFilters().forEach((function(a){t.push({field:a.field,value:b(e.inverse,a,!1),type:a.type,variant:n.default.FIELD_VARIANTS.CHECKBOX})})),o().inlineDialog({clazz:a,name:"inverse-filter",inputs:t,dialogId:a})},applyCallback:function(t){var a=t.popup.find("form"),r=Object.assign({},e.inverse);(0,n.getFormValue)(a,{values:e.inverse},!1),h.default.macrobrowserFilterUpdated(e.inverse,r,e.inverse)}})},initMacroBrowserFilterLabelsDialog:function(e,t){var a="tf-filter-labels-dialog";return v(t,{dialogName:a,dialogId:a,options:{persistent:!0,width:200,gravity:"w"},getContent:function(){var t=[];return e.getSelectedFilters().forEach((function(a){t.push({field:a.field,value:b(e.labels,a,a.field),type:a.type,variant:n.default.FIELD_VARIANTS.TEXT})})),o().inlineDialog({clazz:a,name:"filter-labels",inputs:t,dialogId:a})},applyCallback:function(t){var a=t.popup.find("form");(0,n.getFormValue)(a,{values:e.labels},!0)}})},initMacroBrowserTotalRowDialog:function(e,t){var a="tf-total-row-dialog";return v(t,{dialogName:a,dialogId:a,options:{persistent:!0,width:200,gravity:"w"},getContent:function(){var t=[],r=[],i=["","Sum","Average","Multiplication","Min","Max","Count","Count not empty"];return e.tables.forEach((function(e){e.length&&(r=$.merge(r,e[0]))})),e.body.find("tr:first-child").find("th.tf-numbering, th.tf-sparkline-header, th.total-col").each((function(){var e=$.inArray(this.textContent.trim(),r);e>=0&&r.splice(e,1)})),r.forEach((function(a,r){t.push({field:a,value:[e.totalRow[r]||""],type:"single-select",selects:i,fakeSelects:[],variant:n.default.FIELD_VARIANTS.SINGLE_SELECT})})),o().inlineDialog({clazz:a,name:"total-row",inputs:t,dialogId:a})},applyCallback:function(t){var a=[];t.popup.find("form").find("div.field-group").find("select").each((function(){a.push($(this).find("option:selected").text())})),e.totalRow=a,e.totalRowInput.val(a.join(",")).trigger("change")}})}};function b(e,t,a){return e[t.type+t.field]||e[t.type]||a}function v(e,t,a){var r;return function(e,t){var a=e.find("input"),n=e.find("label");a.hide(),n.hide(),e.prepend(c().subtleButton({id:t,name:n.text()})),$("#inline-dialog-"+t).remove(),function(e){$("#macro-insert-container .macro-input-fields").scroll((function(){$("#inline-dialog-"+e).hide()}));var t="hide",a=$.fn[t];$.fn[t]=function(){return"macro-browser-dialog"==this.attr("id")&&$("#inline-dialog-"+e).hide(),a.apply(this,arguments)}}(t)}(e,t.dialogName),t.container=(a||$(document)).find("#button-"+t.dialogName),t.bindsCallback=(r=t.bindsCallback,function(e){"function"==typeof r&&r(e),function(e,t){$(".macro-param-div .aui-button-subtle:not(#button-"+e+")").removeClass("active"),$(".aui-inline-dialog:not(#inline-dialog-"+e+")").hide(),t.popup.css("z-index","5000"),$(".tf-macrobrowser-tabs .menu-item:not(.active-tab)").click((function(){return t.hide(),!1})),$("#button-"+e).click((function(){if($(this).hasClass("active"))return t.hide(),!1}))}(t.dialogName,e)}),n.default.initAJSDialog(t)}t.default=g},37628:function(e,t,a){"use strict";a.r(t);var n=a(83931),r=a(24238),i=a(72510),s={getContainer:function(e){var t=$(document);return e&&(t=t.find(e)),t},initDateFormatInput:function(e,t,a,n){s.initDateFormatInputInContainer(e,t,this.getContainer(n),a)},initCheckBoxesParams:function(e){s.initCheckBoxInContainer(e,$(document),"#macro-param-hideColumns","hideColumns"),s.initCheckBoxInContainer(e,$(document),"#macro-param-updateSelectOptions","updateSelectOptions")},initCheckBoxesNewTFParams:function(e,t){s.initCheckBoxInContainer(e,this.getContainer(t),"#macro-param-updateSelectOptions","updateSelectOptions")},initDecimalPlacesInput:function(e){s.initDecimalPlacesInputInContainer(e,$(document))},initDateFormatInputInContainer:function(e,t,a,i){var s=e.datepattern||e.dateFormat||r.default.getStoredValue("tf-dateformat")||n.default.getLocaleDateFormat("yy-mm-dd"),o=a.find("#macro-param-datepattern").val(s);n.default.dateFormatAutocomplete(o,t,i)},setSettingsSelectionAction:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e.val(),n=a(e);e.change((function(){var i=a(e);n!==i&&(n=i,r.default.storeValue(t,a(e)))}))},initCheckBoxInContainer:function(e,t,a,n){var i=t.find(a);if(i){var s="tf-"+n,o=e[n],l=!0===e.isNew;null==o&&(o=e[n.toLowerCase()]);var c=o||!1;l&&"boolean"!=typeof(c=r.default.getStoredValue(s))&&(c="true"===c||!1);var u=e=>e.prop("checked");"AUI-TOGGLE"===i.prop("tagName")?(i.attr("checked",c?c+"":null),u=e=>!!e.attr("checked")):(i.val(c+""),i.prop("checked",c)),this.setSettingsSelectionAction(i,s,u)}},initDecimalPlacesInputInContainer:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#macro-param-decimals",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.PIVOT,s=this.scopeIdMapping(a,n),o=t.find(a),{key:l}=this.getByValue(s);if(o){o.change((function(){var e=$(this).val();e>7?$(this).val(7):e<0&&$(this).val(0)}));var c,u=e.decimals,d=!0===e.isNew;c=d?r.default.getStoredValue(l)||"":u||"",o.val(c),this.setSettingsSelectionAction(o,l,(e=>e.val()))}},storedValuesMapping:[{selectId:"#macro-param-decimalseparator",key:"tf-decimalSeparator",additionalMapper:{[i.JOINER]:e=>n.default.mapSeparator(e)}},{selectId:"#macro-param-thousandSeparator",key:"tf-separator",additionalMapper:{[i.TABLE_FILTER]:e=>n.default.mapSeparator(e),[i.JOINER]:e=>n.default.mapSeparator(e)}},{selectId:"#macro-param-hidePane-group",key:"tf-hidePane"},{selectId:"#macro-param-hidePane",key:"tf-hidePane"},{selectId:"#macro-param-decimals",key:"tf-decimals"}],scopeIdMapping:(e,t)=>{switch(t){case i.PIVOT:return"#macro-param-separator"===e?"#macro-param-thousandSeparator":e;case i.TABLE_FILTER:case i.CHART:return"#macro-param-separator"===e?"#macro-param-decimalseparator":e;case i.JOINER:return"#separator-param"===e?"#macro-param-decimalseparator":"#thousand-separator-param"===e?"#macro-param-thousandSeparator":"#decimals-param"===e?"#macro-param-decimals":e;default:return e}},initSelects:function(e,t,a,n,i){var s=this.scopeIdMapping(e,n),o=this.getByValue(s);if(o){var{key:l,additionalMapper:c}=o,u=r.default.getStoredValue(l),d=e=>e.val();c&&c[n]&&(u=c[n](u),d=e=>c[n](e.val()));return{option:i?u||a:t||a,onChangeAppender:e=>this.setSettingsSelectionAction(e,l,d)}}return{option:t||a,onChangeAppender:()=>{}}},displayModeMapper:{"macro-param-filter-panel":i.HIDE_PANE.PANEL,"macro-param-filter-header":i.HIDE_PANE.HEADER,"macro-param-filter-hidden":i.HIDE_PANE.HIDDEN},initFiltersDisplayMode:function(e,t,a){var n=this,i="#macro-param-hidePane-group",s=$(i),o=e||t,{key:l}=this.getByValue(i);a&&(o=r.default.getStoredValue(l)||t);var c=Object.keys(this.displayModeMapper).find((e=>this.displayModeMapper[e]===o));s.children().removeClass("aui-button-pane-primary"),s.children("#".concat(c)).addClass("aui-button-pane-primary"),$(s.children()).on("click",(function(e){e.preventDefault();var t=n.displayModeMapper[this.id];t&&r.default.storeValue(l,t)}))},bindPreview:function(e,t){var a=null;if(new MutationObserver((function(r){r.some((function(r){if(r.addedNodes.length){var i=$(r.addedNodes);!n.default.isIgnoreUpdateNode(i)&&(n.default.hasRowForUpdate(i)||n.default.hasTableForUpdate(i)||n.default.hasCharsForUpdate(i,r.target))&&(clearTimeout(a),a=setTimeout((function(){a=null,t(e)}),100))}}))})).observe(e[0],{childList:!0,subtree:!0}),n.default.isIE11()){function r(){return e.find('.table-joiner[data-tj-not-ready="true"], .pivot-content[data-pivot-ready="true"]').length}function i(){r()?setTimeout(i,200):t(e)}r()&&i()}},getByValue:function(e){return this.storedValuesMapping.find((t=>{var{selectId:a}=t;return a===e}))}};t.default=s},25561:function(e,t,a){"use strict";a.r(t),a.d(t,{joinQuery:function(){return m},unionQuery:function(){return f}});a(98457),a(79150),a(42295);var n=a(58869),r=a.n(n),i=a(12746),s=a(37628),o=a(83931),l=a(93157),c=a(60712),u=a(26754),d=a.n(u),h=a(72510);function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f="SELECT * FROM T*",m="SELECT * FROM T1 OUTER JOIN T* ON T1.? = T*.?";t.default=class{constructor(){p(this,"showDialog",(function(e,t,a,n,r){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0,l=this;l.previewSrc=r?r():"",l.isProcessorMacro=i,l.isInsert=null==e.params.sql,e.params.sql||(e.params.sql=f);var c="true"===e.params.transpose||!0===e.params.transpose;l.tablesNRows=l.getTables(e.bodyView,c),l.commonColumns=o.default.getCommonColumns(l.tablesNRows.tables,o.default.textNViewType);var u=e.params["join-column"];u&&-1===l.commonColumns.indexOf(u)&&l.commonColumns.push(u),l.dialog=$(d().dialog({params:e.params,isInsert:l.isInsert,joinColumns:l.commonColumns,previewSrc:l.previewSrc,isProcessorMacro:l.isProcessorMacro,courseBtn:s||!1})),l.isProcessorMacro?($(".dialog-page-body").html(l.dialog),l.dialog.attr("open","true")):AJS.dialog2(l.dialog).show(),l.initElements(e.params.isCloud),l.bindButtons(e,t,a),l.initTabs(),l.bindInputs(e.params),l.initWizard(e.params),l.setButtons(),l.locales=[o.default.getLocale()],l.jsons=l.getJSONs(),e.storedParams=l.getParams(l.dialog),l.bindPreview(e,n),l.setPreview(e.bodyView),l.refreshPreview(e,n)})),p(this,"initElements",(function(e){var t=this;t.sqlInput=t.dialog.find("#sql-param"),t.joinColumnWraps=t.dialog.find(".join-column-field-group"),t.joinColumnWrapper=t.dialog.find("#join-column-field-group"),t.joinColumnMessage=t.dialog.find("#join-column-field-message"),t.joinColumnSelect=t.joinColumnWrapper.find("#join-column-param"),t.unionPreset=t.dialog.find("#tj-union"),t.joinPreset=t.dialog.find("#tj-join"),t.customPreset=t.dialog.find("#tj-custom"),t.presets=t.dialog.find(".tj-preset"),t.msg=t.dialog.find("#sql-error"),t.nextBtn=e?AP.dialog.getButton("next-btn"):t.dialog.find(".tj-next"),t.saveBtn=t.dialog.find(".tj-insert"),t.previewSpinner=t.dialog.find("#tj-preview-spinner"),t.initIframe()})),p(this,"initIframe",(function(){var e=this;e.iframe=e.dialog.find("#tj-preview-content iframe")[0],e.iframeDoc=e.iframe.contentDocument||e.iframe.contentWindow.document})),p(this,"bindButtons",(function(e,t,a){var{isFirstTimeEnter:n}=e.params,r=this;function i(){var e=r.getActivePane();e.is("#tj-sql")?AJS.tabs.change(r.dialog.find('a[href="#tj-options"]')):e.is("#tj-wizard")&&(r.customPreset.hasClass("active")||r.joinPreset.hasClass("active")&&!r.commonColumns.length)?AJS.tabs.change(r.dialog.find('a[href="#tj-sql"]')):AJS.tabs.change(r.dialog.find('a[href="#tj-view"]')),r.setButtons()}e.params.isCloud?AP.events.on("dialog.button.click",(function(e){"next-btn"===e.button.name&&i()})):(r.saveBtn.click((function(){r.textAreaEditor=null,e.params=r.getParams(r.dialog),t(e,n),AJS.dialog2(r.dialog).hide()})),r.dialog.find(".tj-cancel").click((function(){r.textAreaEditor=null,AJS.dialog2(r.dialog).hide(),a()})),r.nextBtn.click((function(){i()}))),$("body").on("click",".joiner-proc-next-button",(e=>{e.preventDefault(),i()}))})),p(this,"bindInputs",(function(e){var t,a=this;a.sqlInput.bind("input",(function(){clearTimeout(t),t=setTimeout((function(){var e=a.getParams();a.validateSQL(e),a.selectPreset(e)}),1e3)})),a.joinColumnSelect.change((function(){a.sqlInput.val(a.getJoinQuery(a.joinColumnSelect.val())).trigger("change")})),a.dialog.find("#macro-param-transpose").change((function(){a.tablesNRows.tables=o.default.transpose(a.tablesNRows.tables),a.updateColumns()})),Object.prototype.hasOwnProperty.call(e,"isNew")||(e.isNew=!e.dateFormat),s.default.initDateFormatInputInContainer(e,a.dialog.find("#tj-options"),a.dialog),s.default.initDecimalPlacesInputInContainer(e,a.dialog,"#decimals-param",h.JOINER),this.updateSelectsWithStoredValues(e,a.dialog),i.default.initMacroBrowserWorklogDialog(e.worklog,a.dialog)})),p(this,"updateSelectsWithStoredValues",(function(e,t){[{selectId:"#separator-param",param:"separator",defaultValue:h.SEPARATORS.SHORT.POINT},{selectId:"#thousand-separator-param",param:"thousand-separator",defaultValue:""}].forEach((a=>{var{selectId:n,param:r,defaultValue:i}=a,o=t.find(n),l=e[r],{option:c,onChangeAppender:u}=s.default.initSelects(n,l,i,h.JOINER,e.isNew);o.val(c===h.SEPARATORS.SHORT.SPACE?h.SEPARATORS.SHORT.ESCAPED_SPACE:c),u(o)}))})),p(this,"bindPreview",(function(e,t){var a=this,n=a.dialog.find("#tj-preview"),r=n.find("#tj-preview-sidebar"),i=r.find("#tj-refresh-preview"),s=a.getParams();r.click((function(){n.hasClass("expanded")||JSON.stringify(s)===JSON.stringify(a.getParams())||(s=a.refreshPreview(e,t)),n.toggleClass("expanded")})),i.click((function(){if(n.hasClass("expanded"))return s=a.refreshPreview(e,t),!1})),a.dialog.find("#tj-main-tabs").click((function(){n.removeClass("expanded")}))})),p(this,"initWizard",(function(e){var t=this;t.selectPreset(e),t.presets.click((function(){var a=$(this);if(!a.hasClass("active")){var n=t.getParams();if(t.customPreset.hasClass("active")){t.msg.empty();var r=n.sql;r!==f&&r!==t.getJoinQuery(n["join-column"])&&t.customPreset.data("sql",r)}t.presets.removeClass("active"),a.addClass("active"),a.is(t.joinPreset)?(t.sqlInput.val(t.getJoinQuery(n["join-column"])).trigger("change"),t.joinColumnWraps.addClass("active")):(t.joinColumnWraps.removeClass("active"),a.is(t.unionPreset)?t.sqlInput.val(f).trigger("change"):a.is(t.customPreset)&&a.data("sql")&&(t.sqlInput.val(a.data("sql")).trigger("change"),t.validateSQL(e))),t.setButtons()}})).dblclick((function(){e.isCloud?AP.events.emit("dialog.button.click",{button:{name:"next-btn"}}):t.nextBtn.click()}))})),p(this,"initTabs",(function(){var e=this;AJS.tabs.setup(),e.dialog.bind("tabSelect",(function(){e.setButtons()}))})),p(this,"selectPreset",(function(e){var t=this;t.presets.removeClass("active"),t.joinColumnWraps.removeClass("active"),f===e.sql?t.unionPreset.addClass("active"):t.getJoinQuery(e["join-column"])===e.sql?(t.joinPreset.addClass("active"),t.joinColumnWraps.addClass("active")):e.sql&&t.customPreset.addClass("active")})),p(this,"setButtons",(function(){var e=this,t=e.getActivePane();t.is("#tj-view")?(e.nextBtn.hide(),e.saveBtn.addClass("aui-button-primary")):(e.nextBtn.show(),e.saveBtn.removeClass("aui-button-primary"),t.is("#tj-sql")&&e.initHighlightTextArea())})),p(this,"refreshPreview",(function(e,t){var a=this;return $(a.iframe).replaceWith('<iframe src="'+a.previewSrc+'"></iframe>'),a.initIframe(),$(a.iframe).hide(),a.previewSpinner.show(),e.params=a.getParams(),t(e,(function(e){a.setPreview(e)})),e.params})),p(this,"setPreview",(function(e){var t=this;t.initIframe();var a=$(t.iframeDoc);function n(e){t.tablesNRows=t.getTables(e,t.getParams().transpose),t.updateColumns()}t.iframe.onload=function(){$(t.iframe).show();var e=a.find(".table-joiner").eq(0).children(".tj-source");e.length&&(t.previewSpinner.hide(),n(e),s.default.bindPreview(e,n),o.default.addIframe(e,"tj-source",n))},t.iframeDoc.write(e),t.iframeDoc.close()})),p(this,"updateColumns",(function(){var e=this;e.jsons=e.getJSONs(),e.commonColumns=o.default.getCommonColumns(e.tablesNRows.tables,o.default.textNViewType),e.joinColumnSelect.find("option:not(selected)").remove();var t=e.joinColumnSelect.val();e.commonColumns.forEach((function(a){a!==t&&e.joinColumnSelect.append($("<option></option>").text(a).attr("value",a))}));var a=null!=t||e.commonColumns.length>0;e.joinColumnWrapper.toggleClass("hidden",!a),e.joinColumnMessage.toggleClass("hidden",a),e.textAreaEditor&&e.textAreaEditor.setOption("hintOptions",{tables:e.getHintOptions()})})),p(this,"getActivePane",(function(){return this.dialog.find(".active-pane")})),p(this,"getTables",(function(e,t){"string"==typeof e&&(e=-1===e.indexOf("<body")?$('<div class="tj-source"></div>').html(e):$(e.substring(e.indexOf("<body"),e.indexOf("</body"))).find(".tj-source")),this.body=e;var a=o.default.getTableNodes(e);return o.default.normalizeTable(a,"data-tf-ready"),o.default.processMergedCells(a),o.default.getTablesAndRowsFromTables(a,o.default.textNViewType,{skip:["tf-hidden-column","pivot-hidden-column"],include:["pivot-export"]},t,!0)})),p(this,"getJSONs",(function(){var e=this,t=e.getParams(),a=l.default.convertTablesToJSON(e.tablesNRows,{separator:t.separator||h.SEPARATORS.SHORT.POINT,worklog:o.default.getWorklog(t.worklog),dateFormat:t.dateFormat||"yy-mm-dd",locales:e.locales});return l.default.prepareAlaSql(a,t),a})),p(this,"validateSQL",(function(e){var t,a=this;if(e.sql.trim())try{e.worklog=o.default.getWorklog(e.worklog),r().compile(l.default.normalizeSql(e,a.jsons,a.body))}catch(e){(t=e.message).length>200&&(t=t.substring(0,200).trim()+"…")}else t="Please, specify SQL query.";return a.msg.empty(),t&&AJS.messages.error(a.msg,{body:AJS.escapeHtml(t),closeable:!0}),!t})),p(this,"getParams",(function(){var e={};return this.dialog.find("[data-param]").each((function(){var t,a=$(this);t=a.is(".checkbox")?a.is(":checked"):(a.val()||"").trim(),e[a.data("param")]=t})),e})),p(this,"getJoinQuery",(function(e){return e?m.replace(/\?/g,"'"+e+"'"):m})),p(this,"getHintOptions",(function(){var e={},t=this.jsons.jsons;return $.each(t,(function(a){e[a]=t[a].columns.map((function(e){var t=l.default.unescapeColumn(e.text).replace(/'/g,"\\'");return-1!==t.indexOf("`")?"["+t+"]":"'"+t+"'"}))})),e})),p(this,"initHighlightTextArea",(function(){var e=this;if(null===e.textAreaEditor){e.textAreaEditor=c.default.fromTextArea(e.sqlInput[0],{mode:{name:"text/x-sql",keywords:{abs:!0,add:!0,after:!0,all:!0,alter:!0,and:!0,any:!0,as:!0,asc:!0,at:!0,avg:!0,begin:!0,between:!0,by:!0,case:!0,cast:!0,check:!0,close:!0,coalesce:!0,column:!0,commit:!0,constraint:!0,constraints:!0,corresponding:!0,count:!0,create:!0,cross:!0,cube:!0,current_timestamp:!0,date:!0,day:!0,declare:!0,default:!0,delete:!0,desc:!0,distinct:!0,double:!0,drop:!0,else:!0,end:!0,escape:!0,except:!0,execute:!0,exists:!0,false:!0,first:!0,foreign:!0,from:!0,full:!0,get:!0,global:!0,group:!0,grouping:!0,having:!0,hour:!0,identity:!0,if:!0,in:!0,inner:!0,insert:!0,intersect:!0,into:!0,is:!0,join:!0,left:!0,like:!0,max:!0,min:!0,minute:!0,month:!0,natural:!0,new:!0,not:!0,null:!0,nullif:!0,of:!0,offset:!0,on:!0,or:!0,order:!0,out:!0,outer:!0,percent:!0,precision:!0,primary:!0,range:!0,references:!0,return:!0,returns:!0,right:!0,rollback:!0,rollup:!0,row:!0,schema:!0,search:!0,second:!0,select:!0,set:!0,sets:!0,some:!0,substring:!0,sum:!0,table:!0,temporary:!0,then:!0,time:!0,timestamp:!0,to:!0,trigger:!0,trim:!0,true:!0,union:!0,unique:!0,update:!0,upper:!0,using:!0,value:!0,values:!0,var_pop:!0,var_samp:!0,varchar:!0,view:!0,when:!0,where:!0,while:!0,with:!0,work:!0,year:!0,formatdate:!0,array:!0,greatest:!0,least:!0,replace:!0,match_regexp:!0,formattime:!0,formatworklog:!0,formatnumber:!0,formatwiki:!0,formatmarkdown:!0,escapemarkup:!0,concat_view:!0,concat_view_aggr:!0,replace_view:!0,substring_view:!0,median:!0,stdev:!0,stddev:!0,var:!0,varp:!0,ceil:!0,exp:!0,floor:!0,ifnull:!0,iif:!0,instr:!0,isnull:!0,lcase:!0,length:!0,mid:!0,power:!0,random:!0,uuid:!0,round:!0,rownum:!0,sqrt:!0,substr:!0,ucase:!0,weekday:!0,subdate:!0,regexp_like:!0,now:!0,getdate:!0,interval:!0,date_sub:!0,date_add:!0,adddate:!0,dateadd:!0,datediff:!0,dayofweek:!0,quart:!0,quart2:!0,quart3:!0,mult:!0,log:!0,pivot:!0,unpivot:!0,limit:!0,top:!0,char:!0,concat:!0,concat_ws:!0,apply:!0,"@currentUser":!0,"@pageTitle":!0}},indentWithTabs:!0,smartIndent:!0,lineNumbers:!0,matchBrackets:!0,autofocus:!0,hintOptions:{tables:e.getHintOptions()}}),e.textAreaEditor.on("change",(function(t){t.save(),e.sqlInput.trigger("input")})),e.sqlInput.bind("change",(function(){e.textAreaEditor.getDoc().setValue(e.sqlInput.val())}));var t=[38,40],a=[37,39],n=!1;e.textAreaEditor.on("keyup",(function(e,r){r.ctrlKey&&32===r.keyCode&&(n=!n),27===r.keyCode&&(n=!1),t.indexOf(r.keyCode)>-1||!n&&a.indexOf(r.keyCode)>-1||e.state.completionActive||13===r.keyCode||27===r.keyCode||c.default.commands.autocomplete(e,null,{completeSingle:!1})})),e.textAreaEditor.on("mousedown",(function(e){n=!1,e.state.completionActive&&e.state.completionActive.close()}))}else e.textAreaEditor.refresh()})),this.textAreaEditor=null}}},93157:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});a(15761),a(42295),a(75654),a(62983),a(17503),a(98457),a(68209),a(48868),a(54861),a(79150);var n=a(58869),r=a.n(n),i=a(2077),s=a.n(i),o=a(83931),l=a(12926),c=a.n(l),u=a(85274),d=(a(68268),a(8547),a(86305),new(a(88591))),h=e=>m(e,(e=>d.render(e))),p=(e,t)=>m(e,(e=>d.render(e.replace(/\\\\/g,"\n\n").replace(/^[ \t]*([#*]+)\s+/gm,(function(e,t){return Array(t.length).join("    ")+("#"===t[t.length-1]?"1. ":"* ")})).replace(/^[ \t]*h([0-6])\.(.*)$/gm,(function(e,t,a){return Array(parseInt(t)+1).join("#")+a})).replace(/\[(.+?)\]/g,(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var[n,r]=t[1].split("|").reverse();return"[".concat(r||n,"](").concat(n.replace(/_/g,"%5F"),")")})).replace(/\*(\S.*)\*/g,"**$1**").replace(/_(\S.*)_/g,"*$1*").replace(/{{([^}]+)}}/g,"`$1`").replace(/\s+-(\S+.*?\S)-([ \t,.:;)]|$)/g," ~~$1~~ ").replace(/{code(:([a-z]+))?([:|]?(title|borderStyle|borderColor|borderWidth|bgColor|titleBGColor)=.+?)*}([^]*){code}/gm,"```$2$5```").replace(/{noformat}/g,"```").replace(/!([^|!\s]+)!/g,"![]($1)").replace(/^[ \t]*bq\.\s+/gm,"> ").replace(/{panel:title=([^}]*)}([^]*?){panel}/gm,"\n| $1 |\n| --- |\n| $2 |").replace(/^[ \t]*((?:\|\|.*?)+\|\|)[ \t]*$/gm,(function(e,t){var a=t.replace(/\|\|/g,"|");return"\n"+a+"\n"+a.replace(/\|[^|]+/g,"| --- ")})).replace(/^[ \t]*\|/gm,"|").trim()).replace(/(^|\s|>)\+([^+]*)\+/g,"$1<ins>$2</ins>").replace(/\^([^^]*)\^/g,"<sup>$1</sup>").replace(/~([^~]*)~/g,"<sub>$1</sub>").replace(/\(\/\)/gm,'<img src="'.concat(t,'/images/icons/emoticons/check.png" class="emoticon">')).replace(/\(\+\)/gm,'<img src="'.concat(t,'/images/icons/emoticons/add.png" class="emoticon">')).replace(/\(-\)/gm,'<img src="'.concat(t,'/images/icons/emoticons/forbidden.png" class="emoticon">')).replace(/\(!\)/gm,'<img src="'.concat(t,'/images/icons/emoticons/warning.png" class="emoticon">')).replace(/\(\?\)/gm,'<img src="'.concat(t,'/images/icons/emoticons/help_16.png" class="emoticon">')).replace(/\(\*y\)/gm,'<img src="'.concat(t,'/images/icons/emoticons/star_yellow.png" class="emoticon">')).replace(/\(\*r\)/gm,'<img src="'.concat(t,'/images/icons/emoticons/star_red.png" class="emoticon">')).replace(/\(\*g\)/gm,'<img src="'.concat(t,'/images/icons/emoticons/star_green.png" class="emoticon">')).replace(/\(\*b\)/gm,'<img src="'.concat(t,'/images/icons/emoticons/star_blue.png" class="emoticon">')).replace(/{color:([^}]+)}([^{]*){color}/gm,'<span style="color:$1">$2</span>').replace(/{panel:bgColor=([^|}]*)(\|textColor=([^}]*))?}([^]*?){panel}/gm,'<div style="background:$1;border-radius:3px;padding: 0 4px;color:$3">$4</div>').replace(/{status:colour=([^|]*)(\|subtle=([^|]*))?\|title=([^}]*)}/gm,((e,t,a,n,r)=>{var i="";switch(t){case"Grey":i="";break;case"Red":i="error";break;case"Yellow":i="moved";break;case"Green":i="success";break;case"Blue":i="current"}return'<div class="aui-lozenge aui-lozenge-'.concat(i," ").concat("true"===n?"aui-lozenge-subtle":"",'">').concat(r,"</div>")})).replace(/<p>{cell(:bgColor=([^|}]*))?([:|]textColor=([^}|]*))?([:|]align=([^|}]*))?([:|]vertical-align=([^|}]*))?([:|]width=([^}]*))?}([^]*?){cell}<\/p>/gm,'<td class="confluenceTd" style="background:$2;color:$4;text-align:$6;vertical-align:$8;width:$10">$11</td>'))),f=/({|%7B)escape(}|%7D)(.*?)({|%7B)\/escape(}|%7D)/g;function m(e,t){f.lastIndex=0;for(var a,n=0,r=[];a=f.exec(e);){var i=a[0].length,s="{escape}".concat(n++,"{/escape}");e=e.replace(a[0],s),r.push(AJS.escapeHtml(a[3])),f.lastIndex+=s.length-i}var o=t(e);for(f.lastIndex=0;a=f.exec(o);){var l=a[0].length,c=r[+a[3]];o=o.replace(a[0],c),f.lastIndex+=c.length-l}return o}var g=a(1629),b=a(35242),v=(e,t)=>{var a=t?'"':"",n=e.replace(/@currentuser/gi,(()=>a+(0,g.default)()+a)).replace(/@pagetitle/gi,(()=>a+(0,b.default)()+a));return t&&(n=n.replace(/"'|'"/g,"'")),n},y="​TFaC-sq​",S=new RegExp(y,"g"),E="​TFaC-dq​",T=new RegExp(E,"g"),A="​TFaC-vd​",C=new RegExp(A,"g"),w="​TFaC-bs​",N=new RegExp(w,"g"),x="​TFaC-vq​",O=new RegExp(x,"g"),R="​TFaC-vga​",I=new RegExp(R,"g"),k=new RegExp('"(.*?)"',"gm"),M=new RegExp("FROM\\s+(T\\d+)\\s+((\\w* )?JOIN\\s+T\\*\\s+\\w*\\s+((T\\d+)\\..+\\s*=\\s*T\\*\\.(`.+?`)|([^\\s])))"),L=new RegExp("'([^']+?)'\\)?\\s+AS\\s+'(.+?)'","gi"),D=new RegExp("(T\\d+)?\\.?`(.+?)`","g"),F={normalizeSql:function(e,t,a){var n=e.sql.replace(/[\u00A0\n]/g," ");for(n=(n=this.replaceEqualSign(n)).replace(/\\"/g,E),k.lastIndex=0;c=k.exec(n);){var r=c[0].length,i=c[1].replace(T,'"'),s=o.default.getAnyValueType(i,e.separator,e.worklog,!0,e.dateFormat,e.locales,!0);if(null!=s&&0!==s)i=""+F.getValue(i,s,e,!0),n=n.replace(c[0],i);else if(i=c[1],new RegExp("'|`|​TFaC-dq​").test(i)?(i='"'+i.replace(/'/g,x).replace(/`/g,R).replace(T,A)+'"',n=n.replace(c[0],i)):i=c[0],/@currentuser|@pagetitle/.test(c[1].toLowerCase())){var l=v(i);n=n.replace(i,l),i=l}k.lastIndex===c.index+r&&k.lastIndex++,k.lastIndex+=i.length-r}var c,u=(n=(n=v(n,!0)).replace(T,'"').replace(/\\'/g,y).replace(/'/g,"`").replace(/\\/g,w)).search(/FROM\s+T\*/);if(-1!==u){var d=F.findParentheses(n,u),h=n,p="",f="";-1!==d.start&&-1!==d.end&&(p=n.substring(0,d.start+1),f=n.substring(d.end),h=n.substring(d.start+1,d.end));var m=[];$.each(t.jsons,(function(e){m.push(h.replace("T*",e))})),m.length&&(n=p+m.join(" UNION ALL CORRESPONDING ")+f)}if(-1!==n.search(/JOIN\s+T\*/)&&(c=M.exec(n))){var g=c[1],b=c[2],S=[],C=[c[4]];$.each(t.jsons,(function(e){g!==e&&(S.push(b.replace(c[4],C.join(" OR ")).replace(/T\*/g,e)),C.push(c[4].replace(c[5],e)))})),n=n.replace(b,S.join(" "))}if(o.default.hasI18nMacros(a)){var N={};Object.keys(t.jsons).forEach((e=>N[e]=t.jsons[e].columns.map((e=>e.text))));var O=[];Object.keys(N).forEach((e=>O=O.concat(N[e])));var I=e.locales?e.locales[0]:o.default.getLocale();for(D.lastIndex=0;c=D.exec(n);){var L=c[1],_=c[2],P=[_];o.default.updateI18nSettings([L&&N[L]?N[L]:O],[P],I,a),P[0]!==_&&(n=n.replace(c[0],c[0].replace("`"+_+"`","`"+P[0]+"`")),D.lastIndex+=P[0].length-_.length)}}return n},convertTablesToJSON:function(e,t){var a={},n={};return e.tables.forEach((function(e,r){if(e.length>0){var i=e[0];i.forEach((function(e,t){e.text?-1!==i[t].text.indexOf("`")&&-1!==i[t].text.indexOf("]")&&(i[t].text=i[t].text.replace(/`/g,"'")):i[t].text="__",i[t].text=o.default.clearString(i[t].text).replace(/\\/g,w).replace(/'/g,y),n[i[t].text]||(n[i[t].text]={htmlColName:i[t].html})}));var s=[],l=[],c=[];e.forEach((function(e,a){if(a>0){var r={};(e=e.length>i.length?e.slice(0,i.length):e).forEach((function(e,a){if(!l[a]&&e.text){var c=o.default.getAnyValueType(e.text,t.separator,t.worklog,!0,t.dateFormat,t.locales);switch(s[a]=c,c){case 0:case 1:case 2:case 3:l[a]="number";break;default:l[a]="string"}}var d;try{null===(d=e.text?F.getValue(e.text,s[a],t):null)&&e.text&&(d=e.text)}catch(t){d=e.text}r[i[a].text]=(0,u.default)(d,e.html),n[i[a].text][d]=e.html})),c.push(r)}})),i.forEach((function(e,t){l[t]||(l[t]="string",s[t]=null)})),a["T"+(r+1)]={table:c,columns:i,fieldTypes:l,types:s}}})),{jsons:a,valueViewMap:n}},convertJsonToTable:function(e,t,a){var n=this.getFormattedCols(e,t);this.formatResult(e,t,a);var r=[];return r.push(n),t.forEach((e=>{var t=[];n.forEach((a=>{t.push(e[a.text])})),r.push(t)})),r},prepareAlaSql:function(e,t){r().options.cache=!1,$.each(r().tables,(function(e){r()("DROP TABLE "+e)})),$.each(e.jsons,(function(e,t){var a=[];t.columns.forEach((function(e,n){var r=e.text;r=-1!==r.indexOf("`")?"["+r+"] ":"`"+r+"` ",a.push(r+t.fieldTypes[n])}));var n="CREATE TABLE "+e+" ("+a.join(", ")+")";r()(n),r().tables[e].data=t.table})),this.addCustomFunctionsToAla(t)},addCustomFunctionsToAla:function(e){var t=this,a=this;r().fn.FORMATDATE=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.dateFormat;if("number"==typeof t||t instanceof Number){var n=new Date;n.setTime(t),t=n}return o.default.formatDate(t,a,e.locales)},r().fn.FORMATTIME=function(e){return o.default.formatDuration(e)},r().fn.FORMATWORKLOG=function(t){return o.default.formatWorklog(t,e.worklog,e.separator)},r().fn.FORMATNUMBER=function(t){return e.formatDecimal.to(+t)},r().fn.MATCH_REGEXP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(null==e)return null;e+="",t=F.unescapeColumn(t);var n=new RegExp(t,a);return e.match(n)};var n=window.Confluence?Confluence.getContextPath():"/wiki";r().fn.FORMATWIKI=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=a.concatenateMarkup(t);i=a.unescapeColumn(i).replace(/\\n/g,"\n\n");var s=p(i,n);return 0!==(s=a.addViewToMarkup(t,s)).indexOf("<td")&&(s='<td class="confluenceTd">'.concat(s,"</td>")),(0,u.default)(i,s)},r().fn.FORMATMARKDOWN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=a.concatenateMarkup(t);r=a.unescapeColumn(r).replace(/\\n/g,"\n\n");var i=h(r);return i=a.addViewToMarkup(t,i),(0,u.default)(r,'<td class="confluenceTd">'.concat(i,"</td>"))},r().fn.ESCAPEMARKUP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===e&&(e=""),"{escape}".concat(e,"{/escape}")},r().fn.CONCAT_VIEW=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.concatWithView(a)},r().fn.REPLACE_VIEW=(e,t,a)=>null==e||null==t?e:(null==a&&(a=""),this.replaceView(e,this.unescapeColumn(t.toString()),this.unescapeColumn(a.toString()))),r().fn.SUBSTRING_VIEW=(e,t,a)=>{var n=null==e?void 0:e.toString().substring(t-1,a&&t+a-1);return this.replaceView(e,e,n)},r().fn.LOG=function(e){return Math.log(e)},r().aggr.MULT=function(e,t,a){return 1===a?e:2===a?t*e:t},r().aggr.CONCAT_VIEW_AGGR=(e,t)=>this.concatWithView([t,e])},getFormattedCols:function(e,t){var a=this,n=[],r=[];return t.forEach((function(t){$.each(t,(function(t){if(-1===r.indexOf(t))if(r.push(t),e.valueViewMap[t])n.push({html:a.cleanCellHtml(e.valueViewMap[t].htmlColName),text:t});else{var i=a.unescapeColumn(t);n.push({html:c().tableTh({value:i}),text:t})}}))})),n},formatResult:function(e,t,a){var n=this,r={},i=n.getAliases(a.sql);$.each(e.jsons,(function(e,t){t.columns.forEach((function(e,a){r[e.text]=t.types[a]}))})),t.forEach((function(t){$.each(t,(function(s,l){var u,d;void 0===r[s]&&("number"==typeof l||l instanceof Number)&&(r[s]=o.default.number),t[s]={type:0===r[s]?"number":""};var h=i[s],p=(null===(u=e.valueViewMap[s])||void 0===u?void 0:u[l])||(null===(d=e.valueViewMap[h])||void 0===d?void 0:d[l]);null==l?t[s].html=p?n.cleanCellHtml(p):c().tableTd({cell:{html:"",type:""}}):l.tfView?t[s].html=n.cleanCellHtml(l.tfView):p?t[s].html=n.cleanCellHtml(p):(null!=r[s]&&void 0!==l?o.default.date===r[s]&&("string"==typeof l||l instanceof String)?t[s].html=l:(t[s].html=o.default.formatAnyValueByType(l,r[s],(function(e){return a.formatDecimal.to(e)}),a.worklog,a.dateFormat,a.locales,a.separator),!1===t[s].html&&(t[s].html=l)):(l="string"==typeof l||l instanceof String?n.unescapeColumn(l):l,t[s].html=l),t[s].html=c().tableTd({cell:t[s]}))}))}))},getValue:function(e,t,a,n){if(null==t)return e;var r=o.default.parseAnyValueByType(t,e,a.separator,a.worklog,!0,a.dateFormat,a.locales,n);return r&&o.default.date===t&&(r=r.getTime()),(isNaN(r)||null===r)&&(r=null),r},unescapeColumn:function(e){return e.replace(S,"'").replace(N,"\\").replace(C,'"').replace(O,"'").replace(I,"`")},cleanCellHtml:function(e){var t=$(e).removeClass("fake pivot-hidden-column tei-meta filtered-header").removeAttr("rowspan").removeAttr("colspan","").css("display","");t.removeClass(t.getClassStartsWith(/tf-rowspan-\d+/)),t.removeClass(t.getClassStartsWith(/tf-colspan-\d+/)),t.is("th")?(t.addClass("confluenceTh"),t.children(".collapser").remove()):t.addClass("confluenceTd"),t.find(".table-excerpt").removeClass("table-excerpt");var a=t[0].outerHTML,n=a.matchAll(/id="refresh-module-(-?\d+)"/g);for(var r of n)if(2===r.length){var i=r[1],s=Math.random().toString().substring(2);a=a.replace(new RegExp(i,"g"),s)}return a},findParentheses:function(e,t){for(var a=-1,n=0,r=t-1;r>=0;r--)if("("===e[r]){if(0===n){a=r;break}n--}else")"===e[r]&&n++;if(-1===a)return{start:-1,end:-1};var i=-1,s=0;for(r=t+1;r<e.length;r++)if(")"===e[r]){if(0===s){i=r;break}s--}else"("===e[r]&&s++;return{start:a,end:i}},getAliases:function(e){var t,a={};for(L.lastIndex=0;t=L.exec(e);)a[t[2]]=t[1];return a},replaceEqualSign:function(e){var t=[];function a(e){return e.replace(/([^=><]|^)[=]{1,2}(?!=)/g,"$1===")}function n(e){return e.replace(/([^\\]|^)\\['"]/g,"$1\\`")}for(;e.length;){var r=n(e),i=r.indexOf('"'),s=r.indexOf("'");if(-1===i&&-1===s){t.push(a(e));break}-1===i&&(i=e.length),-1===s&&(s=e.length);var o=Math.min(i,s),l=e.substring(0,o);l=a(l),t.push(l);var c=i<s?'"':"'";if(-1===(o=n(e=e.substring(o)).indexOf(c,1))){t.push(a(e));break}t.push(e.substring(0,o+1)),e=e.substring(o+1)}return t.join("")},concatenateMarkup:function(e){return e.length>1?e.reduce(((e,t,a)=>e+(null!=t&&t.tfView?"{tfView}".concat(a,"{/tfView}"):t||"")),""):e.length&&e[0]||""},addViewToMarkup:function(e,t){return e.length>1?(e.forEach(((e,a)=>{var n=this.stripTfView(e);"string"==typeof n&&(t=t.replace("{tfView}".concat(a,"{/tfView}"),n).replace("%7BtfView%7D".concat(a,"%7B/tfView%7D"),e))})),t):t},concatWithView:function(e){if(e.length>1){var t=new String(e.reduce(((e,t)=>e+(t||"")),"")),a=e.reduce(((e,t)=>e+(this.stripTfView(t)||AJS.escapeHtml(t||""))),""),n=e.find((e=>this.isTfViewCell(e)));return t.tfView=n?$(n.tfView).html(a)[0].outerHTML:c().tableTd({cell:{html:a}}),t}return e[0]||""},stripTfView:function(e){if(null!=e&&e.tfView){if(this.isTfViewCell(e)){var t=e.tfView;return t.slice(t.indexOf(">")+1,-5).trim()}return e.tfView}},replaceView:function(e,t,a){if(e){var n=new String(e.toString().replace(t,a));if(e.tfView){a||(a="‌");var r=$(e.tfView);s()(r[0],{find:t,replace:a}),n.tfView=r[0].outerHTML}return n}return e},isTfViewCell:function(e){var t;return/^<t[dh][ >]/.test(null==e||null===(t=e.tfView)||void 0===t?void 0:t.trim())}},_=F},83931:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});a(42295),a(86305),a(98457),a(68268),a(79150),a(48868),a(54861),a(67285),a(31209),a(52863),a(73810),a(84122),a(50828),a(24202),a(84745),a(75654),a(75093),a(13616),a(96609);var n=a(45546);function r(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function i(e){this.tokens=[].slice.call(e)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var s={};[{encodings:[{labels:["utf-16","utf-16le"],name:"utf-16le"}],heading:"Legacy miscellaneous encodings"}].forEach((function(e){e.encodings.forEach((function(e){e.labels.forEach((function(t){s[t]=e}))}))}));var o={};function l(e,t){if(!(this instanceof l))return new l(e,t);var a;if(e=void 0!==e?String(e):"utf-8",t=r(t),this._encoding=(a=e,a=String(a).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(s,a)?s[a]:null),null===this._encoding||"replacement"===this._encoding.name)throw RangeError("Unknown encoding: "+e);var n=Boolean(t.NONSTANDARD_allowLegacyEncoding),i="utf-8"!==this._encoding.name&&"utf-16le"!==this._encoding.name&&"utf-16be"!==this._encoding.name;if(null===this._encoding||i&&!n)throw RangeError("Unknown encoding: "+e);if(!o[this._encoding.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js?");return this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{value:this._encoding.name}):this.encoding=this._encoding.name,this}function c(e,t){var a=e>>8,n=255&e;return t?[a,n]:[n,a]}function u(e,t){this.handler=function(t,a){if(r=65535,0<=(n=a)&&n<=r)return c(a,e);var n,r,i=c(55296+(a-65536>>10),e),s=c(56320+(a-65536&1023),e);return i.concat(s)}}l.prototype={encode:function(e,t){e=e?String(e):"",t=r(t);var a=this;this._streaming||(this._encoder=o[this._encoding.name](this._options)),this._streaming=Boolean(t.stream);var n,s=[],l=new i(function(e){for(var t=String(e),a=t.length,n=0,r=[];n<a;){var i=t.charCodeAt(n);if(i<55296||i>57343)r.push(i);else if(56320<=i&&i<=57343)r.push(65533);else if(55296<=i&&i<=56319)if(n===a-1)r.push(65533);else{var s=e.charCodeAt(n+1);if(56320<=s&&s<=57343){var o=1023&i,l=1023&s;r.push(65536+(o<<10)+l),n+=1}else r.push(65533)}n+=1}return r}(e));return l.tokens.forEach((function(e){n=a._encoder.handler(l,e),Array.isArray(n)?s.push.apply(s,n):s.push(n)})),new Uint8Array(s)}},o["utf-16le"]=function(e){return new u(!1,e)};var d,h=l,p=a(24238),f=a(99497),m=a(77406),g=a.n(m),b=a(94818),v=a(23778),y={en_GB:["Key","Summary","T","Created","Updated","Due","Assignee","Reporter","P","Status","Resolution","Labels","Σ Original Estimate","Linked Issues","Component/s","Sub-Tasks","Votes","Project","Resolved","Watches","Original Estimate","Description","Environment","Fix Version/s","Remaining Estimate","Affected Version/s","Σ Remaining Estimate","Σ Progress","Progress","Time Spent","Σ Time Spent","Security Level","Description","Due date","Assignee","Task appears on"],en_US:["Key","Summary","T","Created","Updated","Due","Assignee","Reporter","P","Status","Resolution","Labels","Σ Original Estimate","Linked Issues","Component/s","Sub-Tasks","Votes","Project","Resolved","Watches","Original Estimate","Description","Environment","Fix Version/s","Remaining Estimate","Affected Version/s","Σ Remaining Estimate","Σ Progress","Progress","Time Spent","Σ Time Spent","Security Level","Description","Due date","Assignee","Task appears on"],cs_CZ:["Klíč","Shrnutí","T","Vytvořen","Aktualizováno","Termín","Pověřená osoba","Zadavatel","P","Stav","Stav řešení","Štítky","Σ Původní odhad","Propojené požadavky","Komponent/y","Dílčí úkol","Hlasy","Projekt","Vyřešeno","Sledované","Původní odhad","Popis","Prostředí","Opraveno pro verzi","Zbývající odhad","Postižená/é verze","Σ Zbývající odhad","Σ Pokrok","Postup","Strávený čas","Σ Strávený čas","Úroveň zabezpečení","Popis","Rozhodnout do","Pověřená osoba","Úkol je zadán na"],da_DK:["Nøgle","Opsummering","T","Oprettet","Opdateret","Deadline","Tildelte","Reporter","P","Status","Løsning","Labels","Σ originalt estimat","Linkede opgaver","Komponent(er)","Under-opgaver","Stemmer","Projekt","Løst","Følger","Original estimat","Beskrivelse","Miljø","Ret version(er)","Resterende estimat","Berørt(e) version(er)","Σ resterende estimat","Σ fremgang","Fremgang","Brugt tid","Σ brugt tid","Sikkerhedsniveau","Beskrivelse","Deadline","Tildelte","Opgaven vises på"],de_DE:["Schlüssel","Zusammenfassung","S","Erstellt","Aktualisiert","Fällig","Bearbeiter","Autor","Priorität","Status","Lösung","Stichwörter","Σ Ursprüngliche Schätzung","Verknüpfte Vorgänge","Komponente(n)","Unteraufgaben","Stimmen","Projekt","Erledigt","Beobachtungen","Ursprüngliche Schätzung","Beschreibung","Umgebung","Lösungsversion(en)","Verbleibende Schätzung","Betroffene Version(en)","Σ Verbleibende Schätzung","Σ Fortschritt","Fortschritt","Benötigte Zeit","Σ Benötigte Zeit","Sicherheitsstufe","Beschreibung","Fälligkeitsdatum","Bearbeiter","Aufgabe wird angezeigt auf"],et_EE:["Võti","Kokkuvõte","T","Loodud","Uuendatud","Tähtaeg","Omanik","Teataja","P","Olek","Lahendus","Sildid","S Esialgne kalkulatsioon","Seotud teemad","Osa(d)","Alamülesanded","Hääled","Projekt","Lahendatud","Jälgib","Esialgne kalkulatsioon","Kirjeldus","Keskkond","Paranda versioon(id)","järelejäänud kalkulatsioon","Mõjutatud versioon(id)","Σ järelejäänud kalkulatsioon","S progress","Edusamm","Aega kulunud","S Aega kulunud","Turvalisuse tase","Kirjeldus","Tähtaeg","Omanik","Ülesanne ilmub"],es_ES:["Clave","Resumen","T","Creado","Actualizado","Fecha de entrega","Asignado","Informante","P","Estado","descripción","Etiquetas","Σ de estimación original","Incidencias vinculadas","Componente(s)","Subtareas","Votos","Proyecto","Resuelto","Visitas","Estimación original","Descripción","Entorno","Versiones de resolución","Estimación de tiempo restante","Versiones afectadas","Σ trabajo restante estimado","Σ de progreso","Progreso","Tiempo dedicado","Σ de tiempo dedicado","Nivel de seguridad","Descripción","Fecha de vencimiento","Asignado","La tarea aparece en"],fr_FR:["Clé","Résumé","T","Création","Mise à jour","Echéance","Attribution","Rapporteur","Pr","État","Résolution","Étiquettes","Σ Estimation originale","Demandes liées","Composants","Sous-tâche","Votes","Projet","Résolue","Espions","Estimation originale","Description","Environnement","Versions corrigées","Estimation restante","Versions concernées","Σ Estimation restante","Σ Progrès","Progression","Temps consacré","Σ Temps consacré","Niveau de sécurité","Description","Date d'échéance","Attribution","La tâche apparaît sur"],is_IS:["Lykill","Yfirlit","T","Búið til","Uppfært","Lokadagur","Hverjum úthlutað","Skýrslugjafi","P","Staða","Lausn","Merki","S Upprunalegt Mat","Tengd Mál","Íhlutur/ir","Undirverkefni","Atkvæði","Verk","Leyst úr","Fylgist með","Upprunalegt Mat","Lýsing","Umhverfi","Gera við útgáfu/r","Mat á því sem eftir er","Útgáfa/ur sem þetta hefur áhrif á","Σ Mat á því sem eftir er","S Árangur","Árangur","Tími notaður","S Tími notaður","Öryggisstig","Lýsing","Lokadagsetning","Úthlutað til","Verkefni birtist á"],it_IT:["Chiave","Riepilogo","T","Creato","Aggiornato","Scadenza","Incaricato","Segnalante","P","Stato","Risoluzione","Etichette","Σ stima originale","Issue collegate","Componente(i)","Task sottostante","Voti","Progetto","Risolta","Persone che seguono","Stima originale","Descrizione","Ambiente","Correggi versione(i)","Stima tempo rimasto","Versione/i interessata/e","Stima rimanente Σ","Σ Avanzamento","Avanzamento","Tempo impiegato","Σ Tempo impiegato","Livello di sicurezza","Descrizione","Data di scadenza","Incaricato","Il task appare su"],hu_HU:["Kulcs","Összefoglalás","T","Létrehozva","Frissítve","Esedékes","Megbízott","Jelentéstevő","P","Állapot","Megoldás","Címkék","Σ Eredeti becslés","Hivatkozott hibák","Rész(ek)","Alfeladatok","Szavazatok","Projekt","Megoldva","Megfigyelések","Eredeti becslés","Leírás","Környezet","Fix verzió(k)","Becsült hátralévő","Érintett verzió(k)","Σ becsült hátralévő munka","Σ Előrehaladás","Előmenetel","Eltöltött idő","Σ Eltelt idő","Biztonsági szint","Leírás","Határidő","Megbízott","A feladat a következőben szerepel"],nl_NL:["Code","Samenvatting","T","Gemaakt","Bijgewerkt","Streefdatum","Toegewezen aan","Melder","P","Status","Oplossing","Labels","Σ Originele inschatting","Gelinkte issues","Component/en","Subtaken","Stemmen","Project","Opgelost","Volgers","Originele inschatting","Omschrijving","Omgeving","Opgelost in versie(s)","Resterende inschatting","Geraakte versie(s)","Σ Resterende inschatting","Σ Voortgang","Voortgang","Bestede tijd","Σ Bestede tijd","Beveiligingsniveau","Beschrijving","Einddatum","Toegewezen aan","Taak staat op"],no_NO:["Nøkkel","Sammendrag","T","Opprettet","Oppdatert","Forfaller","Ansvarlig","Innmelder","P","Status","Løsning","Etiketter","Σ Opprinnelig estimat","Lenkede saker","Komponent(er)","Underoppgaver","Stemmer","Prosjekt","Løst","Observeringer","Opprinnelig estimat","Beskrivelse","Miljø","Fiks versjon(er)","Gjenværende estimat","Påvirket(e) versjon(er)","Σ Gjenværende estimat","Σ Fremdrift","Fremdrift","Tidsbruk","Σ Tidsbruk","Sikkerhetsnivå","Beskrivelse","Tidsfrist","Ansvarlig","Oppgave vises på"],pl_PL:["ID","Podsumowanie","T","Utworzony","Zaktualizowany","Ważne","Przydzielone do","Zgłaszający","Pr","Status","Rozwiązanie","Etykiety","Σ pierwotny szacunek","Powiązane zagadnienia","Składnik(i)","Zadania podrzędne","Głosy","Projekt","Rozwiązane","Ogląda","Pierwotne oszacowanie","Opis","Środowisko","Wersja/wersje poprawki","Pozostały szacunek","Wersja/-e, na które ma to wpływ","Σ pozostały szacunek","Σ postęp","Postęp","Spędzony czas","Σ spędzony czas","Poziom bezpieczeństwa","Opis","Termin","Beneficjent","Zadanie pojawia się na"],pt_BR:["Chave","Resumo","T","Criado","Atualizado","Ficar pronto","Responsável","Criada por","P","Situação","Resolução","Rótulos","Σ da Estimativa Original","itens vinculados","Componente(s)","Subtarefas","Votos","Projeto","Resolvido","Acompanhamentos","Estimativa Original","Descrição","Ambiente","Versões Corrigidas","Estimativa Restante","Versões afetadas","Σ Estimativa de trabalho restante","Σ de Progresso","Andamento","Tempo Gasto","Σ de Tempo Gasto","Nível de Segurança","Descrição","Data de conclusão","Atribuído","AS tarefa aparece em"],ro_RO:["Cheie","Rezumat","T","Creat","Actualizat","Din cauza","Responsabil","Reporter","P","Status","Rezoluție","Etichete","Σ Estimare Originală","Probleme conexe","Componentă/e","Sub Sarcini","Voturi","Proiect","Rezolvat","Urmăriri","Estimare Inițială","Descriere","Mediu","Versiune/i Remediu","Estimare rămasă","Versiunile afectate","Σ Estimare volum de muncă rămas","Σ Progres","Progres","Timp Petrecut","Σ Timp Petrecut","Nivel Securitate","Descriere","Data-limită","Responsabil","Activitatea apare pe"],sk_SK:["Kľúč","Zhrnutie","T","Vytvorené","Aktualizované","Termín","Zodpovedný","Ohlasovateľ","P","Stav","Vyriešenie","Štítky","Σ Pôvodný odhad","Prepojené položky","Komponent(y)","Čiastkové úlohy","Hlasy","Projekt","Vyriešené","Sledované","Pôvodný odhad","Opis","Prostredie","Verzia/e opráv","Zostávajúci odhad","Ovplyvnená verzia/e","Σ Zostávajúci odhad","Σ Pokrok","Pokrok","Strávený čas","Σ Strávený čas","Úroveň zabezpečenia","Opis","Termín","Zodpovedný","Úloha sa nachádza v"],fi_FI:["Avain","Yhteenveto","T","Luotu","Päivitetty","Eräpäivä","Käsittelijä","Raportoija","P","Tila","Resoluutio","Leimat","Σ Alkuperäinen arvio","Yhdistetyt ongelmat","Komponentit","Alitehtävät","Äänet","Projekti","Ratkaistu","Seurattava sisältö","Alkuperäinen arvio","Kuvaus","Ympäristö","Korjaa versio(t)","Jäljellä oleva aika-arvio","Vaikutuksen alaiset versiot","Σ Jäljellä arviolta","Σ Edistyminen","Edistyminen","Käytetty aika","Σ Aikaa käytetty","Turvataso","Kuvaus","Eräpäivä","Käsittelijä","Tehtävä näkyy kohteessa"],sv_SE:["Nyckel","Sammanfattning","T","Skapad","Uppdaterad","Förfallen","Ansvarig","Reporter","P","Status","Åtgärd","Etiketter","Σ Ursprunglig uppskattning","Länkade ärenden","Komponent/er","Under-uppgifter","Röster","Projekt","Åtgärdat","Bevakningar","Ursprunglig uppskattning","Beskrivning","Miljö","Åtgärdad version/er","Uppskattning av återstående","Påverkade versioner","Σ Uppskattning av återstående","Σ Framsteg","Framsteg","Nedlagd tid","Σ Tid tillbringad","Säkerhetsnivå","Beskrivning","Förfallodatum","Ansvarig","Uppgiften återfinns på"],ru_RU:["Ключ","Тема","Тип запроса","Создан","Обновленный","Длительность","Исполнитель","Автор","Приоритет","Статус","Резолюция","Метки","Первоначальная оценка","Связанные запросы","Компоненты","Подзадачи","Голоса","Проект","Дата резолюции","Наблюдения","Исходная оценка","Описание","Окружение","Исправить в версиях","Осталось времени (Оценка времени)","Затронуты версии","Примерно осталось времени","Прогресс","Прогресс","Затрачено времени","Затрачено времени","Уровень безопасности","Описание","До даты","Исполнитель","Источник задачи"],zh_CN:["键值","摘要","T","已创建的","已更新","到期","经办人","报告人","P","状态","解决结果","标签","Σ原预估时间","问题链接","组件","子任务","投票","项目","已解决","关注","原预估时间","描述","环境","修复的版本","剩余预估时间","影响版本","Σ 剩余估计量","Σ进度","进度","花费时间","Σ花费时间","安全等级","描述","到期日","经办人","任务显示在"],ja_JP:["キー","要約","T","作成","更新","期限","担当者","報告者","P","ステータス","解決","ラベル","Σ 推定時間","リンクされた課題","コンポーネント","サブタスク","投票","プロジェクト","解決済","ウォッチ","推定時間","説明","環境","修正バージョン","推定残り時間","影響を受けるバージョン","Σ 残余見積","Σ 進捗状況","進捗状況","経過時間","Σ 経過時間","セキュリティレベル","説明","締切日","担当者","タスク表示先"],ko_KR:["키","요약","유형","생성일","변경일","기한","담당자","Reporter","우선","상태","해결책","레이블","초기 예상 시간의 합","연결된 이슈","구성 요소","부작업","투표","프로젝트","해결된","지켜보기","최초 예상 시간","설명","환경","수정 버전","남은 시간 예상","영향 받는 버전","Σ 남은 예상치","진행 시간의 합","진척도","작업한 시간","할애한 시간의 합","보안 등급","설명","기한일","담당자","작업 표시"]},S=!1;function E(e,t){S||(S=!0,window.AJS&&window.AJS.params&&window.AJS.params.versionNumber&&(d=T(window.AJS.params.versionNumber))<T("7.6")&&(y.fr_FR[9]="Etat",y.nl_NL[4]="Gewijzigd",y.es_ES[10]="Descripción",y.en_US[23]="Fix Version(s)"));var a=function(e){return function(e){if(e){var t=e.charAt(0);return t===t.toLocaleLowerCase()}}(e)?e=>e.map((e=>e.toLocaleLowerCase())):e=>e}(e=function(e){if(d>=T("6.2"))switch(e){case"Creada":e="Creado";break;case"Actualizada":e="Actualizado";break;case"Responsable":e="Asignado";break;case"Estatus":e="Estado";break;case"Resolución":e="Descripción"}if(d>=T("7.6"))switch(e){case"Etat":e="État";break;case"Gewijzigd":e="Bijgewerkt";break;case"Descripción":e="descripción";break;case"Fix Version(s)":e="Fix Version/s"}return e}(e)),n=function(e,t,a){for(var n of Object.keys(y))if(t!==n&&-1!==a(y[n]).indexOf(e))return n}(e,t,a);if(n){var r=a(y[n]).indexOf(e);if(-1!==r)return y[t][r]}}function T(e){return e.split(".").reduce(((e,t,a)=>e+parseInt(t)*Math.pow(10,5-2*a)),0)}var A=a(24865),C=a(96570),w=a(9069),N=a(44237),x=a(34714),O=a(31512),R=a(65573),I=a(3661),k=a(94802),M=a.n(k),L=a(19805),D=a(72510),F={worklogPlaces:[[" years"," year","y"],[" weeks"," week","w"],[" days"," day","d"],[" hours"," hour","h"],[" minutes"," minute","m"]],minute:6e4,hour:36e5,visualType:!0,textType:!1,mixedType:1,editorType:2,textNViewType:3,textNCellHtml:4,monthDayCount:R.MONTH_DAY_COUNT,initChosen:function(e){e.find("option:contains("+"-Empty-"+")").addClass("tf-empty-option"),e.find("select").each((function(){var t=$(this);t.chosenTF({no_results_text:t.data("html")?"No matches found":"No matches found. Press \u0027Enter\u0027 to add",placeholder_text_multiple:"icon"==t.data("type")?"Select items...":"Click and start typing...",display_selected_options:!1,width:"250px",addUserOption:!t.data("html"),search_contains:!t.data("html"),isHtml:t.data("html")}).change((function(t,a){a.selected?$(this).find("option").filter((function(){return this.textContent===a.selected})).prop("selected",!0):a.deselected&&$(this).find("option").filter((function(){return this.textContent===a.deselected})).prop("selected",!1),e.find(".search-choice:contains("+"-Empty-"+")").addClass("tf-empty-option")}))})),e.find(".search-choice:contains("+"-Empty-"+")").addClass("tf-empty-option")},unescapeStrings:function(e){return e.map((e=>M()(e)))},unescapeString:function(e){return F.unescapeStrings([e])[0]},escapeString:function(e){return AJS.escapeHtml(e)},i18nFilterValues:function(e){for(var t=0;t<e.length;t++)e[t]&&(e[t]=e[t].replace("-Empty-","-Empty-"))},unI18nFilterValues:function(e){for(var t=0;t<e.length;t++)e[t]&&(e[t]=e[t].replace("-Empty-","-Empty-"))},getMinValueByType:function(e){return e===F.worklog?F.minute:1},getWorklog:function(e){e=e&&"string"==typeof e?e.split("|"):[365,5,8,"y w d h m"],isNaN(e[2])&&e.unshift(365),e[2]=F.hour*e[2];var t=[e[0]*e[2],e[1]*e[2],e[2],F.hour,F.minute],a=["y","w","d","h","m"],n=a,r=e[4];r?((n=r.split(" ")).length<5&&n.unshift("y"),r=n.map((function(e,t){var a=F.worklogPlaces[t].slice();return a[2]=e,a}))):r=F.worklogPlaces;var i=[];return e[3].split(" ").forEach((function(e){var r=a.indexOf(e);i.push({place:n[r],mult:t[r]})})),{mult:t,places:i,worklogPlaces:r}},normalizeTable:function(e,t){e.each((function(){var e=this,a=$(this);if(!t||"true"!==a.attr(t)){if(a.prepend(a.children("tbody").nextAll("thead")),F.isTableDynamicJiraIssues(a)&&!a[0].tHead){var n=a.parents(".flexigrid").find(".hDivBox thead").clone();n.hide(),a.prepend(n)}var r;if(!a.hasClass("pivot-table-result"))if(a.find(".tf-header-hidden").remove(),a.find(".pivot-header").removeClass("pivot-header"),e.rows&&e.rows.length)!function(){var t,n=$(e.rows).not(".tableFloatingHeader tr"),i=0,s=1,o=[],l=!1,c=!0;do{var u=n.eq(i),d=u.children().not(".fake, .tf-numbering, .total-col, .tf-sparkline-header");t=c&&(l||0===d.filter("td").length),l=t&&n.length>i+1&&0===n.eq(i+1).children().filter("td").length;var h=Math.max.apply(null,d.map((function(){return Math.max(this.rowSpan,l?Math.min(this.colSpan,2):1)})));c=c&&t,s=Math.max(s,h),(i>0||s>1)&&(u.addClass("pivot-header"),r=0,d.each((function(){for(var e=this;o.length>r&&o[r].rowSpan>1;)o[r++].rowSpan--;for(var t=e.colSpan;t>0;t--)o.length<=r&&(o[r]={html:""}),o[r].html+="&nbsp;"+e.innerHTML,o[r].rowSpan=e.rowSpan,r++}))),i++,s--}while(s>0&&e.rows.length>i);o.length&&(n.eq(0).before(g().mergedHeader({data:o,isFireFox:F.isFireFox()})),a.addClass("merged-header"))}()}}))},isFireFox:function(){return navigator&&navigator.userAgent&&-1!=navigator.userAgent.indexOf("Firefox")},isIE11:function(){return!!window.MSInputMethodContext&&!!document.documentMode},isSafari:function(){var e,t,a,n,r,i;return-1!==(null===(e=navigator)||void 0===e||null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().indexOf("apple"))&&-1===(null===(a=navigator)||void 0===a||null===(n=a.userAgent)||void 0===n?void 0:n.indexOf("CriOS"))&&-1===(null===(r=navigator)||void 0===r||null===(i=r.userAgent)||void 0===i?void 0:i.indexOf("FxiOS"))},isTableDynamicJiraIssues:function(e){var t=e.attr("id");return t&&-1!==t.indexOf("jiraissues_table_")||e.hasClass("adaptavist-rest-table")},hasTableForUpdate:function(e){return(e.hasClass("aui-nav-pagination")||e.is("table")||e.hasClass("user-profile-list-result")||"teamcity"===e.attr("id")||e.hasClass("profilelist")||e.hasClass("static-jira-issues_count")||e.hasClass("jira-table")||e.hasClass("pocketquery-view-container")||e.hasClass("attachments-container")||e.not(".issue-body-content,thead,tbody").find("table").length||e.is("tbody")&&F.isTableDynamicJiraIssues(e.parent()))&&!e.parent().hasClass("attachment-history-wrapper")},hasRowForUpdate:function(e){return e.is("tr")&&!e.hasClass("total-row")&&!e.hasClass("tf-header-hidden")},hasCellUpdate:function(e){return e.is("th,td")},hasCharsForUpdate:function(e,t){return e.hasClass("jira-issue")||"select2-chosen"===t.className},isIgnoreUpdateNode:function(e){return"floating-scrollbar"===e.attr("id")||e.hasClass("fake")||void 0!==e.attr("data-tippy-root")},isIgnoreCharacterModified:function(e){return e&&e.target&&e.target.classList&&(e.target.classList.contains("sp-highlight-term")||$(e.target).parents(".sp-highlight-term").length)},getRows:function(e,t,a,n){var r=[],i=e.rows;if(i)for(var s=e.classList.contains("attachments"),o=!s&&e.classList.contains("rlabs-ifc-insight-objects-macro-view-table")&&e.tFoot?1:0,l=0;l<i.length-o;l++)!i[l].children.length||a&&!F.isRowVisible(i[l])||i[l].classList.contains("pivot-header")||!t&&!n&&i[l].classList.contains("total-row")||i[l].classList.contains("pagination-row")||i[l].parentNode.classList.contains("tableFloatingHeader")||i[l].classList.contains("issueRow")&&i[l].classList.contains("meta-data-container")||s&&i[l].classList.contains("attachment-summary")||r.push(i[l]);return $(r)},updateI18nSettings:function(e,t,a,n){if(F.hasI18nMacros(n)){var r=[],i=F.getPivotJiraFields(n);if(i){var s=i.slice();F.updateI18nFields(e,s,a),i.forEach(((e,t)=>{e!==s[t]&&r.push({old:e,new:s[t]})}))}return t.forEach((t=>F.updateI18nFields(e,t,a,r))),!0}},updateI18nFields:function(e,t,a,n){t.slice().forEach((r=>{if(null===F.getCellPosition(e,r)){var i=F.getFieldI18nTranslation(e,r,a);if(!i&&n&&n.some((e=>{if(-1!==r.indexOf(e.old))return i=r.replace(e.old,e.new),!0})),i&&i!==r)-1!==t.indexOf(i)?t.splice(t.indexOf(r),1):t[t.indexOf(r)]=i}}))},getFieldI18nTranslation:function(e,t,a){return E(t,a)},hasI18nMacros:function(e){return this.hasJira(e)||this.hasTaskReport(e)},hasJira:function(e){return e.hasClass("jira-based")||e.find(".jira-table, .jira-based").length>0},hasTaskReport:function(e){return e.find(".tasks-report").length>0},getPivotJiraFields:function(e){var t=e.attr("columns")||e.find(".jira-based.pivot-based").attr("columns");return t?JSON.parse(t):t},getCellPositions:function(e,t){var a=[];if(e.length){var n=F.clearStringLowerCase(t);e[0].forEach((function(e,t){F.clearStringLowerCase(e)===n&&a.push(t)}))}return a},getColumnPosition:function(e,t){var a=F.getColumnPositions(e,t);return a.length?a[0]:null},getColumnPositions:function(e,t){var a=[],n=F.clearStringLowerCase(t);return e.eq(0).find("td, th").each((function(e){F.clearStringLowerCase(this.textContent)===n&&a.push(e)})),a},isRowVisible:function(e){return"none"!==e.style.display},clearScripts:function(e){if(-1===e.innerHTML.indexOf("script"))return e;var t=e.cloneNode(!0);return t.querySelectorAll("script").forEach((e=>e.remove())),t},clearStringWithFormatting:function(e){return w.default.clearStringBasic(e).replace(/\u00A0| {2,}/g," ")},clearStringLowerCase:function(e){return w.default.clearString(e).toLocaleLowerCase()},clearString:w.default.clearString,getNthTd:function(e,t){return F.getNthTdElem(e,t).text()},getNthTdIcons:function(e,t){return F.getTdIcons(F.getNthTdElem(e,t))},getTdIcons:function(e){return e.find("img, ul.inline-task-list")},getTdIconsSrc:function(e){var t=[];return e.find("img").each((function(){t.push(this.src)})),0==t.length&&t.push(""),t},clearIconSrc:function(e){var t=e.indexOf("images/icons/emoticons/");return t>=0&&(e=e.substr(t,e.length)),e},getNthTdElem:function(e,t){return $(e.children[t])},formatNumberLeadingZeroes:function(e,t){var a=new Array(t).join("0")+e;return a.substring(a.length-t,a.length)},convertToDate:function(e,t,a){if($.isNumeric(e)){e=parseInt(e);var n=new Date(e+new Date(e).getTimezoneOffset()*F.minute);e=F.formatDate(n,t,a)}return e},formatDate:function(e,t,a){e=F.toDateObject(e),"object"==typeof t&&(t=t[t.length-1],a=a[a.length-1]);var n=t.toLowerCase().indexOf("hh:mm"),r=t,i="";if(n>=0&&(r=N.default.getDateFormatWithoutTime(r),i=F.formatTime(e,t)),r.indexOf("i")>=0&&(r=r.replace("i","m"),(e=new Date(e.getTime())).setMonth(e.getMonth()/3)),r.indexOf("w")>=0){r=r.replace("w","o").replace("w",""),(e=new Date(e.getTime())).setDate(e.getDate()+4-e.getDay());var s=e.getMonth(),o=e.getDate();s>1&&e.getYear()%4==0&&o++,e.setMonth(0),e.setDate((o+R.MONTH_DAY_COUNT[s]-1)/7+1)}var l=$.datepicker.formatDate(r,e,I.default.get(a));return 0===n?l=i+" "+l:n>0&&(l=l+" "+i),l},formatTime:function(e,t){e=F.toDateObject(e);var a=-1!==t.indexOf("HH:"),n=t.indexOf(":ss")>=0,r=e.getHours(),i="";a&&(i=r>11?" p.m.":" a.m.",0===r?r=12:r>12&&(r%=12));var s=F.formatNumberLeadingZeroes(r,2)+":"+F.formatNumberLeadingZeroes(e.getMinutes(),2);return n&&(s=s+":"+F.formatNumberLeadingZeroes(e.getSeconds(),2)),s+i},getTableSorterDateFormat:function(e){var t=e.toLowerCase()[0];return"m"===t?"mmddyyyy":"d"===t?"ddmmyyyy":"y"===t?"yyyymmdd":void 0},toDateObject:function(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||e instanceof String?new Date(e):e},dateToUTCTimestamp:function(e,t,a){if(!N.default.isRelativeDate(e)){try{var n=C.default.parseDate(e,t,a);e=n.getTime()-6e4*n.getTimezoneOffset()+""}catch(e){}e=e.replace(/,/g,D.ALTERNATE_COMMA)}return e},getTimeFormatWithoutDate:function(e){return e.replace(N.default.getDateFormatWithoutTime(e),"").trim()},getTablesorterDateFormat:function(e){var t=e.replace(/\W+/g,"")[0].toLowerCase(),a=null;if("m"!==t)switch(t){case"d":a="ddmmyyyy";break;case"y":a="yyyymmdd";break;default:a=null}return a},setDateFormatForColumn:function(e,t,a,n,r,i,s,o,l){var c;if(!e[i])if(s.eq(0).is("#issuetable tr, .spreadsheets-sheet tr")||s.each((function(){if(this.children&&this.children.length>i&&(c=$(this.children[i]).find("time").not('[data-macro-name="page-info"]')).length)return!1})),c&&c.length){if(F.setDateMacroDateFormat(c,e,t,n,[r,a],i),o){var u=F.getTimeFormatWithoutDate(a);0===a.toLowerCase().indexOf("hh:mm")?e[i]=u+" "+e[i]:e[i]=e[i]+" "+u}}else{var d=l.map((e=>e[i])).filter(((e,t)=>t&&e)),h=F.getDateFormat(d,n,a);e[i]=h||a,t[i]=n}},setDateMacroDateFormat:function(e,t,a,n,r,i){if(e.length){var{dateFormat:s,locale:o}=F.getDateMacroDateFormat(e,n,r);t[i]=s,a[i]=o}},getDateMacroDateFormat:function(e,t,a){if(e.length){for(var n of a)try{return C.default.parseDate(e[0].textContent,n,t),{dateFormat:n,locale:t}}catch(e){}return{dateFormat:"dd M yy",locale:t||"en_US"}}},getDateFormat:function(e,t,a){var n=["dd/M/yy HH:mm","dd/M/y HH:mm",a,"dd.mm.yy","m/d/yy","d M yy","d M y","M dd, yy","yy-mm-dd","m/d/y","d. m. yy.","dd-mm-yy","dd-mm-y","dd.mm.y","dd/mm/yy","yy.dd.mm","yy/mm/dd"];e=e.length>10?(0,b.getSelectionFromArray)(e,10):e;var r=0,i=null;return n.some((a=>{var n=e.reduce(((e,n)=>{try{if(C.default.parseDate(n,a,t))return e+1}catch(e){}return e}),0);if(n>r&&(i=a,(r=n)===e.length))return!0})),i},dateFormatAutocomplete:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};F.inputAutocomplete(e,t,D.DATE_FORMAT_CONSTANTS,(function(){p.default.storeValue("tf-dateformat",e.val()),a()}))},dateFormAuiSelect:function(e,t,a){e.on("change",(function(){p.default.storeValue("tf-dateformat",e.val()),a&&a()}))},mapSeparator:e=>{switch(e){case D.SEPARATORS.SHORT.ESCAPED_SPACE:return D.SEPARATORS.LONG.SPACE;case D.SEPARATORS.SHORT.COMMA:return D.SEPARATORS.LONG.COMMA;case D.SEPARATORS.SHORT.POINT:return D.SEPARATORS.LONG.POINT;case D.SEPARATORS.LONG.SPACE:return D.SEPARATORS.SHORT.ESCAPED_SPACE;case D.SEPARATORS.LONG.COMMA:return D.SEPARATORS.SHORT.COMMA;case D.SEPARATORS.LONG.POINT:return D.SEPARATORS.SHORT.POINT;default:return e}},inputAutocomplete:function(e,t,a,n){e.autocomplete({source:a,minLength:0,appendTo:t,change:n,select:function(){e.trigger("selected")}}),e.focus((function(){e.autocomplete("search","")})).change(n);var r=e.autocomplete("widget");r?r.click((function(e){e.stopPropagation()})):WRM.require("com.stiltsoft.confluence.plugin.tablefilter.tablefilter:jquery-ui-resources",(function(){F.inputAutocomplete(e,t,a,n)}))},getLocaleDateFormat:function(e){var t=AJS.Meta.get("user-date-pattern");if("undefined"==typeof AP)try{t=t||window.parent.AJS.Meta.get("user-date-pattern")}catch(e){}return t?(-1!==(t=t.replace("yyyy","yy")).indexOf("MMM")?t=t.replace("MMM","M"):-1!==t.indexOf("MM")?t=t.replace("MM","mm"):-1!==t.indexOf("M")&&(t=t.replace("M","m")),t):e},getLocale:function(){var e=AJS.Meta.get("user-locale");if(!e)try{e=window.parent.AJS.Meta.get("user-locale")}catch(e){}return e?e.replace("-","_"):"en_US"},getAnyValueType:function(e,t,a,n,r,i,s){try{var{date:o,formats:l}=C.default.parseDateAndGetFormat(e,r,i,n,s);if(o&&!F.isDateHaveStringAtEnd(o,e,l,i))return F.date}catch(e){}return C.default.getValueType(e,t,a,n)},isDateHaveStringAtEnd:function(e,t,a,n){return t.length>F.formatDate(e,a,n).length},getNumberFormatter:function(e,t){return(new A.default).getFormatter(e,t,!1)},formatWorklog:function(e,t,a){var n=[],r="";return e<0&&(r="-",e=-e),t.places.forEach((function(r,i){var s,o=e/r.mult;((s=i<t.places.length-1||1===r.mult?Math.floor(o):Math.round(10*o)/10)||i===t.places.length-1&&!n.length)&&(n.push(F.formatNumber(s,a)+r.place),e-=s*r.mult)})),r+n.join(" ")},formatDuration:function(e){var t=[],a=!0;return[36e5,6e4,1e3].forEach((function(n,r){var i=Math.floor(e/n);(i||r)&&(t.push(!a&&i<10?"0"+i:i),e-=i*n,a=!1)})),t.join(":")},formatNumber:function(e,t){return(e+"").replace(".",t)},formatAnyValueByType:function(e,t,a,n,r,i,s){return t===F.date?F.formatDate(e,r,i):F.formatValueByType(e,t,a,n,s)},formatValueByType:function(e,t,a,n,r){return isFinite(e)?t===R.DATA_TYPES.worklog?this.formatWorklog(e,n,r):t===R.DATA_TYPES.duration?this.formatDuration(e):a(e):e},addExcerpt:function(e,t){var a=F.getExcerpt(e);return t&&(a=a.filter((function(){var t=$(this).closest(".original-table:not(.table-excerpt),.tj-source:not(.table-excerpt)",e[0]);return 0===t.length||t.is(e)}))),F.getExcerptInclude(e,a,t)},getExcerpt:function(e){return e.find('div[name="table-excerpt-include"][content]').filter((function(){return-1===e.find(".pivot-content > .original-table, .table-joiner > .tj-source").find('div[name="table-excerpt-include"][content]').index(this)}))},getExcerptInclude:function(e,t,a){return t.each((function(){var t=$(this).attr("content"),n=$("div.table-excerpt").filterByAttr("data-name",t),r=n.filter('[data-macro-name="table-excerpt"]');0===r.length&&(r=n.eq(0)),r.length&&(r.addClass(a),r=F.addExcerpt(r,a),e=e.add(r))})),e},bindTFACEvents:function(e,t,a,n,r){var i=[];e.find(t).each((function(){i.push($(this).attr("id"))}));var s=e.filter(".table-excerpt").length>0,o=i.length||s;return o?(e.bind(a,(function(e,t){if(-1!==i.indexOf(t.id)||s)return n(e),r||$(e.target).closest(".table-excerpt, .original-table, .tj-source, .tablefilter-table-wrapper").hasClass("table-excerpt")})),e.one("tf-added",(e=>-1===i.indexOf(e)?i.push(e):null))):e.one("tf-added tf-inserted",(()=>F.bindTFACEvents(e,t,a,n))),o},mutationObserverFilter:function(e,t){e.some((function(e){if(e.addedNodes.length){var a=[];if(Array.prototype.forEach.call(e.addedNodes,(function(e){e.id&&-1!==e.id.indexOf("sizzle")||e.tagName&&"div"===e.tagName.toLowerCase()&&Array.prototype.filter.call(e.children,(e=>e.id&&0===e.id.indexOf("sizzle"))).length||a.push(e)})),a.length)return t($(a),e.target)}}))},hasTaskList:function(e,t){return t.find('[data-inline-task-id="'.concat(e.taskId,'"]')).length},bindTaskList:function(e,t){$(window).bind("inline-tasks.status-update.complete",(function(a,n){e.find('[data-inline-task-id="'.concat(n.taskId,'"]')).length&&t()}))},addIframe:function(e,t,a){var n=!1;try{var r=e.find("iframe").not('.hidden, .gliffy-html5-container, [id^="com.bilith.lref.confluence-gdrive"], .youtube-player, [id^="lucidchart"]').filter((function(){return-1===e.find(".pivot-content > .original-table, .table-joiner > .tj-source").find("iframe").index(this)&&-1===e.find("table iframe").index(this)}));function o(r){var i=$(r),s=i.contents();n=!0;var o=function(){var n,r=s.find("table");r.length&&(e=e.add(s.find("html").addClass(t)).data("hasFrame",!0),r.data("iframe",i),setTimeout((function(){a(e)}),50),null===(n=p.default.loadIframeGadgetResources)||void 0===n||n.call(p.default,s))},l=null,c=function(){o();new MutationObserver((function(e){e.some((function(e){if(e.addedNodes.length)return Array.prototype.forEach.call(e.addedNodes,(function(e){var t,a,n,r,i;null!==(a=(t=e).classList)&&void 0!==a&&a.contains("resize-sensor")||null!==(n=t.classList)&&void 0!==n&&n.contains("total-row")||null!==(r=t.classList)&&void 0!==r&&r.contains("tf-header-hidden")||-1!==(null===(i=t.id)||void 0===i?void 0:i.indexOf("sizzle"))||(clearTimeout(l),l=setTimeout(o,100))})),!0}))})).observe(s[0],{childList:!0,subtree:!0})};i.load((function(){s=i.contents(),c()})),s.ready(c),s.find("table").length&&(e=e.add(s.find("html").addClass(t)))}r.each((function(){o(this)}));var i=r.filter(".gadget");i.length&&e.bind("tf-filtered",(()=>{i.each((function(){var e=$(this),t=e.contents().find("body"),a=t.children("div.gadget").outerHeight(!0)||t.outerHeight(!0);e.height(a)}))}));var s=new MutationObserver((function(e){e.some((function(e){if(e.addedNodes.length)return Array.prototype.forEach.call(e.addedNodes,(function(e){if("IFRAME"===e.nodeName)o(e);else if(e.getElementsByTagName){var t=e.getElementsByTagName("iframe");Array.prototype.forEach.call(t,(e=>o(e)))}})),!0}))}));e.each((function(){s.observe(this,{childList:!0,subtree:!0})}))}catch(l){}return e.data("hasFrame",n)},setPaginationMsg:function(e){if("hidden"!==p.default.getStoredValue("tf-hide-pagination")){var t=e.find(":not(.tablefilter-pagination, li) > .aui-nav-pagination").not(".confluenceTable .aui-nav-pagination"),a=$();t.length&&0===t.find(".tfac-pagination").length&&(a=$(g().paginationMsg()),t.last().append(a));var n=e.find(".refresh-issues-bottom").not(".confluenceTable .refresh-issues-bottom");if(n.length&&0===n.find(".tfac-pagination").length){var r=$(g().jiraIssuesMsg());n.append(r),a=a.add(r)}a.find(".hide").click((function(){a.remove(),p.default.storeValue("tf-hide-pagination","hidden")}))}},hasTabs:function(e){return e.find(".aui-tabs").length>0},hasLoadingContent:function(e){return!$("body.content-preview").length&&e.find(".jim-sortable-dark-layout, table.ppr > caption, .aui-restfultable-loading, .adaptavist-rest-table:not(.aui-restfultable), .converter-macro-ajax-container .aui-spinner, .aui-progress-indicator").filter((function(){var t=$(this);return"none"!==t.css("display")&&0===t.closest("td").closest(e).length})).length>0},hasAnyTFACUnfinishedContent:function(e,t){return F.hasTFACUnfinishedContent(e,t,".tablefilter-table-wrapper","data-tf-ready")||t.find(".pivot-content").filter(((e,t)=>"true"===t.getAttribute("data-pivot-not-ready"))).length||t.find(".table-joiner").filter(((e,t)=>"true"===t.getAttribute("data-tj-not-ready"))).length},hasTFACUnfinishedContent:function(e,t,a,n){for(var r=t.find(a).add(t.filter(a)).find("table").filter(e),i=0;i<r.length;i++)if("true"!==r.eq(i).attr(n))return!0;return!1},hasInactiveTab:function(e){var t=e.parents(".tabs-pane");return t.length&&!t.eq(0).hasClass("active-pane")},onTabChange:function(e,t){F.hasTabs(e)&&e.find(".aui-tabs").bind("tabSelect",(function(){t()}))},getTables:function(e,t,a){return F.getTablesAndRows(e,t,a).tables},getRelevantRows:function(e,t){var a=[];return t?(e.forEach((function(e){var t=[],n=e.eq(0).find("td,th");n.each((function(){var e=$(this);t.push(!(e.hasClass("tf-hidden-column")||2!==n.length&&e.hasClass("pivot-total-column")))})),a.push(t)})),a):(e.forEach((function(e){var t=[];e.each((function(){t.push(F.isRowVisible(this)&&(2==e.length||!this.classList.contains("pivot-total")))})),a.push(t)})),a)},getMaxRowspan:function(e){var t=1;return e.find("td, th").each((function(e,a){t=Math.max(a.rowSpan,t)})),t-1},getTableNodes:function(e,t){var a=$();return e.each((function(){var e=$(this),n=e.find(t||"table").not("#i_confiform_registration_form table, .pq-dynamic-parameter-form table, .ite-table-macro table").filter((function(){return-1===e.find(".pivot-content > .original-table, .table-joiner > .tj-source").find("table").index(this)&&-1===e.find("table:not(.wysiwyg-macro) table").index(this)}));a=a.add(n)})),a},getTablesAndRows:function(e,t,a,n){var r=F.getTableNodes(e);return F.getTablesAndRowsFromTables(r,t,a,n)},getTablesAndRowsFromTables:function(e,t,a,n,r,i){var s=[],o=[],l=F.getCellValueGetter(t);return e.each((function(){var e=F.getRows(this,n,r,i);o.push(e),s.push(F.getRowsValues(e,a,l))})),n&&(s=F.transpose(s)),{tables:s,rows:o,$tables:e}},getTablesRowsValues:function(e,t,a){var n=[],r=F.getCellValueGetter(t);return e.forEach((function(e){n.push(F.getRowsValues(e,a,r))})),n},getRowsValues:function(e,t,a){!t||t instanceof Object||(t={skip:[t],include:[]});var n=[];return e.each((function(){for(var e=[],r=this.children,i=0;i<r.length;i++){var s=r[i];t&&t.skip.some((function(e){return s.classList.contains(e)}))&&!t.include.some((function(e){return s.classList.contains(e)}))||e.push(a(s))}e.length>0&&n.push(e)})),n},getCellValueGetter:function(e){return e===F.visualType?F.getCellVisualHtml:e===F.mixedType?F.getCellTextOrImg:e===F.textNViewType?F.getTextAndHTML:e===F.textNCellHtml?F.getTextAndCellHTML:e===F.editorType?F.getEditorCellText:F.getCellText},getTextAndHTML:function(e){return{text:F.getCellTextOrImg(e),html:e.innerHTML}},getTextAndCellHTML:function(e){return{text:F.getCellTextOrImg(e),html:e.outerHTML}},getCellText:function(e){return F.clearString(F.clearScripts(e).textContent)},getCellVisualHtml:function(e){var t="";return e.querySelectorAll("img, ul.inline-task-list").forEach((function(e){t+=e.outerHTML})),t},getCellTextOrImg:function(e){var t=F.getCellText(e),a=e.getElementsByClassName("file-type-desc-overlay");for(var n of a)t=t.replace(n.textContent.trim(),"");if(!t){var r=e.querySelectorAll("img, ul.inline-task-list");if(r.length)for(var i of r)"img"===i.tagName.toLowerCase()?t+=i.alt||i.src:i.querySelectorAll("li.checked").length?t+="Completed":t+="Incomplete"}return t},getEditorCellText:function(e){var t=F.getCellText(e);if(!t){var a=e.querySelectorAll("img.editor-inline-macro");if(a.length)for(var n of a){var r=n.getAttribute("data-macro-name");if("status"===r){var i=(0,L.default)(n);t+=i.title||i.colour||"Grey"}else"status-handy"===r?t+=(0,L.default)(n).Status:"timestamp"===r?t+=decodeURIComponent(n.getAttribute("src").split("=")[1]).replace(/\+/g," "):"easy-dropdown-menu-status"===r?t+=(0,L.default)(n)["current-option-value"]:"easy-dropdown-menu"===r&&(t+=(0,L.default)(n)["current-option"])}}return t},getPlainTableRowsReader:function(e){return F.textNViewType===e?function(e){return e.map((function(e){return e.text}))}:function(e){return e}},getCommonColumns:function(e,t){var a=F.getPlainTableRowsReader(t),n=[];return e.some((function(e){if(e.length)return n=a(e[0]),!0})),$.each(e,(function(e,t){t.length&&(n=$.grep(n,(function(e){return-1!==$.inArray(e,a(t[0]))})))})),n},getRawColumns:function(e){var t=[];return $.each(e,(function(e,a){a.length&&$.each(a[0],(function(e,a){a=F.clearString(a),-1==$.inArray(a,t)&&t.push(a)}))})),t},getColumns:function(e){return F.getRawColumns(e).sort(((e,t)=>e.localeCompare(t)))},getContentId:function(){return AJS.params.contentId||AJS.Meta.get("content-id")||AJS.params.pageId||AJS.Meta.get("page-id")},transpose:function(e){var t=[];return e.forEach((function(e){var a=e.length?e.length:0,n=e[0]instanceof Array?e[0].length:0;if(0===n||0===a)return[];var r,i,s=[];for(r=0;r<n;r++)for(s[r]=[],i=0;i<a;i++)s[r][i]=e[i][r];t.push(s)})),t},processMergedCells:function(e,t){var a=function(e){return e.parentNode&&"none"!==e.parentNode.style.display},n=function(e){return"none"!==e.style.display&&a(e)},r=function(e){if(n(e))for(;$.data(e,"childCell");){var t=$.data(e,"childCell")[0];if(a(t)){t.style.display="";break}e=t}},i=function(e){for(r(e);$.data(e,"parentCell")&&((e=$.data(e,"parentCell")[0]).rowSpan=e.rowSpan-1,!n(e)););},s=function(e){n(e)&&$.data(e,"childColCell")&&($.data(e,"childColCell")[0].style.display="")},o=function(e,t,a){for(var n=-1,r=0,i=e.children,s=0;s<i.length;s++){var o=i[s];if(a&&o===a)break;if((n+=o.colSpan)>=t)break;r+=1}return a?n+1:r};var l=e.not(".tfac-tj:not(.tie-page-title)");l.each((function(e,a){var l=$(this);if(t||!l.data("tf-merged-done")){var c=l.hasClass("pivot-table-result"),u=l.data("tf-update-spans"),d=[],h=this.rows,p=(0,b.getChildrenFromHtmlCollection)(h),f=p.filter(".fake");f.remove();var m,g,v=(p=p.not(f)).filter("[rowspan]");for(c||(v=v.filter('[class*="tf-rowspan-"],:not([rowspan="1"])')),v.each((function(){d.push(this)}));d.length;){var y=$((m=d,g=void 0,g={cell:null,index:Number.MAX_VALUE,i:0},g=m.reduce((function(e,t,a){var n=o(t.parentNode,1e6,t);return e.index>n?{cell:t,index:n,i:a}:e}),g),m.splice(g.i,1),g.cell)),S=y[0].parentNode,E=o(S,1e5,y[0]),T=0;if(!u){var A=y.getClassStartsWith(/tf-rowspan-\d+/);A&&(y[0].rowSpan=A.split("-")[2])}y.removeClass(y.getClassStartsWith(/tf-rowspan-\d+/));var C=y[0].rowSpan-1;if(c||0!==C)for(y.addClass("tf-rowspan-"+(C+1)),$.data(y[0],"rowspan",C+1),y.bind("hideCell",(function(){r(this)}));C>0&&(S=S.nextElementSibling);C--){T=o(S,E,!1);var w=y;y=y.clone(!0,!0),$.data(w[0],"childCell",y),$.data(y[0],"parentCell",w),y.attr("rowspan",-1),y[0].classList.add("fake","synchrony-exclude"),y[0].style.display="none",$.data(y[0],"rowspan",C),S.insertBefore(y[0],S.children[T]),y.unbind("hideCell").bind("hideCell",(function(){i(this)}))}}var N=v.length?(0,b.getChildrenFromHtmlCollection)(h).filter("[colspan]"):p.filter("[colspan]");c||(N=N.filter('[class*="tf-colspan-"],:not([colspan="1"])'));var x=!1;N.each((function(){var e=$(this);if(!u){var t=e.getClassStartsWith(/tf-colspan-\d+/);t&&(e[0].colSpan=t.split("-")[2])}e.removeClass(e.getClassStartsWith(/tf-colspan-\d+/));var a=e[0].colSpan;if(c||1!==a){e.addClass("tf-colspan-"+a),$.data(e[0],"colspan",a),e.bind("hideCol",(function(){s(this)}));for(var r=a-1;r>0;r--){var i=e.clone(!0,!0);i.attr("colspan",-1),$.data(i[0],"colspan",r),$.data(i[0],"counted","counted"),i[0].style.display="none",i[0].classList.add("fake","synchrony-exclude"),$.data(i[0],"parentColCell",e),e.after(i),$.data(e[0],"childColCell",i),i.unbind("hideCol").bind("hideCol",(function(){var e=this;for(s(e);$.data(e,"parentColCell");)if(e=$.data(e,"parentColCell")[0],n(e)){e.colSpan=e.colSpan-1;break}})),(e=i).attr("rowspan")&&(e[0].classList.add("tf-rowspan-bind"),x=!0)}}})),x&&(0,b.getChildrenFromHtmlCollection)(h).filter(".tf-rowspan-bind").each((function(){var e=$(this);if(e.hasClass("tf-rowspan-bind")){var t=e[0].parentNode,a=e[0].cellIndex,n=parseInt(e.attr("rowspan"))-1;for($.data(e[0],"rowspan",n+1),e.removeClass("tf-rowspan-bind"),e.bind("hideCell",(function(){r(this)}));n>0;n--){t=t.nextElementSibling;var s=e;e=$(t.children[a]),$.data(s[0],"childCell",e),e.length&&($.data(e[0],"parentCell",s),$.data(e[0],"rowspan",n),e.removeClass("tf-rowspan-bind"),e.unbind("hideCell").bind("hideCell",(function(){i(this)})))}}}));var O=new MutationObserver((function(e){var t=$();e.forEach((function(e){e.addedNodes.length?t=$(e.addedNodes):e.removedNodes.length&&(t=$(e.removedNodes))})),t.filter("thead, tbody, tr,th,td").length&&($(a).data("tf-merged-done",!1),O.disconnect())}));O.observe(a,{childList:!0,subtree:!0})}})),l.data("tf-merged-done",!0).data("tf-update-spans",!0)},sortSelectedOptions:function(e,t){for(var a=e.parent().find(".chosen-choices"),n=t.length-1;n>=0;n--)a.prepend(a.find(".search-choice").filter((function(){return this.textContent===t[n].replace(D.ALTERNATE_COMMA_REGEXP,",")})));return a},sortSelectOptions:function(e){var t=e.find("option");t.sort((function(e,t){return $(e).text()>$(t).text()?1:-1})),e.append(t)},createDialog:function(e,t,a){var n={Czech:{hyperlink:"HYPERTEXTOVÝ.ODKAZ"},Danish:{hyperlink:"LINK"},Dutch:{hyperlink:"HYPERLINK"},English:{hyperlink:"HYPERLINK"},Finnish:{hyperlink:"HYPERLINKKI"},French:{hyperlink:"LIEN_HYPERTEXTE"},German:{hyperlink:"HYPERLINK"},Hungarian:{hyperlink:"HIPERHIVATKOZÁS"},Italian:{hyperlink:"COLLEG.IPERTESTUALE"},Norwegian:{hyperlink:"HYPERKOBLING"},Polish:{hyperlink:"HIPERŁĄCZE"},Portugese:{hyperlink:"HIPERLIGAÇÃO"},Russian:{hyperlink:"ГИПЕРССЫЛКА"},Spanish:{hyperlink:"HIPERVINCULO"},Swedish:{hyperlink:"HYPERLÄNK"},Turkish:{hyperlink:"KÖPRÜ"}},r="\t",i="",s=r,o=i,l=!0;$("body").append(g().exportToCSV({macroId:a,separator:r,quote:i,headers:w(function(){var e=[],a=t.eq(0).find("th, td");a.length>0&&a.each((function(){var t=$(this);"none"!=t.css("display")?e.push(t.text()):!t.hasClass("fake")||t.hasClass("tf-hidden-column")||t.hasClass("pivot-hidden-column")||e.push("")}));return e}()),linkSeparator:p.default.getStoredValue("tf-csvexport-link-sep")||";",exportLinks:p.default.getStoredValue("tf-csvexport-link"),hyperlink:p.default.getStoredValue("tf-csvexport-hyperlink")||"English"}));var c=AJS.dialog2("#export-csv-dialog-"+a),u=$("#export-csv-dialog-"+a),d=u.find(".export-csv-separator"),h=u.find(".export-csv-quote"),f=u.find(".export-csv-headers"),m=u.find("#tf-csv-export-type"),b=u.find("#tf-csv-export-default-message"),v=u.find("#tf-csv-export-params"),y=u.find(".tf-csv-export-links"),S=u.find("#tf-csv-export-link-separator"),E=u.find("#tf-csv-export-hyperlink"),T=u.find("#csv-export-"+a),A=u.find("#csv-cancel-"+a);return d.bind("keyup",(function(){p.default.storeValue("tf-csvexport-sep",d.val().trim()),C()})),h.bind("keyup",(function(){p.default.storeValue("tf-csvexport-quote",h.val().trim()),C()})),m.change((function(){"custom"==m.val()?(b.hide(),v.show(),d.val(p.default.getStoredValue("tf-csvexport-sep")||","),h.val(p.default.getStoredValue("tf-csvexport-quote")||'"'),C(),l=!1):(b.show(),v.hide(),d.val("\t"),h.val('"'),C(),l=!0)})),y.change((function(){var e=y.val();p.default.storeValue("tf-csvexport-link",e),u.find(".tf-csv-link.param").toggle("false"!==e)})).trigger("change"),S.change((function(){p.default.storeValue("tf-csvexport-link-sep",S.val())})),E.change((()=>p.default.storeValue("tf-csvexport-hyperlink",E.val()))),T.on("click",(function(){r=d.val(),i=h.val(),F.exportToCsv(e,r||",",i||'"',f.val()?N(f.val()):[],l,y.val(),S.val(),n[E.val()].hyperlink),c.hide()})),A.on("click",(function(){c.hide()})),c.show(),c;function C(){var e=N(f.val());s=d.val(),o=h.val(),f.val(w(e))}function w(e){return o?o+e.join(o+(s||",")+o)+o:e.join(s||",")}function N(e){return o?e.slice(o.length,-o.length).split(o+(s||",")+o):e.split(s||",")}},createDialogRemoveMacro:function(e,t,a){document.querySelector(".view-processor-container")&&(a=t="Table Toolbox"),$("body").append(g().dialogRemoveMacro({macroName:t,macroId:e.macroId}));var n=AJS.dialog2("#remove-macro-dialog-"+e.macroId),r=$("#remove-macro-dialog-"+e.macroId);return r.find("#warning-dialog-confirm").on("click",(function(){v.default.removeFromUnloadPageAction(e),p.default.unwrapMacro(e.pageId,e.macroId,t),f.default.gaRemoveMacro(t,a),n.hide()})),r.find("#warning-dialog-cancel").on("click",(function(){n.hide()})),n.show(),n},exportToCsv:function(e,t,a,r,i,s,o,l){var c=e.attr("class")||"",u=c.indexOf("tfac-tj")>-1?"Transformer Table":c.indexOf("pivot")>-1?"Pivot Table":"Table Filter";f.default.qaExportToCSV(u);var d=e.table2CSV({separator:t,quote:a,headers:r,exportLinks:s,linkSeparator:o,hyperlink:l}),p="utf-16le";-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&(p="application/octet-stream");var m=d;if(i){var g=new h("utf-16le",{NONSTANDARD_allowLegacyEncoding:!0}).encode([d]);(m=new Uint8Array(2+g.length))[0]=255,m[1]=254,m.set(g,2)}var b=new Blob([m],{type:p});(0,n.saveAs)(b,"export.csv")},browserPrint:function(e){var t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),t.onload=function(){setTimeout((function(){t.focus(),t.contentWindow.print(),document.body.removeChild(t)}),1)};var a=$("<div></div>").append($('style, link[type="text/css"]').clone()).html(),n=e.filter("#pngdataurl").find("img"),r=F.getTablesForExport(e),i=$("<div></div>").append(n.clone()).append(r.clone()).html(),s="<html>\n        <head>\n          ".concat(a,'\n        </head>\n        <body id="com-atlassian-confluence" class="theme-default  aui-layout aui-theme-default synchrony-active">\n          <div id="page">\n            <div id="full-height-container">\n              <div id="main" class="aui-page-panel" style="border-bottom: none">\n                <div id="content" class="page view">\n                  <div id="main-content" class="wiki-content">\n                    ').concat(i,"                                                                          \n                  </div>\n                </div>\n              </div>\n            </div>  \n          </div>  \n        </body>\n      </html>"),o=t.contentDocument||t.contentWindow.document;o.write(s),o.close()},exportToPdf:function(e,t){var a=0,r=!1,i=e.hasClass("tf-cloud-table"),s=function(){0==a&&r&&(window.TFSolutionBug&&window.TFSolutionBug.loadOriginalNativeFunctions(),-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?pdfMake.createPdf(d).getBase64((function(e){for(var t=atob(e),a=[],r=0;r<t.length;r+=512){for(var i=t.slice(r,r+512),s=new Array(i.length),o=0;o<i.length;o++)s[o]=i.charCodeAt(o);var l=new Uint8Array(s);a.push(l)}var c=new Blob(a,{type:"application/octet-stream"});(0,n.saveAs)(c,"export.pdf"),window.TFSolutionBug&&window.TFSolutionBug.loadSavedCurrentNativeFunctions()})):pdfMake.createPdf(d).download("export.pdf",(function(){window.TFSolutionBug&&window.TFSolutionBug.loadSavedCurrentNativeFunctions()})))};var o=function(e){var t,a,n,r,i,s,o,l=e&&"transparent"!=e?e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)[,]*(\d+(?:\.\d+)?)*/i):["noColor"];if(-1!==l[0].indexOf("rgba")){var c=(t=parseInt(l[1]),a=parseInt(l[2]),n=parseInt(l[3]),r=parseFloat(l[4]),i=255,s=255,o=255,[Math.round((1-r)*i+r*t),Math.round((1-r)*s+r*a),Math.round((1-r)*o+r*n)]);l[1]=c[0],l[2]=c[1],l[3]=c[2]}return l&&5===l.length?"#"+("0"+parseInt(l[1],10).toString(16)).slice(-2)+("0"+parseInt(l[2],10).toString(16)).slice(-2)+("0"+parseInt(l[3],10).toString(16)).slice(-2):[255,255,255]},l=function(e,t){var a=0,n=0;t.length&&(n=t[0],t.shift());for(var r=0;r<e.length;r++){var i=$(e[r]);if(!i.hasClass("tf-hidden-column")&&!i.hasClass("pivot-hidden-column")&&"none"!==i[0].style.display){a+=i[0].colSpan;for(var s=i[0].rowSpan-1,o=0;o<s;o++)t[o]=(t[o]||0)+i[0].colSpan}}return a+n},c=function(e){var t=!1,a=$(e),n=a.width(),r=[];a.hasClass("fixed-table")?(a.find("col").filter((function(){return"none"!==this.style.display})).each((function(){r.push(parseInt($(this).css("width"))/u/1.2)})),n>770&&(t=!0)):n>870&&(t=!0);var i,s={headerRow:1,style:"tableStyle",table:{widths:r,body:[]},layout:{hLineColor:"#ddd",vLineColor:"#ddd",paddingLeft:function(){return 6},paddingRight:function(){return 6},paddingTop:function(){return 3},paddingBottom:function(){return 3}},pageOrientation:t?"landscape":"portrait",pageBreak:""},c=d.content.length;c&&d.content[c-1].pageOrientation!==s.pageOrientation&&(s.pageBreak="before");for(var h=-1,p=[],f={},m=0,g=0;m<e.rows.length;m++)if(i=e.rows[m],F.isRowVisible(i)&&!i.classList.contains("tf-header-hidden")){s.table.body.push([]);var b=l(i.cells,p);if(b>h){if(-1!=h)for(var v=0;v<g;v++)for(var E=0;E<b-h;E++)s.table.body[v].push({text:"\n",style:"cell",rowSpan:1,colSpan:1});h=b}for(var T=0,A=0;A<i.cells.length;A++){var C=$(i.cells[A]);if("none"!==C[0].style.display&&!C.hasClass("tf-hidden-column")&&!C.hasClass("pivot-hidden-column")){if(f[g]){for(;f[g][T];){for(var w=0;w<f[g][T];w++)s.table.body[g].push({text:"\n",style:"cell",rowSpan:1,colSpan:1,color:o(C.css("color")),fillColor:o(C.css("background-color"))});T+=f[g][T]}f[g][T]=0}var N=!1;"bold"==$(i).css("font-weight")&&(N=!0);var x={stack:y(C[0],[],[],[])[0],style:0===m||N?"header":"cell",rowSpan:parseInt(C.attr("rowspan"))||1,colSpan:parseInt(C.attr("colspan"))||1,color:o(C.css("color")),fillColor:o(C.css("background-color"))};S(x)||x.stack.push({text:"\n"}),s.table.body[g].push(x);for(var O=1;O<C[0].colSpan;O++)s.table.body[g].push({text:"\n",style:"cell",rowSpan:1,colSpan:1});for(w=1;w<C[0].rowSpan;w++)f[g+w]||(f[g+w]={}),f[g+w][T]=C[0].colSpan;T+=C[0].colSpan}if(A===i.cells.length-1){for(E=0;E<h-b;E++)s.table.body[g].push({text:"\n",style:"cell",rowSpan:1,colSpan:1,color:o(C.css("color")),fillColor:o(C.css("background-color"))});if(f[g]){for(;f[g][T];){for(w=0;w<f[g][T];w++)s.table.body[g].push({text:"\n",style:"cell",rowSpan:1,colSpan:1,color:o(C.css("color")),fillColor:o(C.css("background-color"))});T+=f[g][T]}f[g][T]=0}}}g+=1}for(m=0;m<h;m++)s.table.widths.push("auto");return s};pdfMake.fonts={Roboto:{normal:"Roboto-Regular.ttf",bold:"Roboto-Medium.ttf",italics:"Roboto-Italic.ttf",bolditalics:"Roboto-MediumItalic.ttf"}};var u=1.4,d={content:[],styles:{header:{fontSize:10,bold:!0,color:"#333333"},cell:{fontSize:10,color:"#333333"},tableStyle:{marginTop:10}},defaultStyle:{},pageOrientation:"portrait",pageBreak:""},h=!0,p=e.filter("#pngdataurl").find("img"),f=0!==p.length;if(t&&f){var m=p.get(0).width,g=p.get(0).height,b=!1;m>590&&g>510&&(b=!0),m>590?(d.pageOrientation="landscape",g>510&&(g=510),m>800&&(m=800)):g>700&&(g=700);var v={image:p.attr("src"),alignment:"center",fit:[m,g],pageOrientation:d.pageOrientation};b&&(v.margin=[0,0,0,40]),d.content.push(v),h=!1}"none"!==e.css("display")&&(F.getTablesForExport(e).each((function(){if(!this.rows.length)return!0;var e=$(this);e.find("thead.tableFloatingHeader tr").hide(),e.find("tr:not(:has(td,th))").hide();var a=e.width();(a>1200&&(d.styles.header.fontSize=6,d.styles.cell.fontSize=6,u=14/6),!h||t&&f)||a>(e.hasClass("fixed-table")?770:870)&&(d.pageOrientation="landscape");d.content.push(c(this)),e.find("thead:eq(1) tr").show(),h=!1})),e.find("table").each((function(){$(this).data("counted-for-pdf",!1)})));function y(e,t,n,r,l){var d=$(e);if("none"!=d.css("display")){var h=d.css("font-weight");$.each(e.childNodes,(function(){var p,f,m=this;if(3==m.nodeType){var g=m.nodeValue?m.nodeValue:"​";g.indexOf("\n")>=0&&(g=(g=g.trim())?" "+g+" ":"");var b={text:g,bold:"bold"===h||"700"===h,italics:"italic"===d.css("font-style"),alignment:d.css("text-align"),color:o(d.css("color")),background:d.css("background-color")&&"rgba(0, 0, 0, 0)"!=d.css("background-color")?o(d.css("background-color")):void 0,decoration:r,decorationColor:"black",fontSize:parseInt(d.css("font-size"))/u,sup:"SUP"===e.tagName,sub:"SUB"===e.tagName,link:l};d.hasClass("status-macro")&&(b.text=" "+b.text+" ",b.alignment=d.parent().css("text-align")),t.push(b),1==t.length&&n.push({text:t})}else if(1==m.nodeType){var v,S=function(e){var t=[],a=e.css("text-decoration")||"";a.includes("underline")&&t.push("underline");a.includes("line-through")&&t.push("lineThrough");return t}($(m)),E=m.tagName;if("TABLE"==E)n.push(c(m)),t=[];else if("IMG"==E){if(!i){var T={image:"",width:m.width/1.5};a++;var A=F.getBase64Image(m,(function(e,r){T.image=e,a--,s(),e?(n.push(T),t=[]):r&&(n.push({text:r}),t=[])}));A&&(T.image=A,a--,n.push(T),t=[])}}else"P"==E||"DIV"==E&&m.classList.contains("line")?(n.push(y(m,[],[],S)[0]),t=[]):"UL"==E?(v=y(m,[],[],S)[0],n.push({ul:v}),t=[]):"OL"==E?(v=y(m,[],[],S)[0],n.push({ol:v}),t=[]):"LI"==E?(v=y(m,[],[],S)[0],n.push(v),t=[]):"BR"==E?(n.push({text:"\n"}),t=[]):"STYLE"!=E&&(t=y(m,t,n,(p=S,f=r,p.concat(f.filter((function(e){return p.indexOf(e)<0})))),l||m.href)[1])}}))}return[n,t]}function S(e){return e.stack&&e.stack.some((function(e){return E(e)}))}function E(e){return Array.isArray(e)?e.some((function(e){return T(e)})):T(e)}function T(e){return!(!e.text&&!e.image)||(e.ol||e.ul?(e.ol||e.ul).some((function(e){return E(e)||S(e)})):e.table?e.table.body.some((function(e){return e.some((function(e){return S(e)}))})):S(e))}r=!0,s()},exportToDoc:function(e){for(var t=e.clone(),a=e.find("img"),n=t.find("img"),r=0;r<a.length;r++)n[r].width=a[r].width,n[r].height=a[r].height;t.find(".tj-hidden, .excerpt-hidden").remove(),t.find(".pivot-hidden, .chart-hidden").not(".table-excerpt").remove(),t.find(".tablefilter-pagination").remove(),t.find(".lockDisabled, .lockEnabled").remove(),t.find(".pivot-controls").remove(),t.find("tr").filter((function(){return"none"===$(this).css("display")})).remove(),t.find(".tf-header-hidden, .tf-hidden-column, .pivot-hidden-column").remove(),t.find("thead.tableFloatingHeader").remove(),t.find("td,th").css({border:"1px solid",padding:"0 5px"}).filter((function(){return"none"===$(this).css("display")})).remove(),t.find("table").css("border-collapse","collapse"),t.find("a[href]").each((function(){$(this).attr("href",this.href)})),t.find(".pivot-null-value").remove(),t.wordExport("export")},getBase64Image:function(e,t){var a=document.createElement("canvas");a.width=e.naturalWidth,a.height=e.naturalHeight;var n=a.getContext("2d");try{n.drawImage(e,0,0);var r=a.toDataURL();return r&&"data:,"!==r?r:(t("",e.alt),"")}catch(r){(a=document.createElement("canvas")).width=e.naturalWidth,a.height=e.naturalHeight,n=a.getContext("2d");var i=new Image;return i.setAttribute("crossOrigin","anonymous"),i.onload=function(){n.drawImage(i,0,0),t(a.toDataURL())},i.onerror=function(){t("",e.alt)},i.src=e.src,""}},initDatePickerLocalisations:function(e){AJS.DatePicker.prototype.localisations.monthNames?AJS.DatePicker.prototype.localisations=I.default.get(e):AJS.DatePicker.prototype.localisations[e]=I.default.get(e)},getLongestWordInArr:function(e){return e.reduce((function(e,t){return e.length<t.length?t:e}),"")},getTablesForExport:function(e){return e.find("table").not(".tablefilter-table-wrapper table table, .tj-source.tj-hidden table").not("#i_confiform_registration_form table").not(e.find(".tj-hidden, .pivot-hidden:not(.table-excerpt), .chart-hidden:not(.table-excerpt), .excerpt-hidden").find("table"))},chartColors:["#8eb021","#d04437","#3572b0","#f6c342","#654982","#f691b2","#2484c1","#65a620","#7b6888","#d8d23a","#e98125","#6ada6a","#0c6197","#e4a14b","#8cc3e9","#a3acb2","#69a6f9","#cc1010","#31383b"]};$.extend({getUrlHashVars:function(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("#")+1).split("&"),n=0;n<a.length;n++)e=a[n].split("="),t.push(e[0]),t[e[0]]=decodeURIComponent(e[1]);return t},getUrlHashVar:function(e){return $.getUrlHashVars()[e]}}),$.fn.changeElementType=function(e){var t={};$.each(this[0].attributes,(function(e,a){t[a.nodeName]=a.nodeValue})),this.replaceWith((function(){return $("<"+e+"/>",t).append($(this).contents())}))},$.fn.filterByAttr=function(e,t){return this.filter((function(){return this.attributes[e].textContent===t}))},$.fn.getClassStartsWith=function(e){var t=this.length?this[0].className.match(e):null;return t?t[0]:null},$.fn.blinkFromClass=function(e,t,a){1==arguments.length&&(t=500,a=3);var n=this[0].style.transition;this[0].style.transition="all .3s ease-out";var r=i=>{i<2*a-1?(i%2==1?this.removeClassWithDelay(e,t):this.addClassWithDelay(e,i&&t),r(i+1)):this.delay(t).queue((function(){return this.style.transition=n,$(this).dequeue()}))};return r(0),this},$.fn.addClassWithDelay=function(e,t){return this.delay(t).queue((()=>this.addClass(e).dequeue()))},$.fn.removeClassWithDelay=function(e,t){return this.delay(t).queue((()=>this.removeClass(e).dequeue()))},Object.assign(F,w.default,R.DATA_TYPES,N.default,C.default,x.default,O.default);var _=F},72510:function(e,t,a){"use strict";a.r(t),a.d(t,{ALTERNATE_COMMA:function(){return s},ALTERNATE_COMMA_REGEXP:function(){return o},CHART:function(){return h},DATE_FORMAT_CONSTANTS:function(){return m},FORMAT_VERSION:function(){return l},HIDE_PANE:function(){return r},JOINER:function(){return p},LATEST_FORMAT_VERSION:function(){return c},PIVOT:function(){return u},SEPARATORS:function(){return f},SPECIFIC_SEPARATOR:function(){return i},TABLE_FILTER:function(){return d}});a(15761),a(42295),a(75654);var n=a(62414),r=Object.freeze({PANEL:"Filtration panel",HEADER:"Table header",HIDDEN:"true"}),i="%-&-#-$",s=String.fromCharCode(8218),o=new RegExp(s,"g"),l=2,c=3,u="PIVOT",d="TABLE_FILTER",h="CHART",p="JOINER",f=(0,n.deepFreeze)({SHORT:{COMMA:",",POINT:".",SPACE:" ",ESCAPED_SPACE:"\\u0020"},LONG:{COMMA:"Comma (,)",POINT:"Point (.)",SPACE:"Space ( )"}}),m=(0,n.deepFreeze)([{label:"dd-mm-yy (28-04-2016)",value:"dd-mm-yy"},{label:"dd.mm.yy (28.04.2016)",value:"dd.mm.yy"},{label:"yy-mm-dd (2016-04-28)",value:"yy-mm-dd"},{label:"m/d/yy (4/28/2016)",value:"m/d/yy"},{label:"m/d/y (4/28/16)",value:"m/d/y"},{label:"d M yy (28 Apr 2016)",value:"d M yy"},{label:"M dd, yy (Oct 07, 2019)",value:"M dd, yy"},{label:"MM yy (April 2016)",value:"MM yy"},{label:"yy Qi (2018 Q2)",value:"yy Qi"},{label:"yy-w (2019-34)",value:"yy-w"},{label:"m/d/y HH:mm (1/5/20 12:30 p.m.)",value:"m/d/y HH:mm"},{label:"d.m.yy hh:mm (8.2.2020 12:30)",value:"d.m.yy hh:mm"},{label:"dd.mm hh:mm:ss (08.12 12:30:00)",value:"dd.mm hh:mm:ss"}])},58869:function(e,t,a){"use strict";var n,r,i;e=a.nmd(e),r=[],n=function(){var n=function(e,t,a,r){if(t=t||[],"function"!=typeof importScripts&&n.webworker){var i=n.lastid++;return n.buffer[i]=a,void n.webworker.postMessage({id:i,sql:e,params:t})}return 0===arguments.length?new j.Select({columns:[new j.Column({columnid:"*"})],from:[new j.ParamValue({param:0})]}):1===arguments.length&&e.constructor===Array?n.promise(e):("function"==typeof t&&(r=a,a=t,t=[]),"object"!=typeof t&&(t=[t]),"string"==typeof e&&"#"===e[0]&&"object"==typeof document?e=document.querySelector(e).textContent:"object"==typeof e&&e instanceof HTMLElement?e=e.textContent:"function"==typeof e&&(e=e.toString(),e=(/\/\*([\S\s]+)\*\//m.exec(e)||["","Function given as SQL. Plese Provide SQL string or have a /* ... */ syle comment with SQL in the function."])[1]),n.exec(e,t,a,r))};function r(){return null}n.version="1.7.2-develop-fb95b04dundefined",n.debug=void 0;var s=/\d{4}\.\d{2}\.\d{2} \d{2}:\d{2}:\d{2}\.\d{3}/;function o(e){return"string"==typeof e&&s.test(e)&&(e=e.replace(".","-").replace(".","-")),new Date(e)}var l=function(){var e=function(e,t,a,n){for(a=a||{},n=e.length;n--;a[e[n]]=t);return a},t=[2,13],a=[1,104],r=[1,102],i=[1,103],s=[1,6],o=[1,42],l=[1,79],c=[1,76],u=[1,94],d=[1,93],h=[1,69],p=[1,101],f=[1,85],m=[1,64],g=[1,71],v=[1,84],y=[1,66],S=[1,70],E=[1,68],T=[1,61],A=[1,74],C=[1,62],w=[1,67],N=[1,83],x=[1,77],O=[1,86],R=[1,87],I=[1,81],k=[1,82],M=[1,80],L=[1,88],D=[1,89],$=[1,90],F=[1,91],_=[1,92],P=[1,98],j=[1,65],U=[1,78],V=[1,72],H=[1,96],J=[1,97],q=[1,63],B=[1,73],G=[1,108],z=[1,107],Y=[10,308,604,765],W=[10,308,312,604,765],K=[1,115],X=[1,116],Q=[1,117],Z=[1,118],ee=[1,119],te=[130,355,412],ae=[1,127],ne=[1,126],re=[1,134],ie=[1,164],se=[1,175],oe=[1,178],le=[1,173],ce=[1,181],ue=[1,185],de=[1,160],he=[1,182],pe=[1,169],fe=[1,171],me=[1,174],ge=[1,183],be=[1,199],ve=[1,200],ye=[1,166],Se=[1,193],Ee=[1,188],Te=[1,189],Ae=[1,194],Ce=[1,195],we=[1,196],Ne=[1,197],xe=[1,198],Oe=[1,201],Re=[1,202],Ie=[1,176],ke=[1,177],Me=[1,179],Le=[1,180],De=[1,186],$e=[1,192],Fe=[1,184],_e=[1,187],Pe=[1,172],je=[1,170],Ue=[1,191],Ve=[1,203],He=[2,4,5],Je=[2,474],qe=[1,206],Be=[1,211],Ge=[1,220],ze=[1,216],Ye=[10,72,78,93,98,118,128,162,168,169,183,198,232,249,251,308,312,604,765],We=[2,4,5,10,72,76,77,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,183,185,187,198,244,245,284,285,286,287,288,289,290,308,312,422,426,604,765],Ke=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],Xe=[1,249],Qe=[1,256],Ze=[1,265],et=[1,270],tt=[1,269],at=[2,4,5,10,72,77,78,93,98,107,118,128,131,132,137,143,145,149,152,154,156,162,168,169,179,180,181,183,198,232,244,245,249,251,269,270,274,275,277,284,285,286,287,288,289,290,292,293,294,295,296,297,298,299,300,301,304,305,308,312,314,319,422,426,604,765],nt=[2,162],rt=[1,281],it=[10,74,78,308,312,507,604,765],st=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,193,198,206,208,222,223,224,225,226,227,228,229,230,231,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,299,302,304,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,345,346,358,370,371,372,375,376,388,391,398,402,403,404,405,406,407,408,410,411,419,420,422,426,428,435,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,516,517,518,519,604,765],ot=[2,4,5,10,53,72,89,124,146,156,189,270,271,292,308,337,340,341,398,402,403,406,408,410,411,419,420,436,438,439,441,442,443,444,445,449,450,453,454,507,509,510,519,604,765],lt=[1,562],ct=[1,564],ut=[2,506],dt=[1,569],ht=[1,580],pt=[1,583],ft=[1,584],mt=[10,78,89,132,137,146,189,298,308,312,472,604,765],gt=[10,74,308,312,604,765],bt=[2,570],vt=[1,602],yt=[2,4,5,156],St=[1,640],Et=[1,612],Tt=[1,646],At=[1,647],Ct=[1,620],wt=[1,631],Nt=[1,618],xt=[1,626],Ot=[1,619],Rt=[1,627],It=[1,629],kt=[1,621],Mt=[1,622],Lt=[1,641],Dt=[1,638],$t=[1,639],Ft=[1,615],_t=[1,617],Pt=[1,609],jt=[1,610],Ut=[1,611],Vt=[1,613],Ht=[1,614],Jt=[1,616],qt=[1,623],Bt=[1,624],Gt=[1,628],zt=[1,630],Yt=[1,632],Wt=[1,633],Kt=[1,634],Xt=[1,635],Qt=[1,636],Zt=[1,642],ea=[1,643],ta=[1,644],aa=[1,645],na=[2,290],ra=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,231,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,299,302,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,345,358,370,371,375,376,398,402,403,406,408,410,411,419,420,422,426,428,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],ia=[2,362],sa=[1,668],oa=[1,678],la=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,231,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,428,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],ca=[1,694],ua=[1,703],da=[1,702],ha=[2,4,5,10,72,74,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,230,231,232,249,251,308,312,604,765],pa=[10,72,74,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,230,231,232,249,251,308,312,604,765],fa=[2,202],ma=[1,725],ga=[10,72,78,93,98,118,128,162,168,169,183,232,249,251,308,312,604,765],ba=[2,163],va=[1,728],ya=[2,4,5,112],Sa=[1,741],Ea=[1,760],Ta=[1,740],Aa=[1,739],Ca=[1,734],wa=[1,735],Na=[1,737],xa=[1,738],Oa=[1,742],Ra=[1,743],Ia=[1,744],ka=[1,745],Ma=[1,746],La=[1,747],Da=[1,748],$a=[1,749],Fa=[1,750],_a=[1,751],Pa=[1,752],ja=[1,753],Ua=[1,754],Va=[1,755],Ha=[1,756],Ja=[1,757],qa=[1,759],Ba=[1,761],Ga=[1,762],za=[1,763],Ya=[1,764],Wa=[1,765],Ka=[1,766],Xa=[1,767],Qa=[1,770],Za=[1,771],en=[1,772],tn=[1,773],an=[1,774],nn=[1,775],rn=[1,776],sn=[1,777],on=[1,778],ln=[1,779],cn=[1,780],un=[1,781],dn=[74,89,189],hn=[10,74,78,154,187,230,299,308,312,345,358,370,371,375,376,604,765],pn=[1,798],fn=[10,74,78,302,308,312,604,765],mn=[1,799],gn=[1,805],bn=[1,806],vn=[1,810],yn=[10,74,78,308,312,604,765],Sn=[2,4,5,77,131,132,137,143,145,149,152,154,156,179,180,181,244,245,269,270,274,275,277,284,285,286,287,288,289,290,292,293,294,295,296,297,298,299,300,301,304,305,314,319,422,426],En=[10,72,78,93,98,107,118,128,162,168,169,183,198,232,249,251,308,312,604,765],Tn=[2,4,5,10,72,77,78,93,98,107,118,128,131,132,137,143,145,149,152,154,156,162,164,168,169,179,180,181,183,185,187,195,198,232,244,245,249,251,269,270,274,275,277,284,285,286,287,288,289,290,292,293,294,295,296,297,298,299,300,301,304,305,308,312,314,319,422,426,604,765],An=[2,4,5,132,298],Cn=[1,844],wn=[10,74,76,78,308,312,604,765],Nn=[2,741],xn=[10,74,76,78,132,139,141,145,152,308,312,422,426,604,765],On=[2,1164],Rn=[10,74,76,78,139,141,145,152,308,312,422,426,604,765],In=[10,74,76,78,139,141,145,308,312,422,426,604,765],kn=[10,74,78,139,141,308,312,604,765],Mn=[10,78,89,132,146,189,298,308,312,472,604,765],Ln=[337,340,341],Dn=[2,767],$n=[1,869],Fn=[1,870],_n=[1,871],Pn=[1,872],jn=[1,881],Un=[1,880],Vn=[164,166,336],Hn=[2,447],Jn=[1,936],qn=[2,4,5,77,131,156,292,293,294,295],Bn=[1,951],Gn=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,134,135,137,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,315,316,317,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],zn=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,314,315,316,317,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],Yn=[2,378],Wn=[1,958],Kn=[308,310,312],Xn=[74,302],Qn=[74,302,428],Zn=[1,965],er=[2,4,5,10,53,72,74,76,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],tr=[74,428],ar=[1,978],nr=[1,977],rr=[1,984],ir=[10,72,78,93,98,118,128,162,168,169,232,249,251,308,312,604,765],sr=[1,1010],or=[10,72,78,308,312,604,765],lr=[1,1016],cr=[1,1017],ur=[1,1018],dr=[2,4,5,10,72,74,76,77,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,198,244,245,284,285,286,287,288,289,290,308,312,422,426,604,765],hr=[1,1068],pr=[1,1067],fr=[1,1081],mr=[1,1080],gr=[1,1088],br=[10,72,74,78,93,98,107,118,128,162,168,169,183,198,232,249,251,308,312,604,765],vr=[1,1119],yr=[10,78,89,146,189,308,312,472,604,765],Sr=[1,1139],Er=[1,1138],Tr=[1,1137],Ar=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,299,302,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,345,358,370,371,375,376,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],Cr=[1,1153],wr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,315,316,317,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],Nr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,315,317,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],xr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,133,134,135,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,315,316,317,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],Or=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,134,135,137,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,315,316,317,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],Rr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,316,322,323,324,325,326,327,328,332,333,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],Ir=[2,409],kr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,107,118,122,128,129,130,131,132,134,135,137,143,145,146,148,149,150,152,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,316,332,333,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],Mr=[2,288],Lr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,428,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],Dr=[10,78,308,312,604,765],$r=[1,1189],Fr=[10,77,78,143,145,152,181,304,308,312,422,426,604,765],_r=[10,74,78,308,310,312,466,604,765],Pr=[1,1200],jr=[10,72,78,118,128,162,168,169,232,249,251,308,312,604,765],Ur=[10,72,74,78,93,98,118,128,162,168,169,183,198,232,249,251,308,312,604,765],Vr=[2,4,5,72,76,77,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,185,187,244,245,284,285,286,287,288,289,290,422,426],Hr=[2,4,5,72,74,76,77,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,185,187,244,245,284,285,286,287,288,289,290,422,426],Jr=[2,1088],qr=[2,4,5,72,74,76,77,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,185,187,244,245,284,285,286,287,288,289,290,422,426],Br=[1,1252],Gr=[10,74,78,128,308,310,312,466,604,765],zr=[115,116,124],Yr=[2,587],Wr=[1,1280],Kr=[76,139],Xr=[2,727],Qr=[1,1297],Zr=[1,1298],ei=[2,4,5,10,53,72,76,89,124,146,156,189,230,270,271,292,308,312,337,340,341,398,402,403,406,408,410,411,419,420,436,438,439,441,442,443,444,445,449,450,453,454,507,509,510,519,604,765],ti=[2,333],ai=[1,1322],ni=[1,1336],ri=[1,1338],ii=[2,490],si=[74,78],oi=[10,308,310,312,466,604,765],li=[10,72,78,118,162,168,169,232,249,251,308,312,604,765],ci=[1,1354],ui=[1,1358],di=[1,1359],hi=[1,1361],pi=[1,1362],fi=[1,1363],mi=[1,1364],gi=[1,1365],bi=[1,1366],vi=[1,1367],yi=[1,1368],Si=[10,72,74,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,232,249,251,308,312,604,765],Ei=[1,1393],Ti=[10,72,78,118,162,168,169,249,251,308,312,604,765],Ai=[10,72,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,232,249,251,308,312,604,765],Ci=[1,1490],wi=[1,1492],Ni=[2,4,5,77,143,145,152,156,181,292,293,294,295,304,422,426],xi=[1,1506],Oi=[10,72,74,78,162,168,169,249,251,308,312,604,765],Ri=[1,1524],Ii=[1,1526],ki=[1,1527],Mi=[1,1523],Li=[1,1522],Di=[1,1521],$i=[1,1528],Fi=[1,1518],_i=[1,1519],Pi=[1,1520],ji=[1,1545],Ui=[2,4,5,10,53,72,89,124,146,156,189,270,271,292,308,312,337,340,341,398,402,403,406,408,410,411,419,420,436,438,439,441,442,443,444,445,449,450,453,454,507,509,510,519,604,765],Vi=[1,1556],Hi=[1,1564],Ji=[1,1563],qi=[10,72,78,162,168,169,249,251,308,312,604,765],Bi=[10,72,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,230,231,232,249,251,308,312,604,765],Gi=[2,4,5,10,72,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,230,231,232,249,251,308,312,604,765],zi=[1,1623],Yi=[1,1625],Wi=[1,1622],Ki=[1,1624],Xi=[187,193,370,371,372,375],Qi=[2,518],Zi=[1,1630],es=[1,1649],ts=[10,72,78,162,168,169,308,312,604,765],as=[1,1659],ns=[1,1660],rs=[1,1661],is=[1,1682],ss=[4,10,247,308,312,345,358,604,765],os=[1,1730],ls=[10,72,74,78,118,162,168,169,239,249,251,308,312,604,765],cs=[2,4,5,77],us=[1,1824],ds=[1,1836],hs=[1,1855],ps=[10,72,78,162,168,169,308,312,417,604,765],fs=[10,74,78,230,308,312,604,765],ms=(e={trace:function(){},yy:{},symbols_:{error:2,Literal:3,LITERAL:4,BRALITERAL:5,NonReserved:6,LiteralWithSpaces:7,main:8,Statements:9,EOF:10,Statements_group0:11,AStatement:12,ExplainStatement:13,EXPLAIN:14,QUERY:15,PLAN:16,Statement:17,AlterTable:18,AttachDatabase:19,Call:20,CreateDatabase:21,CreateIndex:22,CreateGraph:23,CreateTable:24,CreateView:25,CreateEdge:26,CreateVertex:27,Declare:28,Delete:29,DetachDatabase:30,DropDatabase:31,DropIndex:32,DropTable:33,DropView:34,If:35,Insert:36,Merge:37,Reindex:38,RenameTable:39,Select:40,ShowCreateTable:41,ShowColumns:42,ShowDatabases:43,ShowIndex:44,ShowTables:45,TruncateTable:46,WithSelect:47,CreateTrigger:48,DropTrigger:49,BeginTransaction:50,CommitTransaction:51,RollbackTransaction:52,EndTransaction:53,UseDatabase:54,Update:55,JavaScript:56,Source:57,Assert:58,While:59,Continue:60,Break:61,BeginEnd:62,Print:63,Require:64,SetVariable:65,ExpressionStatement:66,AddRule:67,Query:68,Echo:69,CreateFunction:70,CreateAggregate:71,WITH:72,WithTablesList:73,COMMA:74,WithTable:75,AS:76,LPAR:77,RPAR:78,SelectClause:79,Select_option0:80,IntoClause:81,FromClause:82,Select_option1:83,WhereClause:84,GroupClause:85,OrderClause:86,LimitClause:87,UnionClause:88,SEARCH:89,Select_repetition0:90,Select_option2:91,PivotClause:92,PIVOT:93,Expression:94,FOR:95,PivotClause_option0:96,PivotClause_option1:97,UNPIVOT:98,IN:99,ColumnsList:100,PivotClause_option2:101,PivotClause2:102,AsList:103,AsLiteral:104,AsPart:105,RemoveClause:106,REMOVE:107,RemoveClause_option0:108,RemoveColumnsList:109,RemoveColumn:110,Column:111,LIKE:112,StringValue:113,ArrowDot:114,ARROW:115,DOT:116,SearchSelector:117,ORDER:118,BY:119,OrderExpressionsList:120,SearchSelector_option0:121,DOTDOT:122,CARET:123,EQ:124,SearchSelector_repetition_plus0:125,SearchSelector_repetition_plus1:126,SearchSelector_option1:127,WHERE:128,OF:129,CLASS:130,NUMBER:131,STRING:132,SLASH:133,VERTEX:134,EDGE:135,EXCLAMATION:136,SHARP:137,MODULO:138,GT:139,LT:140,GTGT:141,LTLT:142,DOLLAR:143,Json:144,AT:145,SET:146,SetColumnsList:147,TO:148,VALUE:149,ROW:150,ExprList:151,COLON:152,PlusStar:153,NOT:154,SearchSelector_repetition2:155,IF:156,SearchSelector_repetition3:157,Aggregator:158,SearchSelector_repetition4:159,SearchSelector_group0:160,SearchSelector_repetition5:161,UNION:162,SearchSelectorList:163,ALL:164,SearchSelector_repetition6:165,ANY:166,SearchSelector_repetition7:167,INTERSECT:168,EXCEPT:169,AND:170,OR:171,PATH:172,RETURN:173,ResultColumns:174,REPEAT:175,SearchSelector_repetition8:176,SearchSelectorList_repetition0:177,SearchSelectorList_repetition1:178,PLUS:179,STAR:180,QUESTION:181,SearchFrom:182,FROM:183,SelectModifier:184,DISTINCT:185,TopClause:186,UNIQUE:187,SelectClause_option0:188,SELECT:189,COLUMN:190,MATRIX:191,TEXTSTRING:192,INDEX:193,RECORDSET:194,TOP:195,NumValue:196,TopClause_option0:197,INTO:198,Table:199,FuncValue:200,ParamValue:201,VarValue:202,FromTablesList:203,JoinTablesList:204,ApplyClause:205,CROSS:206,APPLY:207,OUTER:208,FromTable:209,FromTable_option0:210,FromTable_option1:211,INDEXED:212,INSERTED:213,FromString:214,JoinTable:215,JoinMode:216,JoinTableAs:217,OnClause:218,JoinTableAs_option0:219,JoinTableAs_option1:220,JoinModeMode:221,NATURAL:222,JOIN:223,INNER:224,LEFT:225,RIGHT:226,FULL:227,SEMI:228,ANTI:229,ON:230,USING:231,GROUP:232,GroupExpressionsList:233,HavingClause:234,GroupExpression:235,GROUPING:236,ROLLUP:237,CUBE:238,HAVING:239,CORRESPONDING:240,OrderExpression:241,NullsOrder:242,NULLS:243,FIRST:244,LAST:245,DIRECTION:246,COLLATE:247,NOCASE:248,LIMIT:249,OffsetClause:250,OFFSET:251,LimitClause_option0:252,FETCH:253,LimitClause_option1:254,LimitClause_option2:255,LimitClause_option3:256,ResultColumn:257,Star:258,AggrValue:259,Op:260,LogicValue:261,NullValue:262,ExistsValue:263,CaseValue:264,CastClause:265,ArrayValue:266,NewClause:267,Expression_group0:268,CURRENT_TIMESTAMP:269,JAVASCRIPT:270,CREATE:271,FUNCTION:272,AGGREGATE:273,NEW:274,CAST:275,ColumnType:276,CONVERT:277,PrimitiveValue:278,OverClause:279,OVER:280,OverPartitionClause:281,OverOrderByClause:282,PARTITION:283,SUM:284,COUNT:285,MIN:286,MAX:287,AVG:288,AGGR:289,ARRAY:290,FuncValue_option0:291,REPLACE:292,DATEADD:293,DATEDIFF:294,INTERVAL:295,TRUE:296,FALSE:297,NSTRING:298,NULL:299,EXISTS:300,ARRAYLBRA:301,RBRA:302,ParamValue_group0:303,BRAQUESTION:304,CASE:305,WhensList:306,ElseClause:307,END:308,When:309,WHEN:310,THEN:311,ELSE:312,REGEXP:313,TILDA:314,GLOB:315,ESCAPE:316,NOT_LIKE:317,BARBAR:318,MINUS:319,AMPERSAND:320,BAR:321,GE:322,LE:323,EQEQ:324,EQEQEQ:325,NE:326,NEEQEQ:327,NEEQEQEQ:328,CondOp:329,AllSome:330,ColFunc:331,BETWEEN:332,NOT_BETWEEN:333,IS:334,DOUBLECOLON:335,SOME:336,UPDATE:337,SetColumn:338,SetColumn_group0:339,DELETE:340,INSERT:341,Into:342,Values:343,ValuesListsList:344,DEFAULT:345,VALUES:346,ValuesList:347,Value:348,DateValue:349,TemporaryClause:350,TableClass:351,IfNotExists:352,CreateTableDefClause:353,CreateTableOptionsClause:354,TABLE:355,CreateTableOptions:356,CreateTableOption:357,IDENTITY:358,TEMP:359,ColumnDefsList:360,ConstraintsList:361,Constraint:362,ConstraintName:363,PrimaryKey:364,ForeignKey:365,UniqueKey:366,IndexKey:367,Check:368,CONSTRAINT:369,CHECK:370,PRIMARY:371,KEY:372,PrimaryKey_option0:373,ColsList:374,FOREIGN:375,REFERENCES:376,ForeignKey_option0:377,OnForeignKeyClause:378,ParColsList:379,OnDeleteClause:380,OnUpdateClause:381,NO:382,ACTION:383,UniqueKey_option0:384,UniqueKey_option1:385,ColumnDef:386,ColumnConstraintsClause:387,ColumnConstraints:388,SingularColumnType:389,NumberMax:390,ENUM:391,MAXNUM:392,ColumnConstraintsList:393,ColumnConstraint:394,ParLiteral:395,ColumnConstraint_option0:396,ColumnConstraint_option1:397,DROP:398,DropTable_group0:399,IfExists:400,TablesList:401,ALTER:402,RENAME:403,ADD:404,MODIFY:405,ATTACH:406,DATABASE:407,DETACH:408,AsClause:409,USE:410,SHOW:411,VIEW:412,CreateView_option0:413,CreateView_option1:414,SubqueryRestriction:415,READ:416,ONLY:417,OPTION:418,SOURCE:419,ASSERT:420,JsonObject:421,ATLBRA:422,JsonArray:423,JsonValue:424,JsonPrimitiveValue:425,LCUR:426,JsonPropertiesList:427,RCUR:428,JsonElementsList:429,JsonProperty:430,OnOff:431,SetPropsList:432,AtDollar:433,SetProp:434,OFF:435,COMMIT:436,TRANSACTION:437,ROLLBACK:438,BEGIN:439,ElseStatement:440,WHILE:441,CONTINUE:442,BREAK:443,PRINT:444,REQUIRE:445,StringValuesList:446,PluginsList:447,Plugin:448,ECHO:449,DECLARE:450,DeclaresList:451,DeclareItem:452,TRUNCATE:453,MERGE:454,MergeInto:455,MergeUsing:456,MergeOn:457,MergeMatchedList:458,OutputClause:459,MergeMatched:460,MergeNotMatched:461,MATCHED:462,MergeMatchedAction:463,MergeNotMatchedAction:464,TARGET:465,OUTPUT:466,CreateVertex_option0:467,CreateVertex_option1:468,CreateVertex_option2:469,CreateVertexSet:470,SharpValue:471,CONTENT:472,CreateEdge_option0:473,GRAPH:474,GraphList:475,GraphVertexEdge:476,GraphElement:477,GraphVertexEdge_option0:478,GraphVertexEdge_option1:479,GraphElementVar:480,GraphVertexEdge_option2:481,GraphVertexEdge_option3:482,GraphVertexEdge_option4:483,GraphVar:484,GraphAsClause:485,GraphAtClause:486,GraphElement2:487,GraphElement2_option0:488,GraphElement2_option1:489,GraphElement2_option2:490,GraphElement2_option3:491,GraphElement_option0:492,GraphElement_option1:493,GraphElement_option2:494,SharpLiteral:495,GraphElement_option3:496,GraphElement_option4:497,GraphElement_option5:498,ColonLiteral:499,DeleteVertex:500,DeleteVertex_option0:501,DeleteEdge:502,DeleteEdge_option0:503,DeleteEdge_option1:504,DeleteEdge_option2:505,Term:506,COLONDASH:507,TermsList:508,QUESTIONDASH:509,CALL:510,TRIGGER:511,BeforeAfter:512,InsertDeleteUpdate:513,CreateTrigger_option0:514,CreateTrigger_option1:515,BEFORE:516,AFTER:517,INSTEAD:518,REINDEX:519,A:520,ABSENT:521,ABSOLUTE:522,ACCORDING:523,ADA:524,ADMIN:525,ALWAYS:526,ASC:527,ASSERTION:528,ASSIGNMENT:529,ATTRIBUTE:530,ATTRIBUTES:531,BASE64:532,BERNOULLI:533,BLOCKED:534,BOM:535,BREADTH:536,C:537,CASCADE:538,CATALOG:539,CATALOG_NAME:540,CHAIN:541,CHARACTERISTICS:542,CHARACTERS:543,CHARACTER_SET_CATALOG:544,CHARACTER_SET_NAME:545,CHARACTER_SET_SCHEMA:546,CLASS_ORIGIN:547,COBOL:548,COLLATION:549,COLLATION_CATALOG:550,COLLATION_NAME:551,COLLATION_SCHEMA:552,COLUMNS:553,COLUMN_NAME:554,COMMAND_FUNCTION:555,COMMAND_FUNCTION_CODE:556,COMMITTED:557,CONDITION_NUMBER:558,CONNECTION:559,CONNECTION_NAME:560,CONSTRAINTS:561,CONSTRAINT_CATALOG:562,CONSTRAINT_NAME:563,CONSTRAINT_SCHEMA:564,CONSTRUCTOR:565,CONTROL:566,CURSOR_NAME:567,DATA:568,DATETIME_INTERVAL_CODE:569,DATETIME_INTERVAL_PRECISION:570,DB:571,DEFAULTS:572,DEFERRABLE:573,DEFERRED:574,DEFINED:575,DEFINER:576,DEGREE:577,DEPTH:578,DERIVED:579,DESC:580,DESCRIPTOR:581,DIAGNOSTICS:582,DISPATCH:583,DOCUMENT:584,DOMAIN:585,DYNAMIC_FUNCTION:586,DYNAMIC_FUNCTION_CODE:587,EMPTY:588,ENCODING:589,ENFORCED:590,EXCLUDE:591,EXCLUDING:592,EXPRESSION:593,FILE:594,FINAL:595,FLAG:596,FOLLOWING:597,FORTRAN:598,FOUND:599,FS:600,G:601,GENERAL:602,GENERATED:603,GO:604,GOTO:605,GRANTED:606,HEX:607,HIERARCHY:608,ID:609,IGNORE:610,IMMEDIATE:611,IMMEDIATELY:612,IMPLEMENTATION:613,INCLUDING:614,INCREMENT:615,INDENT:616,INITIALLY:617,INPUT:618,INSTANCE:619,INSTANTIABLE:620,INTEGRITY:621,INVOKER:622,ISOLATION:623,K:624,KEY_MEMBER:625,KEY_TYPE:626,LENGTH:627,LEVEL:628,LIBRARY:629,LINK:630,LOCATION:631,LOCATOR:632,M:633,MAP:634,MAPPING:635,MAXVALUE:636,MESSAGE_LENGTH:637,MESSAGE_OCTET_LENGTH:638,MESSAGE_TEXT:639,MINVALUE:640,MORE:641,MUMPS:642,NAME:643,NAMES:644,NAMESPACE:645,NESTING:646,NEXT:647,NFC:648,NFD:649,NFKC:650,NFKD:651,NIL:652,NORMALIZED:653,NULLABLE:654,OBJECT:655,OCTETS:656,OPTIONS:657,ORDERING:658,ORDINALITY:659,OTHERS:660,OVERRIDING:661,P:662,PAD:663,PARAMETER_MODE:664,PARAMETER_NAME:665,PARAMETER_ORDINAL_POSITION:666,PARAMETER_SPECIFIC_CATALOG:667,PARAMETER_SPECIFIC_NAME:668,PARAMETER_SPECIFIC_SCHEMA:669,PARTIAL:670,PASCAL:671,PASSING:672,PASSTHROUGH:673,PERMISSION:674,PLACING:675,PLI:676,PRECEDING:677,PRESERVE:678,PRIOR:679,PRIVILEGES:680,PUBLIC:681,RECOVERY:682,RELATIVE:683,REPEATABLE:684,REQUIRING:685,RESPECT:686,RESTART:687,RESTORE:688,RESTRICT:689,RETURNED_CARDINALITY:690,RETURNED_LENGTH:691,RETURNED_OCTET_LENGTH:692,RETURNED_SQLSTATE:693,RETURNING:694,ROLE:695,ROUTINE:696,ROUTINE_CATALOG:697,ROUTINE_NAME:698,ROUTINE_SCHEMA:699,ROW_COUNT:700,SCALE:701,SCHEMA:702,SCHEMA_NAME:703,SCOPE_CATALOG:704,SCOPE_NAME:705,SCOPE_SCHEMA:706,SECTION:707,SECURITY:708,SELECTIVE:709,SELF:710,SEQUENCE:711,SERIALIZABLE:712,SERVER:713,SERVER_NAME:714,SESSION:715,SETS:716,SIMPLE:717,SIZE:718,SPACE:719,SPECIFIC_NAME:720,STANDALONE:721,STATE:722,STATEMENT:723,STRIP:724,STRUCTURE:725,STYLE:726,SUBCLASS_ORIGIN:727,T:728,TABLE_NAME:729,TEMPORARY:730,TIES:731,TOKEN:732,TOP_LEVEL_COUNT:733,TRANSACTIONS_COMMITTED:734,TRANSACTIONS_ROLLED_BACK:735,TRANSACTION_ACTIVE:736,TRANSFORM:737,TRANSFORMS:738,TRIGGER_CATALOG:739,TRIGGER_NAME:740,TRIGGER_SCHEMA:741,TYPE:742,UNBOUNDED:743,UNCOMMITTED:744,UNDER:745,UNLINK:746,UNNAMED:747,UNTYPED:748,URI:749,USAGE:750,USER_DEFINED_TYPE_CATALOG:751,USER_DEFINED_TYPE_CODE:752,USER_DEFINED_TYPE_NAME:753,USER_DEFINED_TYPE_SCHEMA:754,VALID:755,VERSION:756,WHITESPACE:757,WORK:758,WRAPPER:759,WRITE:760,XMLDECLARATION:761,XMLSCHEMA:762,YES:763,ZONE:764,SEMICOLON:765,PERCENT:766,ROWS:767,FuncValue_option0_group0:768,$accept:0,$end:1},terminals_:{2:"error",4:"LITERAL",5:"BRALITERAL",10:"EOF",14:"EXPLAIN",15:"QUERY",16:"PLAN",53:"EndTransaction",72:"WITH",74:"COMMA",76:"AS",77:"LPAR",78:"RPAR",89:"SEARCH",93:"PIVOT",95:"FOR",98:"UNPIVOT",99:"IN",107:"REMOVE",112:"LIKE",115:"ARROW",116:"DOT",118:"ORDER",119:"BY",122:"DOTDOT",123:"CARET",124:"EQ",128:"WHERE",129:"OF",130:"CLASS",131:"NUMBER",132:"STRING",133:"SLASH",134:"VERTEX",135:"EDGE",136:"EXCLAMATION",137:"SHARP",138:"MODULO",139:"GT",140:"LT",141:"GTGT",142:"LTLT",143:"DOLLAR",145:"AT",146:"SET",148:"TO",149:"VALUE",150:"ROW",152:"COLON",154:"NOT",156:"IF",162:"UNION",164:"ALL",166:"ANY",168:"INTERSECT",169:"EXCEPT",170:"AND",171:"OR",172:"PATH",173:"RETURN",175:"REPEAT",179:"PLUS",180:"STAR",181:"QUESTION",183:"FROM",185:"DISTINCT",187:"UNIQUE",189:"SELECT",190:"COLUMN",191:"MATRIX",192:"TEXTSTRING",193:"INDEX",194:"RECORDSET",195:"TOP",198:"INTO",206:"CROSS",207:"APPLY",208:"OUTER",212:"INDEXED",213:"INSERTED",222:"NATURAL",223:"JOIN",224:"INNER",225:"LEFT",226:"RIGHT",227:"FULL",228:"SEMI",229:"ANTI",230:"ON",231:"USING",232:"GROUP",236:"GROUPING",237:"ROLLUP",238:"CUBE",239:"HAVING",240:"CORRESPONDING",243:"NULLS",244:"FIRST",245:"LAST",246:"DIRECTION",247:"COLLATE",248:"NOCASE",249:"LIMIT",251:"OFFSET",253:"FETCH",269:"CURRENT_TIMESTAMP",270:"JAVASCRIPT",271:"CREATE",272:"FUNCTION",273:"AGGREGATE",274:"NEW",275:"CAST",277:"CONVERT",280:"OVER",283:"PARTITION",284:"SUM",285:"COUNT",286:"MIN",287:"MAX",288:"AVG",289:"AGGR",290:"ARRAY",292:"REPLACE",293:"DATEADD",294:"DATEDIFF",295:"INTERVAL",296:"TRUE",297:"FALSE",298:"NSTRING",299:"NULL",300:"EXISTS",301:"ARRAYLBRA",302:"RBRA",304:"BRAQUESTION",305:"CASE",308:"END",310:"WHEN",311:"THEN",312:"ELSE",313:"REGEXP",314:"TILDA",315:"GLOB",316:"ESCAPE",317:"NOT_LIKE",318:"BARBAR",319:"MINUS",320:"AMPERSAND",321:"BAR",322:"GE",323:"LE",324:"EQEQ",325:"EQEQEQ",326:"NE",327:"NEEQEQ",328:"NEEQEQEQ",332:"BETWEEN",333:"NOT_BETWEEN",334:"IS",335:"DOUBLECOLON",336:"SOME",337:"UPDATE",340:"DELETE",341:"INSERT",345:"DEFAULT",346:"VALUES",349:"DateValue",355:"TABLE",358:"IDENTITY",359:"TEMP",369:"CONSTRAINT",370:"CHECK",371:"PRIMARY",372:"KEY",375:"FOREIGN",376:"REFERENCES",382:"NO",383:"ACTION",388:"ColumnConstraints",391:"ENUM",392:"MAXNUM",398:"DROP",402:"ALTER",403:"RENAME",404:"ADD",405:"MODIFY",406:"ATTACH",407:"DATABASE",408:"DETACH",410:"USE",411:"SHOW",412:"VIEW",416:"READ",417:"ONLY",418:"OPTION",419:"SOURCE",420:"ASSERT",422:"ATLBRA",426:"LCUR",428:"RCUR",435:"OFF",436:"COMMIT",437:"TRANSACTION",438:"ROLLBACK",439:"BEGIN",441:"WHILE",442:"CONTINUE",443:"BREAK",444:"PRINT",445:"REQUIRE",449:"ECHO",450:"DECLARE",453:"TRUNCATE",454:"MERGE",462:"MATCHED",465:"TARGET",466:"OUTPUT",472:"CONTENT",474:"GRAPH",507:"COLONDASH",509:"QUESTIONDASH",510:"CALL",511:"TRIGGER",516:"BEFORE",517:"AFTER",518:"INSTEAD",519:"REINDEX",520:"A",521:"ABSENT",522:"ABSOLUTE",523:"ACCORDING",524:"ADA",525:"ADMIN",526:"ALWAYS",527:"ASC",528:"ASSERTION",529:"ASSIGNMENT",530:"ATTRIBUTE",531:"ATTRIBUTES",532:"BASE64",533:"BERNOULLI",534:"BLOCKED",535:"BOM",536:"BREADTH",537:"C",538:"CASCADE",539:"CATALOG",540:"CATALOG_NAME",541:"CHAIN",542:"CHARACTERISTICS",543:"CHARACTERS",544:"CHARACTER_SET_CATALOG",545:"CHARACTER_SET_NAME",546:"CHARACTER_SET_SCHEMA",547:"CLASS_ORIGIN",548:"COBOL",549:"COLLATION",550:"COLLATION_CATALOG",551:"COLLATION_NAME",552:"COLLATION_SCHEMA",553:"COLUMNS",554:"COLUMN_NAME",555:"COMMAND_FUNCTION",556:"COMMAND_FUNCTION_CODE",557:"COMMITTED",558:"CONDITION_NUMBER",559:"CONNECTION",560:"CONNECTION_NAME",561:"CONSTRAINTS",562:"CONSTRAINT_CATALOG",563:"CONSTRAINT_NAME",564:"CONSTRAINT_SCHEMA",565:"CONSTRUCTOR",566:"CONTROL",567:"CURSOR_NAME",568:"DATA",569:"DATETIME_INTERVAL_CODE",570:"DATETIME_INTERVAL_PRECISION",571:"DB",572:"DEFAULTS",573:"DEFERRABLE",574:"DEFERRED",575:"DEFINED",576:"DEFINER",577:"DEGREE",578:"DEPTH",579:"DERIVED",580:"DESC",581:"DESCRIPTOR",582:"DIAGNOSTICS",583:"DISPATCH",584:"DOCUMENT",585:"DOMAIN",586:"DYNAMIC_FUNCTION",587:"DYNAMIC_FUNCTION_CODE",588:"EMPTY",589:"ENCODING",590:"ENFORCED",591:"EXCLUDE",592:"EXCLUDING",593:"EXPRESSION",594:"FILE",595:"FINAL",596:"FLAG",597:"FOLLOWING",598:"FORTRAN",599:"FOUND",600:"FS",601:"G",602:"GENERAL",603:"GENERATED",604:"GO",605:"GOTO",606:"GRANTED",607:"HEX",608:"HIERARCHY",609:"ID",610:"IGNORE",611:"IMMEDIATE",612:"IMMEDIATELY",613:"IMPLEMENTATION",614:"INCLUDING",615:"INCREMENT",616:"INDENT",617:"INITIALLY",618:"INPUT",619:"INSTANCE",620:"INSTANTIABLE",621:"INTEGRITY",622:"INVOKER",623:"ISOLATION",624:"K",625:"KEY_MEMBER",626:"KEY_TYPE",627:"LENGTH",628:"LEVEL",629:"LIBRARY",630:"LINK",631:"LOCATION",632:"LOCATOR",633:"M",634:"MAP",635:"MAPPING",636:"MAXVALUE",637:"MESSAGE_LENGTH",638:"MESSAGE_OCTET_LENGTH",639:"MESSAGE_TEXT",640:"MINVALUE",641:"MORE",642:"MUMPS",643:"NAME",644:"NAMES",645:"NAMESPACE",646:"NESTING",647:"NEXT",648:"NFC",649:"NFD",650:"NFKC",651:"NFKD",652:"NIL",653:"NORMALIZED",654:"NULLABLE",655:"OBJECT",656:"OCTETS",657:"OPTIONS",658:"ORDERING",659:"ORDINALITY",660:"OTHERS",661:"OVERRIDING",662:"P",663:"PAD",664:"PARAMETER_MODE",665:"PARAMETER_NAME",666:"PARAMETER_ORDINAL_POSITION",667:"PARAMETER_SPECIFIC_CATALOG",668:"PARAMETER_SPECIFIC_NAME",669:"PARAMETER_SPECIFIC_SCHEMA",670:"PARTIAL",671:"PASCAL",672:"PASSING",673:"PASSTHROUGH",674:"PERMISSION",675:"PLACING",676:"PLI",677:"PRECEDING",678:"PRESERVE",679:"PRIOR",680:"PRIVILEGES",681:"PUBLIC",682:"RECOVERY",683:"RELATIVE",684:"REPEATABLE",685:"REQUIRING",686:"RESPECT",687:"RESTART",688:"RESTORE",689:"RESTRICT",690:"RETURNED_CARDINALITY",691:"RETURNED_LENGTH",692:"RETURNED_OCTET_LENGTH",693:"RETURNED_SQLSTATE",694:"RETURNING",695:"ROLE",696:"ROUTINE",697:"ROUTINE_CATALOG",698:"ROUTINE_NAME",699:"ROUTINE_SCHEMA",700:"ROW_COUNT",701:"SCALE",702:"SCHEMA",703:"SCHEMA_NAME",704:"SCOPE_CATALOG",705:"SCOPE_NAME",706:"SCOPE_SCHEMA",707:"SECTION",708:"SECURITY",709:"SELECTIVE",710:"SELF",711:"SEQUENCE",712:"SERIALIZABLE",713:"SERVER",714:"SERVER_NAME",715:"SESSION",716:"SETS",717:"SIMPLE",718:"SIZE",719:"SPACE",720:"SPECIFIC_NAME",721:"STANDALONE",722:"STATE",723:"STATEMENT",724:"STRIP",725:"STRUCTURE",726:"STYLE",727:"SUBCLASS_ORIGIN",728:"T",729:"TABLE_NAME",730:"TEMPORARY",731:"TIES",732:"TOKEN",733:"TOP_LEVEL_COUNT",734:"TRANSACTIONS_COMMITTED",735:"TRANSACTIONS_ROLLED_BACK",736:"TRANSACTION_ACTIVE",737:"TRANSFORM",738:"TRANSFORMS",739:"TRIGGER_CATALOG",740:"TRIGGER_NAME",741:"TRIGGER_SCHEMA",742:"TYPE",743:"UNBOUNDED",744:"UNCOMMITTED",745:"UNDER",746:"UNLINK",747:"UNNAMED",748:"UNTYPED",749:"URI",750:"USAGE",751:"USER_DEFINED_TYPE_CATALOG",752:"USER_DEFINED_TYPE_CODE",753:"USER_DEFINED_TYPE_NAME",754:"USER_DEFINED_TYPE_SCHEMA",755:"VALID",756:"VERSION",757:"WHITESPACE",758:"WORK",759:"WRAPPER",760:"WRITE",761:"XMLDECLARATION",762:"XMLSCHEMA",763:"YES",764:"ZONE",765:"SEMICOLON",766:"PERCENT",767:"ROWS"},productions_:[0,[3,1],[3,1],[3,2],[7,1],[7,2],[8,2],[9,3],[9,1],[9,1],[13,2],[13,4],[12,1],[17,0],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[47,3],[73,3],[73,1],[75,5],[40,10],[40,4],[92,8],[92,11],[102,4],[104,2],[104,1],[103,3],[103,1],[105,1],[105,3],[106,3],[109,3],[109,1],[110,1],[110,2],[114,1],[114,1],[117,1],[117,5],[117,5],[117,1],[117,2],[117,1],[117,2],[117,2],[117,3],[117,4],[117,4],[117,4],[117,4],[117,4],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,2],[117,2],[117,2],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,2],[117,3],[117,4],[117,3],[117,1],[117,4],[117,2],[117,2],[117,4],[117,4],[117,4],[117,4],[117,4],[117,5],[117,4],[117,4],[117,4],[117,4],[117,4],[117,4],[117,4],[117,4],[117,6],[163,3],[163,1],[153,1],[153,1],[153,1],[182,2],[79,4],[79,4],[79,4],[79,3],[184,1],[184,2],[184,2],[184,2],[184,2],[184,2],[184,2],[184,2],[186,3],[186,4],[186,0],[81,0],[81,2],[81,2],[81,2],[81,2],[81,2],[82,2],[82,3],[82,5],[82,0],[205,6],[205,7],[205,6],[205,7],[203,1],[203,3],[209,4],[209,5],[209,3],[209,3],[209,2],[209,3],[209,1],[209,3],[209,2],[209,3],[209,1],[209,1],[209,2],[209,3],[209,1],[209,1],[209,2],[209,3],[209,1],[209,2],[209,3],[214,1],[199,3],[199,1],[204,2],[204,2],[204,1],[204,1],[215,3],[217,1],[217,2],[217,3],[217,3],[217,2],[217,3],[217,4],[217,5],[217,1],[217,2],[217,3],[217,1],[217,2],[217,3],[216,1],[216,2],[221,1],[221,2],[221,2],[221,3],[221,2],[221,3],[221,2],[221,3],[221,2],[221,2],[221,2],[218,2],[218,2],[218,0],[84,0],[84,2],[85,0],[85,4],[233,1],[233,3],[235,5],[235,4],[235,4],[235,1],[234,0],[234,2],[88,0],[88,2],[88,3],[88,2],[88,2],[88,3],[88,4],[88,3],[88,3],[86,0],[86,3],[120,1],[120,3],[242,2],[242,2],[241,1],[241,2],[241,3],[241,3],[241,4],[87,0],[87,3],[87,8],[250,0],[250,2],[174,3],[174,1],[257,3],[257,2],[257,3],[257,2],[257,3],[257,2],[257,1],[258,5],[258,3],[258,1],[111,5],[111,3],[111,3],[111,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,3],[94,3],[94,3],[94,1],[94,1],[56,1],[70,5],[71,5],[267,2],[267,2],[265,6],[265,8],[265,6],[265,8],[278,1],[278,1],[278,1],[278,1],[278,1],[278,1],[278,1],[259,5],[259,6],[259,6],[279,0],[279,4],[279,4],[279,5],[281,3],[282,3],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[200,5],[200,3],[200,4],[200,4],[200,8],[200,8],[200,8],[200,8],[200,3],[151,1],[151,3],[196,1],[261,1],[261,1],[113,1],[113,1],[262,1],[202,2],[263,4],[266,3],[201,2],[201,2],[201,1],[201,1],[264,5],[264,4],[306,2],[306,1],[309,4],[307,2],[307,0],[260,3],[260,3],[260,3],[260,3],[260,5],[260,3],[260,5],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,5],[260,3],[260,3],[260,3],[260,5],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,3],[260,6],[260,6],[260,3],[260,3],[260,2],[260,2],[260,2],[260,2],[260,2],[260,3],[260,5],[260,6],[260,5],[260,6],[260,4],[260,5],[260,3],[260,4],[260,3],[260,4],[260,3],[260,3],[260,3],[260,3],[260,3],[331,1],[331,1],[331,4],[329,1],[329,1],[329,1],[329,1],[329,1],[329,1],[330,1],[330,1],[330,1],[55,6],[55,4],[147,1],[147,3],[338,3],[338,4],[29,5],[29,3],[36,5],[36,4],[36,7],[36,6],[36,5],[36,4],[36,5],[36,8],[36,7],[36,4],[36,6],[36,7],[343,1],[343,1],[342,0],[342,1],[344,3],[344,1],[344,1],[344,5],[344,3],[344,3],[347,1],[347,3],[348,1],[348,1],[348,1],[348,1],[348,1],[348,1],[100,1],[100,3],[24,9],[24,5],[351,1],[351,1],[354,0],[354,1],[356,2],[356,1],[357,1],[357,3],[357,3],[357,3],[350,0],[350,1],[352,0],[352,3],[353,3],[353,1],[353,2],[361,1],[361,3],[362,2],[362,2],[362,2],[362,2],[362,2],[363,0],[363,2],[368,4],[364,6],[365,9],[379,3],[378,0],[378,2],[380,4],[381,4],[366,6],[367,5],[367,5],[374,1],[374,1],[374,3],[374,3],[360,1],[360,3],[386,3],[386,2],[386,1],[389,6],[389,4],[389,1],[389,4],[276,2],[276,1],[390,1],[390,1],[387,0],[387,1],[393,2],[393,1],[395,3],[394,2],[394,5],[394,3],[394,6],[394,1],[394,2],[394,4],[394,2],[394,1],[394,2],[394,1],[394,1],[394,3],[394,5],[33,4],[401,3],[401,1],[400,0],[400,2],[18,6],[18,6],[18,6],[18,8],[18,6],[39,5],[19,4],[19,7],[19,6],[19,9],[30,3],[21,4],[21,6],[21,9],[21,6],[409,0],[409,2],[54,3],[54,2],[31,4],[31,5],[31,5],[22,8],[22,9],[32,3],[43,2],[43,4],[43,3],[43,5],[45,2],[45,4],[45,4],[45,6],[42,4],[42,6],[44,4],[44,6],[41,4],[41,6],[25,11],[25,8],[415,3],[415,3],[415,5],[34,4],[66,2],[57,2],[58,2],[58,2],[58,4],[144,4],[144,2],[144,2],[144,2],[144,2],[144,1],[144,2],[144,2],[424,1],[424,1],[425,1],[425,1],[425,1],[425,1],[425,1],[425,1],[425,1],[425,3],[421,3],[421,4],[421,2],[423,2],[423,3],[423,1],[427,3],[427,1],[430,3],[430,3],[430,3],[429,3],[429,1],[65,4],[65,3],[65,4],[65,5],[65,5],[65,6],[433,1],[433,1],[432,3],[432,2],[434,1],[434,1],[434,3],[431,1],[431,1],[51,2],[52,2],[50,2],[35,4],[35,3],[440,2],[59,3],[60,1],[61,1],[62,3],[63,2],[63,2],[64,2],[64,2],[448,1],[448,1],[69,2],[446,3],[446,1],[447,3],[447,1],[28,2],[451,1],[451,3],[452,3],[452,4],[452,5],[452,6],[46,3],[37,6],[455,1],[455,2],[456,2],[457,2],[458,2],[458,2],[458,1],[458,1],[460,4],[460,6],[463,1],[463,3],[461,5],[461,7],[461,7],[461,9],[461,7],[461,9],[464,3],[464,6],[464,3],[464,6],[459,0],[459,2],[459,5],[459,4],[459,7],[27,6],[471,2],[470,0],[470,2],[470,2],[470,1],[26,8],[23,3],[23,4],[475,3],[475,1],[476,3],[476,7],[476,6],[476,3],[476,4],[480,1],[480,1],[484,2],[485,3],[486,2],[487,4],[477,4],[477,3],[477,2],[477,1],[499,2],[495,2],[495,2],[500,4],[502,6],[67,3],[67,2],[508,3],[508,1],[506,1],[506,4],[68,2],[20,2],[48,9],[48,8],[48,9],[512,0],[512,1],[512,1],[512,1],[512,2],[513,1],[513,1],[513,1],[49,3],[38,2],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[11,1],[11,1],[80,0],[80,1],[83,0],[83,1],[90,0],[90,2],[91,0],[91,1],[96,0],[96,1],[97,0],[97,1],[101,0],[101,1],[108,0],[108,1],[121,0],[121,1],[125,1],[125,2],[126,1],[126,2],[127,0],[127,1],[155,0],[155,2],[157,0],[157,2],[159,0],[159,2],[160,1],[160,1],[161,0],[161,2],[165,0],[165,2],[167,0],[167,2],[176,0],[176,2],[177,0],[177,2],[178,0],[178,2],[188,0],[188,1],[197,0],[197,1],[210,0],[210,1],[211,0],[211,1],[219,0],[219,1],[220,0],[220,1],[252,0],[252,1],[254,0],[254,1],[255,0],[255,1],[256,0],[256,1],[268,1],[268,1],[768,1],[768,1],[291,0],[291,1],[303,1],[303,1],[339,1],[339,1],[373,0],[373,1],[377,0],[377,1],[384,0],[384,1],[385,0],[385,1],[396,0],[396,1],[397,0],[397,1],[399,1],[399,1],[413,0],[413,1],[414,0],[414,1],[467,0],[467,1],[468,0],[468,1],[469,0],[469,1],[473,0],[473,1],[478,0],[478,1],[479,0],[479,1],[481,0],[481,1],[482,0],[482,1],[483,0],[483,1],[488,0],[488,1],[489,0],[489,1],[490,0],[490,1],[491,0],[491,1],[492,0],[492,1],[493,0],[493,1],[494,0],[494,1],[496,0],[496,1],[497,0],[497,1],[498,0],[498,1],[501,0],[501,2],[503,0],[503,2],[504,0],[504,2],[505,0],[505,2],[514,0],[514,1],[515,0],[515,1]],performAction:function(e,t,a,r,i,s){var o=s.length-1;switch(i){case 1:n.options.casesensitive?this.$=s[o]:this.$=s[o].toLowerCase();break;case 2:this.$=b(s[o].substr(1,s[o].length-2));break;case 3:this.$=s[o].toLowerCase();break;case 4:case 77:case 78:case 86:case 147:case 185:case 247:case 283:case 291:case 292:case 293:case 294:case 295:case 296:case 297:case 298:case 299:case 300:case 301:case 302:case 303:case 304:case 307:case 308:case 323:case 324:case 325:case 326:case 327:case 328:case 377:case 443:case 444:case 445:case 446:case 447:case 448:case 519:case 545:case 549:case 551:case 626:case 627:case 628:case 629:case 630:case 631:case 635:case 637:case 638:case 647:case 663:case 664:case 726:case 741:case 742:case 744:case 745:case 751:case 752:case 312:case 440:case 441:case 673:this.$=s[o];break;case 5:this.$=s[o]?s[o-1]+" "+s[o]:s[o-1];break;case 6:return new r.Statements({statements:s[o-1]});case 7:this.$=s[o-2],s[o]&&s[o-2].push(s[o]);break;case 8:case 9:case 70:case 80:case 85:case 143:case 177:case 205:case 206:case 242:case 261:case 276:case 357:case 375:case 454:case 477:case 478:case 482:case 490:case 531:case 532:case 569:case 652:case 662:case 686:case 688:case 690:case 704:case 705:case 735:case 759:case 511:case 535:case 1064:case 1066:this.$=[s[o]];break;case 10:case 11:this.$=s[o],s[o].explain=!0;break;case 12:this.$=s[o],r.exists&&(this.$.exists=r.exists),delete r.exists,r.queries&&(this.$.queries=r.queries),delete r.queries;break;case 13:case 162:case 172:case 237:case 238:case 240:case 248:case 250:case 259:case 270:case 273:case 378:case 494:case 504:case 506:case 518:case 524:case 525:case 570:case 163:case 333:case 526:case 527:case 727:case 548:case 587:this.$=void 0;break;case 68:this.$=new r.WithSelect({withs:s[o-1],select:s[o]});break;case 69:case 568:case 275:case 512:case 536:case 651:case 661:case 685:case 687:case 691:case 358:s[o-2].push(s[o]),this.$=s[o-2];break;case 71:this.$={name:s[o-4],select:s[o-1]};break;case 72:r.extend(this.$,s[o-9]),r.extend(this.$,s[o-8]),r.extend(this.$,s[o-7]),r.extend(this.$,s[o-6]),r.extend(this.$,s[o-5]),r.extend(this.$,s[o-4]),r.extend(this.$,s[o-3]),r.extend(this.$,s[o-2]),r.extend(this.$,s[o-1]),r.extend(this.$,s[o]),this.$=s[o-9];break;case 73:this.$=new r.Search({selectors:s[o-2],from:s[o]}),r.extend(this.$,s[o-1]);break;case 74:this.$={pivot:{expr:s[o-5],columnid:s[o-3],inlist:s[o-2],as:s[o]}};break;case 75:this.$={unpivot:{tocolumnid:s[o-8],forcolumnid:s[o-6],inlist:s[o-3],as:s[o]}};break;case 76:case 523:case 552:case 588:case 622:case 639:case 640:case 643:case 665:case 442:this.$=s[o-1];break;case 79:case 84:case 734:case 758:case 142:this.$=s[o-2],this.$.push(s[o]);break;case 81:this.$={expr:s[o]};break;case 82:this.$={expr:s[o-2],as:s[o]};break;case 83:this.$={removecolumns:s[o]};break;case 87:this.$={like:s[o]};break;case 90:case 104:this.$={srchid:"PROP",args:[s[o]]};break;case 91:this.$={srchid:"ORDERBY",args:s[o-1]};break;case 92:i=(i=s[o-1])||"ASC",this.$={srchid:"ORDERBY",args:[{expression:new r.Column({columnid:"_"}),direction:i}]};break;case 93:this.$={srchid:"PARENT"};break;case 94:this.$={srchid:"APROP",args:[s[o]]};break;case 95:this.$={selid:"ROOT"};break;case 96:this.$={srchid:"EQ",args:[s[o]]};break;case 97:this.$={srchid:"LIKE",args:[s[o]]};break;case 98:case 99:this.$={selid:"WITH",args:s[o-1]};break;case 100:this.$={srchid:s[o-3].toUpperCase(),args:s[o-1]};break;case 101:this.$={srchid:"WHERE",args:[s[o-1]]};break;case 102:this.$={selid:"OF",args:[s[o-1]]};break;case 103:this.$={srchid:"CLASS",args:[s[o-1]]};break;case 105:this.$={srchid:"NAME",args:[s[o].substr(1,s[o].length-2)]};break;case 106:this.$={srchid:"CHILD"};break;case 107:this.$={srchid:"VERTEX"};break;case 108:this.$={srchid:"EDGE"};break;case 109:this.$={srchid:"REF"};break;case 110:this.$={srchid:"SHARP",args:[s[o]]};break;case 111:this.$={srchid:"ATTR",args:void 0===s[o]?void 0:[s[o]]};break;case 112:this.$={srchid:"ATTR"};break;case 113:this.$={srchid:"OUT"};break;case 114:this.$={srchid:"IN"};break;case 115:this.$={srchid:"OUTOUT"};break;case 116:this.$={srchid:"ININ"};break;case 117:this.$={srchid:"CONTENT"};break;case 118:this.$={srchid:"EX",args:[new r.Json({value:s[o]})]};break;case 119:this.$={srchid:"AT",args:[s[o]]};break;case 120:this.$={srchid:"AS",args:[s[o]]};break;case 121:this.$={srchid:"SET",args:s[o-1]};break;case 122:this.$={selid:"TO",args:[s[o]]};break;case 123:this.$={srchid:"VALUE"};break;case 124:this.$={srchid:"ROW",args:s[o-1]};break;case 125:this.$={srchid:"CLASS",args:[s[o]]};break;case 126:this.$={selid:s[o],args:[s[o-1]]};break;case 127:this.$={selid:"NOT",args:s[o-1]};break;case 128:this.$={selid:"IF",args:s[o-1]};break;case 129:this.$={selid:s[o-3],args:s[o-1]};break;case 130:this.$={selid:"DISTINCT",args:s[o-1]};break;case 131:this.$={selid:"UNION",args:s[o-1]};break;case 132:this.$={selid:"UNIONALL",args:s[o-1]};break;case 133:this.$={selid:"ALL",args:[s[o-1]]};break;case 134:this.$={selid:"ANY",args:[s[o-1]]};break;case 135:this.$={selid:"INTERSECT",args:s[o-1]};break;case 136:this.$={selid:"EXCEPT",args:s[o-1]};break;case 137:this.$={selid:"AND",args:s[o-1]};break;case 138:this.$={selid:"OR",args:s[o-1]};break;case 139:this.$={selid:"PATH",args:[s[o-1]]};break;case 140:this.$={srchid:"RETURN",args:s[o-1]};break;case 141:this.$={selid:"REPEAT",sels:s[o-3],args:s[o-1]};break;case 144:this.$="PLUS";break;case 145:this.$="STAR";break;case 146:this.$="QUESTION";break;case 148:case 149:this.$=new r.Select({columns:s[o],distinct:!0}),r.extend(this.$,s[o-3]),r.extend(this.$,s[o-1]);break;case 150:this.$=new r.Select({columns:s[o],all:!0}),r.extend(this.$,s[o-3]),r.extend(this.$,s[o-1]);break;case 151:s[o]?(this.$=new r.Select({columns:s[o]}),r.extend(this.$,s[o-2]),r.extend(this.$,s[o-1])):this.$=new r.Select({columns:[new r.Column({columnid:"_"})],modifier:"COLUMN"});break;case 152:"SELECT"==s[o]?this.$=void 0:this.$={modifier:s[o]};break;case 153:this.$={modifier:"VALUE"};break;case 154:this.$={modifier:"ROW"};break;case 155:this.$={modifier:"COLUMN"};break;case 156:this.$={modifier:"MATRIX"};break;case 157:this.$={modifier:"TEXTSTRING"};break;case 158:this.$={modifier:"INDEX"};break;case 159:this.$={modifier:"RECORDSET"};break;case 160:this.$={top:s[o-1],percent:void 0!==s[o]||void 0};break;case 161:this.$={top:s[o-1]};break;case 164:case 165:case 166:case 167:case 698:case 699:this.$={into:s[o]};break;case 168:var l=(u=(u=s[o]).substr(1,u.length-2)).substr(-3).toUpperCase(),c=u.substr(-4).toUpperCase();"#"==u[0]?this.$={into:new r.FuncValue({funcid:"HTML",args:[new r.StringValue({value:u}),new r.Json({value:{headers:!0}})]})}:"XLS"==l||"CSV"==l||"TAB"==l?this.$={into:new r.FuncValue({funcid:l,args:[new r.StringValue({value:u}),new r.Json({value:{headers:!0}})]})}:"XLSX"!=c&&"JSON"!=c||(this.$={into:new r.FuncValue({funcid:c,args:[new r.StringValue({value:u}),new r.Json({value:{headers:!0}})]})});break;case 169:this.$={from:s[o]};break;case 170:this.$={from:s[o-1],joins:s[o]};break;case 171:this.$={from:s[o-2],joins:s[o-1]};break;case 173:this.$=new r.Apply({select:s[o-2],applymode:"CROSS",as:s[o]});break;case 174:this.$=new r.Apply({select:s[o-3],applymode:"CROSS",as:s[o]});break;case 175:this.$=new r.Apply({select:s[o-2],applymode:"OUTER",as:s[o]});break;case 176:this.$=new r.Apply({select:s[o-3],applymode:"OUTER",as:s[o]});break;case 178:case 243:case 455:case 533:case 534:case 262:case 480:case 481:case 483:case 491:this.$=s[o-2],s[o-2].push(s[o]);break;case 179:this.$=s[o-2],this.$.as=s[o];break;case 180:this.$=s[o-3],this.$.as=s[o];break;case 181:this.$=s[o-1],this.$.as="default";break;case 182:this.$=new r.Json({value:s[o-2]}),s[o-2].as=s[o];break;case 183:case 187:case 191:case 195:case 198:this.$=s[o-1],s[o-1].as=s[o];break;case 184:case 188:case 192:case 196:case 199:this.$=s[o-2],s[o-2].as=s[o];break;case 186:case 641:case 644:this.$=s[o-2];break;case 189:case 190:case 194:case 197:this.$=s[o],s[o].as="default";break;case 193:this.$={inserted:!0};break;case 200:var u;if(l=(u=(u=s[o]).substr(1,u.length-2)).substr(-3).toUpperCase(),c=u.substr(-4).toUpperCase(),"#"==u[0])d=new r.FuncValue({funcid:"HTML",args:[new r.StringValue({value:u}),new r.Json({value:{headers:!0}})]});else if("XLS"==l||"CSV"==l||"TAB"==l)d=new r.FuncValue({funcid:l,args:[new r.StringValue({value:u}),new r.Json({value:{headers:!0}})]});else{if("XLSX"!=c&&"JSON"!=c)throw new Error("Unknown string in FROM clause");d=new r.FuncValue({funcid:c,args:[new r.StringValue({value:u}),new r.Json({value:{headers:!0}})]})}this.$=d;break;case 201:"INFORMATION_SCHEMA"==s[o-2]?this.$=new r.FuncValue({funcid:s[o-2],args:[new r.StringValue({value:s[o]})]}):this.$=new r.Table({databaseid:s[o-2],tableid:s[o]});break;case 202:this.$=new r.Table({tableid:s[o]});break;case 203:case 204:this.$=s[o-1],s[o-1].push(s[o]);break;case 207:this.$=new r.Join(s[o-2]),r.extend(this.$,s[o-1]),r.extend(this.$,s[o]);break;case 208:this.$={table:s[o]};break;case 209:this.$={table:s[o-1],as:s[o]};break;case 210:this.$={table:s[o-2],as:s[o]};break;case 211:this.$={json:new r.Json({value:s[o-2],as:s[o]})};break;case 212:this.$={param:s[o-1],as:s[o]};break;case 213:this.$={param:s[o-2],as:s[o]};break;case 214:this.$={select:s[o-2],as:s[o]};break;case 215:this.$={select:s[o-3],as:s[o]};break;case 216:this.$={func:s[o],as:"default"};break;case 217:this.$={func:s[o-1],as:s[o]};break;case 218:this.$={func:s[o-2],as:s[o]};break;case 219:this.$={variable:s[o],as:"default"};break;case 220:this.$={variable:s[o-1],as:s[o]};break;case 221:this.$={variable:s[o-2],as:s[o]};break;case 222:this.$={joinmode:s[o]};break;case 223:this.$={joinmode:s[o-1],natural:!0};break;case 224:case 225:this.$="INNER";break;case 226:case 227:this.$="LEFT";break;case 228:case 229:this.$="RIGHT";break;case 230:case 231:this.$="OUTER";break;case 232:this.$="SEMI";break;case 233:this.$="ANTI";break;case 234:this.$="CROSS";break;case 235:case 701:this.$={on:s[o]};break;case 236:case 700:this.$={using:s[o]};break;case 239:this.$={where:new r.Expression({expression:s[o]})};break;case 241:this.$={group:s[o-1]},r.extend(this.$,s[o]);break;case 244:this.$=new r.GroupExpression({type:"GROUPING SETS",group:s[o-1]});break;case 245:this.$=new r.GroupExpression({type:"ROLLUP",group:s[o-1]});break;case 246:this.$=new r.GroupExpression({type:"CUBE",group:s[o-1]});break;case 249:this.$={having:s[o]};break;case 251:this.$={union:s[o]};break;case 252:this.$={unionall:s[o]};break;case 253:this.$={except:s[o]};break;case 254:this.$={intersect:s[o]};break;case 255:this.$={union:s[o],corresponding:!0};break;case 256:this.$={unionall:s[o],corresponding:!0};break;case 257:this.$={except:s[o],corresponding:!0};break;case 258:this.$={intersect:s[o],corresponding:!0};break;case 260:case 338:this.$={order:s[o]};break;case 263:this.$={nullsOrder:"FIRST"};break;case 264:this.$={nullsOrder:"LAST"};break;case 265:this.$=new r.Expression({expression:s[o],direction:"ASC"});break;case 266:this.$=new r.Expression({expression:s[o-1],direction:s[o].toUpperCase()});break;case 267:this.$=new r.Expression({expression:s[o-2],direction:s[o-1].toUpperCase()}),r.extend(this.$,s[o]);break;case 268:this.$=new r.Expression({expression:s[o-2],direction:"ASC",nocase:!0});break;case 269:this.$=new r.Expression({expression:s[o-3],direction:s[o].toUpperCase(),nocase:!0});break;case 271:this.$={limit:s[o-1]},r.extend(this.$,s[o]);break;case 272:this.$={limit:s[o-2],offset:s[o-6]};break;case 274:this.$={offset:s[o]};break;case 277:case 279:case 281:s[o-2].as=s[o],this.$=s[o-2];break;case 278:case 280:case 282:s[o-1].as=s[o],this.$=s[o-1];break;case 284:this.$=new r.Column({columid:s[o],tableid:s[o-2],databaseid:s[o-4]});break;case 285:case 288:case 289:this.$=new r.Column({columnid:s[o],tableid:s[o-2]});break;case 286:case 290:this.$=new r.Column({columnid:s[o]});break;case 287:this.$=new r.Column({columnid:s[o],tableid:s[o-2],databaseid:s[o-4]});break;case 305:this.$=new r.DomainValueValue;break;case 306:this.$=new r.Json({value:s[o]});break;case 309:case 310:case 311:r.queries||(r.queries=[]),r.queries.push(s[o-1]),s[o-1].queriesidx=r.queries.length,this.$=s[o-1];break;case 313:case 329:this.$=new r.FuncValue({funcid:"CURRENT_TIMESTAMP"});break;case 314:this.$=new r.JavaScript({value:s[o].substr(2,s[o].length-4)});break;case 315:this.$=new r.JavaScript({value:'alasql.fn["'+s[o-2]+'"] = '+s[o].substr(2,s[o].length-4)});break;case 316:this.$=new r.JavaScript({value:'alasql.aggr["'+s[o-2]+'"] = '+s[o].substr(2,s[o].length-4)});break;case 317:this.$=new r.FuncValue({funcid:s[o],newid:!0});break;case 318:this.$=s[o],r.extend(this.$,{newid:!0});break;case 319:this.$=new r.Convert({expression:s[o-3]}),r.extend(this.$,s[o-1]);break;case 320:this.$=new r.Convert({expression:s[o-5],style:s[o-1]}),r.extend(this.$,s[o-3]);break;case 321:this.$=new r.Convert({expression:s[o-1]}),r.extend(this.$,s[o-3]);break;case 322:this.$=new r.Convert({expression:s[o-3],style:s[o-1]}),r.extend(this.$,s[o-5]);break;case 330:1<s[o-2].length&&("MAX"==s[o-4].toUpperCase()||"MIN"==s[o-4].toUpperCase())?this.$=new r.FuncValue({funcid:s[o-4],args:s[o-2]}):this.$=new r.AggrValue({aggregatorid:s[o-4].toUpperCase(),expression:s[o-2].pop(),over:s[o]});break;case 331:this.$=new r.AggrValue({aggregatorid:s[o-5].toUpperCase(),expression:s[o-2],distinct:!0,over:s[o]});break;case 332:this.$=new r.AggrValue({aggregatorid:s[o-5].toUpperCase(),expression:s[o-2],over:s[o]});break;case 334:case 335:this.$=new r.Over,r.extend(this.$,s[o-1]);break;case 336:this.$=new r.Over,r.extend(this.$,s[o-2]),r.extend(this.$,s[o-1]);break;case 337:this.$={partition:s[o]};break;case 339:this.$="SUM";break;case 340:this.$="COUNT";break;case 341:this.$="MIN";break;case 342:case 547:this.$="MAX";break;case 343:this.$="AVG";break;case 344:this.$="FIRST";break;case 345:this.$="LAST";break;case 346:this.$="AGGR";break;case 347:this.$="ARRAY";break;case 348:var d=s[o-4],h=s[o-1];1<h.length&&("MIN"==d.toUpperCase()||"MAX"==d.toUpperCase())||!n.aggr[s[o-4]]?this.$=new r.FuncValue({funcid:d,args:h}):this.$=new r.AggrValue({aggregatorid:"REDUCE",funcid:d,expression:h.pop(),distinct:"DISTINCT"==s[o-2]});break;case 349:this.$=new r.FuncValue({funcid:s[o-2]});break;case 350:this.$=new r.FuncValue({funcid:"IIF",args:s[o-1]});break;case 351:this.$=new r.FuncValue({funcid:"REPLACE",args:s[o-1]});break;case 352:this.$=new r.FuncValue({funcid:"DATEADD",args:[new r.StringValue({value:s[o-5]}),s[o-3],s[o-1]]});break;case 353:this.$=new r.FuncValue({funcid:"DATEADD",args:[s[o-5],s[o-3],s[o-1]]});break;case 354:this.$=new r.FuncValue({funcid:"DATEDIFF",args:[new r.StringValue({value:s[o-5]}),s[o-3],s[o-1]]});break;case 355:this.$=new r.FuncValue({funcid:"DATEDIFF",args:[s[o-5],s[o-3],s[o-1]]});break;case 356:this.$=new r.FuncValue({funcid:"INTERVAL",args:[s[o-1],new r.StringValue({value:s[o].toLowerCase()})]});break;case 359:this.$=new r.NumValue({value:+s[o]});break;case 360:this.$=new r.LogicValue({value:!0});break;case 361:this.$=new r.LogicValue({value:!1});break;case 362:this.$=new r.StringValue({value:s[o].substr(1,s[o].length-2).replace(/(\\\')/g,"'").replace(/(\'\')/g,"'")});break;case 363:this.$=new r.StringValue({value:s[o].substr(2,s[o].length-3).replace(/(\\\')/g,"'").replace(/(\'\')/g,"'")});break;case 364:this.$=new r.NullValue({value:void 0});break;case 365:this.$=new r.VarValue({variable:s[o]});break;case 366:r.exists||(r.exists=[]),this.$=new r.ExistsValue({value:s[o-1],existsidx:r.exists.length}),r.exists.push(s[o-1]);break;case 367:this.$=new r.ArrayValue({value:s[o-1]});break;case 368:case 369:this.$=new r.ParamValue({param:s[o]});break;case 370:void 0===r.question&&(r.question=0),this.$=new r.ParamValue({param:r.question++});break;case 371:void 0===r.question&&(r.question=0),this.$=new r.ParamValue({param:r.question++,array:!0});break;case 372:this.$=new r.CaseValue({expression:s[o-3],whens:s[o-2],elses:s[o-1]});break;case 373:this.$=new r.CaseValue({whens:s[o-2],elses:s[o-1]});break;case 374:case 702:case 703:this.$=s[o-1],this.$.push(s[o]);break;case 376:this.$={when:s[o-2],then:s[o]};break;case 379:case 380:this.$=new r.Op({left:s[o-2],op:"REGEXP",right:s[o]});break;case 381:this.$=new r.Op({left:s[o-2],op:"GLOB",right:s[o]});break;case 382:this.$=new r.Op({left:s[o-2],op:"LIKE",right:s[o]});break;case 383:this.$=new r.Op({left:s[o-4],op:"LIKE",right:s[o-2],escape:s[o]});break;case 384:this.$=new r.Op({left:s[o-2],op:"NOT LIKE",right:s[o]});break;case 385:this.$=new r.Op({left:s[o-4],op:"NOT LIKE",right:s[o-2],escape:s[o]});break;case 386:this.$=new r.Op({left:s[o-2],op:"||",right:s[o]});break;case 387:this.$=new r.Op({left:s[o-2],op:"+",right:s[o]});break;case 388:this.$=new r.Op({left:s[o-2],op:"-",right:s[o]});break;case 389:this.$=new r.Op({left:s[o-2],op:"*",right:s[o]});break;case 390:this.$=new r.Op({left:s[o-2],op:"/",right:s[o]});break;case 391:this.$=new r.Op({left:s[o-2],op:"%",right:s[o]});break;case 392:this.$=new r.Op({left:s[o-2],op:"^",right:s[o]});break;case 393:this.$=new r.Op({left:s[o-2],op:">>",right:s[o]});break;case 394:this.$=new r.Op({left:s[o-2],op:"<<",right:s[o]});break;case 395:this.$=new r.Op({left:s[o-2],op:"&",right:s[o]});break;case 396:this.$=new r.Op({left:s[o-2],op:"|",right:s[o]});break;case 397:case 398:case 400:this.$=new r.Op({left:s[o-2],op:"->",right:s[o]});break;case 399:this.$=new r.Op({left:s[o-4],op:"->",right:s[o-1]});break;case 401:case 402:case 404:this.$=new r.Op({left:s[o-2],op:"!",right:s[o]});break;case 403:this.$=new r.Op({left:s[o-4],op:"!",right:s[o-1]});break;case 405:this.$=new r.Op({left:s[o-2],op:">",right:s[o]});break;case 406:this.$=new r.Op({left:s[o-2],op:">=",right:s[o]});break;case 407:this.$=new r.Op({left:s[o-2],op:"<",right:s[o]});break;case 408:this.$=new r.Op({left:s[o-2],op:"<=",right:s[o]});break;case 409:this.$=new r.Op({left:s[o-2],op:"=",right:s[o]});break;case 410:this.$=new r.Op({left:s[o-2],op:"==",right:s[o]});break;case 411:this.$=new r.Op({left:s[o-2],op:"===",right:s[o]});break;case 412:this.$=new r.Op({left:s[o-2],op:"!=",right:s[o]});break;case 413:this.$=new r.Op({left:s[o-2],op:"!==",right:s[o]});break;case 414:this.$=new r.Op({left:s[o-2],op:"!===",right:s[o]});break;case 415:r.queries||(r.queries=[]),this.$=new r.Op({left:s[o-5],op:s[o-4],allsome:s[o-3],right:s[o-1],queriesidx:r.queries.length}),r.queries.push(s[o-1]);break;case 416:this.$=new r.Op({left:s[o-5],op:s[o-4],allsome:s[o-3],right:s[o-1]});break;case 417:"BETWEEN1"==s[o-2].op?"AND"==s[o-2].left.op?this.$=new r.Op({left:s[o-2].left.left,op:"AND",right:new r.Op({left:s[o-2].left.right,op:"BETWEEN",right1:s[o-2].right,right2:s[o]})}):this.$=new r.Op({left:s[o-2].left,op:"BETWEEN",right1:s[o-2].right,right2:s[o]}):"NOT BETWEEN1"==s[o-2].op?"AND"==s[o-2].left.op?this.$=new r.Op({left:s[o-2].left.left,op:"AND",right:new r.Op({left:s[o-2].left.right,op:"NOT BETWEEN",right1:s[o-2].right,right2:s[o]})}):this.$=new r.Op({left:s[o-2].left,op:"NOT BETWEEN",right1:s[o-2].right,right2:s[o]}):this.$=new r.Op({left:s[o-2],op:"AND",right:s[o]});break;case 418:this.$=new r.Op({left:s[o-2],op:"OR",right:s[o]});break;case 419:this.$=new r.UniOp({op:"NOT",right:s[o]});break;case 420:this.$=new r.UniOp({op:"-",right:s[o]});break;case 421:this.$=new r.UniOp({op:"+",right:s[o]});break;case 422:this.$=new r.UniOp({op:"~",right:s[o]});break;case 423:this.$=new r.UniOp({op:"#",right:s[o]});break;case 424:this.$=new r.UniOp({right:s[o-1]});break;case 425:r.queries||(r.queries=[]),this.$=new r.Op({left:s[o-4],op:"IN",right:s[o-1],queriesidx:r.queries.length}),r.queries.push(s[o-1]);break;case 426:r.queries||(r.queries=[]),this.$=new r.Op({left:s[o-5],op:"NOT IN",right:s[o-1],queriesidx:r.queries.length}),r.queries.push(s[o-1]);break;case 427:this.$=new r.Op({left:s[o-4],op:"IN",right:s[o-1]});break;case 428:this.$=new r.Op({left:s[o-5],op:"NOT IN",right:s[o-1]});break;case 429:this.$=new r.Op({left:s[o-3],op:"IN",right:[]});break;case 430:this.$=new r.Op({left:s[o-4],op:"NOT IN",right:[]});break;case 431:case 433:this.$=new r.Op({left:s[o-2],op:"IN",right:s[o]});break;case 432:case 434:this.$=new r.Op({left:s[o-3],op:"NOT IN",right:s[o]});break;case 435:this.$=new r.Op({left:s[o-2],op:"BETWEEN1",right:s[o]});break;case 436:this.$=new r.Op({left:s[o-2],op:"NOT BETWEEN1",right:s[o]});break;case 437:this.$=new r.Op({op:"IS",left:s[o-2],right:s[o]});break;case 438:this.$=new r.Op({op:"IS",left:s[o-2],right:new r.UniOp({op:"NOT",right:new r.NullValue({value:void 0})})});break;case 439:this.$=new r.Convert({expression:s[o-2]}),r.extend(this.$,s[o]);break;case 449:this.$="ALL";break;case 450:this.$="SOME";break;case 451:this.$="ANY";break;case 452:this.$=new r.Update({table:s[o-4],columns:s[o-2],where:s[o]});break;case 453:this.$=new r.Update({table:s[o-2],columns:s[o]});break;case 456:this.$=new r.SetColumn({column:s[o-2],expression:s[o]});break;case 457:this.$=new r.SetColumn({variable:s[o-2],expression:s[o],method:s[o-3]});break;case 458:this.$=new r.Delete({table:s[o-2],where:s[o]});break;case 459:this.$=new r.Delete({table:s[o]});break;case 460:this.$=new r.Insert({into:s[o-2],values:s[o]});break;case 461:this.$=new r.Insert({into:s[o-1],values:s[o]});break;case 462:case 464:this.$=new r.Insert({into:s[o-2],values:s[o],orreplace:!0});break;case 463:case 465:this.$=new r.Insert({into:s[o-1],values:s[o],orreplace:!0});break;case 466:this.$=new r.Insert({into:s[o-2],default:!0});break;case 467:this.$=new r.Insert({into:s[o-5],columns:s[o-3],values:s[o]});break;case 468:this.$=new r.Insert({into:s[o-4],columns:s[o-2],values:s[o]});break;case 469:this.$=new r.Insert({into:s[o-1],select:s[o]});break;case 470:this.$=new r.Insert({into:s[o-1],select:s[o],orreplace:!0});break;case 471:this.$=new r.Insert({into:s[o-4],columns:s[o-2],select:s[o]});break;case 476:this.$=[s[o-1]];break;case 479:this.$=s[o-4],s[o-4].push(s[o-1]);break;case 492:this.$=new r.CreateTable({table:s[o-4]}),r.extend(this.$,s[o-7]),r.extend(this.$,s[o-6]),r.extend(this.$,s[o-5]),r.extend(this.$,s[o-2]),r.extend(this.$,s[o]);break;case 493:this.$=new r.CreateTable({table:s[o]}),r.extend(this.$,s[o-3]),r.extend(this.$,s[o-2]),r.extend(this.$,s[o-1]);break;case 495:this.$={class:!0};break;case 505:this.$={temporary:!0};break;case 507:this.$={ifnotexists:!0};break;case 508:this.$={columns:s[o-2],constraints:s[o]};break;case 509:this.$={columns:s[o]};break;case 510:this.$={as:s[o]};break;case 513:case 514:case 515:case 516:case 517:s[o].constraintid=s[o-1],this.$=s[o];break;case 520:this.$={type:"CHECK",expression:s[o-1]};break;case 521:this.$={type:"PRIMARY KEY",columns:s[o-1],clustered:(s[o-3]+"").toUpperCase()};break;case 522:this.$={type:"FOREIGN KEY",columns:s[o-5],fktable:s[o-2],fkcolumns:s[o-1]};break;case 528:this.$={type:"UNIQUE",columns:s[o-1],clustered:(s[o-3]+"").toUpperCase()};break;case 537:this.$=new r.ColumnDef({columnid:s[o-2]}),r.extend(this.$,s[o-1]),r.extend(this.$,s[o]);break;case 538:this.$=new r.ColumnDef({columnid:s[o-1]}),r.extend(this.$,s[o]);break;case 539:this.$=new r.ColumnDef({columnid:s[o],dbtypeid:""});break;case 540:this.$={dbtypeid:s[o-5],dbsize:s[o-3],dbprecision:+s[o-1]};break;case 541:this.$={dbtypeid:s[o-3],dbsize:s[o-1]};break;case 542:this.$={dbtypeid:s[o]};break;case 543:this.$={dbtypeid:"ENUM",enumvalues:s[o-1]};break;case 544:this.$=s[o-1],s[o-1].dbtypeid+="["+s[o]+"]";break;case 546:case 753:this.$=+s[o];break;case 550:r.extend(s[o-1],s[o]),this.$=s[o-1];break;case 553:this.$={primarykey:!0};break;case 554:case 555:this.$={foreignkey:{table:s[o-1],columnid:s[o]}};break;case 556:this.$={identity:{value:s[o-3],step:s[o-1]}};break;case 557:this.$={identity:{value:1,step:1}};break;case 558:case 560:this.$={default:s[o]};break;case 559:this.$={default:s[o-1]};break;case 561:this.$={null:!0};break;case 562:this.$={notnull:!0};break;case 563:this.$={check:s[o]};break;case 564:this.$={unique:!0};break;case 565:this.$={onupdate:s[o]};break;case 566:this.$={onupdate:s[o-1]};break;case 567:this.$=new r.DropTable({tables:s[o],type:s[o-2]}),r.extend(this.$,s[o-1]);break;case 571:this.$={ifexists:!0};break;case 572:this.$=new r.AlterTable({table:s[o-3],renameto:s[o]});break;case 573:this.$=new r.AlterTable({table:s[o-3],addcolumn:s[o]});break;case 574:this.$=new r.AlterTable({table:s[o-3],modifycolumn:s[o]});break;case 575:this.$=new r.AlterTable({table:s[o-5],renamecolumn:s[o-2],to:s[o]});break;case 576:this.$=new r.AlterTable({table:s[o-3],dropcolumn:s[o]});break;case 577:this.$=new r.AlterTable({table:s[o-2],renameto:s[o]});break;case 578:this.$=new r.AttachDatabase({databaseid:s[o],engineid:s[o-2].toUpperCase()});break;case 579:this.$=new r.AttachDatabase({databaseid:s[o-3],engineid:s[o-5].toUpperCase(),args:s[o-1]});break;case 580:this.$=new r.AttachDatabase({databaseid:s[o-2],engineid:s[o-4].toUpperCase(),as:s[o]});break;case 581:this.$=new r.AttachDatabase({databaseid:s[o-5],engineid:s[o-7].toUpperCase(),as:s[o],args:s[o-3]});break;case 582:this.$=new r.DetachDatabase({databaseid:s[o]});break;case 583:this.$=new r.CreateDatabase({databaseid:s[o]}),r.extend(this.$,s[o]);break;case 584:this.$=new r.CreateDatabase({engineid:s[o-4].toUpperCase(),databaseid:s[o-1],as:s[o]}),r.extend(this.$,s[o-2]);break;case 585:this.$=new r.CreateDatabase({engineid:s[o-7].toUpperCase(),databaseid:s[o-4],args:s[o-2],as:s[o]}),r.extend(this.$,s[o-5]);break;case 586:this.$=new r.CreateDatabase({engineid:s[o-4].toUpperCase(),as:s[o],args:[s[o-1]]}),r.extend(this.$,s[o-2]);break;case 589:case 590:this.$=new r.UseDatabase({databaseid:s[o]});break;case 591:this.$=new r.DropDatabase({databaseid:s[o]}),r.extend(this.$,s[o-1]);break;case 592:case 593:this.$=new r.DropDatabase({databaseid:s[o],engineid:s[o-3].toUpperCase()}),r.extend(this.$,s[o-1]);break;case 594:this.$=new r.CreateIndex({indexid:s[o-5],table:s[o-3],columns:s[o-1]});break;case 595:this.$=new r.CreateIndex({indexid:s[o-5],table:s[o-3],columns:s[o-1],unique:!0});break;case 596:this.$=new r.DropIndex({indexid:s[o]});break;case 597:this.$=new r.ShowDatabases;break;case 598:this.$=new r.ShowDatabases({like:s[o]});break;case 599:this.$=new r.ShowDatabases({engineid:s[o-1].toUpperCase()});break;case 600:this.$=new r.ShowDatabases({engineid:s[o-3].toUpperCase(),like:s[o]});break;case 601:this.$=new r.ShowTables;break;case 602:this.$=new r.ShowTables({like:s[o]});break;case 603:this.$=new r.ShowTables({databaseid:s[o]});break;case 604:this.$=new r.ShowTables({like:s[o],databaseid:s[o-2]});break;case 605:this.$=new r.ShowColumns({table:s[o]});break;case 606:this.$=new r.ShowColumns({table:s[o-2],databaseid:s[o]});break;case 607:this.$=new r.ShowIndex({table:s[o]});break;case 608:this.$=new r.ShowIndex({table:s[o-2],databaseid:s[o]});break;case 609:this.$=new r.ShowCreateTable({table:s[o]});break;case 610:this.$=new r.ShowCreateTable({table:s[o-2],databaseid:s[o]});break;case 611:this.$=new r.CreateTable({table:s[o-6],view:!0,select:s[o-1],viewcolumns:s[o-4]}),r.extend(this.$,s[o-9]),r.extend(this.$,s[o-7]);break;case 612:this.$=new r.CreateTable({table:s[o-3],view:!0,select:s[o-1]}),r.extend(this.$,s[o-6]),r.extend(this.$,s[o-4]);break;case 616:this.$=new r.DropTable({tables:s[o],view:!0}),r.extend(this.$,s[o-1]);break;case 617:case 763:this.$=new r.ExpressionStatement({expression:s[o]});break;case 618:this.$=new r.Source({url:s[o].value});break;case 619:this.$=new r.Assert({value:s[o]});break;case 620:this.$=new r.Assert({value:s[o].value});break;case 621:this.$=new r.Assert({value:s[o],message:s[o-2]});break;case 623:case 634:case 636:this.$=s[o].value;break;case 624:case 632:this.$=+s[o].value;break;case 625:this.$=!!s[o].value;break;case 633:this.$=""+s[o].value;break;case 642:this.$={};break;case 645:case 1050:case 1070:case 1072:case 1074:case 1078:case 1080:case 1082:case 1084:case 1086:case 1088:this.$=[];break;case 646:r.extend(s[o-2],s[o]),this.$=s[o-2];break;case 648:this.$={},this.$[s[o-2].substr(1,s[o-2].length-2)]=s[o];break;case 649:case 650:this.$={},this.$[s[o-2]]=s[o];break;case 653:this.$=new r.SetVariable({variable:s[o-2].toLowerCase(),value:s[o]});break;case 654:this.$=new r.SetVariable({variable:s[o-1].toLowerCase(),value:s[o]});break;case 655:this.$=new r.SetVariable({variable:s[o-2],expression:s[o]});break;case 656:this.$=new r.SetVariable({variable:s[o-3],props:s[o-2],expression:s[o]});break;case 657:this.$=new r.SetVariable({variable:s[o-2],expression:s[o],method:s[o-3]});break;case 658:this.$=new r.SetVariable({variable:s[o-3],props:s[o-2],expression:s[o],method:s[o-4]});break;case 659:this.$="@";break;case 660:this.$="$";break;case 666:this.$=!0;break;case 667:this.$=!1;break;case 668:this.$=new r.CommitTransaction;break;case 669:this.$=new r.RollbackTransaction;break;case 670:this.$=new r.BeginTransaction;break;case 671:this.$=new r.If({expression:s[o-2],thenstat:s[o-1],elsestat:s[o]}),s[o-1].exists&&(this.$.exists=s[o-1].exists),s[o-1].queries&&(this.$.queries=s[o-1].queries);break;case 672:this.$=new r.If({expression:s[o-1],thenstat:s[o]}),s[o].exists&&(this.$.exists=s[o].exists),s[o].queries&&(this.$.queries=s[o].queries);break;case 674:this.$=new r.While({expression:s[o-1],loopstat:s[o]}),s[o].exists&&(this.$.exists=s[o].exists),s[o].queries&&(this.$.queries=s[o].queries);break;case 675:this.$=new r.Continue;break;case 676:this.$=new r.Break;break;case 677:this.$=new r.BeginEnd({statements:s[o-1]});break;case 678:this.$=new r.Print({exprs:s[o]});break;case 679:this.$=new r.Print({select:s[o]});break;case 680:this.$=new r.Require({paths:s[o]});break;case 681:this.$=new r.Require({plugins:s[o]});break;case 682:case 683:this.$=s[o].toUpperCase();break;case 684:this.$=new r.Echo({expr:s[o]});break;case 689:this.$=new r.Declare({declares:s[o]});break;case 692:this.$={variable:s[o-1]},r.extend(this.$,s[o]);break;case 693:this.$={variable:s[o-2]},r.extend(this.$,s[o]);break;case 694:this.$={variable:s[o-3],expression:s[o]},r.extend(this.$,s[o-2]);break;case 695:this.$={variable:s[o-4],expression:s[o]},r.extend(this.$,s[o-2]);break;case 696:this.$=new r.TruncateTable({table:s[o]});break;case 697:this.$=new r.Merge,r.extend(this.$,s[o-4]),r.extend(this.$,s[o-3]),r.extend(this.$,s[o-2]),r.extend(this.$,{matches:s[o-1]}),r.extend(this.$,s[o]);break;case 706:this.$={matched:!0,action:s[o]};break;case 707:this.$={matched:!0,expr:s[o-2],action:s[o]};break;case 708:this.$={delete:!0};break;case 709:this.$={update:s[o]};break;case 710:case 711:this.$={matched:!1,bytarget:!0,action:s[o]};break;case 712:case 713:this.$={matched:!1,bytarget:!0,expr:s[o-2],action:s[o]};break;case 714:this.$={matched:!1,bysource:!0,action:s[o]};break;case 715:this.$={matched:!1,bysource:!0,expr:s[o-2],action:s[o]};break;case 716:this.$={insert:!0,values:s[o]};break;case 717:this.$={insert:!0,values:s[o],columns:s[o-3]};break;case 718:this.$={insert:!0,defaultvalues:!0};break;case 719:this.$={insert:!0,defaultvalues:!0,columns:s[o-3]};break;case 721:this.$={output:{columns:s[o]}};break;case 722:this.$={output:{columns:s[o-3],intovar:s[o],method:s[o-1]}};break;case 723:this.$={output:{columns:s[o-2],intotable:s[o]}};break;case 724:this.$={output:{columns:s[o-5],intotable:s[o-3],intocolumns:s[o-1]}};break;case 725:this.$=new r.CreateVertex({class:s[o-3],sharp:s[o-2],name:s[o-1]}),r.extend(this.$,s[o]);break;case 728:this.$={sets:s[o]};break;case 729:this.$={content:s[o]};break;case 730:this.$={select:s[o]};break;case 731:this.$=new r.CreateEdge({from:s[o-3],to:s[o-1],name:s[o-5]}),r.extend(this.$,s[o]);break;case 732:this.$=new r.CreateGraph({graph:s[o]});break;case 733:this.$=new r.CreateGraph({from:s[o]});break;case 736:this.$=s[o-2],s[o-1]&&(this.$.json=new r.Json({value:s[o-1]})),s[o]&&(this.$.as=s[o]);break;case 737:this.$={source:s[o-6],target:s[o]},s[o-3]&&(this.$.json=new r.Json({value:s[o-3]})),s[o-2]&&(this.$.as=s[o-2]),r.extend(this.$,s[o-4]);break;case 738:this.$={source:s[o-5],target:s[o]},s[o-2]&&(this.$.json=new r.Json({value:s[o-3]})),s[o-1]&&(this.$.as=s[o-2]);break;case 739:this.$={source:s[o-2],target:s[o]};break;case 743:this.$={vars:s[o],method:s[o-1]};break;case 746:case 747:h=s[o-1],this.$={prop:s[o-3],sharp:s[o-2],name:void 0===h?void 0:h.substr(1,h.length-2),class:s[o]};break;case 748:var p=s[o-1];this.$={sharp:s[o-2],name:void 0===p?void 0:p.substr(1,p.length-2),class:s[o]};break;case 749:p=s[o-1],this.$={name:void 0===p?void 0:p.substr(1,p.length-2),class:s[o]};break;case 750:this.$={class:s[o]};break;case 756:this.$=new r.AddRule({left:s[o-2],right:s[o]});break;case 757:this.$=new r.AddRule({right:s[o]});break;case 760:this.$=new r.Term({termid:s[o]});break;case 761:this.$=new r.Term({termid:s[o-3],args:s[o-1]});break;case 764:this.$=new r.CreateTrigger({trigger:s[o-6],when:s[o-5],action:s[o-4],table:s[o-2],statement:s[o]}),s[o].exists&&(this.$.exists=s[o].exists),s[o].queries&&(this.$.queries=s[o].queries);break;case 765:this.$=new r.CreateTrigger({trigger:s[o-5],when:s[o-4],action:s[o-3],table:s[o-1],funcid:s[o]});break;case 766:this.$=new r.CreateTrigger({trigger:s[o-6],when:s[o-4],action:s[o-3],table:s[o-5],statement:s[o]}),s[o].exists&&(this.$.exists=s[o].exists),s[o].queries&&(this.$.queries=s[o].queries);break;case 767:case 768:case 770:this.$="AFTER";break;case 769:this.$="BEFORE";break;case 771:this.$="INSTEADOF";break;case 772:this.$="INSERT";break;case 773:this.$="DELETE";break;case 774:this.$="UPDATE";break;case 775:this.$=new r.DropTrigger({trigger:s[o]});break;case 776:this.$=new r.Reindex({indexid:s[o]});break;case 1051:case 1065:case 1067:case 1071:case 1073:case 1075:case 1079:case 1081:case 1083:case 1085:case 1087:case 1089:s[o-1].push(s[o])}},table:[e([10,604,765],t,{8:1,9:2,12:3,13:4,17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,506:95,184:99,3:100,2:a,4:r,5:i,14:s,53:o,72:l,89:c,124:u,146:d,156:h,189:p,270:f,271:m,292:g,337:v,340:y,341:S,398:E,402:T,403:A,406:C,408:w,410:N,411:x,419:O,420:R,436:I,438:k,439:M,441:L,442:D,443:$,444:F,445:_,449:P,450:j,453:U,454:V,507:H,509:J,510:q,519:B}),{1:[3]},{10:[1,105],11:106,604:G,765:z},e(Y,[2,8]),e(Y,[2,9]),e(W,[2,12]),e(Y,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,506:95,184:99,3:100,12:109,2:a,4:r,5:i,15:[1,110],53:o,72:l,89:c,124:u,146:d,156:h,189:p,270:f,271:m,292:g,337:v,340:y,341:S,398:E,402:T,403:A,406:C,408:w,410:N,411:x,419:O,420:R,436:I,438:k,439:M,441:L,442:D,443:$,444:F,445:_,449:P,450:j,453:U,454:V,507:H,509:J,510:q,519:B}),e(W,[2,14]),e(W,[2,15]),e(W,[2,16]),e(W,[2,17]),e(W,[2,18]),e(W,[2,19]),e(W,[2,20]),e(W,[2,21]),e(W,[2,22]),e(W,[2,23]),e(W,[2,24]),e(W,[2,25]),e(W,[2,26]),e(W,[2,27]),e(W,[2,28]),e(W,[2,29]),e(W,[2,30]),e(W,[2,31]),e(W,[2,32]),e(W,[2,33]),e(W,[2,34]),e(W,[2,35]),e(W,[2,36]),e(W,[2,37]),e(W,[2,38]),e(W,[2,39]),e(W,[2,40]),e(W,[2,41]),e(W,[2,42]),e(W,[2,43]),e(W,[2,44]),e(W,[2,45]),e(W,[2,46]),e(W,[2,47]),e(W,[2,48]),e(W,[2,49]),e(W,[2,50]),e(W,[2,51]),e(W,[2,52]),e(W,[2,53]),e(W,[2,54]),e(W,[2,55]),e(W,[2,56]),e(W,[2,57]),e(W,[2,58]),e(W,[2,59]),e(W,[2,60]),e(W,[2,61]),e(W,[2,62]),e(W,[2,63]),e(W,[2,64]),e(W,[2,65]),e(W,[2,66]),e(W,[2,67]),{355:[1,111]},{2:a,3:112,4:r,5:i},{2:a,3:114,4:r,5:i,156:K,200:113,292:X,293:Q,294:Z,295:ee},e(te,[2,504],{3:121,350:125,2:a,4:r,5:i,134:ae,135:ne,187:[1,123],193:[1,122],272:[1,129],273:[1,130],359:[1,131],407:[1,120],474:[1,124],511:[1,128]}),{145:re,451:132,452:133},{183:[1,135]},{407:[1,136]},{2:a,3:138,4:r,5:i,130:[1,144],193:[1,139],355:[1,143],399:140,407:[1,137],412:[1,141],511:[1,142]},{2:a,3:168,4:r,5:i,56:165,77:ie,94:145,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(He,Je,{342:204,171:[1,205],198:qe}),e(He,Je,{342:207,198:qe}),{2:a,3:219,4:r,5:i,77:Be,132:Ge,143:ce,144:212,145:ue,152:he,156:K,181:ge,198:[1,210],199:213,200:215,201:214,202:217,209:209,213:ze,214:218,292:X,293:Q,294:Z,295:ee,304:Fe,421:190,422:Ue,426:Ve,455:208},{2:a,3:221,4:r,5:i},{355:[1,222]},e(Ye,[2,1046],{80:223,106:224,107:[1,225]}),e(We,[2,1050],{90:226}),{2:a,3:230,4:r,5:i,190:[1,228],193:[1,231],271:[1,227],355:[1,232],407:[1,229]},{355:[1,233]},{2:a,3:236,4:r,5:i,73:234,75:235},e([308,604,765],t,{12:3,13:4,17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,506:95,184:99,3:100,9:238,2:a,4:r,5:i,14:s,53:o,72:l,89:c,124:u,146:d,156:h,189:p,270:f,271:m,292:g,337:v,340:y,341:S,398:E,402:T,403:A,406:C,408:w,410:N,411:x,419:O,420:R,436:I,437:[1,237],438:k,439:M,441:L,442:D,443:$,444:F,445:_,449:P,450:j,453:U,454:V,507:H,509:J,510:q,519:B}),{437:[1,239]},{437:[1,240]},{2:a,3:242,4:r,5:i,407:[1,241]},{2:a,3:244,4:r,5:i,199:243},e(Ke,[2,314]),{113:245,132:oe,298:Me},{2:a,3:114,4:r,5:i,113:251,131:se,132:[1,248],143:ce,144:246,145:Xe,152:he,156:K,181:ge,196:250,200:255,201:254,261:252,262:253,269:Qe,278:247,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,304:Fe,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:257,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(W,[2,675]),e(W,[2,676]),{2:a,3:168,4:r,5:i,40:259,56:165,77:ie,79:75,89:c,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:258,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,184:99,189:p,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:266,4:r,5:i,113:263,132:oe,298:Me,446:261,447:262,448:264,449:Ze},{2:a,3:267,4:r,5:i,143:et,145:tt,433:268},{2:a,3:168,4:r,5:i,56:165,77:ie,94:271,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{507:[1,272]},{2:a,3:100,4:r,5:i,506:274,508:273},{2:a,3:114,4:r,5:i,156:K,200:275,292:X,293:Q,294:Z,295:ee},{2:a,3:168,4:r,5:i,56:165,77:ie,94:276,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(at,nt,{186:280,164:[1,279],185:[1,277],187:[1,278],195:rt}),e(it,[2,760],{77:[1,282]}),e([2,4,5,10,72,77,78,93,98,107,118,128,131,132,137,143,145,152,154,156,162,164,168,169,179,180,181,183,185,187,195,198,232,244,245,249,251,269,270,274,275,277,284,285,286,287,288,289,290,292,293,294,295,296,297,298,299,300,301,304,305,308,312,314,319,422,426,604,765],[2,152],{149:[1,283],150:[1,284],190:[1,285],191:[1,286],192:[1,287],193:[1,288],194:[1,289]}),e(st,[2,1]),e(st,[2,2]),{6:290,131:[1,439],172:[1,462],243:[1,438],244:[1,373],245:[1,407],249:[1,411],372:[1,404],383:[1,295],404:[1,297],412:[1,549],416:[1,471],418:[1,443],419:[1,509],435:[1,442],437:[1,525],442:[1,342],462:[1,418],466:[1,448],472:[1,341],516:[1,307],517:[1,299],518:[1,399],520:[1,291],521:[1,292],522:[1,293],523:[1,294],524:[1,296],525:[1,298],526:[1,300],527:[1,301],528:[1,302],529:[1,303],530:[1,304],531:[1,305],532:[1,306],533:[1,308],534:[1,309],535:[1,310],536:[1,311],537:[1,312],538:[1,313],539:[1,314],540:[1,315],541:[1,316],542:[1,317],543:[1,318],544:[1,319],545:[1,320],546:[1,321],547:[1,322],548:[1,323],549:[1,324],550:[1,325],551:[1,326],552:[1,327],553:[1,328],554:[1,329],555:[1,330],556:[1,331],557:[1,332],558:[1,333],559:[1,334],560:[1,335],561:[1,336],562:[1,337],563:[1,338],564:[1,339],565:[1,340],566:[1,343],567:[1,344],568:[1,345],569:[1,346],570:[1,347],571:[1,348],572:[1,349],573:[1,350],574:[1,351],575:[1,352],576:[1,353],577:[1,354],578:[1,355],579:[1,356],580:[1,357],581:[1,358],582:[1,359],583:[1,360],584:[1,361],585:[1,362],586:[1,363],587:[1,364],588:[1,365],589:[1,366],590:[1,367],591:[1,368],592:[1,369],593:[1,370],594:[1,371],595:[1,372],596:[1,374],597:[1,375],598:[1,376],599:[1,377],600:[1,378],601:[1,379],602:[1,380],603:[1,381],604:[1,382],605:[1,383],606:[1,384],607:[1,385],608:[1,386],609:[1,387],610:[1,388],611:[1,389],612:[1,390],613:[1,391],614:[1,392],615:[1,393],616:[1,394],617:[1,395],618:[1,396],619:[1,397],620:[1,398],621:[1,400],622:[1,401],623:[1,402],624:[1,403],625:[1,405],626:[1,406],627:[1,408],628:[1,409],629:[1,410],630:[1,412],631:[1,413],632:[1,414],633:[1,415],634:[1,416],635:[1,417],636:[1,419],637:[1,420],638:[1,421],639:[1,422],640:[1,423],641:[1,424],642:[1,425],643:[1,426],644:[1,427],645:[1,428],646:[1,429],647:[1,430],648:[1,431],649:[1,432],650:[1,433],651:[1,434],652:[1,435],653:[1,436],654:[1,437],655:[1,440],656:[1,441],657:[1,444],658:[1,445],659:[1,446],660:[1,447],661:[1,449],662:[1,450],663:[1,451],664:[1,452],665:[1,453],666:[1,454],667:[1,455],668:[1,456],669:[1,457],670:[1,458],671:[1,459],672:[1,460],673:[1,461],674:[1,463],675:[1,464],676:[1,465],677:[1,466],678:[1,467],679:[1,468],680:[1,469],681:[1,470],682:[1,472],683:[1,473],684:[1,474],685:[1,475],686:[1,476],687:[1,477],688:[1,478],689:[1,479],690:[1,480],691:[1,481],692:[1,482],693:[1,483],694:[1,484],695:[1,485],696:[1,486],697:[1,487],698:[1,488],699:[1,489],700:[1,490],701:[1,491],702:[1,492],703:[1,493],704:[1,494],705:[1,495],706:[1,496],707:[1,497],708:[1,498],709:[1,499],710:[1,500],711:[1,501],712:[1,502],713:[1,503],714:[1,504],715:[1,505],716:[1,506],717:[1,507],718:[1,508],719:[1,510],720:[1,511],721:[1,512],722:[1,513],723:[1,514],724:[1,515],725:[1,516],726:[1,517],727:[1,518],728:[1,519],729:[1,520],730:[1,521],731:[1,522],732:[1,523],733:[1,524],734:[1,526],735:[1,527],736:[1,528],737:[1,529],738:[1,530],739:[1,531],740:[1,532],741:[1,533],742:[1,534],743:[1,535],744:[1,536],745:[1,537],746:[1,538],747:[1,539],748:[1,540],749:[1,541],750:[1,542],751:[1,543],752:[1,544],753:[1,545],754:[1,546],755:[1,547],756:[1,548],757:[1,550],758:[1,551],759:[1,552],760:[1,553],761:[1,554],762:[1,555],763:[1,556],764:[1,557]},{1:[2,6]},e(Y,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,506:95,184:99,3:100,12:558,2:a,4:r,5:i,53:o,72:l,89:c,124:u,146:d,156:h,189:p,270:f,271:m,292:g,337:v,340:y,341:S,398:E,402:T,403:A,406:C,408:w,410:N,411:x,419:O,420:R,436:I,438:k,439:M,441:L,442:D,443:$,444:F,445:_,449:P,450:j,453:U,454:V,507:H,509:J,510:q,519:B}),e(ot,[2,1044]),e(ot,[2,1045]),e(Y,[2,10]),{16:[1,559]},{2:a,3:244,4:r,5:i,199:560},{407:[1,561]},e(W,[2,763]),{77:lt},{77:[1,563]},{77:ct},{77:[1,565]},{77:[1,566]},{2:a,3:168,4:r,5:i,56:165,77:ie,94:567,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(He,ut,{352:568,156:dt}),{407:[1,570]},{2:a,3:571,4:r,5:i},{193:[1,572]},{2:a,3:578,4:r,5:i,132:ht,137:pt,143:et,145:tt,152:ft,183:[1,574],433:585,475:573,476:575,477:576,480:577,484:582,495:579,499:581},{130:[1,589],351:586,355:[1,588],412:[1,587]},{113:591,132:oe,183:[2,1144],298:Me,473:590},e(mt,[2,1138],{467:592,3:593,2:a,4:r,5:i}),{2:a,3:594,4:r,5:i},{4:[1,595]},{4:[1,596]},e(te,[2,505]),e(W,[2,689],{74:[1,597]}),e(gt,[2,690]),{2:a,3:598,4:r,5:i},{2:a,3:244,4:r,5:i,199:599},{2:a,3:600,4:r,5:i},e(He,bt,{400:601,156:vt}),{407:[1,603]},{2:a,3:604,4:r,5:i},e(He,bt,{400:605,156:vt}),e(He,bt,{400:606,156:vt}),{2:a,3:607,4:r,5:i},e(yt,[2,1132]),e(yt,[2,1133]),e(W,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,506:95,184:99,3:100,12:608,114:625,329:637,2:a,4:r,5:i,53:o,72:l,89:c,99:St,112:Et,115:Tt,116:At,123:Ct,124:wt,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,146:d,154:Lt,156:h,170:Dt,171:$t,179:Ft,180:_t,189:p,270:f,271:m,292:g,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa,337:v,340:y,341:S,398:E,402:T,403:A,406:C,408:w,410:N,411:x,419:O,420:R,436:I,438:k,439:M,441:L,442:D,443:$,444:F,445:_,449:P,450:j,453:U,454:V,507:H,509:J,510:q,519:B}),e(Ke,[2,291]),e(Ke,[2,292]),e(Ke,[2,293]),e(Ke,[2,294]),e(Ke,[2,295]),e(Ke,[2,296]),e(Ke,[2,297]),e(Ke,[2,298]),e(Ke,[2,299]),e(Ke,[2,300]),e(Ke,[2,301]),e(Ke,[2,302]),e(Ke,[2,303]),e(Ke,[2,304]),e(Ke,[2,305]),e(Ke,[2,306]),e(Ke,[2,307]),e(Ke,[2,308]),{2:a,3:168,4:r,5:i,26:654,27:653,36:649,40:648,56:165,77:ie,79:75,89:c,94:651,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,184:99,189:p,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,268:650,269:ye,270:f,271:[1,655],274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:[1,652],293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,341:S,421:190,422:Ue,426:Ve},e(Ke,[2,312]),e(Ke,[2,313]),{77:[1,656]},e([2,4,5,10,53,72,74,76,78,89,93,95,98,99,107,112,115,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],na,{77:lt,116:[1,657]}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:658,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:659,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:660,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:661,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:662,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(Ke,[2,286]),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,231,232,239,244,245,246,247,249,251,253,269,270,271,274,275,277,284,285,286,287,288,289,290,292,293,294,295,296,297,298,299,300,301,302,304,305,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,345,358,370,371,375,376,398,402,403,406,408,410,411,417,419,420,422,426,428,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765,766,767],[2,359]),e(ra,[2,360]),e(ra,[2,361]),e(ra,ia),e(ra,[2,363]),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,299,302,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,345,358,370,371,375,376,398,402,403,406,408,410,411,419,420,422,426,428,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],[2,364]),{2:a,3:664,4:r,5:i,131:[1,665],303:663},{2:a,3:666,4:r,5:i},e(ra,[2,370]),e(ra,[2,371]),{2:a,3:667,4:r,5:i,77:sa,113:669,131:se,132:oe,143:ce,152:he,181:ge,196:670,201:672,261:671,296:Ie,297:ke,298:Me,304:Fe,421:673,426:Ve},{77:[1,674]},{2:a,3:168,4:r,5:i,56:165,77:ie,94:675,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,306:676,309:677,310:oa,314:Pe,319:je,421:190,422:Ue,426:Ve},{77:[1,679]},{77:[1,680]},e(la,[2,627]),{2:a,3:695,4:r,5:i,77:ca,111:690,113:688,131:se,132:oe,143:ce,144:685,145:Xe,152:he,156:K,181:ge,196:687,200:693,201:692,261:689,262:691,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,302:[1,683],304:Fe,421:190,422:Ue,423:681,424:684,425:686,426:Ve,429:682},{2:a,3:168,4:r,5:i,56:165,77:ie,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:696,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:697,4:r,5:i,156:K,200:698,292:X,293:Q,294:Z,295:ee},{77:[2,339]},{77:[2,340]},{77:[2,341]},{77:[2,342]},{77:[2,343]},{77:[2,344]},{77:[2,345]},{77:[2,346]},{77:[2,347]},{2:a,3:704,4:r,5:i,131:ua,132:da,427:699,428:[1,700],430:701},{2:a,3:244,4:r,5:i,199:705},{292:[1,706]},e(He,[2,475]),{2:a,3:244,4:r,5:i,199:707},{231:[1,709],456:708},{231:[2,698]},{2:a,3:219,4:r,5:i,77:Be,132:Ge,143:ce,144:212,145:ue,152:he,156:K,181:ge,199:213,200:215,201:214,202:217,209:710,213:ze,214:218,292:X,293:Q,294:Z,295:ee,304:Fe,421:190,422:Ue,426:Ve},{40:711,79:75,89:c,184:99,189:p},e(ha,[2,1094],{210:712,76:[1,713]}),e(pa,[2,185],{3:714,2:a,4:r,5:i,76:[1,715],154:[1,716]}),e(pa,[2,189],{3:717,2:a,4:r,5:i,76:[1,718]}),e(pa,[2,190],{3:719,2:a,4:r,5:i,76:[1,720]}),e(pa,[2,193]),e(pa,[2,194],{3:721,2:a,4:r,5:i,76:[1,722]}),e(pa,[2,197],{3:723,2:a,4:r,5:i,76:[1,724]}),e([2,4,5,10,72,74,76,78,93,98,118,128,154,162,168,169,183,206,208,222,223,224,225,226,227,228,229,230,231,232,249,251,308,312,604,765],fa,{77:lt,116:ma}),e([2,4,5,10,72,74,76,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,230,231,232,249,251,308,312,604,765],[2,200]),e(W,[2,776]),{2:a,3:244,4:r,5:i,199:726},e(ga,ba,{81:727,198:va}),e(Ye,[2,1047]),e(ya,[2,1060],{108:729,190:[1,730]}),e([10,78,183,308,312,604,765],ba,{421:190,81:731,117:732,3:733,114:736,144:758,158:768,160:769,2:a,4:r,5:i,72:Sa,76:Ea,77:Ta,112:Aa,115:Tt,116:At,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,198:va,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,422:Ue,426:Ve}),{355:[1,782]},{183:[1,783]},e(W,[2,597],{112:[1,784]}),{407:[1,785]},{183:[1,786]},e(W,[2,601],{112:[1,787],183:[1,788]}),{2:a,3:244,4:r,5:i,199:789},{40:790,74:[1,791],79:75,89:c,184:99,189:p},e(dn,[2,70]),{76:[1,792]},e(W,[2,670]),{11:106,308:[1,793],604:G,765:z},e(W,[2,668]),e(W,[2,669]),{2:a,3:794,4:r,5:i},e(W,[2,590]),{146:[1,795]},e([2,4,5,10,53,72,74,76,77,78,89,95,124,128,143,145,146,148,149,152,154,156,181,183,187,189,230,270,271,292,299,304,308,312,337,340,341,345,346,358,370,371,375,376,398,402,403,404,405,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,507,509,510,516,517,518,519,604,765],fa,{116:ma}),e(W,[2,618]),e(W,[2,619]),e(W,[2,620]),e(W,ia,{74:[1,796]}),{77:sa,113:669,131:se,132:oe,143:ce,152:he,181:ge,196:670,201:672,261:671,296:Ie,297:ke,298:Me,304:Fe,421:673,426:Ve},e(hn,[2,323]),e(hn,[2,324]),e(hn,[2,325]),e(hn,[2,326]),e(hn,[2,327]),e(hn,[2,328]),e(hn,[2,329]),e(W,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,506:95,184:99,3:100,114:625,329:637,12:797,2:a,4:r,5:i,53:o,72:l,89:c,99:St,112:Et,115:Tt,116:At,123:Ct,124:wt,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,146:d,154:Lt,156:h,170:Dt,171:$t,179:Ft,180:_t,189:p,270:f,271:m,292:g,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa,337:v,340:y,341:S,398:E,402:T,403:A,406:C,408:w,410:N,411:x,419:O,420:R,436:I,438:k,439:M,441:L,442:D,443:$,444:F,445:_,449:P,450:j,453:U,454:V,507:H,509:J,510:q,519:B}),e(W,[2,678],{74:pn}),e(W,[2,679]),e(fn,[2,357],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e(W,[2,680],{74:[1,800]}),e(W,[2,681],{74:[1,801]}),e(gt,[2,686]),e(gt,[2,688]),e(gt,[2,682]),e(gt,[2,683]),{114:807,115:Tt,116:At,124:[1,802],230:gn,431:803,432:804,435:bn},{2:a,3:808,4:r,5:i},e(He,[2,659]),e(He,[2,660]),e(W,[2,617],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{2:a,3:100,4:r,5:i,506:274,508:809},e(W,[2,757],{74:vn}),e(yn,[2,759]),e(W,[2,762]),e(W,[2,684],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e(Sn,nt,{186:811,195:rt}),e(Sn,nt,{186:812,195:rt}),e(Sn,nt,{186:813,195:rt}),e(En,[2,1090],{259:146,200:147,260:148,111:149,258:150,196:151,261:152,113:153,262:154,201:155,202:156,263:157,264:158,265:159,144:161,266:162,267:163,56:165,158:167,3:168,421:190,188:814,174:815,257:816,94:817,2:a,4:r,5:i,77:ie,131:se,132:oe,137:le,143:ce,145:ue,149:de,152:he,154:pe,156:K,179:fe,180:me,181:ge,244:be,245:ve,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,422:Ue,426:Ve}),{77:[1,819],131:se,196:818},{2:a,3:100,4:r,5:i,506:274,508:820},e(Tn,[2,153]),e(Tn,[2,154]),e(Tn,[2,155]),e(Tn,[2,156]),e(Tn,[2,157]),e(Tn,[2,158]),e(Tn,[2,159]),e(st,[2,3]),e(st,[2,777]),e(st,[2,778]),e(st,[2,779]),e(st,[2,780]),e(st,[2,781]),e(st,[2,782]),e(st,[2,783]),e(st,[2,784]),e(st,[2,785]),e(st,[2,786]),e(st,[2,787]),e(st,[2,788]),e(st,[2,789]),e(st,[2,790]),e(st,[2,791]),e(st,[2,792]),e(st,[2,793]),e(st,[2,794]),e(st,[2,795]),e(st,[2,796]),e(st,[2,797]),e(st,[2,798]),e(st,[2,799]),e(st,[2,800]),e(st,[2,801]),e(st,[2,802]),e(st,[2,803]),e(st,[2,804]),e(st,[2,805]),e(st,[2,806]),e(st,[2,807]),e(st,[2,808]),e(st,[2,809]),e(st,[2,810]),e(st,[2,811]),e(st,[2,812]),e(st,[2,813]),e(st,[2,814]),e(st,[2,815]),e(st,[2,816]),e(st,[2,817]),e(st,[2,818]),e(st,[2,819]),e(st,[2,820]),e(st,[2,821]),e(st,[2,822]),e(st,[2,823]),e(st,[2,824]),e(st,[2,825]),e(st,[2,826]),e(st,[2,827]),e(st,[2,828]),e(st,[2,829]),e(st,[2,830]),e(st,[2,831]),e(st,[2,832]),e(st,[2,833]),e(st,[2,834]),e(st,[2,835]),e(st,[2,836]),e(st,[2,837]),e(st,[2,838]),e(st,[2,839]),e(st,[2,840]),e(st,[2,841]),e(st,[2,842]),e(st,[2,843]),e(st,[2,844]),e(st,[2,845]),e(st,[2,846]),e(st,[2,847]),e(st,[2,848]),e(st,[2,849]),e(st,[2,850]),e(st,[2,851]),e(st,[2,852]),e(st,[2,853]),e(st,[2,854]),e(st,[2,855]),e(st,[2,856]),e(st,[2,857]),e(st,[2,858]),e(st,[2,859]),e(st,[2,860]),e(st,[2,861]),e(st,[2,862]),e(st,[2,863]),e(st,[2,864]),e(st,[2,865]),e(st,[2,866]),e(st,[2,867]),e(st,[2,868]),e(st,[2,869]),e(st,[2,870]),e(st,[2,871]),e(st,[2,872]),e(st,[2,873]),e(st,[2,874]),e(st,[2,875]),e(st,[2,876]),e(st,[2,877]),e(st,[2,878]),e(st,[2,879]),e(st,[2,880]),e(st,[2,881]),e(st,[2,882]),e(st,[2,883]),e(st,[2,884]),e(st,[2,885]),e(st,[2,886]),e(st,[2,887]),e(st,[2,888]),e(st,[2,889]),e(st,[2,890]),e(st,[2,891]),e(st,[2,892]),e(st,[2,893]),e(st,[2,894]),e(st,[2,895]),e(st,[2,896]),e(st,[2,897]),e(st,[2,898]),e(st,[2,899]),e(st,[2,900]),e(st,[2,901]),e(st,[2,902]),e(st,[2,903]),e(st,[2,904]),e(st,[2,905]),e(st,[2,906]),e(st,[2,907]),e(st,[2,908]),e(st,[2,909]),e(st,[2,910]),e(st,[2,911]),e(st,[2,912]),e(st,[2,913]),e(st,[2,914]),e(st,[2,915]),e(st,[2,916]),e(st,[2,917]),e(st,[2,918]),e(st,[2,919]),e(st,[2,920]),e(st,[2,921]),e(st,[2,922]),e(st,[2,923]),e(st,[2,924]),e(st,[2,925]),e(st,[2,926]),e(st,[2,927]),e(st,[2,928]),e(st,[2,929]),e(st,[2,930]),e(st,[2,931]),e(st,[2,932]),e(st,[2,933]),e(st,[2,934]),e(st,[2,935]),e(st,[2,936]),e(st,[2,937]),e(st,[2,938]),e(st,[2,939]),e(st,[2,940]),e(st,[2,941]),e(st,[2,942]),e(st,[2,943]),e(st,[2,944]),e(st,[2,945]),e(st,[2,946]),e(st,[2,947]),e(st,[2,948]),e(st,[2,949]),e(st,[2,950]),e(st,[2,951]),e(st,[2,952]),e(st,[2,953]),e(st,[2,954]),e(st,[2,955]),e(st,[2,956]),e(st,[2,957]),e(st,[2,958]),e(st,[2,959]),e(st,[2,960]),e(st,[2,961]),e(st,[2,962]),e(st,[2,963]),e(st,[2,964]),e(st,[2,965]),e(st,[2,966]),e(st,[2,967]),e(st,[2,968]),e(st,[2,969]),e(st,[2,970]),e(st,[2,971]),e(st,[2,972]),e(st,[2,973]),e(st,[2,974]),e(st,[2,975]),e(st,[2,976]),e(st,[2,977]),e(st,[2,978]),e(st,[2,979]),e(st,[2,980]),e(st,[2,981]),e(st,[2,982]),e(st,[2,983]),e(st,[2,984]),e(st,[2,985]),e(st,[2,986]),e(st,[2,987]),e(st,[2,988]),e(st,[2,989]),e(st,[2,990]),e(st,[2,991]),e(st,[2,992]),e(st,[2,993]),e(st,[2,994]),e(st,[2,995]),e(st,[2,996]),e(st,[2,997]),e(st,[2,998]),e(st,[2,999]),e(st,[2,1e3]),e(st,[2,1001]),e(st,[2,1002]),e(st,[2,1003]),e(st,[2,1004]),e(st,[2,1005]),e(st,[2,1006]),e(st,[2,1007]),e(st,[2,1008]),e(st,[2,1009]),e(st,[2,1010]),e(st,[2,1011]),e(st,[2,1012]),e(st,[2,1013]),e(st,[2,1014]),e(st,[2,1015]),e(st,[2,1016]),e(st,[2,1017]),e(st,[2,1018]),e(st,[2,1019]),e(st,[2,1020]),e(st,[2,1021]),e(st,[2,1022]),e(st,[2,1023]),e(st,[2,1024]),e(st,[2,1025]),e(st,[2,1026]),e(st,[2,1027]),e(st,[2,1028]),e(st,[2,1029]),e(st,[2,1030]),e(st,[2,1031]),e(st,[2,1032]),e(st,[2,1033]),e(st,[2,1034]),e(st,[2,1035]),e(st,[2,1036]),e(st,[2,1037]),e(st,[2,1038]),e(st,[2,1039]),e(st,[2,1040]),e(st,[2,1041]),e(st,[2,1042]),e(st,[2,1043]),e(Y,[2,7]),e(Y,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,506:95,184:99,3:100,12:821,2:a,4:r,5:i,53:o,72:l,89:c,124:u,146:d,156:h,189:p,270:f,271:m,292:g,337:v,340:y,341:S,398:E,402:T,403:A,406:C,408:w,410:N,411:x,419:O,420:R,436:I,438:k,439:M,441:L,442:D,443:$,444:F,445:_,449:P,450:j,453:U,454:V,507:H,509:J,510:q,519:B}),{398:[1,825],403:[1,822],404:[1,823],405:[1,824]},{2:a,3:826,4:r,5:i},e(Sn,[2,1114],{291:827,768:829,78:[1,828],164:[1,831],185:[1,830]}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:832,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:833,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:834,4:r,5:i,132:[1,835]},{2:a,3:836,4:r,5:i,132:[1,837]},{2:a,3:838,4:r,5:i,99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{2:a,3:839,4:r,5:i},{154:[1,840]},e(An,ut,{352:841,156:dt}),{230:[1,842]},{2:a,3:843,4:r,5:i},e(W,[2,732],{74:Cn}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:845,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(yn,[2,735]),e(wn,[2,1146],{421:190,478:846,144:847,139:Nn,141:Nn,145:Xe,422:Ue,426:Ve}),{139:[1,848],141:[1,849]},e(xn,On,{492:851,495:852,77:[1,850],137:pt}),e(Rn,[2,1170],{496:853,132:[1,854]}),e(In,[2,1174],{498:855,499:856,152:ft}),e(In,[2,750]),e(kn,[2,742]),{2:a,3:857,4:r,5:i,131:[1,858]},{2:a,3:859,4:r,5:i},{2:a,3:860,4:r,5:i},e(He,ut,{352:861,156:dt}),e(He,ut,{352:862,156:dt}),e(yt,[2,494]),e(yt,[2,495]),{183:[1,863]},{183:[2,1145]},e(Mn,[2,1140],{468:864,471:865,137:[1,866]}),e(mt,[2,1139]),e(Ln,Dn,{512:867,95:$n,230:[1,868],516:Fn,517:_n,518:Pn}),{76:[1,873]},{76:[1,874]},{145:re,452:875},{4:jn,7:879,76:[1,877],276:876,389:878,391:Un},e(W,[2,459],{128:[1,882]}),e(W,[2,582]),{2:a,3:883,4:r,5:i},{300:[1,884]},e(An,bt,{400:885,156:vt}),e(W,[2,596]),{2:a,3:244,4:r,5:i,199:887,401:886},{2:a,3:244,4:r,5:i,199:887,401:888},e(W,[2,775]),e(Y,[2,672],{440:889,312:[1,890]}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:891,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:892,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:893,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:894,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:895,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:896,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:897,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:898,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:899,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:900,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:901,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:902,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:903,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:904,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:905,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:906,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:907,4:r,5:i,77:[1,909],131:se,156:K,196:908,200:910,292:X,293:Q,294:Z,295:ee},{2:a,3:911,4:r,5:i,77:[1,913],131:se,156:K,196:912,200:914,292:X,293:Q,294:Z,295:ee},e(Vn,[2,443],{259:146,200:147,260:148,111:149,258:150,196:151,261:152,113:153,262:154,201:155,202:156,263:157,264:158,265:159,144:161,266:162,267:163,56:165,158:167,3:168,421:190,94:915,2:a,4:r,5:i,77:ie,131:se,132:oe,137:le,143:ce,145:ue,149:de,152:he,154:pe,156:K,179:fe,180:me,181:ge,244:be,245:ve,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,422:Ue,426:Ve}),e(Vn,[2,444],{259:146,200:147,260:148,111:149,258:150,196:151,261:152,113:153,262:154,201:155,202:156,263:157,264:158,265:159,144:161,266:162,267:163,56:165,158:167,3:168,421:190,94:916,2:a,4:r,5:i,77:ie,131:se,132:oe,137:le,143:ce,145:ue,149:de,152:he,154:pe,156:K,179:fe,180:me,181:ge,244:be,245:ve,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,422:Ue,426:Ve}),e(Vn,[2,445],{259:146,200:147,260:148,111:149,258:150,196:151,261:152,113:153,262:154,201:155,202:156,263:157,264:158,265:159,144:161,266:162,267:163,56:165,158:167,3:168,421:190,94:917,2:a,4:r,5:i,77:ie,131:se,132:oe,137:le,143:ce,145:ue,149:de,152:he,154:pe,156:K,179:fe,180:me,181:ge,244:be,245:ve,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,422:Ue,426:Ve}),e(Vn,[2,446],{259:146,200:147,260:148,111:149,258:150,196:151,261:152,113:153,262:154,201:155,202:156,263:157,264:158,265:159,144:161,266:162,267:163,56:165,158:167,3:168,421:190,94:918,2:a,4:r,5:i,77:ie,131:se,132:oe,137:le,143:ce,145:ue,149:de,152:he,154:pe,156:K,179:fe,180:me,181:ge,244:be,245:ve,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,422:Ue,426:Ve}),e(Vn,Hn,{259:146,200:147,260:148,111:149,258:150,196:151,261:152,113:153,262:154,201:155,202:156,263:157,264:158,265:159,144:161,266:162,267:163,56:165,158:167,3:168,421:190,94:919,2:a,4:r,5:i,77:ie,131:se,132:oe,137:le,143:ce,145:ue,149:de,152:he,154:pe,156:K,179:fe,180:me,181:ge,244:be,245:ve,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,422:Ue,426:Ve}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:920,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:921,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(Vn,[2,448],{259:146,200:147,260:148,111:149,258:150,196:151,261:152,113:153,262:154,201:155,202:156,263:157,264:158,265:159,144:161,266:162,267:163,56:165,158:167,3:168,421:190,94:922,2:a,4:r,5:i,77:ie,131:se,132:oe,137:le,143:ce,145:ue,149:de,152:he,154:pe,156:K,179:fe,180:me,181:ge,244:be,245:ve,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,422:Ue,426:Ve}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:923,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:924,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{164:[1,926],166:[1,928],330:925,336:[1,927]},{2:a,3:168,4:r,5:i,56:165,77:ie,94:929,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:930,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:695,4:r,5:i,77:[1,931],111:934,145:Jn,156:K,200:935,202:933,292:X,293:Q,294:Z,295:ee,331:932},{99:[1,937],299:[1,938]},{2:a,3:168,4:r,5:i,56:165,77:ie,94:939,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:940,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:941,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{4:jn,7:879,276:942,389:878,391:Un},e(qn,[2,88]),e(qn,[2,89]),{78:[1,943]},{78:[1,944]},{78:[1,945]},{78:[1,946],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},e(He,Je,{342:207,77:ct,198:qe}),{78:[2,1110]},{78:[2,1111]},{134:ae,135:ne},{2:a,3:168,4:r,5:i,56:165,77:ie,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:947,152:he,154:pe,156:K,158:167,164:[1,949],179:fe,180:me,181:ge,185:[1,948],196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:950,4:r,5:i,149:Bn,180:[1,952]},e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,118,122,128,129,130,131,132,134,135,137,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,316,332,333,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],[2,419],{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,334:ta}),e(Gn,[2,420],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,180:_t,314:jt,318:Ht}),e(Gn,[2,421],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,180:_t,314:jt,318:Ht}),e(zn,[2,422],{114:625,329:637,318:Ht}),e(zn,[2,423],{114:625,329:637,318:Ht}),e(ra,[2,368]),e(ra,[2,1116]),e(ra,[2,1117]),e(ra,[2,369]),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,231,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],[2,365]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:953,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(la,[2,623]),e(la,[2,624]),e(la,[2,625]),e(la,[2,626]),e(la,[2,628]),{40:954,79:75,89:c,184:99,189:p},{99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,306:955,309:677,310:oa,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{307:956,308:Yn,309:957,310:oa,312:Wn},e(Kn,[2,375]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:959,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:960,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{4:jn,7:879,276:961,389:878,391:Un},e(la,[2,629]),{74:[1,963],302:[1,962]},e(la,[2,645]),e(Xn,[2,652]),e(Qn,[2,630]),e(Qn,[2,631]),e(Qn,[2,632]),e(Qn,[2,633]),e(Qn,[2,634]),e(Qn,[2,635]),e(Qn,[2,636]),e(Qn,[2,637]),e(Qn,[2,638]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:964,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e([2,4,5,10,53,72,74,76,78,89,93,95,98,99,107,112,115,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,428,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],na,{77:lt,116:Zn}),{74:pn,302:[1,966]},e(er,[2,317],{77:lt}),e(Ke,[2,318]),{74:[1,968],428:[1,967]},e(la,[2,642]),e(tr,[2,647]),{152:[1,969]},{152:[1,970]},{152:[1,971]},{40:976,77:[1,975],79:75,89:c,143:ce,144:979,145:Xe,149:ar,152:he,181:ge,184:99,189:p,201:980,304:Fe,343:972,344:973,345:[1,974],346:nr,421:190,422:Ue,426:Ve},e(He,Je,{342:981,198:qe}),{77:rr,143:ce,144:979,145:Xe,149:ar,152:he,181:ge,201:980,304:Fe,343:982,344:983,346:nr,421:190,422:Ue,426:Ve},{230:[1,986],457:985},{2:a,3:219,4:r,5:i,77:Be,132:Ge,143:ce,144:212,145:ue,152:he,156:K,181:ge,199:213,200:215,201:214,202:217,209:987,213:ze,214:218,292:X,293:Q,294:Z,295:ee,304:Fe,421:190,422:Ue,426:Ve},{231:[2,699]},{78:[1,988]},e(pa,[2,1096],{211:989,3:990,2:a,4:r,5:i}),e(ha,[2,1095]),e(pa,[2,183]),{2:a,3:991,4:r,5:i},{212:[1,992]},e(pa,[2,187]),{2:a,3:993,4:r,5:i},e(pa,[2,191]),{2:a,3:994,4:r,5:i},e(pa,[2,195]),{2:a,3:995,4:r,5:i},e(pa,[2,198]),{2:a,3:996,4:r,5:i},{2:a,3:997,4:r,5:i},{148:[1,998]},e(ir,[2,172],{82:999,183:[1,1e3]}),{2:a,3:219,4:r,5:i,132:[1,1005],143:ce,145:[1,1006],152:he,156:K,181:ge,199:1001,200:1002,201:1003,202:1004,292:X,293:Q,294:Z,295:ee,304:Fe},{2:a,3:1011,4:r,5:i,109:1007,110:1008,111:1009,112:sr},e(ya,[2,1061]),e(or,[2,1052],{91:1012,182:1013,183:[1,1014]}),e(We,[2,1051],{153:1015,179:lr,180:cr,181:ur}),e([2,4,5,10,72,74,76,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,198,244,245,284,285,286,287,288,289,290,308,312,422,426,604,765],[2,90],{77:[1,1019]}),{119:[1,1020]},e(dr,[2,93]),{2:a,3:1021,4:r,5:i},e(dr,[2,95]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1022,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1023,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:733,4:r,5:i,72:Sa,76:Ea,77:Ta,112:Aa,114:736,115:Tt,116:At,117:1025,118:Ca,122:wa,123:Na,124:xa,125:1024,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,144:758,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,158:768,160:769,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,421:190,422:Ue,426:Ve},{77:[1,1026]},{77:[1,1027]},{77:[1,1028]},{77:[1,1029]},e(dr,[2,104]),e(dr,[2,105]),e(dr,[2,106]),e(dr,[2,107]),e(dr,[2,108]),e(dr,[2,109]),{2:a,3:1030,4:r,5:i},{2:a,3:1031,4:r,5:i,133:[1,1032]},e(dr,[2,113]),e(dr,[2,114]),e(dr,[2,115]),e(dr,[2,116]),e(dr,[2,117]),e(dr,[2,118]),{2:a,3:1033,4:r,5:i,77:sa,113:669,131:se,132:oe,143:ce,152:he,181:ge,196:670,201:672,261:671,296:Ie,297:ke,298:Me,304:Fe,421:673,426:Ve},{145:[1,1034]},{77:[1,1035]},{145:[1,1036]},e(dr,[2,123]),{77:[1,1037]},{2:a,3:1038,4:r,5:i},{77:[1,1039]},{77:[1,1040]},{77:[1,1041]},{77:[1,1042]},{77:[1,1043],164:[1,1044]},{77:[1,1045]},{77:[1,1046]},{77:[1,1047]},{77:[1,1048]},{77:[1,1049]},{77:[1,1050]},{77:[1,1051]},{77:[1,1052]},{77:[1,1053]},{77:[2,1076]},{77:[2,1077]},{2:a,3:244,4:r,5:i,199:1054},{2:a,3:244,4:r,5:i,199:1055},{113:1056,132:oe,298:Me},e(W,[2,599],{112:[1,1057]}),{2:a,3:244,4:r,5:i,199:1058},{113:1059,132:oe,298:Me},{2:a,3:1060,4:r,5:i},e(W,[2,696]),e(W,[2,68]),{2:a,3:236,4:r,5:i,75:1061},{77:[1,1062]},e(W,[2,677]),e(W,[2,589]),{2:a,3:1011,4:r,5:i,111:1065,143:hr,145:pr,147:1063,338:1064,339:1066},{144:1069,145:Xe,421:190,422:Ue,426:Ve},e(W,[2,674]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1070,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(Vn,Hn,{259:146,200:147,260:148,111:149,258:150,196:151,261:152,113:153,262:154,201:155,202:156,263:157,264:158,265:159,144:161,266:162,267:163,56:165,158:167,3:168,421:190,94:1071,2:a,4:r,5:i,77:ie,131:se,132:oe,137:le,143:ce,145:ue,149:de,152:he,154:pe,156:K,179:fe,180:me,181:ge,244:be,245:ve,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,422:Ue,426:Ve}),{113:1072,132:oe,298:Me},{2:a,3:266,4:r,5:i,448:1073,449:Ze},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1075,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,230:gn,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve,431:1074,435:bn},e(W,[2,654]),{114:1077,115:Tt,116:At,124:[1,1076]},e(W,[2,666]),e(W,[2,667]),{2:a,3:1079,4:r,5:i,77:fr,131:mr,434:1078},{114:807,115:Tt,116:At,124:[1,1082],432:1083},e(W,[2,756],{74:vn}),{2:a,3:100,4:r,5:i,506:1084},{2:a,3:168,4:r,5:i,56:165,77:ie,94:817,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,174:1085,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,257:816,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:817,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,174:1086,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,257:816,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:817,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,174:1087,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,257:816,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(En,[2,151]),e(En,[2,1091],{74:gr}),e(br,[2,276]),e(br,[2,283],{114:625,329:637,3:1090,113:1092,2:a,4:r,5:i,76:[1,1089],99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,131:[1,1091],132:oe,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,298:Me,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e(at,[2,1092],{197:1093,766:[1,1094]}),{131:se,196:1095},{74:vn,78:[1,1096]},e(Y,[2,11]),{148:[1,1097],190:[1,1098]},{190:[1,1099]},{190:[1,1100]},{190:[1,1101]},e(W,[2,578],{76:[1,1103],77:[1,1102]}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:1104,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(ra,[2,349]),e(Sn,[2,1115]),e(Sn,[2,1112]),e(Sn,[2,1113]),{74:pn,78:[1,1105]},{74:pn,78:[1,1106]},{74:[1,1107]},{74:[1,1108]},{74:[1,1109]},{74:[1,1110]},e(ra,[2,356]),e(W,[2,583]),{300:[1,1111]},{2:a,3:1112,4:r,5:i,113:1113,132:oe,298:Me},{2:a,3:244,4:r,5:i,199:1114},{230:[1,1115]},{2:a,3:578,4:r,5:i,132:ht,137:pt,143:et,145:tt,152:ft,433:585,476:1116,477:576,480:577,484:582,495:579,499:581},e(W,[2,733],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e(yn,[2,1148],{479:1117,485:1118,76:vr}),e(wn,[2,1147]),{2:a,3:1122,4:r,5:i,132:ht,137:pt,144:1121,145:Xe,152:ft,421:190,422:Ue,426:Ve,477:1120,495:579,499:581},{2:a,3:1122,4:r,5:i,132:ht,137:pt,143:et,145:tt,152:ft,433:585,477:1124,480:1123,484:582,495:579,499:581},{2:a,3:578,4:r,5:i,132:ht,137:pt,143:et,145:tt,152:ft,433:585,475:1125,476:575,477:576,480:577,484:582,495:579,499:581},e(Rn,[2,1166],{493:1126,132:[1,1127]}),e(xn,[2,1165]),e(In,[2,1172],{497:1128,499:1129,152:ft}),e(Rn,[2,1171]),e(In,[2,749]),e(In,[2,1175]),e(xn,[2,752]),e(xn,[2,753]),e(In,[2,751]),e(kn,[2,743]),{2:a,3:244,4:r,5:i,199:1130},{2:a,3:244,4:r,5:i,199:1131},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1132,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(yr,[2,1142],{469:1133,113:1134,132:oe,298:Me}),e(Mn,[2,1141]),{2:a,3:1135,4:r,5:i},{337:Sr,340:Er,341:Tr,513:1136},{2:a,3:244,4:r,5:i,199:1140},e(Ln,[2,768]),e(Ln,[2,769]),e(Ln,[2,770]),{129:[1,1141]},{270:[1,1142]},{270:[1,1143]},e(gt,[2,691]),e(gt,[2,692],{124:[1,1144]}),{4:jn,7:879,276:1145,389:878,391:Un},e([2,4,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,299,302,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,345,358,370,371,375,376,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],[2,545],{5:[1,1146]}),e([2,5,10,53,72,74,76,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,299,302,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,345,358,370,371,375,376,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],[2,542],{4:[1,1148],77:[1,1147]}),{77:[1,1149]},e(Ar,[2,4]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1150,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(W,[2,591]),e(An,[2,571]),{2:a,3:1151,4:r,5:i,113:1152,132:oe,298:Me},e(W,[2,567],{74:Cr}),e(gt,[2,569]),e(W,[2,616],{74:Cr}),e(W,[2,671]),e(W,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,506:95,184:99,3:100,12:1154,2:a,4:r,5:i,53:o,72:l,89:c,124:u,146:d,156:h,189:p,270:f,271:m,292:g,337:v,340:y,341:S,398:E,402:T,403:A,406:C,408:w,410:N,411:x,419:O,420:R,436:I,438:k,439:M,441:L,442:D,443:$,444:F,445:_,449:P,450:j,453:U,454:V,507:H,509:J,510:q,519:B}),e(wr,[2,379],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,314:jt,318:Ht,319:Jt,320:qt,321:Bt}),e(zn,[2,380],{114:625,329:637,318:Ht}),e(wr,[2,381],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,314:jt,318:Ht,319:Jt,320:qt,321:Bt}),e(Nr,[2,382],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,314:jt,316:[1,1155],318:Ht,319:Jt,320:qt,321:Bt}),e(Nr,[2,384],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,314:jt,316:[1,1156],318:Ht,319:Jt,320:qt,321:Bt}),e(Ke,[2,386],{114:625,329:637}),e(Gn,[2,387],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,180:_t,314:jt,318:Ht}),e(Gn,[2,388],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,180:_t,314:jt,318:Ht}),e(xr,[2,389],{114:625,329:637,115:Tt,116:At,123:Ct,136:xt,314:jt,318:Ht}),e(xr,[2,390],{114:625,329:637,115:Tt,116:At,123:Ct,136:xt,314:jt,318:Ht}),e(xr,[2,391],{114:625,329:637,115:Tt,116:At,123:Ct,136:xt,314:jt,318:Ht}),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,123,124,128,129,130,131,132,133,134,135,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,313,315,316,317,319,320,321,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],[2,392],{114:625,329:637,115:Tt,116:At,136:xt,314:jt,318:Ht}),e(Or,[2,393],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,179:Ft,180:_t,314:jt,318:Ht,319:Jt}),e(Or,[2,394],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,179:Ft,180:_t,314:jt,318:Ht,319:Jt}),e(Or,[2,395],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,179:Ft,180:_t,314:jt,318:Ht,319:Jt}),e(Or,[2,396],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,179:Ft,180:_t,314:jt,318:Ht,319:Jt}),e(er,[2,397],{77:lt}),e(Ke,[2,398]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1157,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(Ke,[2,400]),e(er,[2,401],{77:lt}),e(Ke,[2,402]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1158,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(Ke,[2,404]),e(Rr,[2,405],{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,334:ta}),e(Rr,[2,406],{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,334:ta}),e(Rr,[2,407],{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,334:ta}),e(Rr,[2,408],{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,334:ta}),e([2,4,5,10,53,72,89,99,124,139,140,146,154,156,170,171,189,270,271,292,308,312,322,323,324,325,326,327,328,332,333,335,337,340,341,398,402,403,406,408,410,411,419,420,436,438,439,441,442,443,444,445,449,450,453,454,507,509,510,519,604,765],Ir,{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,334:ta}),e(Rr,[2,410],{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,334:ta}),e(Rr,[2,411],{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,334:ta}),e(Rr,[2,412],{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,334:ta}),e(Rr,[2,413],{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,334:ta}),e(Rr,[2,414],{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,334:ta}),{77:[1,1159]},{77:[2,449]},{77:[2,450]},{77:[2,451]},e(kr,[2,417],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,334:ta}),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,107,118,122,128,129,130,131,132,134,135,137,143,145,146,148,149,150,152,156,162,164,166,168,169,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,316,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],[2,418],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta}),{2:a,3:168,4:r,5:i,40:1160,56:165,77:ie,78:[1,1162],79:75,89:c,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:1161,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,184:99,189:p,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(Ke,[2,431]),e(Ke,[2,433]),e(Ke,[2,440]),e(Ke,[2,441]),{2:a,3:667,4:r,5:i,77:[1,1163]},{2:a,3:695,4:r,5:i,77:[1,1164],111:934,145:Jn,156:K,200:935,202:1166,292:X,293:Q,294:Z,295:ee,331:1165},e(Ke,[2,438]),e(kr,[2,435],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,334:ta}),e(kr,[2,436],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,334:ta}),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,244,245,246,247,249,251,270,271,284,285,286,287,288,289,290,292,298,302,308,310,311,312,316,322,323,324,325,326,327,328,332,333,334,335,337,340,341,398,402,403,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,466,472,507,509,510,519,604,765],[2,437],{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt}),e(Ke,[2,439]),e(Ke,[2,309]),e(Ke,[2,310]),e(Ke,[2,311]),e(Ke,[2,424]),{74:pn,78:[1,1167]},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1168,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1169,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(Ke,Mr),e(Lr,[2,289]),e(Ke,[2,285]),{78:[1,1171],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{78:[1,1172]},{307:1173,308:Yn,309:957,310:oa,312:Wn},{308:[1,1174]},e(Kn,[2,374]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1175,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,311:[1,1176],313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{76:[1,1177],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{74:[1,1178]},e(la,[2,643]),{2:a,3:695,4:r,5:i,77:ca,111:690,113:688,131:se,132:oe,143:ce,144:685,145:Xe,152:he,156:K,181:ge,196:687,200:693,201:692,261:689,262:691,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,302:[1,1179],304:Fe,421:190,422:Ue,424:1180,425:686,426:Ve},{78:[1,1181],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{2:a,3:1182,4:r,5:i,149:Bn},e(Ke,[2,367]),e(la,[2,640]),{2:a,3:704,4:r,5:i,131:ua,132:da,428:[1,1183],430:1184},{2:a,3:695,4:r,5:i,77:ca,111:690,113:688,131:se,132:oe,143:ce,144:685,145:Xe,152:he,156:K,181:ge,196:687,200:693,201:692,261:689,262:691,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,304:Fe,421:190,422:Ue,424:1185,425:686,426:Ve},{2:a,3:695,4:r,5:i,77:ca,111:690,113:688,131:se,132:oe,143:ce,144:685,145:Xe,152:he,156:K,181:ge,196:687,200:693,201:692,261:689,262:691,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,304:Fe,421:190,422:Ue,424:1186,425:686,426:Ve},{2:a,3:695,4:r,5:i,77:ca,111:690,113:688,131:se,132:oe,143:ce,144:685,145:Xe,152:he,156:K,181:ge,196:687,200:693,201:692,261:689,262:691,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,304:Fe,421:190,422:Ue,424:1187,425:686,426:Ve},{77:rr,143:ce,144:979,145:Xe,152:he,181:ge,201:980,304:Fe,344:1188,421:190,422:Ue,426:Ve},e(Dr,[2,461],{74:$r}),{149:ar,343:1190,346:nr},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1194,100:1191,111:1193,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,347:1192,421:190,422:Ue,426:Ve},e(Dr,[2,469]),e(Fr,[2,472]),e(Fr,[2,473]),e(_r,[2,477]),e(_r,[2,478]),{2:a,3:244,4:r,5:i,199:1195},{77:rr,143:ce,144:979,145:Xe,152:he,181:ge,201:980,304:Fe,344:1196,421:190,422:Ue,426:Ve},e(Dr,[2,465],{74:$r}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1194,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,347:1192,421:190,422:Ue,426:Ve},{310:Pr,458:1197,460:1198,461:1199},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1201,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{230:[2,700]},e(pa,[2,181],{3:1202,2:a,4:r,5:i,76:[1,1203]}),e(pa,[2,182]),e(pa,[2,1097]),e(pa,[2,184]),e(pa,[2,186]),e(pa,[2,188]),e(pa,[2,192]),e(pa,[2,196]),e(pa,[2,199]),e([2,4,5,10,53,72,74,76,77,78,89,93,95,98,118,124,128,143,145,146,148,149,152,154,156,162,168,169,181,183,187,189,206,208,222,223,224,225,226,227,228,229,230,231,232,249,251,270,271,292,299,304,308,312,337,340,341,345,346,358,370,371,375,376,398,402,403,404,405,406,408,410,411,419,420,422,426,436,438,439,441,442,443,444,445,449,450,453,454,507,509,510,516,517,518,519,604,765],[2,201]),{2:a,3:1204,4:r,5:i},e(jr,[2,1048],{83:1205,92:1206,93:[1,1207],98:[1,1208]}),{2:a,3:219,4:r,5:i,77:[1,1210],132:Ge,143:ce,144:212,145:ue,152:he,156:K,181:ge,199:213,200:215,201:214,202:217,203:1209,209:1211,213:ze,214:218,292:X,293:Q,294:Z,295:ee,304:Fe,421:190,422:Ue,426:Ve},e(ga,[2,164]),e(ga,[2,165]),e(ga,[2,166]),e(ga,[2,167]),e(ga,[2,168]),{2:a,3:667,4:r,5:i},e(Ye,[2,83],{74:[1,1212]}),e(Ur,[2,85]),e(Ur,[2,86]),{113:1213,132:oe,298:Me},e([10,72,74,78,93,98,118,124,128,162,168,169,183,198,206,208,222,223,224,225,226,227,228,229,232,249,251,308,312,604,765],na,{116:Zn}),e(or,[2,73]),e(or,[2,1053]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1214,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(dr,[2,126]),e(dr,[2,144]),e(dr,[2,145]),e(dr,[2,146]),{2:a,3:168,4:r,5:i,56:165,77:ie,78:[2,1068],94:260,111:149,113:153,127:1215,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:1216,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{77:[1,1217]},e(dr,[2,94]),e([2,4,5,10,72,74,76,77,78,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,198,244,245,284,285,286,287,288,289,290,308,312,422,426,604,765],[2,96],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e([2,4,5,10,72,74,76,77,78,112,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,198,244,245,284,285,286,287,288,289,290,308,312,422,426,604,765],[2,97],{114:625,329:637,99:St,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{2:a,3:733,4:r,5:i,72:Sa,76:Ea,77:Ta,78:[1,1218],112:Aa,114:736,115:Tt,116:At,117:1219,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,144:758,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,158:768,160:769,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,421:190,422:Ue,426:Ve},e(Vr,[2,1064],{153:1015,179:lr,180:cr,181:ur}),{2:a,3:733,4:r,5:i,72:Sa,76:Ea,77:Ta,112:Aa,114:736,115:Tt,116:At,117:1221,118:Ca,122:wa,123:Na,124:xa,126:1220,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,144:758,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,158:768,160:769,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1222,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1223,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:1224,4:r,5:i},e(dr,[2,110]),e(dr,[2,111]),e(dr,[2,112]),e(dr,[2,119]),{2:a,3:1225,4:r,5:i},{2:a,3:1011,4:r,5:i,111:1065,143:hr,145:pr,147:1226,338:1064,339:1066},{2:a,3:1227,4:r,5:i},{2:a,3:168,4:r,5:i,56:165,77:ie,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:1228,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(dr,[2,125]),e(Vr,[2,1070],{155:1229}),e(Vr,[2,1072],{157:1230}),e(Vr,[2,1074],{159:1231}),e(Vr,[2,1078],{161:1232}),e(Hr,Jr,{163:1233,178:1234}),{77:[1,1235]},e(Vr,[2,1080],{165:1236}),e(Vr,[2,1082],{167:1237}),e(Hr,Jr,{178:1234,163:1238}),e(Hr,Jr,{178:1234,163:1239}),e(Hr,Jr,{178:1234,163:1240}),e(Hr,Jr,{178:1234,163:1241}),{2:a,3:733,4:r,5:i,72:Sa,76:Ea,77:Ta,112:Aa,114:736,115:Tt,116:At,117:1242,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,144:758,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,158:768,160:769,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:817,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,174:1243,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,257:816,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(qr,[2,1084],{176:1244}),e(W,[2,609],{183:[1,1245]}),e(W,[2,605],{183:[1,1246]}),e(W,[2,598]),{113:1247,132:oe,298:Me},e(W,[2,607],{183:[1,1248]}),e(W,[2,602]),e(W,[2,603],{112:[1,1249]}),e(dn,[2,69]),{40:1250,79:75,89:c,184:99,189:p},e(W,[2,453],{74:Br,128:[1,1251]}),e(Gr,[2,454]),{124:[1,1253]},{2:a,3:1254,4:r,5:i},e(He,[2,1118]),e(He,[2,1119]),e(W,[2,621]),e(fn,[2,358],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e(Rr,Ir,{114:625,329:637,112:Et,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,334:ta}),e(gt,[2,685]),e(gt,[2,687]),e(W,[2,653]),e(W,[2,655],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1255,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:1079,4:r,5:i,77:fr,131:mr,434:1256},e(zr,[2,662]),e(zr,[2,663]),e(zr,[2,664]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1257,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1258,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{114:1077,115:Tt,116:At,124:[1,1259]},e(yn,[2,758]),e(En,[2,148],{74:gr}),e(En,[2,149],{74:gr}),e(En,[2,150],{74:gr}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:817,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,257:1260,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:1261,4:r,5:i,113:1263,131:[1,1262],132:oe,298:Me},e(br,[2,278]),e(br,[2,280]),e(br,[2,282]),e(at,[2,160]),e(at,[2,1093]),{78:[1,1264]},e(it,[2,761]),{2:a,3:1265,4:r,5:i},{2:a,3:1266,4:r,5:i},{2:a,3:1268,4:r,5:i,386:1267},{2:a,3:1268,4:r,5:i,386:1269},{2:a,3:1270,4:r,5:i},{2:a,3:168,4:r,5:i,56:165,77:ie,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:1271,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:1272,4:r,5:i},{74:pn,78:[1,1273]},e(ra,[2,350]),e(ra,[2,351]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1274,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1275,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1276,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1277,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(An,[2,507]),e(W,Yr,{409:1278,76:Wr,77:[1,1279]}),e(W,Yr,{409:1281,76:Wr}),{77:[1,1282]},{2:a,3:244,4:r,5:i,199:1283},e(yn,[2,734]),e(yn,[2,736]),e(yn,[2,1149]),{143:et,145:tt,433:1284},e(Kr,[2,1150],{421:190,481:1285,144:1286,145:Xe,422:Ue,426:Ve}),{76:vr,139:[2,1154],483:1287,485:1288},e([10,74,76,78,132,139,145,152,308,312,422,426,604,765],On,{492:851,495:852,137:pt}),e(yn,[2,739]),e(yn,Nn),{74:Cn,78:[1,1289]},e(In,[2,1168],{494:1290,499:1291,152:ft}),e(Rn,[2,1167]),e(In,[2,748]),e(In,[2,1173]),e(W,[2,493],{77:[1,1292]}),{76:[1,1294],77:[1,1293]},{99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,148:[1,1295],154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},e(Dr,Xr,{79:75,184:99,470:1296,40:1299,89:c,146:Qr,189:p,472:Zr}),e(yr,[2,1143]),e(Mn,[2,726]),{230:[1,1300]},e(ei,[2,772]),e(ei,[2,773]),e(ei,[2,774]),e(Ln,Dn,{512:1301,95:$n,516:Fn,517:_n,518:Pn}),e(Ln,[2,771]),e(W,[2,315]),e(W,[2,316]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1302,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(gt,[2,693],{124:[1,1303]}),e(Ar,[2,544]),{131:[1,1305],390:1304,392:[1,1306]},e(Ar,[2,5]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1194,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,347:1307,421:190,422:Ue,426:Ve},e(W,[2,458],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e(W,[2,592]),e(W,[2,593]),{2:a,3:244,4:r,5:i,199:1308},e(W,[2,673]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1309,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1310,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{78:[1,1311],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{78:[1,1312],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{2:a,3:168,4:r,5:i,40:1313,56:165,77:ie,79:75,89:c,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:1314,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,184:99,189:p,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{78:[1,1315]},{74:pn,78:[1,1316]},e(Ke,[2,429]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1317,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,40:1318,56:165,77:ie,78:[1,1320],79:75,89:c,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:1319,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,184:99,189:p,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(Ke,[2,432]),e(Ke,[2,434]),e(Ke,ti,{279:1321,280:ai}),{78:[1,1323],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{78:[1,1324],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{2:a,3:1325,4:r,5:i,180:[1,1326]},e(la,[2,622]),e(Ke,[2,366]),{308:[1,1327]},e(Ke,[2,373]),{99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,308:[2,377],313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1328,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{4:jn,7:879,276:1329,389:878,391:Un},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1330,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(la,[2,644]),e(Xn,[2,651]),e(Qn,[2,639]),e(Lr,Mr),e(la,[2,641]),e(tr,[2,646]),e(tr,[2,648]),e(tr,[2,649]),e(tr,[2,650]),e(Dr,[2,460],{74:$r}),{77:[1,1332],143:ce,144:1333,145:Xe,152:he,181:ge,201:1334,304:Fe,421:190,422:Ue,426:Ve},e(Dr,[2,466]),{74:ni,78:[1,1335]},{74:ri,78:[1,1337]},e([74,78,99,112,115,116,123,124,133,136,138,139,140,141,142,154,170,171,179,180,313,314,315,317,318,319,320,321,322,323,324,325,326,327,328,332,333,334,335],ii),e(si,[2,482],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{40:1341,77:rr,79:75,89:c,143:ce,144:979,145:Xe,149:ar,152:he,181:ge,184:99,189:p,201:980,304:Fe,343:1339,344:1340,346:nr,421:190,422:Ue,426:Ve},e(Dr,[2,464],{74:$r}),e(W,[2,720],{459:1342,460:1343,461:1344,310:Pr,466:[1,1345]}),e(oi,[2,704]),e(oi,[2,705]),{154:[1,1347],462:[1,1346]},{99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,310:[2,701],313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},e(pa,[2,179]),{2:a,3:1348,4:r,5:i},e(W,[2,577]),e(li,[2,238],{84:1349,128:[1,1350]}),e(jr,[2,1049]),{77:[1,1351]},{77:[1,1352]},e(ir,[2,169],{204:1353,215:1355,205:1356,216:1357,221:1360,74:ci,206:ui,208:di,222:hi,223:pi,224:fi,225:mi,226:gi,227:bi,228:vi,229:yi}),{2:a,3:219,4:r,5:i,40:711,77:Be,79:75,89:c,132:Ge,143:ce,144:212,145:ue,152:he,156:K,181:ge,184:99,189:p,199:213,200:215,201:214,202:217,203:1369,209:1211,213:ze,214:218,292:X,293:Q,294:Z,295:ee,304:Fe,421:190,422:Ue,426:Ve},e(Si,[2,177]),{2:a,3:1011,4:r,5:i,110:1370,111:1009,112:sr},e(Ur,[2,87]),e(or,[2,147],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{78:[1,1371]},{74:pn,78:[2,1069]},{2:a,3:168,4:r,5:i,56:165,77:ie,78:[2,1062],94:1376,111:149,113:153,120:1372,121:1373,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,241:1374,244:be,245:ve,246:[1,1375],258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(dr,[2,98]),e(Vr,[2,1065],{153:1015,179:lr,180:cr,181:ur}),{2:a,3:733,4:r,5:i,72:Sa,76:Ea,77:Ta,78:[1,1377],112:Aa,114:736,115:Tt,116:At,117:1378,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,144:758,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,158:768,160:769,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,421:190,422:Ue,426:Ve},e(Vr,[2,1066],{153:1015,179:lr,180:cr,181:ur}),{78:[1,1379],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{78:[1,1380],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{78:[1,1381]},e(dr,[2,120]),{74:Br,78:[1,1382]},e(dr,[2,122]),{74:pn,78:[1,1383]},{2:a,3:733,4:r,5:i,72:Sa,76:Ea,77:Ta,78:[1,1384],112:Aa,114:736,115:Tt,116:At,117:1385,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,144:758,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,158:768,160:769,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,421:190,422:Ue,426:Ve},{2:a,3:733,4:r,5:i,72:Sa,76:Ea,77:Ta,78:[1,1386],112:Aa,114:736,115:Tt,116:At,117:1387,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,144:758,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,158:768,160:769,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,421:190,422:Ue,426:Ve},{2:a,3:733,4:r,5:i,72:Sa,76:Ea,77:Ta,78:[1,1388],112:Aa,114:736,115:Tt,116:At,117:1389,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,144:758,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,158:768,160:769,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,421:190,422:Ue,426:Ve},{2:a,3:733,4:r,5:i,72:Sa,76:Ea,77:Ta,78:[1,1390],112:Aa,114:736,115:Tt,116:At,117:1391,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,144:758,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,158:768,160:769,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,421:190,422:Ue,426:Ve},{74:Ei,78:[1,1392]},e(si,[2,143],{421:190,3:733,114:736,144:758,158:768,160:769,117:1394,2:a,4:r,5:i,72:Sa,76:Ea,77:Ta,112:Aa,115:Tt,116:At,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,422:Ue,426:Ve}),e(Hr,Jr,{178:1234,163:1395}),{2:a,3:733,4:r,5:i,72:Sa,76:Ea,77:Ta,78:[1,1396],112:Aa,114:736,115:Tt,116:At,117:1397,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,144:758,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,158:768,160:769,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,421:190,422:Ue,426:Ve},{2:a,3:733,4:r,5:i,72:Sa,76:Ea,77:Ta,78:[1,1398],112:Aa,114:736,115:Tt,116:At,117:1399,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,144:758,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,158:768,160:769,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,421:190,422:Ue,426:Ve},{74:Ei,78:[1,1400]},{74:Ei,78:[1,1401]},{74:Ei,78:[1,1402]},{74:Ei,78:[1,1403]},{78:[1,1404],153:1015,179:lr,180:cr,181:ur},{74:gr,78:[1,1405]},{2:a,3:733,4:r,5:i,72:Sa,74:[1,1406],76:Ea,77:Ta,112:Aa,114:736,115:Tt,116:At,117:1407,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,144:758,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,158:768,160:769,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,421:190,422:Ue,426:Ve},{2:a,3:1408,4:r,5:i},{2:a,3:1409,4:r,5:i},e(W,[2,600]),{2:a,3:1410,4:r,5:i},{113:1411,132:oe,298:Me},{78:[1,1412]},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1413,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:1011,4:r,5:i,111:1065,143:hr,145:pr,338:1414,339:1066},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1415,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{124:[1,1416]},e(W,[2,656],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e(zr,[2,661]),{78:[1,1417],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},e(W,[2,657],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1418,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(br,[2,275]),e(br,[2,277]),e(br,[2,279]),e(br,[2,281]),e(at,[2,161]),e(W,[2,572]),{148:[1,1419]},e(W,[2,573]),e(yn,[2,539],{389:878,7:879,276:1420,4:jn,388:[1,1421],391:Un}),e(W,[2,574]),e(W,[2,576]),{74:pn,78:[1,1422]},e(W,[2,580]),e(ra,[2,348]),{74:[1,1423],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{74:[1,1424],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{74:[1,1425],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{74:[1,1426],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},e(W,[2,584]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:1427,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:1428,4:r,5:i},e(W,[2,586]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1376,111:149,113:153,120:1429,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,241:1374,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{77:[1,1430]},{2:a,3:1431,4:r,5:i},{76:vr,139:[2,1152],482:1432,485:1433},e(Kr,[2,1151]),{139:[1,1434]},{139:[2,1155]},e(yn,[2,740]),e(In,[2,747]),e(In,[2,1169]),{2:a,3:1268,4:r,5:i,76:[1,1437],353:1435,360:1436,386:1438},{2:a,3:1011,4:r,5:i,100:1439,111:1440},{40:1441,79:75,89:c,184:99,189:p},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1442,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(Dr,[2,725]),{2:a,3:1011,4:r,5:i,111:1065,143:hr,145:pr,147:1443,338:1064,339:1066},{2:a,3:168,4:r,5:i,56:165,77:ie,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:1444,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(Dr,[2,730]),{2:a,3:244,4:r,5:i,199:1445},{337:Sr,340:Er,341:Tr,513:1446},e(gt,[2,694],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1447,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{74:[1,1448],78:[1,1449]},e(si,[2,546]),e(si,[2,547]),{74:ri,78:[1,1450]},e(gt,[2,568]),e(wr,[2,383],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,314:jt,318:Ht,319:Jt,320:qt,321:Bt}),e(wr,[2,385],{114:625,329:637,115:Tt,116:At,123:Ct,133:Nt,136:xt,138:Ot,141:kt,142:Mt,179:Ft,180:_t,314:jt,318:Ht,319:Jt,320:qt,321:Bt}),e(Ke,[2,399]),e(Ke,[2,403]),{78:[1,1451]},{74:pn,78:[1,1452]},e(Ke,[2,425]),e(Ke,[2,427]),{78:[1,1453],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{78:[1,1454]},{74:pn,78:[1,1455]},e(Ke,[2,430]),e(Ke,[2,330]),{77:[1,1456]},e(Ke,ti,{279:1457,280:ai}),e(Ke,ti,{279:1458,280:ai}),e(Lr,[2,287]),e(Ke,[2,284]),e(Ke,[2,372]),e(Kn,[2,376],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{74:[1,1460],78:[1,1459]},{74:[1,1462],78:[1,1461],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{2:a,3:1325,4:r,5:i},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1194,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,347:1463,421:190,422:Ue,426:Ve},e(_r,[2,480]),e(_r,[2,481]),{40:1466,77:rr,79:75,89:c,143:ce,144:979,145:Xe,149:ar,152:he,181:ge,184:99,189:p,201:980,304:Fe,343:1464,344:1465,346:nr,421:190,422:Ue,426:Ve},{2:a,3:1011,4:r,5:i,111:1467},e(_r,[2,476]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1468,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{77:rr,143:ce,144:979,145:Xe,152:he,181:ge,201:980,304:Fe,344:1469,421:190,422:Ue,426:Ve},e(Dr,[2,463],{74:$r}),e(Dr,[2,470]),e(W,[2,697]),e(oi,[2,702]),e(oi,[2,703]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:817,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,174:1470,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,257:816,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{170:[1,1472],311:[1,1471]},{462:[1,1473]},e(pa,[2,180]),e(Ti,[2,240],{85:1474,232:[1,1475]}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1476,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1477,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:1478,4:r,5:i},e(ir,[2,170],{216:1357,221:1360,215:1479,205:1480,206:ui,208:di,222:hi,223:pi,224:fi,225:mi,226:gi,227:bi,228:vi,229:yi}),{2:a,3:219,4:r,5:i,77:Be,132:Ge,143:ce,144:212,145:ue,152:he,156:K,181:ge,199:213,200:215,201:214,202:217,209:1481,213:ze,214:218,292:X,293:Q,294:Z,295:ee,304:Fe,421:190,422:Ue,426:Ve},e(Ai,[2,205]),e(Ai,[2,206]),{2:a,3:219,4:r,5:i,77:[1,1486],143:ce,144:1484,145:ue,152:he,156:K,181:ge,199:1483,200:1487,201:1485,202:1488,217:1482,292:X,293:Q,294:Z,295:ee,304:Fe,421:190,422:Ue,426:Ve},{207:[1,1489],223:Ci},{207:[1,1491],223:wi},e(Ni,[2,222]),{206:[1,1495],208:[1,1494],221:1493,223:pi,224:fi,225:mi,226:gi,227:bi,228:vi,229:yi},e(Ni,[2,224]),{223:[1,1496]},{208:[1,1498],223:[1,1497]},{208:[1,1500],223:[1,1499]},{208:[1,1501]},{223:[1,1502]},{223:[1,1503]},{74:ci,204:1504,205:1356,206:ui,208:di,215:1355,216:1357,221:1360,222:hi,223:pi,224:fi,225:mi,226:gi,227:bi,228:vi,229:yi},e(Ur,[2,84]),e(dr,[2,100]),{74:xi,78:[1,1505]},{78:[1,1507]},e(Oi,[2,261]),{78:[2,1063]},e(Oi,[2,265],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,246:[1,1508],247:[1,1509],313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e(dr,[2,99]),e(Vr,[2,1067],{153:1015,179:lr,180:cr,181:ur}),e(dr,[2,101]),e(dr,[2,102]),e(dr,[2,103]),e(dr,[2,121]),e(dr,[2,124]),e(dr,[2,127]),e(Vr,[2,1071],{153:1015,179:lr,180:cr,181:ur}),e(dr,[2,128]),e(Vr,[2,1073],{153:1015,179:lr,180:cr,181:ur}),e(dr,[2,129]),e(Vr,[2,1075],{153:1015,179:lr,180:cr,181:ur}),e(dr,[2,130]),e(Vr,[2,1079],{153:1015,179:lr,180:cr,181:ur}),e(dr,[2,131]),e(Hr,[2,1086],{177:1510}),e(Hr,[2,1089],{153:1015,179:lr,180:cr,181:ur}),{74:Ei,78:[1,1511]},e(dr,[2,133]),e(Vr,[2,1081],{153:1015,179:lr,180:cr,181:ur}),e(dr,[2,134]),e(Vr,[2,1083],{153:1015,179:lr,180:cr,181:ur}),e(dr,[2,135]),e(dr,[2,136]),e(dr,[2,137]),e(dr,[2,138]),e(dr,[2,139]),e(dr,[2,140]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:260,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,151:1512,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(qr,[2,1085],{153:1015,179:lr,180:cr,181:ur}),e(W,[2,610]),e(W,[2,606]),e(W,[2,608]),e(W,[2,604]),e(dn,[2,71]),e(W,[2,452],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e(Gr,[2,455]),e(Gr,[2,456],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1513,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(zr,[2,665]),e(W,[2,658],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{2:a,3:1514,4:r,5:i},e(yn,[2,548],{387:1515,393:1516,394:1517,368:1525,154:Ri,187:Ii,230:ki,299:Mi,345:Li,358:Di,370:$i,371:Fi,375:_i,376:Pi}),e(yn,[2,538]),e(W,[2,579],{76:[1,1529]}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1530,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1531,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1532,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1533,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{74:pn,78:[1,1534]},e(W,[2,588]),{74:xi,78:[1,1535]},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1376,111:149,113:153,120:1536,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,241:1374,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e([10,74,78,139,308,312,604,765],[2,744]),{139:[1,1537]},{139:[2,1153]},{2:a,3:1122,4:r,5:i,132:ht,137:pt,143:et,145:tt,152:ft,433:585,477:1124,480:1538,484:582,495:579,499:581},{78:[1,1539]},{74:[1,1540],78:[2,509]},{40:1541,79:75,89:c,184:99,189:p},e(si,[2,535]),{74:ni,78:[1,1542]},e(Si,ii),e(W,[2,1136],{414:1543,415:1544,72:ji}),e(Dr,Xr,{79:75,184:99,114:625,329:637,40:1299,470:1546,89:c,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,146:Qr,154:Lt,170:Dt,171:$t,179:Ft,180:_t,189:p,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa,472:Zr}),e(Dr,[2,728],{74:Br}),e(Dr,[2,729],{74:pn}),e([10,53,72,89,124,146,156,189,270,271,292,308,312,337,340,341,398,402,403,406,408,410,411,419,420,436,438,439,441,442,443,444,445,449,450,453,454,507,509,510,519,604,765],[2,1184],{514:1547,3:1548,2:a,4:r,5:i,76:[1,1549]}),e(Ui,[2,1186],{515:1550,76:[1,1551]}),e(gt,[2,695],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{131:[1,1552]},e(Ar,[2,541]),e(Ar,[2,543]),e(Ke,[2,415]),e(Ke,[2,416]),e(Ke,[2,442]),e(Ke,[2,426]),e(Ke,[2,428]),{118:Vi,281:1553,282:1554,283:[1,1555]},e(Ke,[2,331]),e(Ke,[2,332]),e(Ke,[2,319]),{131:[1,1557]},e(Ke,[2,321]),{131:[1,1558]},{74:ri,78:[1,1559]},{77:rr,143:ce,144:979,145:Xe,152:he,181:ge,201:980,304:Fe,344:1560,421:190,422:Ue,426:Ve},e(Dr,[2,468],{74:$r}),e(Dr,[2,471]),e(Si,[2,491]),e(si,[2,483],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e(Dr,[2,462],{74:$r}),e(W,[2,721],{74:gr,198:[1,1561]}),{337:Hi,340:Ji,463:1562},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1565,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{119:[1,1567],170:[1,1568],311:[1,1566]},e(qi,[2,259],{86:1569,118:[1,1570]}),{119:[1,1571]},e(li,[2,239],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{95:[1,1572],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{95:[1,1573]},e(Ai,[2,203]),e(Ai,[2,204]),e(Si,[2,178]),e(Ai,[2,237],{218:1574,230:[1,1575],231:[1,1576]}),e(Bi,[2,208],{3:1577,2:a,4:r,5:i,76:[1,1578]}),e(Gi,[2,1098],{219:1579,76:[1,1580]}),{2:a,3:1581,4:r,5:i,76:[1,1582]},{40:1583,79:75,89:c,184:99,189:p},e(Bi,[2,216],{3:1584,2:a,4:r,5:i,76:[1,1585]}),e(Bi,[2,219],{3:1586,2:a,4:r,5:i,76:[1,1587]}),{77:[1,1588]},e(Ni,[2,234]),{77:[1,1589]},e(Ni,[2,230]),e(Ni,[2,223]),{223:wi},{223:Ci},e(Ni,[2,225]),e(Ni,[2,226]),{223:[1,1590]},e(Ni,[2,228]),{223:[1,1591]},{223:[1,1592]},e(Ni,[2,232]),e(Ni,[2,233]),{78:[1,1593],205:1480,206:ui,208:di,215:1479,216:1357,221:1360,222:hi,223:pi,224:fi,225:mi,226:gi,227:bi,228:vi,229:yi},e(dr,[2,91]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1376,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,241:1594,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(dr,[2,92]),e(Oi,[2,266],{242:1595,243:[1,1596]}),{248:[1,1597]},e(si,[2,142],{421:190,3:733,114:736,144:758,158:768,160:769,117:1598,2:a,4:r,5:i,72:Sa,76:Ea,77:Ta,112:Aa,115:Tt,116:At,118:Ca,122:wa,123:Na,124:xa,128:Oa,129:Ra,130:Ia,131:ka,132:Ma,133:La,134:Da,135:$a,136:Fa,137:_a,138:Pa,139:ja,140:Ua,141:Va,142:Ha,143:Ja,145:qa,146:Ba,148:Ga,149:za,150:Ya,152:Wa,154:Ka,156:Xa,162:Qa,164:Za,166:en,168:tn,169:an,170:nn,171:rn,172:sn,173:on,175:ln,185:cn,187:un,244:be,245:ve,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,422:Ue,426:Ve}),e(dr,[2,132]),{74:pn,78:[1,1599]},e(Gr,[2,457],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e(W,[2,575]),e(yn,[2,537]),e(yn,[2,549],{368:1525,394:1600,154:Ri,187:Ii,230:ki,299:Mi,345:Li,358:Di,370:$i,371:Fi,375:_i,376:Pi}),e(hn,[2,551]),{372:[1,1601]},{372:[1,1602]},{2:a,3:244,4:r,5:i,199:1603},e(hn,[2,557],{77:[1,1604]}),{2:a,3:114,4:r,5:i,77:[1,1606],113:251,131:se,132:oe,143:ce,152:he,156:K,181:ge,196:250,200:1607,201:254,261:252,262:253,269:Qe,278:1605,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,304:Fe},e(hn,[2,561]),{299:[1,1608]},e(hn,[2,563]),e(hn,[2,564]),{337:[1,1609]},{77:[1,1610]},{2:a,3:1611,4:r,5:i},{78:[1,1612],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{78:[1,1613],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{78:[1,1614],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{78:[1,1615],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},e(W,Yr,{409:1616,76:Wr}),e(W,[2,594]),{74:xi,78:[1,1617]},{2:a,3:1122,4:r,5:i,132:ht,137:pt,143:et,145:tt,152:ft,433:585,477:1124,480:1618,484:582,495:579,499:581},e(yn,[2,738]),e(W,[2,496],{354:1619,356:1620,357:1621,4:zi,247:Yi,345:Wi,358:Ki}),e(Xi,Qi,{3:1268,361:1626,386:1627,362:1628,363:1629,2:a,4:r,5:i,369:Zi}),{78:[2,510]},{76:[1,1631]},e(W,[2,612]),e(W,[2,1137]),{370:[1,1633],416:[1,1632]},e(Dr,[2,731]),e(W,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,506:95,184:99,3:100,12:1634,2:a,4:r,5:i,53:o,72:l,89:c,124:u,146:d,156:h,189:p,270:f,271:m,292:g,337:v,340:y,341:S,398:E,402:T,403:A,406:C,408:w,410:N,411:x,419:O,420:R,436:I,438:k,439:M,441:L,442:D,443:$,444:F,445:_,449:P,450:j,453:U,454:V,507:H,509:J,510:q,519:B}),e(W,[2,765]),e(Ui,[2,1185]),e(W,t,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,506:95,184:99,3:100,12:1635,2:a,4:r,5:i,53:o,72:l,89:c,124:u,146:d,156:h,189:p,270:f,271:m,292:g,337:v,340:y,341:S,398:E,402:T,403:A,406:C,408:w,410:N,411:x,419:O,420:R,436:I,438:k,439:M,441:L,442:D,443:$,444:F,445:_,449:P,450:j,453:U,454:V,507:H,509:J,510:q,519:B}),e(Ui,[2,1187]),{78:[1,1636]},{78:[1,1637],118:Vi,282:1638},{78:[1,1639]},{119:[1,1640]},{119:[1,1641]},{78:[1,1642]},{78:[1,1643]},e(_r,[2,479]),e(Dr,[2,467],{74:$r}),{2:a,3:244,4:r,5:i,143:et,145:tt,199:1645,433:1644},e(oi,[2,706]),e(oi,[2,708]),{146:[1,1646]},{99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,311:[1,1647],313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},{341:es,464:1648},{419:[1,1651],465:[1,1650]},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1652,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(ts,[2,270],{87:1653,249:[1,1654],251:[1,1655]}),{119:[1,1656]},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1662,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,233:1657,235:1658,236:as,237:ns,238:rs,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:1663,4:r,5:i},{2:a,3:1664,4:r,5:i},e(Ai,[2,207]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1665,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:1011,4:r,5:i,100:1666,111:1440},e(Bi,[2,209]),{2:a,3:1667,4:r,5:i},e(Bi,[2,1100],{220:1668,3:1669,2:a,4:r,5:i}),e(Gi,[2,1099]),e(Bi,[2,212]),{2:a,3:1670,4:r,5:i},{78:[1,1671]},e(Bi,[2,217]),{2:a,3:1672,4:r,5:i},e(Bi,[2,220]),{2:a,3:1673,4:r,5:i},{40:1674,79:75,89:c,184:99,189:p},{40:1675,79:75,89:c,184:99,189:p},e(Ni,[2,227]),e(Ni,[2,229]),e(Ni,[2,231]),e(ir,[2,171]),e(Oi,[2,262]),e(Oi,[2,267]),{244:[1,1676],245:[1,1677]},e(Oi,[2,268],{246:[1,1678]}),e(Hr,[2,1087],{153:1015,179:lr,180:cr,181:ur}),e(dr,[2,141]),e(hn,[2,550]),e(hn,[2,553]),{376:[1,1679]},e(hn,[2,1130],{397:1680,395:1681,77:is}),{131:se,196:1683},e(hn,[2,558]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1684,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(hn,[2,560]),e(hn,[2,562]),{2:a,3:114,4:r,5:i,77:[1,1686],113:251,131:se,132:oe,143:ce,152:he,156:K,181:ge,196:250,200:255,201:254,261:252,262:253,269:Qe,278:1685,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,304:Fe},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1687,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(W,[2,581]),e(ra,[2,352]),e(ra,[2,353]),e(ra,[2,354]),e(ra,[2,355]),e(W,[2,585]),e(W,[2,595]),e(yn,[2,737]),e(W,[2,492]),e(W,[2,497],{357:1688,4:zi,247:Yi,345:Wi,358:Ki}),e(ss,[2,499]),e(ss,[2,500]),{124:[1,1689]},{124:[1,1690]},{124:[1,1691]},{74:[1,1692],78:[2,508]},e(si,[2,536]),e(si,[2,511]),{187:[1,1700],193:[1,1701],364:1693,365:1694,366:1695,367:1696,368:1697,370:$i,371:[1,1698],372:[1,1702],375:[1,1699]},{2:a,3:1703,4:r,5:i},{40:1704,79:75,89:c,184:99,189:p},{417:[1,1705]},{418:[1,1706]},e(W,[2,764]),e(W,[2,766]),e(Ar,[2,540]),e(Ke,[2,334]),{78:[1,1707]},e(Ke,[2,335]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1662,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,233:1708,235:1658,236:as,237:ns,238:rs,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1376,111:149,113:153,120:1709,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,241:1374,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(Ke,[2,320]),e(Ke,[2,322]),{2:a,3:1710,4:r,5:i},e(W,[2,723],{77:[1,1711]}),{2:a,3:1011,4:r,5:i,111:1065,143:hr,145:pr,147:1712,338:1064,339:1066},{337:Hi,340:Ji,463:1713},e(oi,[2,710]),{77:[1,1715],345:[1,1716],346:[1,1714]},{170:[1,1718],311:[1,1717]},{170:[1,1720],311:[1,1719]},{99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,311:[1,1721],313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},e(or,[2,250],{88:1722,162:[1,1723],168:[1,1725],169:[1,1724]}),{131:se,196:1726},{131:se,196:1727},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1376,111:149,113:153,120:1728,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,241:1374,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},e(Ti,[2,248],{234:1729,74:os,239:[1,1731]}),e(ls,[2,242]),{146:[1,1732]},{77:[1,1733]},{77:[1,1734]},e(ls,[2,247],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{78:[2,1054],96:1735,99:[1,1737],102:1736},{99:[1,1738]},e(Ai,[2,235],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),e(Ai,[2,236],{74:ni}),e(Bi,[2,210]),e(Bi,[2,211]),e(Bi,[2,1101]),e(Bi,[2,213]),{2:a,3:1739,4:r,5:i,76:[1,1740]},e(Bi,[2,218]),e(Bi,[2,221]),{78:[1,1741]},{78:[1,1742]},e(Oi,[2,263]),e(Oi,[2,264]),e(Oi,[2,269]),{2:a,3:244,4:r,5:i,199:1743},e(hn,[2,555]),e(hn,[2,1131]),{2:a,3:1744,4:r,5:i},{74:[1,1745]},{78:[1,1746],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},e(hn,[2,565]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1747,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{78:[1,1748],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},e(ss,[2,498]),{2:a,3:1749,4:r,5:i},{131:se,196:1750},{2:a,3:1751,4:r,5:i},e(Xi,Qi,{363:1629,362:1752,369:Zi}),e(yn,[2,513]),e(yn,[2,514]),e(yn,[2,515]),e(yn,[2,516]),e(yn,[2,517]),{372:[1,1753]},{372:[1,1754]},e(cs,[2,1124],{384:1755,372:[1,1756]}),{2:a,3:1757,4:r,5:i},{2:a,3:1758,4:r,5:i},e(Xi,[2,519]),e(W,[2,1134],{413:1759,415:1760,72:ji}),e(W,[2,613]),e(W,[2,614],{369:[1,1761]}),e(Ke,[2,336]),e([78,118],[2,337],{74:os}),{74:xi,78:[2,338]},e(W,[2,722]),{2:a,3:1011,4:r,5:i,100:1762,111:1440},e(oi,[2,709],{74:Br}),e(oi,[2,707]),{77:rr,143:ce,144:979,145:Xe,152:he,181:ge,201:980,304:Fe,344:1763,421:190,422:Ue,426:Ve},{2:a,3:1011,4:r,5:i,100:1764,111:1440},{346:[1,1765]},{341:es,464:1766},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1767,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{341:es,464:1768},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1769,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{341:es,464:1770},e(or,[2,72]),{40:1771,79:75,89:c,164:[1,1772],184:99,189:p,240:[1,1773]},{40:1774,79:75,89:c,184:99,189:p,240:[1,1775]},{40:1776,79:75,89:c,184:99,189:p,240:[1,1777]},e(ts,[2,273],{250:1778,251:[1,1779]}),{252:1780,253:[2,1102],767:[1,1781]},e(qi,[2,260],{74:xi}),e(Ti,[2,241]),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1662,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,235:1782,236:as,237:ns,238:rs,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1783,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{77:[1,1784]},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1662,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,233:1785,235:1658,236:as,237:ns,238:rs,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1662,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,233:1786,235:1658,236:as,237:ns,238:rs,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{78:[1,1787]},{78:[2,1055]},{77:[1,1788]},{77:[1,1789]},e(Bi,[2,214]),{2:a,3:1790,4:r,5:i},{2:a,3:1791,4:r,5:i,76:[1,1792]},{2:a,3:1793,4:r,5:i,76:[1,1794]},e(hn,[2,1128],{396:1795,395:1796,77:is}),{78:[1,1797]},{131:se,196:1798},e(hn,[2,559]),{78:[1,1799],99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},e(hn,[2,520]),e(ss,[2,501]),e(ss,[2,502]),e(ss,[2,503]),e(si,[2,512]),{2:a,3:1801,4:r,5:i,77:[2,1120],373:1800},{77:[1,1802]},{2:a,3:1804,4:r,5:i,77:[2,1126],385:1803},e(cs,[2,1125]),{77:[1,1805]},{77:[1,1806]},e(W,[2,611]),e(W,[2,1135]),e(Xi,Qi,{363:1629,362:1807,369:Zi}),{74:ni,78:[1,1808]},e(oi,[2,716],{74:$r}),{74:ni,78:[1,1809]},e(oi,[2,718]),e(oi,[2,711]),{99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,311:[1,1810],313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},e(oi,[2,714]),{99:St,112:Et,114:625,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,311:[1,1811],313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,329:637,332:Zt,333:ea,334:ta,335:aa},e(oi,[2,712]),e(or,[2,251]),{40:1812,79:75,89:c,184:99,189:p,240:[1,1813]},{40:1814,79:75,89:c,184:99,189:p},e(or,[2,253]),{40:1815,79:75,89:c,184:99,189:p},e(or,[2,254]),{40:1816,79:75,89:c,184:99,189:p},e(ts,[2,271]),{131:se,196:1817},{253:[1,1818]},{253:[2,1103]},e(ls,[2,243]),e(Ti,[2,249],{114:625,329:637,99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1662,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,233:1819,235:1658,236:as,237:ns,238:rs,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{74:os,78:[1,1820]},{74:os,78:[1,1821]},e(jr,[2,1056],{97:1822,104:1823,3:1825,2:a,4:r,5:i,76:us}),{2:a,3:168,4:r,5:i,56:165,77:ie,94:1828,103:1826,105:1827,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:1011,4:r,5:i,100:1829,111:1440},e(Bi,[2,215]),e(Ai,[2,173]),{2:a,3:1830,4:r,5:i},e(Ai,[2,175]),{2:a,3:1831,4:r,5:i},e(hn,[2,554]),e(hn,[2,1129]),e(hn,[2,552]),{78:[1,1832]},e(hn,[2,566]),{77:[1,1833]},{77:[2,1121]},{2:a,3:1835,4:r,5:i,132:ds,374:1834},{77:[1,1837]},{77:[2,1127]},{2:a,3:1011,4:r,5:i,100:1838,111:1440},{2:a,3:1011,4:r,5:i,100:1839,111:1440},e(W,[2,615]),e(W,[2,724]),{345:[1,1841],346:[1,1840]},{341:es,464:1842},{337:Hi,340:Ji,463:1843},e(or,[2,252]),{40:1844,79:75,89:c,184:99,189:p},e(or,[2,255]),e(or,[2,257]),e(or,[2,258]),e(ts,[2,274]),{131:[2,1104],254:1845,647:[1,1846]},{74:os,78:[1,1847]},e(ls,[2,245]),e(ls,[2,246]),e(jr,[2,74]),e(jr,[2,1057]),{2:a,3:1848,4:r,5:i},e(jr,[2,78]),{74:[1,1850],78:[1,1849]},e(si,[2,80]),e(si,[2,81],{114:625,329:637,76:[1,1851],99:St,112:Et,115:Tt,116:At,123:Ct,124:mn,133:Nt,136:xt,138:Ot,139:Rt,140:It,141:kt,142:Mt,154:Lt,170:Dt,171:$t,179:Ft,180:_t,313:Pt,314:jt,315:Ut,317:Vt,318:Ht,319:Jt,320:qt,321:Bt,322:Gt,323:zt,324:Yt,325:Wt,326:Kt,327:Xt,328:Qt,332:Zt,333:ea,334:ta,335:aa}),{74:ni,78:[1,1852]},e(Ai,[2,174]),e(Ai,[2,176]),e(hn,[2,556]),{2:a,3:1835,4:r,5:i,132:ds,374:1853},{74:hs,78:[1,1854]},e(si,[2,531]),e(si,[2,532]),{2:a,3:1011,4:r,5:i,100:1856,111:1440},{74:ni,78:[1,1857]},{74:ni,78:[1,1858]},{77:rr,143:ce,144:979,145:Xe,152:he,181:ge,201:980,304:Fe,344:1859,421:190,422:Ue,426:Ve},{346:[1,1860]},e(oi,[2,713]),e(oi,[2,715]),e(or,[2,256]),{131:se,196:1861},{131:[2,1105]},e(ls,[2,244]),e(jr,[2,77]),{78:[2,76]},{2:a,3:168,4:r,5:i,56:165,77:ie,94:1828,105:1862,111:149,113:153,131:se,132:oe,137:le,143:ce,144:161,145:ue,149:de,152:he,154:pe,156:K,158:167,179:fe,180:me,181:ge,196:151,200:147,201:155,202:156,244:be,245:ve,258:150,259:146,260:148,261:152,262:154,263:157,264:158,265:159,266:162,267:163,269:ye,270:f,274:Se,275:Ee,277:Te,284:Ae,285:Ce,286:we,287:Ne,288:xe,289:Oe,290:Re,292:X,293:Q,294:Z,295:ee,296:Ie,297:ke,298:Me,299:Le,300:De,301:$e,304:Fe,305:_e,314:Pe,319:je,421:190,422:Ue,426:Ve},{2:a,3:1863,4:r,5:i},{78:[1,1864]},{74:hs,78:[1,1865]},{376:[1,1866]},{2:a,3:1867,4:r,5:i,132:[1,1868]},{74:ni,78:[1,1869]},e(yn,[2,529]),e(yn,[2,530]),e(oi,[2,717],{74:$r}),e(oi,[2,719]),e(ps,[2,1106],{255:1870,767:[1,1871]}),e(si,[2,79]),e(si,[2,82]),e(jr,[2,1058],{3:1825,101:1872,104:1873,2:a,4:r,5:i,76:us}),e(yn,[2,521]),{2:a,3:244,4:r,5:i,199:1874},e(si,[2,533]),e(si,[2,534]),e(yn,[2,528]),e(ts,[2,1108],{256:1875,417:[1,1876]}),e(ps,[2,1107]),e(jr,[2,75]),e(jr,[2,1059]),e(fs,[2,1122],{377:1877,379:1878,77:[1,1879]}),e(ts,[2,272]),e(ts,[2,1109]),e(yn,[2,524],{378:1880,380:1881,230:[1,1882]}),e(fs,[2,1123]),{2:a,3:1835,4:r,5:i,132:ds,374:1883},e(yn,[2,522]),{230:[1,1885],381:1884},{340:[1,1886]},{74:hs,78:[1,1887]},e(yn,[2,525]),{337:[1,1888]},{382:[1,1889]},e(fs,[2,523]),{382:[1,1890]},{383:[1,1891]},{383:[1,1892]},{230:[2,526]},e(yn,[2,527])],defaultActions:{105:[2,6],194:[2,339],195:[2,340],196:[2,341],197:[2,342],198:[2,343],199:[2,344],200:[2,345],201:[2,346],202:[2,347],209:[2,698],591:[2,1145],653:[2,1110],654:[2,1111],710:[2,699],780:[2,1076],781:[2,1077],926:[2,449],927:[2,450],928:[2,451],987:[2,700],1288:[2,1155],1375:[2,1063],1433:[2,1153],1541:[2,510],1736:[2,1055],1781:[2,1103],1801:[2,1121],1804:[2,1127],1846:[2,1105],1849:[2,76],1891:[2,526]},parseError:function(e,t){if(!t.recoverable){var a=new Error(e);throw a.hash=t,a}this.trace(e)},parse:function(e){var t,a=this,n=[0],r=[null],i=[],s=this.table,o="",l=0,c=0,u=0,d=i.slice.call(arguments,1),h=Object.create(this.lexer),p={yy:{}};for(t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,t)&&(p.yy[t]=this.yy[t]);h.setInput(e,p.yy),p.yy.lexer=h,p.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var f=h.yylloc;i.push(f);var m=h.options&&h.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,b,v,y,S,E,T,A=function(){var e=h.lex()||1;return"number"!=typeof e&&(e=a.symbols_[e]||e),e},C={};;){if(v=n[n.length-1],void 0===(S=this.defaultActions[v]||(null==g&&(g=A()),s[v]&&s[v][g]))||!S.length||!S[0]){var w,N="",x=function(e){for(var t=n.length-1,a=0;;){if(2..toString()in s[e])return a;if(0===e||t<2)return!1;e=n[t-=2],++a}};if(u)1!==b&&(w=x(v));else{for(y in w=x(v),E=[],s[v])this.terminals_[y]&&2<y&&E.push("'"+this.terminals_[y]+"'");N=h.showPosition?"Parse error on line "+(l+1)+":\n"+h.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(N,{text:h.match,token:this.terminals_[g]||g,line:h.yylineno,loc:f,expected:E,recoverable:!1!==w})}if(3==u){if(1===g||1===b)throw new Error(N||"Parsing halted while starting to recover from another error.");c=h.yyleng,o=h.yytext,l=h.yylineno,f=h.yylloc,g=A()}if(!1===w)throw new Error(N||"Parsing halted. No suitable error recovery rule available.");T=w,n.length=n.length-2*T,r.length=r.length-T,i.length=i.length-T,b=2==g?null:g,g=2,v=n[n.length-1],S=s[v]&&s[v][2],u=3}if(S[0]instanceof Array&&1<S.length)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+g);switch(S[0]){case 1:n.push(g),r.push(h.yytext),i.push(h.yylloc),n.push(S[1]),g=null,b?(g=b,b=null):(c=h.yyleng,o=h.yytext,l=h.yylineno,f=h.yylloc,0<u&&u--);break;case 2:if(N=this.productions_[S[1]][1],C.$=r[r.length-N],C._$={first_line:i[i.length-(N||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(N||1)].first_column,last_column:i[i.length-1].last_column},m&&(C._$.range=[i[i.length-(N||1)].range[0],i[i.length-1].range[1]]),void 0!==(v=this.performAction.apply(C,[o,c,l,p.yy,S[1],r,i].concat(d))))return v;N&&(n=n.slice(0,-1*N*2),r=r.slice(0,-1*N),i=i.slice(0,-1*N)),n.push(this.productions_[S[1]][0]),r.push(C.$),i.push(C._$),S=s[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},["A","ABSENT","ABSOLUTE","ACCORDING","ACTION","ADA","ADD","ADMIN","AFTER","ALWAYS","ASC","ASSERTION","ASSIGNMENT","ATTRIBUTE","ATTRIBUTES","BASE64","BEFORE","BERNOULLI","BLOCKED","BOM","BREADTH","C","CASCADE","CATALOG","CATALOG_NAME","CHAIN","CHARACTERISTICS","CHARACTERS","CHARACTER_SET_CATALOG","CHARACTER_SET_NAME","CHARACTER_SET_SCHEMA","CLASS_ORIGIN","COBOL","COLLATION","COLLATION_CATALOG","COLLATION_NAME","COLLATION_SCHEMA","COLUMNS","COLUMN_NAME","COMMAND_FUNCTION","COMMAND_FUNCTION_CODE","COMMITTED","CONDITION_NUMBER","CONNECTION","CONNECTION_NAME","CONSTRAINTS","CONSTRAINT_CATALOG","CONSTRAINT_NAME","CONSTRAINT_SCHEMA","CONSTRUCTOR","CONTENT","CONTINUE","CONTROL","CURSOR_NAME","DATA","DATETIME_INTERVAL_CODE","DATETIME_INTERVAL_PRECISION","DB","DEFAULTS","DEFERRABLE","DEFERRED","DEFINED","DEFINER","DEGREE","DEPTH","DERIVED","DESC","DESCRIPTOR","DIAGNOSTICS","DISPATCH","DOCUMENT","DOMAIN","DYNAMIC_FUNCTION","DYNAMIC_FUNCTION_CODE","EMPTY","ENCODING","ENFORCED","EXCLUDE","EXCLUDING","EXPRESSION","FILE","FINAL","FIRST","FLAG","FOLLOWING","FORTRAN","FOUND","FS","G","GENERAL","GENERATED","GO","GOTO","GRANTED","HEX","HIERARCHY","ID","IGNORE","IMMEDIATE","IMMEDIATELY","IMPLEMENTATION","INCLUDING","INCREMENT","INDENT","INITIALLY","INPUT","INSTANCE","INSTANTIABLE","INSTEAD","INTEGRITY","INVOKER","ISOLATION","K","KEY","KEY_MEMBER","KEY_TYPE","LAST","LENGTH","LEVEL","LIBRARY","LIMIT","LINK","LOCATION","LOCATOR","M","MAP","MAPPING","MATCHED","MAXVALUE","MESSAGE_LENGTH","MESSAGE_OCTET_LENGTH","MESSAGE_TEXT","MINVALUE","MORE","MUMPS","NAME","NAMES","NAMESPACE","NESTING","NEXT","NFC","NFD","NFKC","NFKD","NIL","NORMALIZED","NULLABLE","NULLS","NUMBER","OBJECT","OCTETS","OFF","OPTION","OPTIONS","ORDERING","ORDINALITY","OTHERS","OUTPUT","OVERRIDING","P","PAD","PARAMETER_MODE","PARAMETER_NAME","PARAMETER_ORDINAL_POSITION","PARAMETER_SPECIFIC_CATALOG","PARAMETER_SPECIFIC_NAME","PARAMETER_SPECIFIC_SCHEMA","PARTIAL","PASCAL","PASSING","PASSTHROUGH","PATH","PERMISSION","PLACING","PLI","PRECEDING","PRESERVE","PRIOR","PRIVILEGES","PUBLIC","READ","RECOVERY","RELATIVE","REPEATABLE","REQUIRING","RESPECT","RESTART","RESTORE","RESTRICT","RETURNED_CARDINALITY","RETURNED_LENGTH","RETURNED_OCTET_LENGTH","RETURNED_SQLSTATE","RETURNING","ROLE","ROUTINE","ROUTINE_CATALOG","ROUTINE_NAME","ROUTINE_SCHEMA","ROW_COUNT","SCALE","SCHEMA","SCHEMA_NAME","SCOPE_CATALOG","SCOPE_NAME","SCOPE_SCHEMA","SECTION","SECURITY","SELECTIVE","SELF","SEQUENCE","SERIALIZABLE","SERVER","SERVER_NAME","SESSION","SETS","SIMPLE","SIZE","SOURCE","SPACE","SPECIFIC_NAME","STANDALONE","STATE","STATEMENT","STRIP","STRUCTURE","STYLE","SUBCLASS_ORIGIN","T","TABLE_NAME","TEMPORARY","TIES","TOKEN","TOP_LEVEL_COUNT","TRANSACTION","TRANSACTIONS_COMMITTED","TRANSACTIONS_ROLLED_BACK","TRANSACTION_ACTIVE","TRANSFORM","TRANSFORMS","TRIGGER_CATALOG","TRIGGER_NAME","TRIGGER_SCHEMA","TYPE","UNBOUNDED","UNCOMMITTED","UNDER","UNLINK","UNNAMED","UNTYPED","URI","USAGE","USER_DEFINED_TYPE_CATALOG","USER_DEFINED_TYPE_CODE","USER_DEFINED_TYPE_NAME","USER_DEFINED_TYPE_SCHEMA","VALID","VERSION","VIEW","WHITESPACE","WORK","WRAPPER","WRITE","XMLDECLARATION","XMLSCHEMA","YES","ZONE"]);function gs(){this.yy={}}return e.parseError=function(e,t){if(!(t.expected&&-1<t.expected.indexOf("'LITERAL'")&&/[a-zA-Z_][a-zA-Z_0-9]*/.test(t.token)&&-1<ms.indexOf(t.token)))throw new SyntaxError(e)},yn={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,a=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);return this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),a.length-1&&(this.yylineno-=a.length-1),e=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:a?(a.length===n.length?this.yylloc.first_column:0)+n[n.length-a.length].length-a[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var a,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(a=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t)return t;if(this._backtrack){for(var r in n)this[r]=n[r];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,a,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),i=0;i<r.length;i++)if((a=this._input.match(this.rules[r[i]]))&&(!t||a[0].length>t[0].length))if(t=a,n=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(a,r[i])))return e;if(!this._backtrack)return!1;t=!1}else if(!this.options.flex)break;return t?!1!==(e=this.test_match(t,r[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL).rules},topState:function(e){return 0<=(e=this.conditionStack.length-1-Math.abs(e||0))?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,a){switch(a){case 0:return 270;case 1:return 304;case 2:return 422;case 3:return 301;case 4:case 5:return 5;case 6:case 7:return 298;case 8:case 9:return 132;case 10:return;case 11:break;case 12:return 318;case 13:case 245:return 321;case 14:return t.yytext="VALUE",89;case 15:return t.yytext="VALUE",189;case 16:return t.yytext="ROW",189;case 17:return t.yytext="COLUMN",189;case 18:return t.yytext="MATRIX",189;case 19:return t.yytext="INDEX",189;case 20:return t.yytext="RECORDSET",189;case 21:return t.yytext="TEXT",189;case 22:return t.yytext="SELECT",189;case 23:return 522;case 24:return 383;case 25:return 404;case 26:return 517;case 27:return 289;case 28:case 29:return 273;case 30:return 164;case 31:return 402;case 32:return 170;case 33:return 229;case 34:return 166;case 35:return 207;case 36:return 290;case 37:return 76;case 38:return 420;case 39:case 84:return 246;case 40:return 406;case 41:case 114:return 358;case 42:return 288;case 43:return 516;case 44:return 439;case 45:return 332;case 46:return 443;case 47:return 333;case 48:case 51:case 53:case 55:return 317;case 49:return 119;case 50:case 52:case 54:case 131:return 112;case 56:case 95:case 96:return 510;case 57:return 305;case 58:return 275;case 59:return 370;case 60:return 130;case 61:return"CLOSE";case 62:return 247;case 63:case 64:return 190;case 65:return 436;case 66:return 369;case 67:return 472;case 68:return 442;case 69:return 277;case 70:return 240;case 71:return 285;case 72:return 271;case 73:return 206;case 74:return 238;case 75:return 269;case 76:return"CURSOR";case 77:case 189:return 407;case 78:return 293;case 79:return 294;case 80:return 450;case 81:return 345;case 82:return 340;case 83:return"DELETED";case 85:return 408;case 86:return 185;case 87:return 398;case 88:return 449;case 89:return 135;case 90:return 308;case 91:return 391;case 92:return 312;case 93:return 316;case 94:case 139:return 169;case 97:return 300;case 98:return 14;case 99:return 297;case 100:return 253;case 101:return 244;case 102:return 95;case 103:return 375;case 104:return 183;case 105:return 227;case 106:return 272;case 107:return 315;case 108:return 604;case 109:return 474;case 110:return 232;case 111:return 236;case 112:return 239;case 113:return 156;case 115:return 334;case 116:return 99;case 117:return 193;case 118:return 212;case 119:return 224;case 120:return 518;case 121:return 341;case 122:return 213;case 123:return 168;case 124:return 295;case 125:return 198;case 126:return 223;case 127:return 372;case 128:return 245;case 129:return"LET";case 130:return 225;case 132:return 249;case 133:return 462;case 134:return 191;case 135:return 287;case 136:return 392;case 137:return 286;case 138:return 454;case 140:return 405;case 141:return 222;case 142:return 647;case 143:return 274;case 144:return 248;case 145:return 382;case 146:return 154;case 147:return 299;case 148:return 243;case 149:return 435;case 150:return 230;case 151:return 417;case 152:return 129;case 153:return 251;case 154:return"OPEN";case 155:return 418;case 156:return 171;case 157:return 118;case 158:return 208;case 159:return 280;case 160:return 172;case 161:return 283;case 162:return 766;case 163:return 93;case 164:return 16;case 165:return 371;case 166:return 444;case 167:return 679;case 168:return 15;case 169:return 416;case 170:return 194;case 171:return"REDUCE";case 172:return 376;case 173:return 313;case 174:return 519;case 175:return 683;case 176:return 107;case 177:return 403;case 178:return 175;case 179:return 292;case 180:return 445;case 181:return 688;case 182:case 183:return 173;case 184:return 226;case 185:return 438;case 186:return 237;case 187:return 150;case 188:return 767;case 190:return 89;case 191:return 228;case 192:case 193:return 146;case 194:return 411;case 195:return 336;case 196:return 419;case 197:return"STRATEGY";case 198:return"STORE";case 199:return 284;case 200:case 201:return 355;case 202:return 465;case 203:case 204:return 359;case 205:return 192;case 206:return 311;case 207:return"TIMEOUT";case 208:return 148;case 209:return 195;case 210:case 211:case 229:return 437;case 212:return 511;case 213:return 296;case 214:return 453;case 215:return 162;case 216:return 187;case 217:return 98;case 218:return 337;case 219:return 410;case 220:return 231;case 221:return 149;case 222:return 346;case 223:return 134;case 224:return 412;case 225:return 310;case 226:return 128;case 227:return 441;case 228:return 72;case 230:case 231:return 131;case 232:return 115;case 233:return 137;case 234:return 179;case 235:return 319;case 236:return 180;case 237:return 133;case 238:return 138;case 239:return 328;case 240:return 325;case 241:return 327;case 242:return 324;case 243:return 322;case 244:return 320;case 246:return 142;case 247:return 141;case 248:return 139;case 249:return 323;case 250:case 253:return 326;case 251:return 140;case 252:return 124;case 254:return 77;case 255:return 78;case 256:return 145;case 257:return 426;case 258:return 428;case 259:return 302;case 260:return 507;case 261:return 509;case 262:return 122;case 263:return 116;case 264:return 74;case 265:return 335;case 266:return 152;case 267:return 765;case 268:return 143;case 269:return 181;case 270:return 136;case 271:return 123;case 272:return 314;case 273:return 4;case 274:return 10;case 275:return"INVALID"}},rules:[/^(?:``([^\`])+``)/i,/^(?:\[\?\])/i,/^(?:@\[)/i,/^(?:ARRAY\[)/i,/^(?:\[([^\]'])*?\])/i,/^(?:`([^\`'])*?`)/i,/^(?:N(['](\\.|[^']|\\')*?['])+)/i,/^(?:X(['](\\.|[^']|\\')*?['])+)/i,/^(?:(['](\\.|[^']|\\')*?['])+)/i,/^(?:(["](\\.|[^"]|\\")*?["])+)/i,/^(?:--(.*?)($|\r\n|\r|\n))/i,/^(?:\s+)/i,/^(?:\|\|)/i,/^(?:\|)/i,/^(?:VALUE\s+OF\s+SEARCH\b)/i,/^(?:VALUE\s+OF\s+SELECT\b)/i,/^(?:ROW\s+OF\s+SELECT\b)/i,/^(?:COLUMN\s+OF\s+SELECT\b)/i,/^(?:MATRIX\s+OF\s+SELECT\b)/i,/^(?:INDEX\s+OF\s+SELECT\b)/i,/^(?:RECORDSET\s+OF\s+SELECT\b)/i,/^(?:TEXT\s+OF\s+SELECT\b)/i,/^(?:SELECT\b)/i,/^(?:ABSOLUTE\b)/i,/^(?:ACTION\b)/i,/^(?:ADD\b)/i,/^(?:AFTER\b)/i,/^(?:AGGR\b)/i,/^(?:AGGREGATE\b)/i,/^(?:AGGREGATOR\b)/i,/^(?:ALL\b)/i,/^(?:ALTER\b)/i,/^(?:AND\b)/i,/^(?:ANTI\b)/i,/^(?:ANY\b)/i,/^(?:APPLY\b)/i,/^(?:ARRAY\b)/i,/^(?:AS\b)/i,/^(?:ASSERT\b)/i,/^(?:ASC\b)/i,/^(?:ATTACH\b)/i,/^(?:AUTO(_)?INCREMENT\b)/i,/^(?:AVG\b)/i,/^(?:BEFORE\b)/i,/^(?:BEGIN\b)/i,/^(?:BETWEEN\b)/i,/^(?:BREAK\b)/i,/^(?:NOT\s+BETWEEN\b)/i,/^(?:NOT\s+LIKE\b)/i,/^(?:BY\b)/i,/^(?:~~\*)/i,/^(?:!~~\*)/i,/^(?:~~)/i,/^(?:!~~)/i,/^(?:ILIKE\b)/i,/^(?:NOT\s+ILIKE\b)/i,/^(?:CALL\b)/i,/^(?:CASE\b)/i,/^(?:CAST\b)/i,/^(?:CHECK\b)/i,/^(?:CLASS\b)/i,/^(?:CLOSE\b)/i,/^(?:COLLATE\b)/i,/^(?:COLUMN\b)/i,/^(?:COLUMNS\b)/i,/^(?:COMMIT\b)/i,/^(?:CONSTRAINT\b)/i,/^(?:CONTENT\b)/i,/^(?:CONTINUE\b)/i,/^(?:CONVERT\b)/i,/^(?:CORRESPONDING\b)/i,/^(?:COUNT\b)/i,/^(?:CREATE\b)/i,/^(?:CROSS\b)/i,/^(?:CUBE\b)/i,/^(?:CURRENT_TIMESTAMP\b)/i,/^(?:CURSOR\b)/i,/^(?:DATABASE(S)?)/i,/^(?:DATEADD\b)/i,/^(?:DATEDIFF\b)/i,/^(?:DECLARE\b)/i,/^(?:DEFAULT\b)/i,/^(?:DELETE\b)/i,/^(?:DELETED\b)/i,/^(?:DESC\b)/i,/^(?:DETACH\b)/i,/^(?:DISTINCT\b)/i,/^(?:DROP\b)/i,/^(?:ECHO\b)/i,/^(?:EDGE\b)/i,/^(?:END\b)/i,/^(?:ENUM\b)/i,/^(?:ELSE\b)/i,/^(?:ESCAPE\b)/i,/^(?:EXCEPT\b)/i,/^(?:EXEC\b)/i,/^(?:EXECUTE\b)/i,/^(?:EXISTS\b)/i,/^(?:EXPLAIN\b)/i,/^(?:FALSE\b)/i,/^(?:FETCH\b)/i,/^(?:FIRST\b)/i,/^(?:FOR\b)/i,/^(?:FOREIGN\b)/i,/^(?:FROM\b)/i,/^(?:FULL\b)/i,/^(?:FUNCTION\b)/i,/^(?:GLOB\b)/i,/^(?:GO\b)/i,/^(?:GRAPH\b)/i,/^(?:GROUP\b)/i,/^(?:GROUPING\b)/i,/^(?:HAVING\b)/i,/^(?:IF\b)/i,/^(?:IDENTITY\b)/i,/^(?:IS\b)/i,/^(?:IN\b)/i,/^(?:INDEX\b)/i,/^(?:INDEXED\b)/i,/^(?:INNER\b)/i,/^(?:INSTEAD\b)/i,/^(?:INSERT\b)/i,/^(?:INSERTED\b)/i,/^(?:INTERSECT\b)/i,/^(?:INTERVAL\b)/i,/^(?:INTO\b)/i,/^(?:JOIN\b)/i,/^(?:KEY\b)/i,/^(?:LAST\b)/i,/^(?:LET\b)/i,/^(?:LEFT\b)/i,/^(?:LIKE\b)/i,/^(?:LIMIT\b)/i,/^(?:MATCHED\b)/i,/^(?:MATRIX\b)/i,/^(?:MAX(\s+)?(?=\())/i,/^(?:MAX(\s+)?(?=(,|\))))/i,/^(?:MIN(\s+)?(?=\())/i,/^(?:MERGE\b)/i,/^(?:MINUS\b)/i,/^(?:MODIFY\b)/i,/^(?:NATURAL\b)/i,/^(?:NEXT\b)/i,/^(?:NEW\b)/i,/^(?:NOCASE\b)/i,/^(?:NO\b)/i,/^(?:NOT\b)/i,/^(?:NULL\b)/i,/^(?:NULLS\b)/i,/^(?:OFF\b)/i,/^(?:ON\b)/i,/^(?:ONLY\b)/i,/^(?:OF\b)/i,/^(?:OFFSET\b)/i,/^(?:OPEN\b)/i,/^(?:OPTION\b)/i,/^(?:OR\b)/i,/^(?:ORDER\b)/i,/^(?:OUTER\b)/i,/^(?:OVER\b)/i,/^(?:PATH\b)/i,/^(?:PARTITION\b)/i,/^(?:PERCENT\b)/i,/^(?:PIVOT\b)/i,/^(?:PLAN\b)/i,/^(?:PRIMARY\b)/i,/^(?:PRINT\b)/i,/^(?:PRIOR\b)/i,/^(?:QUERY\b)/i,/^(?:READ\b)/i,/^(?:RECORDSET\b)/i,/^(?:REDUCE\b)/i,/^(?:REFERENCES\b)/i,/^(?:REGEXP\b)/i,/^(?:REINDEX\b)/i,/^(?:RELATIVE\b)/i,/^(?:REMOVE\b)/i,/^(?:RENAME\b)/i,/^(?:REPEAT\b)/i,/^(?:REPLACE\b)/i,/^(?:REQUIRE\b)/i,/^(?:RESTORE\b)/i,/^(?:RETURN\b)/i,/^(?:RETURNS\b)/i,/^(?:RIGHT\b)/i,/^(?:ROLLBACK\b)/i,/^(?:ROLLUP\b)/i,/^(?:ROW\b)/i,/^(?:ROWS\b)/i,/^(?:SCHEMA(S)?)/i,/^(?:SEARCH\b)/i,/^(?:SEMI\b)/i,/^(?:SET\b)/i,/^(?:SETS\b)/i,/^(?:SHOW\b)/i,/^(?:SOME\b)/i,/^(?:SOURCE\b)/i,/^(?:STRATEGY\b)/i,/^(?:STORE\b)/i,/^(?:SUM\b)/i,/^(?:TABLE\b)/i,/^(?:TABLES\b)/i,/^(?:TARGET\b)/i,/^(?:TEMP\b)/i,/^(?:TEMPORARY\b)/i,/^(?:TEXTSTRING\b)/i,/^(?:THEN\b)/i,/^(?:TIMEOUT\b)/i,/^(?:TO\b)/i,/^(?:TOP\b)/i,/^(?:TRAN\b)/i,/^(?:TRANSACTION\b)/i,/^(?:TRIGGER\b)/i,/^(?:TRUE\b)/i,/^(?:TRUNCATE\b)/i,/^(?:UNION\b)/i,/^(?:UNIQUE\b)/i,/^(?:UNPIVOT\b)/i,/^(?:UPDATE\b)/i,/^(?:USE\b)/i,/^(?:USING\b)/i,/^(?:VALUE\b)/i,/^(?:VALUES\b)/i,/^(?:VERTEX\b)/i,/^(?:VIEW\b)/i,/^(?:WHEN\b)/i,/^(?:WHERE\b)/i,/^(?:WHILE\b)/i,/^(?:WITH\b)/i,/^(?:WORK\b)/i,/^(?:(\d*[.])?\d+[eE]\d+)/i,/^(?:(\d*[.])?\d+)/i,/^(?:->)/i,/^(?:#)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:\*)/i,/^(?:\/)/i,/^(?:%)/i,/^(?:!===)/i,/^(?:===)/i,/^(?:!==)/i,/^(?:==)/i,/^(?:>=)/i,/^(?:&)/i,/^(?:\|)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:<>)/i,/^(?:<)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:\()/i,/^(?:\))/i,/^(?:@)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:\])/i,/^(?::-)/i,/^(?:\?-)/i,/^(?:\.\.)/i,/^(?:\.)/i,/^(?:,)/i,/^(?:::)/i,/^(?::)/i,/^(?:;)/i,/^(?:\$)/i,/^(?:\?)/i,/^(?:!)/i,/^(?:\^)/i,/^(?:~)/i,/^(?:[0-9]*[a-zA-Z_]+[a-zA-Z_0-9]*)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275],inclusive:!0}}},e.lexer=yn,new((gs.prototype=e).Parser=gs)}();void 0!==r&&void 0!==t&&(t.parser=l,t.Parser=l.Parser,t.parse=function(){return l.parse.apply(l,arguments)},t.main=function(e){return e[1]||process.exit(1),e=r().readFileSync(r().normalize(e[1]),"utf8"),t.parser.parse(e)},r.main===e&&t.main(process.argv.slice(1))),n.prettyflag=!1,n.pretty=function(e,t){var a=n.prettyflag;return n.prettyflag=!t,e=n.parse(e).toString(),n.prettyflag=a,e};var c=n.utils={};function u(e){return"(y="+e+",y===y?y:undefined)"}function d(e,t){return"(y="+e+',typeof y=="undefined"?undefined:'+t+")"}function h(){return!0}function p(){}function f(e){return e[0]===String.fromCharCode(65279)&&(e=e.substr(1)),e}var m=c.escapeq=function(e){return(""+e).replace(/["'\\\n\r\u2028\u2029]/g,(function(e){switch(e){case'"':case"'":case"\\":return"\\"+e;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))},g=c.undoubleq=function(e){return e.replace(/(\')/g,"''")},b=c.doubleq=function(e){return e.replace(/(\'\')/g,"\\'")};c.doubleqq=function(e){return e.replace(/\'/g,"'")},c.global="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==a.g?a.g:Function("return this")(),c.isNativeFunction=function(e){return"function"==typeof e&&!!~e.toString().indexOf("[native code]")},c.isWebWorker=function(){try{var e=c.global.importScripts;return c.isNativeFunction(e)}catch(e){return!1}}(),c.isNode=function(){try{return c.isNativeFunction(c.global.process.reallyExit)}catch(e){return!1}}(),c.isBrowser=function(){try{return c.isNativeFunction(c.global.location.reload)}catch(e){return!1}}(),c.isBrowserify=c.isBrowser&&"undefined"!=typeof process&&process.browser,c.isRequireJS=c.isBrowser&&"function"==typeof r.specified,c.isMeteor="undefined"!=typeof Meteor&&Meteor.release,c.isMeteorClient=c.isMeteorClient=c.isMeteor&&Meteor.isClient,c.isMeteorServer=c.isMeteor&&Meteor.isServer,c.isCordova="object"==typeof cordova,c.isReactNative=!1,c.hasIndexedDB=!!c.global.indexedDB,c.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)};var v=c.loadFile=function(e,t,a,n){var r,i;c.isNode||c.isMeteorServer||(c.isCordova?c.global.requestFileSystem(LocalFileSystem.PERSISTENT,0,(function(t){t.root.getFile(e,{create:!1},(function(e){e.file((function(e){var t=new FileReader;t.onloadend=function(e){a(f(this.result))},t.readAsText(e)}))}))})):"string"==typeof e?"#"===e.substr(0,1)&&"undefined"!=typeof document?(i=document.querySelector(e).textContent,a(i)):((r=new XMLHttpRequest).onreadystatechange=function(){if(4===r.readyState)if(200===r.status)a&&a(f(r.responseText));else if(n)return n(r)},r.open("GET",e,t),r.responseType="text",r.send()):e instanceof Event&&(i=e.target.files,t=new FileReader,i[0].name,t.onload=function(e){e=e.target.result,a(f(e))},t.readAsText(i[0])))};function y(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("msie")&&parseInt(e.split("msie")[1])}c.loadBinaryFile=function(e,t,a,n){var r,i;c.isNode||c.isMeteorServer||("string"==typeof e?((r=new XMLHttpRequest).open("GET",e,t),r.responseType="arraybuffer",r.onload=function(){for(var e=new Uint8Array(r.response),t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);a(t.join(""))},r.send()):e instanceof Event?(i=e.target.files,t=new FileReader,i[0].name,t.onload=function(e){e=e.target.result,a(e)},t.readAsArrayBuffer(i[0])):e instanceof Blob&&a(e))},c.removeFile=function(e,t){if(!c.isNode)throw new Error("You can remove files only in Node.js and Apache Cordova")},c.deleteFile=function(e,t){},c.autoExtFilename=function(e,t,a){return a=a||{},"string"!=typeof e||e.match(/^[A-z]+:\/\/|\n|\..{2,4}$/)||0===a.autoExt||!1===a.autoExt?e:e+"."+t},c.fileExists=function(e,t){if(!c.isNode)throw new Error("You can use exists() only in Node.js or Apach Cordova")},c.saveFile=function(e,t,a,r){var i,s,o=1;return void 0===e?(o=t,a&&(o=a(o))):c.isNode||(9===y()?(i=(i=(i=t.replace(/\r\n/g,"&#A;&#D;")).replace(/\n/g,"&#D;")).replace(/\t/g,"&#9;"),(s=c.global.open("about:blank","_blank")).document.write(i),s.document.close(),s.document.execCommand("SaveAs",!1,e),s.close()):(s={disableAutoBom:!1},n.utils.extend(s,r),t=new Blob([t],{type:"text/plain;charset=utf-8"}),ue(t,e,s.disableAutoBom),a&&(o=a(o)))),o};var S=c.hash=function(e){for(var t=2166136261,a=e.length;a;)t^=e.charCodeAt(--a),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t},E=c.arrayUnion=function(e,t){var a=t.slice(0);return e.forEach((function(e){a.indexOf(e)<0&&a.push(e)})),a},T=c.arrayDiff=function(e,t){return e.filter((function(e){return t.indexOf(e)<0}))},A=c.arrayIntersect=function(e,t){var a=[];return e.forEach((function(e){var n=!1;t.forEach((function(t){n=n||e===t})),n&&a.push(e)})),a},C=c.arrayUnionDeep=function(e,t){var a=t.slice(0);return e.forEach((function(e){var t=!1;a.forEach((function(a){t=t||O(e,a)})),t||a.push(e)})),a},w=c.arrayExceptDeep=function(e,t){var a=[];return e.forEach((function(e){var n=!1;t.forEach((function(t){n=n||O(e,t)})),n||a.push(e)})),a},N=c.arrayIntersectDeep=function(e,t){var a=[];return e.forEach((function(e){var n=!1;t.forEach((function(t){n=n||O(e,t,!0)})),n&&a.push(e)})),a},x=c.cloneDeep=function e(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Date)return new Date(t);if(t instanceof String)return t.toString();if(t instanceof Number)return+t;var a,n=t.constructor();for(a in t)t.hasOwnProperty(a)&&(n[a]=e(t[a]));return n},O=c.deepEqual=function(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a in e)if(!O(e[a],t[a]))return!1;return!0},R=c.distinctArray=function(e){for(var t={},a=0,n=e.length;a<n;a++){var r="object"==typeof e[a]?Object.keys(e[a]).sort().map((function(t){return t+"`"+e[a][t]})).join("`"):e[a];t[r]=e[a]}var i,s=[];for(i in t)s.push(t[i]);return s},I=c.extend=function(e,t){for(var a in e=e||{},t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},k=c.getValueOf=function(e){return"object"==typeof e&&(e instanceof String||e instanceof Number)?e.valueOf():e},M=c.flatArray=function(e){if(!e||0===e.length)return[];if("object"==typeof e&&e instanceof n.Recordset)return e.data.map((function(t){return k(t[e.columns[0].columnid])}));var t=Object.keys(e[0])[0];return void 0===t?[]:e.map((function(e){return e[t]}))};function L(){var e=n.private.externalXlsxLib;if(e)return e;if(c.isNode||c.isBrowserify||c.isMeteorServer||(e=c.global.XLSX||null),null===e)throw new Error("Please include the xlsx.js library");return e}function D(e,t,a,r){return new c.global.Promise((function(i,s){n(e,t,(function(e,t){t?s(t):(a&&r&&!1!==n.options.progress&&n.options.progress(a,r),i(e))}))}))}c.arrayOfArrays=function(e){return e.map((function(e){var t,a=[];for(t in e)a.push(e[t]);return a}))},Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),c.xlsnc=function(e){var t=String.fromCharCode(65+e%26);return 26<=e&&(e=(e/26|0)-1,t=String.fromCharCode(65+e%26)+t,26<e&&(e=(e/26|0)-1,t=String.fromCharCode(65+e%26)+t)),t},c.xlscn=function(e){var t=e.charCodeAt(0)-65;return 1<e.length&&(t=26*(t+1)+e.charCodeAt(1)-65,2<e.length&&(t=26*(t+1)+e.charCodeAt(2)-65)),t},c.domEmptyChildren=function(e){for(var t=e.childNodes.length;t--;)e.removeChild(e.lastChild)},c.like=function(e,t,a){a=a||"";for(var n=0,r="^";n<e.length;){var i=e[n],s="";n<e.length-1&&(s=e[n+1]),i===a?(r+="\\"+s,n++):"["===i&&"^"===s?(r+="[^",n++):"["===i||"]"===i?r+=i:"%"===i?r+=".*":"_"===i?r+=".":-1<"/.*+?|(){}".indexOf(i)?r+="\\"+i:r+=i,n++}return r+="$",-1<(""+(t||"")).toUpperCase().search(RegExp(r.toUpperCase()))},c.glob=function(e,t){for(var a=0,n="^";a<t.length;){var r=t[a],i="";a<t.length-1&&(i=t[a+1]),"["===r&&"^"===i?(n+="[^",a++):"["===r||"]"===r?n+=r:"*"===r?n+=".*":"?"===r?n+=".":-1<"/.*+?|(){}".indexOf(r)?n+="\\"+r:n+=r,a++}return n+="$",-1<(""+(e||"")).toUpperCase().search(RegExp(n.toUpperCase()))},c.findAlaSQLPath=function(){if(c.isWebWorker)return"";if(c.isMeteorClient)return"/packages/dist/";if(c.isMeteorServer)return"assets/packages/dist/";if(c.isNode)return"";if(c.isBrowser)for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){if("alasql-worker.js"===e[t].src.substr(-16).toLowerCase())return e[t].src.substr(0,e[t].src.length-16);if("alasql-worker.min.js"===e[t].src.substr(-20).toLowerCase())return e[t].src.substr(0,e[t].src.length-20);if("alasql.js"===e[t].src.substr(-9).toLowerCase())return e[t].src.substr(0,e[t].src.length-9);if("alasql.min.js"===e[t].src.substr(-13).toLowerCase())return e[t].src.substr(0,e[t].src.length-13)}return""},n.path=n.utils.findAlaSQLPath(),n.utils.uncomment=function(e){for(var t,a=!1,n=!1,r=!1,i=0,s=(e=("__"+e+"__").split("")).length;i<s;i++){var o="\\"!==e[i-1]||"\\"===e[i-2];a?e[i]===t&&o&&(a=!1):n?"*"===e[i]&&"/"===e[i+1]?(e[i]=e[i+1]="",n=!1,i++):e[i]="":r?("\n"!==e[i+1]&&"\r"!==e[i+1]||(r=!1),e[i]=""):'"'===e[i]||"'"===e[i]?(a=!0,t=e[i]):"["===e[i]&&"@"!==e[i-1]?(a=!0,t="]"):"/"===e[i]&&"*"===e[i+1]&&(n=!(e[i]=""))}return e.join("").slice(2,-2)},n.parser=l,n.parser.parseError=function(e,t){throw new Error("Have you used a reserved keyword without `escaping` it?\n"+e)},n.parse=function(e){return l.parse(n.utils.uncomment(e))},n.engines={},n.databases={},n.databasenum=0,n.options={},n.options.errorlog=!1,n.options.valueof=!1,n.options.dropifnotexists=!1,n.options.datetimeformat="sql",n.options.casesensitive=!0,n.options.logtarget="output",n.options.logprompt=!0,n.options.progress=!1,n.options.modifier=void 0,n.options.columnlookup=10,n.options.autovertex=!0,n.options.usedbo=!0,n.options.autocommit=!0,n.options.cache=!0,n.options.tsql=!0,n.options.mysql=!0,n.options.postgres=!0,n.options.oracle=!0,n.options.sqlite=!0,n.options.orientdb=!0,n.options.nocount=!1,n.options.nan=!1,n.options.joinstar="overwrite",n.vars={},n.declares={},n.prompthistory=[],n.plugins={},n.from={},n.into={},n.fn={},n.aggr={},n.busy=0,n.MAXSQLCACHESIZE=1e4,n.DEFAULTDATABASEID="alasql",n.lastid=0,n.buffer={},n.private={externalXlsxLib:null},n.setXLSX=function(e){n.private.externalXlsxLib=e},n.use=function(e){if(e=e||n.DEFAULTDATABASEID,n.useid!==e){if(void 0===n.databases[e])throw Error("Database does not exist: "+e);n.useid=e,e=n.databases[n.useid],n.tables=e.tables,e.resetSqlCache(),n.options.usedbo&&(n.databases.dbo=e)}},n.autoval=function(e,t,a,r){if(!(r=r?n.databases[r]:n.databases[n.useid]).tables[e])throw new Error("Tablename not found: "+e);if(!r.tables[e].identities[t])throw new Error("Colname not found: "+t);return a?r.tables[e].identities[t].value||null:r.tables[e].identities[t].value-r.tables[e].identities[t].step||null},n.exec=function(e,t,a,r){if("function"==typeof t&&(r=a,a=t,t={}),delete n.error,t=t||{},!n.options.errorlog)return n.dexec(n.useid,e,t,a,r);try{return n.dexec(n.useid,e,t,a,r)}catch(e){n.error=e,a&&a(null,n.error)}},n.dexec=function(e,t,a,r,i){var s=n.databases[e];if(n.options.cache){var o=S(t);if((l=s.sqlCache[o])&&s.dbversion===l.dbversion)return l(a,r)}var l,c=n.parse(t);if(c.statements)return 0===c.statements.length?0:1===c.statements.length?c.statements[0].compile?(l=c.statements[0].compile(e,a))?(l.sql=t,l.dbversion=s.dbversion,n.options.cache&&(s.sqlCacheSize>n.MAXSQLCACHESIZE&&s.resetSqlCache(),s.sqlCacheSize++,s.sqlCache[o]=l),n.res=l(a,r,i)):void 0:(n.precompile(c.statements[0],n.useid,a),n.res=c.statements[0].execute(e,a,r,i)):r?void n.adrun(e,c,a,r,i):n.drun(e,c,a,r,i)},n.drun=function(e,t,a,r,i){var s=n.useid;s!==e&&n.use(e);for(var o,l=[],c=0,u=t.statements.length;c<u;c++)t.statements[c]&&(t.statements[c].compile?(o=t.statements[c].compile(n.useid),l.push(n.res=o(a,null,i))):(n.precompile(t.statements[c],n.useid,a),l.push(n.res=t.statements[c].execute(n.useid,a))));return s!==e&&n.use(s),r&&r(l),n.res=l},n.adrun=function(e,t,a,r,i){var s=0,o=t.statements.length;!1!==n.options.progress&&n.options.progress(o,s++);var l=n.useid;l!==e&&n.use(e);var c=[];!function u(d){void 0!==d&&c.push(d),(d=t.statements.shift())?(d.compile?d.compile(n.useid)(a,u,i):(n.precompile(t.statements[0],n.useid,a),d.execute(n.useid,a,u)),!1!==n.options.progress&&n.options.progress(o,s++)):(l!==e&&n.use(l),r(c))}()},n.compile=function(e,t){if(t=t||n.useid,1!==(e=n.parse(e)).statements.length)throw new Error("Cannot compile, because number of statements in SQL is not equal to 1");var a=e.statements[0].compile(t);return a.promise=function(e){return new Promise((function(t,n){a(e,(function(e,a){a?n(a):t(e)}))}))},a},c.global.Promise||c.isNode||function(){function n(e){return"function"==typeof e}function s(){return function(){setTimeout(o,1)}}function o(){for(var e=0;e<I;e+=2)(0,$[e])($[e+1]),$[e]=void 0,$[e+1]=void 0;I=0}function l(){}function c(e){try{return e.then}catch(e){return J.error=e,J}}function u(e,t,a){k((function(e){var n=!1,r=function(e,t,a,n){try{e.call(t,a,n)}catch(e){return e}}(a,t,(function(a){n||(n=!0,(t!==a?h:f)(e,a))}),(function(t){n||(n=!0,m(e,t))}),e._label);!n&&r&&(n=!0,m(e,r))}),e)}function d(e,t,a){var r,i;t.constructor===e.constructor&&a===_&&constructor.resolve===P?(r=e,(i=t)._state===V?f(r,i._result):i._state===H?m(r,i._result):g(i,void 0,(function(e){h(r,e)}),(function(e){m(r,e)}))):a===J?m(e,J.error):void 0!==a&&n(a)?u(e,t,a):f(e,t)}function h(e,t){var a;e===t?m(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(a=t)||"object"==typeof a&&null!==a?d(e,t,c(t)):f(e,t)}function p(e){e._onerror&&e._onerror(e._result),b(e)}function f(e,t){e._state===U&&(e._result=t,e._state=V,0!==e._subscribers.length&&k(b,e))}function m(e,t){e._state===U&&(e._state=H,e._result=t,k(p,e))}function g(e,t,a,n){var r=e._subscribers,i=r.length;e._onerror=null,r[i]=t,r[i+V]=a,r[i+H]=n,0===i&&e._state&&k(b,e)}function b(e){var t=e._subscribers,a=e._state;if(0!==t.length){for(var n,r,i=e._result,s=0;s<t.length;s+=3)n=t[s],r=t[s+a],n?y(a,n,r,i):r(i);e._subscribers.length=0}}function v(){this.error=null}function y(e,t,a,r){var i,s,o,l,c=n(a);if(c){if((i=function(e,t){try{return e(t)}catch(e){return q.error=e,q}}(a,r))===q?(l=!0,s=i.error,i=null):o=!0,t===i)return m(t,new TypeError("A promises callback cannot return that same promise.")),0}else i=r,o=!0;t._state!==U||(c&&o?h(t,i):l?m(t,s):e===V?f(t,i):e===H&&m(t,i))}function S(e){e[j]=B++,e._state=void 0,e._result=void 0,e._subscribers=[]}function E(e){this[j]=B++,this._result=this._state=void 0,this._subscribers=[],l!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof E?function(e,t){try{t((function(t){h(e,t)}),(function(t){m(e,t)}))}catch(t){m(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function T(e,t){this._instanceConstructor=e,this.promise=new e(l),this.promise[j]||S(this.promise),Array.isArray(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?f(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&f(this.promise,this._result))):m(this.promise,new Error("Array Methods must be provided an Array"))}var A,C,w,N,x,O,R=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},I=0,k=function(e,t){$[I]=e,$[I+1]=t,2===(I+=2)&&(C?C(o):F())},M=(D=(G="undefined"!=typeof window?window:void 0)||{}).MutationObserver||D.WebKitMutationObserver,L="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),D="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),F=L?function(){process.nextTick(o)}:M?(N=0,x=new M(o),O=document.createTextNode(""),x.observe(O,{characterData:!0}),function(){O.data=N=++N%2}):D?((w=new MessageChannel).port1.onmessage=o,function(){w.port2.postMessage(0)}):(void 0===G?function(){try{var e=r();return A=e.runOnLoop||e.runOnContext,function(){A(o)}}catch(e){return s()}}:s)(),_=function(e,t){var a=this,n=new this.constructor(l);void 0===n[j]&&S(n);var r,i=a._state;return i?(r=arguments[i-1],k((function(){y(i,n,r,a._result)}))):g(a,n,e,t),n},P=function(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(l);return h(t,e),t},j=Math.random().toString(36).substring(16),U=void 0,V=1,H=2,J=new v,q=new v,B=0,G=(D=function(e){var t=this;return new t(R(e)?function(a,n){for(var r=e.length,i=0;i<r;i++)t.resolve(e[i]).then(a,n)}:function(e,t){t(new TypeError("You must pass an array to race."))})},function(e){var t=new this(l);return m(t,e),t}),z=E;E.all=function(e){return new Y(this,e).promise},E.race=D,E.resolve=P,E.reject=G,E._setScheduler=function(e){C=e},E._setAsap=function(e){k=e},E._asap=k,E.prototype={constructor:E,then:_,catch:function(e){return this.then(null,e)}};var Y=T;T.prototype._enumerate=function(){for(var e=this.length,t=this._input,a=0;this._state===U&&a<e;a++)this._eachEntry(t[a],a)},T.prototype._eachEntry=function(e,t){var a,n,r=this._instanceConstructor,i=r.resolve;i===P?(a=c(e))===_&&e._state!==U?this._settledAt(e._state,t,e._result):"function"!=typeof a?(this._remaining--,this._result[t]=e):r===z?(d(n=new r(l),e,a),this._willSettleAt(n,t)):this._willSettleAt(new r((function(t){t(e)})),t):this._willSettleAt(i(e),t)},T.prototype._settledAt=function(e,t,a){var n=this.promise;n._state===U&&(this._remaining--,e===H?m(n,a):this._result[t]=a),0===this._remaining&&f(n,this._result)},T.prototype._willSettleAt=function(e,t){var a=this;g(e,void 0,(function(e){a._settledAt(V,t,e)}),(function(e){a._settledAt(H,t,e)}))},G=function(){var e;if(void 0!==a.g)e=a.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=z)};var W={Promise:z,polyfill:G};void 0!==(i=function(){return W}.call(t,a,t,e))&&(e.exports=i),G()}.call(this),n.promise=function(e,t){if("undefined"==typeof Promise)throw new Error("Please include a Promise/A+ library");if("string"==typeof e)return D(e,t);if(!c.isArray(e)||e.length<1||void 0!==t)throw new Error("Error in .promise parameters");return function(e){if(!(e.length<1)){for(var t,a,n=[],r=0;r<e.length;r++){if("string"==typeof(a=e[r])&&(a=[a]),!c.isArray(a)||a.length<1||2<a.length)throw new Error("Error in .promise parameter");t=a[0],a=a[1]||void 0,n.push(D(t,a,r,e.length))}return c.global.Promise.all(n)}}(e)};var $=n.Database=function(e){var t=this;if(t===n)if(e){if(t=n.databases[e],!(n.databases[e]=t))throw new Error('Database "'+e+'" not found')}else t=n.databases.alasql,n.options.tsql&&(n.databases.tempdb=n.databases.alasql);return e=e||"db"+n.databasenum++,t.databaseid=e,(n.databases[e]=t).dbversion=0,t.tables={},t.views={},t.triggers={},t.indices={},t.objects={},t.counter=0,t.resetSqlCache(),t};$.prototype.resetSqlCache=function(){this.sqlCache={},this.sqlCacheSize=0},$.prototype.exec=function(e,t,a){return n.dexec(this.databaseid,e,t,a)},$.prototype.autoval=function(e,t,a){return n.autoval(e,t,a,this.databaseid)},$.prototype.transaction=function(e){return e(new n.Transaction(this.databaseid))};var F=n.Transaction=function(e){return this.transactionid=Date.now(),this.databaseid=e,this.commited=!1,this.dbversion=n.databases[e].dbversion,this.bank=JSON.stringify(n.databases[e]),this};F.prototype.commit=function(){this.commited=!0,n.databases[this.databaseid].dbversion=Date.now(),delete this.bank},F.prototype.rollback=function(){if(this.commited)throw new Error("Transaction already commited");n.databases[this.databaseid]=JSON.parse(this.bank),delete this.bank},F.prototype.exec=function(e,t,a){return n.dexec(this.databaseid,e,t,a)},F.prototype.executeSQL=F.prototype.exec;var _=n.Table=function(e){this.data=[],this.columns=[],this.xcolumns={},this.inddefs={},this.indices={},this.uniqs={},this.uniqdefs={},this.identities={},this.checks=[],this.checkfns=[],this.beforeinsert={},this.afterinsert={},this.insteadofinsert={},this.beforedelete={},this.afterdelete={},this.insteadofdelete={},this.beforeupdate={},this.afterupdate={},this.insteadofupdate={},I(this,e)};_.prototype.indexColumns=function(){var e=this;e.xcolumns={},e.columns.forEach((function(t){e.xcolumns[t.columnid]=t}))},n.View=function(e){this.columns=[],this.xcolumns={},this.query=[],I(this,e)};var P=n.Query=function(e){this.alasql=n,this.columns=[],this.xcolumns={},this.selectGroup=[],this.groupColumns={},I(this,e)},j=(n.Recordset=function(e){I(this,e)},l.yy=n.yy={});j.extend=I,j.casesensitive=n.options.casesensitive;var U=j.Base=function(e){return j.extend(this,e)};function V(e,t,a){var r,i,s,o,l={},c=x(this.selectors);return void 0!==c&&0<c.length&&(c&&c[0]&&"PROP"===c[0].srchid&&c[0].args&&c[0].args[0]&&("XML"===c[0].args[0].toUpperCase()?(l.mode="XML",c.shift()):"HTML"===c[0].args[0].toUpperCase()?(l.mode="HTML",c.shift()):"JSON"===c[0].args[0].toUpperCase()&&(l.mode="JSON",c.shift())),0<c.length&&"VALUE"===c[0].srchid&&(l.value=!0,c.shift())),this.from instanceof j.Column?(i=this.from.databaseid||e,r=n.databases[i].tables[this.from.columnid].data):this.from instanceof j.FuncValue&&n.from[this.from.funcid.toUpperCase()]?(i=this.from.args.map((function(e){return e=e.toJS(),new Function("params,alasql","var y;return "+e).bind(this)(t,n)})),r=n.from[this.from.funcid.toUpperCase()].apply(this,i)):void 0===this.from?r=n.databases[e].objects:(e=new Function("params,alasql","var y;return "+this.from.toJS()),r=e(t,n),"object"==typeof Mongo&&"object"!=typeof Mongo.Collection&&r instanceof Mongo.Collection&&(r=r.find().fetch())),c=void 0!==c&&0<c.length?function e(a,i,s){var o=a[i];if(o.selid){if("PATH"===o.selid){for(var c=[{node:s,stack:[]}],u={},d=n.databases[n.useid].objects;0<c.length;){var h=c.shift(),p=h.node,f=h.stack;if(0<(I=e(o.args,0,p)).length){if(i+1+1>a.length)return f;var m=[];return f&&0<f.length&&f.forEach((function(t){m=m.concat(e(a,i+1,t))})),m}void 0===u[p.$id]&&(u[p.$id]=!0,p.$out&&0<p.$out.length&&p.$out.forEach((function(e){var t=d[e];(e=f.concat(t)).push(d[t.$out[0]]),c.push({node:d[t.$out[0]],stack:e})})))}return[]}if("NOT"===o.selid)return 0<(b=e(o.args,0,s)).length?[]:i+1+1>a.length?[s]:e(a,i+1,s);if("DISTINCT"===o.selid){if(0===(b=void 0===o.args||0===o.args.length?R(s):e(o.args,0,s)).length)return[];var g=R(b);return i+1+1>a.length?g:e(a,i+1,g)}if("AND"===o.selid)return g=!0,o.args.forEach((function(t){g=g&&0<e(t,0,s).length})),g?i+1+1>a.length?[s]:e(a,i+1,s):[];if("OR"===o.selid)return g=!1,o.args.forEach((function(t){g=g||0<e(t,0,s).length})),g?i+1+1>a.length?[s]:e(a,i+1,s):[];if("ALL"===o.selid)return 0===(b=e(o.args[0],0,s)).length?[]:i+1+1>a.length?b:e(a,i+1,b);if("ANY"===o.selid)return 0===(b=e(o.args[0],0,s)).length?[]:i+1+1>a.length?[b[0]]:e(a,i+1,[b[0]]);if("UNIONALL"===o.selid){var b=[];return o.args.forEach((function(t){b=b.concat(e(t,0,s))})),0===b.length?[]:i+1+1>a.length?b:e(a,i+1,b)}if("UNION"===o.selid)return b=[],o.args.forEach((function(t){b=b.concat(e(t,0,s))})),0===(b=R(b)).length?[]:i+1+1>a.length?b:e(a,i+1,b);if("IF"===o.selid)return 0===(b=e(o.args,0,s)).length?[]:i+1+1>a.length?[s]:e(a,i+1,s);if("REPEAT"===o.selid){var v,y=o.args[0].value,S=o.args[1]?o.args[1].value:y;o.args[2]&&(v=o.args[2].variable);var E=[];if(0===y&&(E=i+1+1>a.length?[s]:(v&&(n.vars[v]=0),E.concat(e(a,i+1,s)))),0<S)for(var T=[{value:s,lvl:1}],A=0;0<T.length;){var C;if(b=T[0],T.shift(),b.lvl<=S&&(v&&(n.vars[v]=b.lvl),(C=e(o.sels,0,b.value)).forEach((function(e){T.push({value:e,lvl:b.lvl+1})})),b.lvl>=y&&(i+1+1>a.length?E=E.concat(C):C.forEach((function(t){E=E.concat(e(a,i+1,t))})))),1e5<++A)throw new Error("Security brake. Number of iterations = "+A)}return E}if("OF"===o.selid){if(i+1+1>a.length)return[s];var w=[];return Object.keys(s).forEach((function(t){n.vars[o.args[0].variable]=t,w=w.concat(e(a,i+1,s[t]))})),w}if("TO"===o.selid){var N=n.vars[o.args[0]],x=[];return(x=void 0!==N?N.slice(0):[]).push(s),i+1+1>a.length?[s]:(n.vars[o.args[0]]=x,w=e(a,i+1,s),n.vars[o.args[0]]=N,w)}if("ARRAY"===o.selid)return 0<(b=e(o.args,0,s)).length?(O=b,i+1+1>a.length?[O]:e(a,i+1,O)):[];if("SUM"===o.selid){if(!(0<(b=e(o.args,0,s)).length))return[];var O=b.reduce((function(e,t){return e+t}),0);return i+1+1>a.length?[O]:e(a,i+1,O)}if("AVG"===o.selid)return 0<(b=e(o.args,0,s)).length?(O=b.reduce((function(e,t){return e+t}),0)/b.length,i+1+1>a.length?[O]:e(a,i+1,O)):[];if("COUNT"===o.selid)return 0<(b=e(o.args,0,s)).length?(O=b.length,i+1+1>a.length?[O]:e(a,i+1,O)):[];if("FIRST"===o.selid)return 0<(b=e(o.args,0,s)).length?(O=b[0],i+1+1>a.length?[O]:e(a,i+1,O)):[];if("LAST"===o.selid)return 0<(b=e(o.args,0,s)).length?(O=b[b.length-1],i+1+1>a.length?[O]:e(a,i+1,O)):[];if("MIN"===o.selid)return 0===(b=e(o.args,0,s)).length?[]:(O=b.reduce((function(e,t){return Math.min(e,t)}),1/0),i+1+1>a.length?[O]:e(a,i+1,O));if("MAX"===o.selid)return 0===(b=e(o.args,0,s)).length?[]:(O=b.reduce((function(e,t){return Math.max(e,t)}),-1/0),i+1+1>a.length?[O]:e(a,i+1,O));if("PLUS"===o.selid){for(E=[],T=e(o.args,0,s).slice(),i+1+1>a.length?E=E.concat(T):T.forEach((function(t){E=E.concat(e(a,i+1,t))})),A=0;0<T.length;)if(b=T.shift(),b=e(o.args,0,b),T=T.concat(b),i+1+1>a.length?E=E.concat(b):b.forEach((function(t){t=e(a,i+1,t),E=E.concat(t)})),1e5<++A)throw new Error("Security brake. Number of iterations = "+A);return E}if("STAR"===o.selid){for(E=[],E=e(a,i+1,s),T=e(o.args,0,s).slice(),i+1+1>a.length?E=E.concat(T):T.forEach((function(t){E=E.concat(e(a,i+1,t))})),A=0;0<T.length;)if(b=T[0],T.shift(),b=e(o.args,0,b),T=T.concat(b),i+1+1<=a.length&&b.forEach((function(t){E=E.concat(e(a,i+1,t))})),1e5<++A)throw new Error("Loop brake. Number of iterations = "+A);return E}if("QUESTION"===o.selid)return E=(E=[]).concat(e(a,i+1,s)),b=e(o.args,0,s),i+1+1<=a.length&&b.forEach((function(t){E=E.concat(e(a,i+1,t))})),E;if("WITH"!==o.selid){if("ROOT"===o.selid)return i+1+1>a.length?[s]:e(a,i+1,r);throw new Error("Wrong selector "+o.selid)}if(0===(b=e(o.args,0,s)).length)return[];var I={status:1,values:b}}else{if(!o.srchid)throw new Error("Selector not found");I=n.srch[o.srchid.toUpperCase()](s,o.args,l,t)}if(void 0===I&&(I={status:1,values:[s]}),g=[],1===I.status){var k=I.values;if(i+1+1>a.length)g=k;else for(A=0;A<I.values.length;A++)g=g.concat(e(a,i+1,k[A]))}return g}(c,0,r):r,this.into?(void 0!==this.into.args[0]&&(s=new Function("params,alasql","var y;return "+this.into.args[0].toJS())(t,n)),void 0!==this.into.args[1]&&(o=new Function("params,alasql","var y;return "+this.into.args[1].toJS())(t,n)),c=n.into[this.into.funcid.toUpperCase()](s,o,c,[],a)):(l.value&&0<c.length&&(c=c[0]),a&&(c=a(c))),c}function H(e,t,a){var n;if(0<=t?((n=a.sources[t]).data=e,"function"==typeof n.data&&(n.getfn=n.data,n.dontcache=n.getfn.dontcache,"OUTER"!=n.joinmode&&"RIGHT"!=n.joinmode&&"ANTI"!=n.joinmode||(n.dontcache=!1),n.data={})):a.queriesdata[-t-1]=M(e),a.sourceslen--,!(0<a.sourceslen))return J(a)}function J(e){var t,a,r,i=e.scope;if(q(e),e.data=[],e.xgroups={},e.groups=[],function e(t,a,r){if(r>=t.sources.length)t.wherefn(a,t.params,n)&&(t.groupfn?t.groupfn(a,t.params,n):t.data.push(t.selectfn(a,t.params,n)));else if(t.sources[r].applyselect)(i=t.sources[r]).applyselect(t.params,(function(n){if(0<n.length)for(var s=0;s<n.length;s++)a[i.alias]=n[s],e(t,a,r+1);else"OUTER"==i.applymode&&(a[i.alias]={},e(t,a,r+1))}),a);else{var i=t.sources[r],s=t.sources[r+1],o=i.alias||i.tableid,l=!1,c=i.data,u=!1;i.getfn&&(!i.getfn||i.dontcache)||"RIGHT"==i.joinmode||"OUTER"==i.joinmode||"ANTI"==i.joinmode||"ix"!=i.optimization||(c=i.ix[i.onleftfn(a,t.params,n)]||[],u=!0);var d=0;if(void 0===c)throw new Error("Data source number "+r+" in undefined");for(var h=c.length;(b=c[d])||!u&&i.getfn&&(b=i.getfn(d))||d<h;){u||!i.getfn||i.dontcache||(c[d]=b),a[o]=b;var p,f,m=!i.onleftfn;m||(p=i.onleftfn(a,t.params,n),f=i.onrightfn(a,t.params,n),(p instanceof String||p instanceof Number)&&(p=p.valueOf()),(f instanceof String||f instanceof Number)&&(f=p.valueOf()),m=p==f),m&&i.onmiddlefn(a,t.params,n)&&("SEMI"!=i.joinmode&&"ANTI"!=i.joinmode&&e(t,a,r+1),"LEFT"!=i.joinmode&&"INNER"!=i.joinmode&&(b._rightjoin=!0),l=!0),d++}if("LEFT"!=i.joinmode&&"OUTER"!=i.joinmode&&"SEMI"!=i.joinmode||l||(a[o]={},e(t,a,r+1)),0==r)for(var g=r+1;g<t.sources.length;g++){if("OUTER"==s.joinmode||"RIGHT"==s.joinmode||"ANTI"==s.joinmode){a[i.alias]={};for(var b,v=0,y=s.data.length;(b=s.data[v])||s.getfn&&(b=s.getfn(v))||v<y;)s.getfn&&!s.dontcache&&(s.data[v]=b),b._rightjoin?delete b._rightjoin:(a[s.alias]=b,e(t,a,g+1)),v++}i=t.sources[g],s=t.sources[g+1]}a[o]=void 0}}(e,i,0),e.groupfn){e.data=[],0===e.groups.length&&0===e.allgroups.length&&(c={},0<e.selectGroup.length&&e.selectGroup.forEach((function(e){"COUNT"==e.aggregatorid||"SUM"==e.aggregatorid?c[e.nick]=0:c[e.nick]=void 0})),e.groups=[c]),0<e.aggrKeys.length&&(t="",e.aggrKeys.forEach((function(e){t+="g['"+e.nick+"']=alasql.aggr['"+e.funcid+"'](undefined,g['"+e.nick+"'],3);"})),a=new Function("g,params,alasql","var y;"+t));for(var s=0,o=e.groups.length;s<o;s++){var l,c=e.groups[s];a&&a(c,e.params,n),e.havingfn&&!e.havingfn(c,e.params,n)||(l=e.selectgfn(c,e.params,n),e.data.push(l))}}if(function(e){if(e.distinct){for(var t,a={},n=Object.keys(e.data[0]||[]),r=0,i=e.data.length;r<i;r++){var s=n.map((function(t){return e.data[r][t]})).join("`");a[s]=e.data[r]}for(t in e.data=[],a)e.data.push(a[t])}}(e),e.unionallfn){if(e.corresponding)e.unionallfn.query.modifier||(e.unionallfn.query.modifier=void 0),h=e.unionallfn(e.params);else for(e.unionallfn.query.modifier||(e.unionallfn.query.modifier="RECORDSET"),h=[],o=(p=e.unionallfn(e.params)).data.length,s=0;s<o;s++){for(var u={},d=Math.min(e.columns.length,p.columns.length)-1;0<=d;d--)u[e.columns[d].columnid]=p.data[s][p.columns[d].columnid];h.push(u)}e.data=e.data.concat(h)}else if(e.unionfn){if(e.corresponding)e.unionfn.query.modifier||(e.unionfn.query.modifier="ARRAY"),h=e.unionfn(e.params);else for(e.unionfn.query.modifier||(e.unionfn.query.modifier="RECORDSET"),h=[],o=(p=e.unionfn(e.params)).data.length,s=0;s<o;s++){for(u={},f=Math.min(e.columns.length,p.columns.length),d=0;d<f;d++)u[e.columns[d].columnid]=p.data[s][p.columns[d].columnid];h.push(u)}e.data=C(e.data,h)}else if(e.exceptfn){if(e.corresponding){e.exceptfn.query.modifier||(e.exceptfn.query.modifier="ARRAY");var h=e.exceptfn(e.params)}else{var p;for(e.exceptfn.query.modifier||(e.exceptfn.query.modifier="RECORDSET"),h=[],s=0,o=(p=e.exceptfn(e.params)).data.length;s<o;s++){for(u={},d=Math.min(e.columns.length,p.columns.length)-1;0<=d;d--)u[e.columns[d].columnid]=p.data[s][p.columns[d].columnid];h.push(u)}}e.data=w(e.data,h)}else if(e.intersectfn){if(e.corresponding)e.intersectfn.query.modifier||(e.intersectfn.query.modifier=void 0),h=e.intersectfn(e.params);else for(e.intersectfn.query.modifier||(e.intersectfn.query.modifier="RECORDSET"),h=[],o=(p=e.intersectfn(e.params)).data.length,s=0;s<o;s++){for(u={},f=Math.min(e.columns.length,p.columns.length),d=0;d<f;d++)u[e.columns[d].columnid]=p.data[s][p.columns[d].columnid];h.push(u)}e.data=N(e.data,h)}if(e.orderfn&&(e.explain&&(r=Date.now()),e.data=e.data.sort(e.orderfn),e.explain&&e.explaination.push({explid:e.explid++,description:"QUERY BY",ms:Date.now()-r})),function(e){var t,a;e.limit&&(t=0,e.offset&&(t=(t=0|e.offset||0)<0?0:t),a=e.percent?(e.data.length*e.limit/100|0)+t:(0|e.limit)+t,e.data=e.data.slice(t,a))}(e),"undefined"!=typeof angular&&e.removeKeys.push("$$hashKey"),0<e.removeKeys.length){var f,m=e.removeKeys;if(0<(f=m.length))for(o=e.data.length,s=0;s<o;s++)for(d=0;d<f;d++)delete e.data[s][m[d]];0<e.columns.length&&(e.columns=e.columns.filter((function(e){var t=!1;return m.forEach((function(a){e.columnid==a&&(t=!0)})),!t})))}if(void 0!==e.removeLikeKeys&&0<e.removeLikeKeys.length){var g=e.removeLikeKeys;for(s=0,o=e.data.length;s<o;s++)for(var b in u=e.data[s])for(d=0;d<e.removeLikeKeys.length;d++)n.utils.like(e.removeLikeKeys[d],b)&&delete u[b];0<e.columns.length&&(e.columns=e.columns.filter((function(e){var t=!1;return g.forEach((function(a){n.utils.like(a,e.columnid)&&(t=!0)})),!t})))}if(e.pivotfn&&e.pivotfn(),e.unpivotfn&&e.unpivotfn(),e.intoallfn){var v=e.intoallfn(e.columns,e.cb,e.params,e.alasql);return v}if(e.intofn){for(o=e.data.length,s=0;s<o;s++)e.intofn(e.data[s],s,e.params,e.alasql);return e.cb&&e.cb(e.data.length,e.A,e.B),e.data.length}return v=e.data,e.cb&&(v=e.cb(e.data,e.A,e.B)),v}U.prototype.toString=function(){},U.prototype.toType=function(){},U.prototype.toJS=function(){},U.prototype.compile=p,U.prototype.exec=function(){},U.prototype.compile=p,U.prototype.exec=function(){},j.Statements=function(e){return j.extend(this,e)},j.Statements.prototype.toString=function(){return this.statements.map((function(e){return e.toString()})).join("; ")},j.Statements.prototype.compile=function(e){var t=this.statements.map((function(t){return t.compile(e)}));return 1===t.length?t[0]:function(e,a){var n=t.map((function(t){return t(e)}));return a&&a(n),n}},j.Search=function(e){return j.extend(this,e)},j.Search.prototype.toString=function(){var e="SEARCH ";return this.selectors&&(e+=this.selectors.toString()),this.from&&(e+="FROM "+this.from.toString()),e},j.Search.prototype.toJS=function(e){return"this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+")"},j.Search.prototype.compile=function(e){var t=e,a=this,n=function(e,r){var i;return V.bind(a)(t,e,(function(e){i=B(n.query,e),r&&(i=r(i))})),i};return n.query={},n},n.srch={},n.srch.PROP=function(e,t,a){if("XML"!==a.mode)return"object"!=typeof e||null===e||"object"!=typeof t||void 0===e[t[0]]?{status:-1,values:[]}:{status:1,values:[e[t[0]]]};var n=[];return e.children.forEach((function(e){e.name.toUpperCase()===t[0].toUpperCase()&&n.push(e)})),0<n.length?{status:1,values:n}:{status:-1,values:[]}},n.srch.APROP=function(e,t){return"object"!=typeof e||null===e||"object"!=typeof t||void 0===e[t[0]]?{status:1,values:[void 0]}:{status:1,values:[e[t[0]]]}},n.srch.EQ=function(e,t,a,r){return t=t[0].toJS("x",""),e===new Function("x,alasql,params","return "+t)(e,n,r)?{status:1,values:[e]}:{status:-1,values:[]}},n.srch.LIKE=function(e,t,a,r){return t=t[0].toJS("x",""),t=new Function("x,alasql,params","return "+t),e.toUpperCase().match(new RegExp("^"+t(e,n,r).toUpperCase().replace(/%/g,".*").replace(/\?|_/g,".")+"$"),"g")?{status:1,values:[e]}:{status:-1,values:[]}},n.srch.ATTR=function(e,t,a){if("XML"===a.mode)return void 0===t?{status:1,values:[e.attributes]}:"object"==typeof e&&"object"==typeof e.attributes&&void 0!==e.attributes[t[0]]?{status:1,values:[e.attributes[t[0]]]}:{status:-1,values:[]};throw new Error("ATTR is not using in usual mode")},n.srch.CONTENT=function(e,t,a){if("XML"===a.mode)return{status:1,values:[e.content]};throw new Error("ATTR is not using in usual mode")},n.srch.SHARP=function(e,t){return t=n.databases[n.useid].objects[t[0]],void 0!==e&&e===t?{status:1,values:[e]}:{status:-1,values:[]}},n.srch.PARENT=function(){return{status:-1,values:[]}},n.srch.CHILD=function(e,t,a){return"object"==typeof e?Array.isArray(e)?{status:1,values:e}:"XML"===a.mode?{status:1,values:Object.keys(e.children).map((function(t){return e.children[t]}))}:{status:1,values:Object.keys(e).map((function(t){return e[t]}))}:{status:1,values:[]}},n.srch.KEYS=function(e){return"object"==typeof e&&null!==e?{status:1,values:Object.keys(e)}:{status:1,values:[]}},n.srch.WHERE=function(e,t,a,r){return t=t[0].toJS("x",""),new Function("x,alasql,params","return "+t)(e,n,r)?{status:1,values:[e]}:{status:-1,values:[]}},n.srch.NAME=function(e,t){return e.name===t[0]?{status:1,values:[e]}:{status:-1,values:[]}},n.srch.CLASS=function(e,t){return e.$class==t?{status:1,values:[e]}:{status:-1,values:[]}},n.srch.VERTEX=function(e){return"VERTEX"===e.$node?{status:1,values:[e]}:{status:-1,values:[]}},n.srch.INSTANCEOF=function(e,t){return e instanceof n.fn[t[0]]?{status:1,values:[e]}:{status:-1,values:[]}},n.srch.EDGE=function(e){return"EDGE"===e.$node?{status:1,values:[e]}:{status:-1,values:[]}},n.srch.EX=function(e,t,a,r){return t=t[0].toJS("x",""),{status:1,values:[new Function("x,alasql,params","return "+t)(e,n,r)]}},n.srch.RETURN=function(e,t,a,r){var i={};return t&&0<t.length&&t.forEach((function(t){var a=t.toJS("x","");a=new Function("x,alasql,params","return "+a),void 0===t.as&&(t.as=t.toString()),i[t.as]=a(e,n,r)})),{status:1,values:[i]}},n.srch.REF=function(e){return{status:1,values:[n.databases[n.useid].objects[e]]}},n.srch.OUT=function(e){return e.$out&&0<e.$out.length?{status:1,values:e.$out.map((function(e){return n.databases[n.useid].objects[e]}))}:{status:-1,values:[]}},n.srch.OUTOUT=function(e){if(e.$out&&0<e.$out.length){var t=[];return e.$out.forEach((function(e){(e=n.databases[n.useid].objects[e])&&e.$out&&0<e.$out.length&&e.$out.forEach((function(e){t=t.concat(n.databases[n.useid].objects[e])}))})),{status:1,values:t}}return{status:-1,values:[]}},n.srch.IN=function(e){return e.$in&&0<e.$in.length?{status:1,values:e.$in.map((function(e){return n.databases[n.useid].objects[e]}))}:{status:-1,values:[]}},n.srch.ININ=function(e){if(e.$in&&0<e.$in.length){var t=[];return e.$in.forEach((function(e){(e=n.databases[n.useid].objects[e])&&e.$in&&0<e.$in.length&&e.$in.forEach((function(e){t=t.concat(n.databases[n.useid].objects[e])}))})),{status:1,values:t}}return{status:-1,values:[]}},n.srch.AS=function(e,t){return{status:1,values:[n.vars[t[0]]=e]}},n.srch.AT=function(e,t){return{status:1,values:[n.vars[t[0]]]}},n.srch.CLONEDEEP=function(e){return{status:1,values:[x(e)]}},n.srch.SET=function(e,t,a,r){return t=t.map((function(e){return"@"===e.method?"alasql.vars['"+e.variable+"']="+e.expression.toJS("x",""):"$"===e.method?"params['"+e.variable+"']="+e.expression.toJS("x",""):"x['"+e.column.columnid+"']="+e.expression.toJS("x","")})).join(";"),new Function("x,params,alasql",t)(e,r,n),{status:1,values:[e]}},n.srch.ROW=function(e,t,a,r){var i="var y;return [";return i+=t.map((function(e){return e.toJS("x","")})).join(","),i+="]",{status:1,values:[new Function("x,params,alasql",i)(e,r,n)]}},n.srch.D3=function(e){return"VERTEX"!==e.$node&&"EDGE"===e.$node&&(e.source=e.$in[0],e.target=e.$out[0]),{status:1,values:[e]}},n.srch.ORDERBY=function(e,t){return{status:1,values:e.sort(function(e){if(e){if(e&&1===e.length&&e[0].expression&&"function"==typeof e[0].expression){var t=e[0].expression;return function(e,a){return e=t(e),(a=t(a))<e?1:e===a?0:-1}}var a="",r="";return e.forEach((function(e){var t,i="";e.expression instanceof j.NumValue&&(e.expression=self.columns[e.expression.value-1]),e.expression instanceof j.Column?(t=e.expression.columnid,n.options.valueof&&(i=".valueOf()"),e.nocase&&(i+=".toUpperCase()"),"_"===t?(a+="if(a"+i+("ASC"===e.direction?">":"<")+"b"+i+")return 1;",a+="if(a"+i+"==b"+i+"){"):(a+="if((a['"+t+"']||'')"+i+("ASC"===e.direction?">":"<")+"(b['"+t+"']||'')"+i+")return 1;",a+="if((a['"+t+"']||'')"+i+"==(b['"+t+"']||'')"+i+"){")):(i=".valueOf()",e.nocase&&(i+=".toUpperCase()"),a+="if(("+e.toJS("a","")+"||'')"+i+("ASC"===e.direction?">(":"<(")+e.toJS("b","")+"||'')"+i+")return 1;",a+="if(("+e.toJS("a","")+"||'')"+i+"==("+e.toJS("b","")+"||'')"+i+"){"),r+="}"})),a+="return 0;",a+=r+"return -1",new Function("a,b",a)}}(t))}};var q=function(e){for(var t=0,a=e.sources.length;t<a;t++){var r,i=e.sources[t];if(delete i.ix,0<t&&"ix"==i.optimization&&i.onleftfn&&i.onrightfn){if(i.databaseid&&n.databases[i.databaseid].tables[i.tableid]&&(n.databases[i.databaseid].tables[i.tableid].indices||(e.database.tables[i.tableid].indices={}),r=n.databases[i.databaseid].tables[i.tableid].indices[S(i.onrightfns+"`"+i.srcwherefns)],!n.databases[i.databaseid].tables[i.tableid].dirty&&r&&(i.ix=r)),!i.ix){i.ix={};for(var s,o,l={},c=0,u=i.data.length;(s=i.data[c])||i.getfn&&(s=i.getfn(c))||c<u;)i.getfn&&!i.dontcache&&(i.data[c]=s),l[i.alias||i.tableid]=s,i.srcwherefn(l,e.params,n)&&(o=i.onrightfn(l,e.params,n),(i.ix[o]||(i.ix[o]=[])).push(s)),c++;i.databaseid&&n.databases[i.databaseid].tables[i.tableid]&&(n.databases[i.databaseid].tables[i.tableid].indices[S(i.onrightfns+"`"+i.srcwherefns)]=i.ix)}}else if(i.wxleftfn){if(n.databases[i.databaseid].engineid||(r=n.databases[i.databaseid].tables[i.tableid].indices[S(i.wxleftfns+"`")]),!n.databases[i.databaseid].tables[i.tableid].dirty&&r)i.ix=r,i.data=i.ix[i.wxrightfn(null,e.params,n)];else{for(i.ix={},l={},c=0,u=i.data.length;(s=i.data[c])||i.getfn&&(s=i.getfn(c))||c<u;)i.getfn&&!i.dontcache&&(i.data[c]=s),l[i.alias||i.tableid]=i.data[c],o=i.wxleftfn(l,e.params,n),(i.ix[o]||(i.ix[o]=[])).push(i.data[c]),c++;n.databases[i.databaseid].engineid||(n.databases[i.databaseid].tables[i.tableid].indices[S(i.wxleftfns+"`")]=i.ix)}i.srcwherefns&&(i.data?(l={},i.data=i.data.filter((function(t){return l[i.alias]=t,i.srcwherefn(l,e.params,n)}))):i.data=[])}else if(i.srcwherefns&&!i.dontcache)if(i.data){l={},i.data=i.data.filter((function(t){return l[i.alias]=t,i.srcwherefn(l,e.params,n)})),l={},c=0,u=i.data.length;for(var d=[];(s=i.data[c])||i.getfn&&(s=i.getfn(c))||c<u;)i.getfn&&!i.dontcache&&(i.data[c]=s),l[i.alias]=s,i.srcwherefn(l,e.params,n)&&d.push(s),c++;i.data=d}else i.data=[];i.databaseid&&n.databases[i.databaseid].tables[i.tableid]}};function B(e,t){if(void 0===t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t)return t;var a=e.modifier||n.options.modifier,r=e.columns;if(void 0===r||0==r.length)if(0<t.length){for(var i={},s=Math.min(t.length,n.options.columnlookup||10)-1;0<=s;s--)for(var o in t[s])i[o]=!0;r=Object.keys(i).map((function(e){return{columnid:e}}))}else r=[];if("VALUE"===a)t=0<t.length?(o=r&&0<r.length?r[0].columnid:Object.keys(t[0])[0],t[0][o]):void 0;else if("ROW"===a)if(0<t.length){var l=[];for(o in t[0])l.push(t[0][o]);t=l}else t=void 0;else if("COLUMN"===a){var c=[];if(0<t.length){o=r&&0<r.length?r[0].columnid:Object.keys(t[0])[0],s=0;for(var u=t.length;s<u;s++)c.push(t[s][o])}t=c}else if("MATRIX"===a){for(c=[],s=0;s<t.length;s++){l=[];for(var d=t[s],h=0;h<r.length;h++)l.push(d[r[h].columnid]);c.push(l)}t=c}else if("INDEX"===a){c={};var p=r&&0<r.length?(o=r[0].columnid,r[1].columnid):(o=(e=Object.keys(t[0]))[0],e[1]);for(s=0,u=t.length;s<u;s++)c[t[s][o]]=t[s][p];t=c}else if("RECORDSET"===a)t=new n.Recordset({columns:r,data:t});else if("TEXTSTRING"===a){for(o=r&&0<r.length?r[0].columnid:Object.keys(t[0])[0],s=0,u=t.length;s<u;s++)t[s]=t[s][o];t=t.join("\n")}return t}function G(e,t,a){var r="",i=[],s={};return t.forEach((function(t){var o;e.ixsources={},e.sources.forEach((function(t){e.ixsources[t.alias]=t})),e.ixsources[t]&&(o=e.ixsources[t].columns),a&&"json"==n.options.joinstar&&(r+="r['"+t+"']={};"),o&&0<o.length?o.forEach((function(o){var l,c;a&&"underscore"==n.options.joinstar?i.push("'"+t+"_"+o.columnid+"':p['"+t+"']['"+o.columnid+"']"):a&&"json"==n.options.joinstar?r+="r['"+t+"']['"+o.columnid+"']=p['"+t+"']['"+o.columnid+"'];":(l="p['"+t+"']['"+o.columnid+"']",s[o.columnid]?(c=l+" !== undefined ? "+l+" : "+s[o.columnid].value,i[s[o.columnid].id]=s[o.columnid].key+c,s[o.columnid].value=c):(c="'"+o.columnid+"':",i.push(c+l),s[o.columnid]={id:i.length-1,value:l,key:c})),e.selectColumns[m(o.columnid)]=!0,o={columnid:o.columnid,dbtypeid:o.dbtypeid,dbsize:o.dbsize,dbprecision:o.dbprecision,dbenum:o.dbenum},e.columns.push(o),e.xcolumns[o.columnid]=o})):(r+='var w=p["'+t+'"];for(var k in w){r[k]=w[k]};',e.dirtyColumns=!0)})),{s:i.join(","),sp:r}}j.Select=function(e){return j.extend(this,e)},j.Select.prototype.toString=function(){var e="";return this.explain&&(e+="EXPLAIN "),e+="SELECT ",this.modifier&&(e+=this.modifier+" "),this.distinct&&(e+="DISTINCT "),this.top&&(e+="TOP "+this.top.value+" ",this.percent&&(e+="PERCENT ")),e+=this.columns.map((function(e){var t=e.toString();return void 0!==e.as&&(t+=" AS "+e.as),t})).join(", "),this.from&&(e+=" FROM "+this.from.map((function(e){var t=e.toString();return e.as&&(t+=" AS "+e.as),t})).join(",")),this.joins&&(e+=this.joins.map((function(e){var t=" ";if(e.joinmode&&(t+=e.joinmode+" "),e.table)t+="JOIN "+e.table.toString();else if(e.select)t+="JOIN ("+e.select.toString()+")";else{if(!(e instanceof n.yy.Apply))throw new Error("Wrong type in JOIN mode");t+=e.toString()}return e.as&&(t+=" AS "+e.as),e.using&&(t+=" USING "+e.using.toString()),e.on&&(t+=" ON "+e.on.toString()),t})).join("")),this.where&&(e+=" WHERE "+this.where.toString()),this.group&&0<this.group.length&&(e+=" GROUP BY "+this.group.map((function(e){return e.toString()})).join(", ")),this.having&&(e+=" HAVING "+this.having.toString()),this.order&&0<this.order.length&&(e+=" ORDER BY "+this.order.map((function(e){return e.toString()})).join(", ")),this.limit&&(e+=" LIMIT "+this.limit.value),this.offset&&(e+=" OFFSET "+this.offset.value),this.union&&(e+=" UNION "+(this.corresponding?"CORRESPONDING ":"")+this.union.toString()),this.unionall&&(e+=" UNION ALL "+(this.corresponding?"CORRESPONDING ":"")+this.unionall.toString()),this.except&&(e+=" EXCEPT "+(this.corresponding?"CORRESPONDING ":"")+this.except.toString()),this.intersect&&(e+=" INTERSECT "+(this.corresponding?"CORRESPONDING ":"")+this.intersect.toString()),e},j.Select.prototype.toJS=function(e){return"alasql.utils.flatArray(this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+"))[0]"},j.Select.prototype.compile=function(e,t){var a=n.databases[e],r=new P;r.removeKeys=[],r.aggrKeys=[],r.explain=this.explain,r.explaination=[],r.explid=1,r.modifier=this.modifier,r.database=a,this.compileWhereExists(r),this.compileQueries(r),r.defcols=this.compileDefCols(r,e),r.fromfn=this.compileFrom(r),this.joins&&this.compileJoins(r),r.rownums=[],this.compileSelectGroup0(r),this.group||0<r.selectGroup.length?r.selectgfns=this.compileSelectGroup1(r):r.selectfns=this.compileSelect1(r,t),this.compileRemoveColumns(r),this.where&&this.compileWhereJoins(r),r.wherefn=this.compileWhere(r),(this.group||0<r.selectGroup.length)&&(r.groupfn=this.compileGroup(r)),this.having&&(r.havingfn=this.compileHaving(r)),this.order&&(r.orderfn=this.compileOrder(r,t)),this.group||0<r.selectGroup.length?r.selectgfn=this.compileSelectGroup2(r):r.selectfn=this.compileSelect2(r,t),r.distinct=this.distinct,this.pivot&&(r.pivotfn=this.compilePivot(r)),this.unpivot&&(r.pivotfn=this.compileUnpivot(r)),this.top?r.limit=this.top.value:this.limit&&(r.limit=this.limit.value,this.offset&&(r.offset=this.offset.value)),r.percent=this.percent,r.corresponding=this.corresponding,this.union?(r.unionfn=this.union.compile(e),this.union.order?r.orderfn=this.union.compileOrder(r,t):r.orderfn=null):this.unionall?(r.unionallfn=this.unionall.compile(e),this.unionall.order?r.orderfn=this.unionall.compileOrder(r,t):r.orderfn=null):this.except?(r.exceptfn=this.except.compile(e),this.except.order?r.orderfn=this.except.compileOrder(r,t):r.orderfn=null):this.intersect&&(r.intersectfn=this.intersect.compile(e),this.intersect.order?r.intersectfn=this.intersect.compileOrder(r,t):r.orderfn=null),this.into&&(this.into instanceof j.Table?n.options.autocommit&&n.databases[this.into.databaseid||e].engineid?r.intoallfns='return alasql.engines["'+n.databases[this.into.databaseid||e].engineid+'"].intoTable("'+(this.into.databaseid||e)+'","'+this.into.tableid+'",this.data, columns, cb);':r.intofns="alasql.databases['"+(this.into.databaseid||e)+"'].tables['"+this.into.tableid+"'].data.push(r);":this.into instanceof j.VarValue?r.intoallfns='alasql.vars["'+this.into.variable+'"]=this.data;res=this.data.length;if(cb)res=cb(res);return res;':this.into instanceof j.FuncValue?(i="return alasql.into["+JSON.stringify(this.into.funcid.toUpperCase())+"](",this.into.args&&0<this.into.args.length?(i+=this.into.args[0].toJS()+",",1<this.into.args.length?i+=this.into.args[1].toJS()+",":i+="undefined,"):i+="undefined, undefined,",r.intoallfns=i+"this.data,columns,cb)"):this.into instanceof j.ParamValue&&(r.intofns="params['"+this.into.param+"'].push(r)"),r.intofns?r.intofn=new Function("r,i,params,alasql","var y;"+r.intofns):r.intoallfns&&(r.intoallfn=new Function("columns,cb,params,alasql","var y;"+r.intoallfns)));var i=function(e,t,a){return r.params=e,function(e,t,a,r,i){e.sources.length,e.sourceslen=e.sources.length;var s,o=e.sourceslen;return(e.query=e).A=r,e.B=i,e.cb=a,e.oldscope=t,e.queriesfn&&(e.sourceslen+=e.queriesfn.length,o+=e.queriesfn.length,e.queriesdata=[],e.queriesfn.forEach((function(t,a){t.query.params=e.params,H([],-a-1,e)}))),t=t?x(t):{},e.scope=t,e.sources.forEach((function(t,a){t.query=e,void 0!==(a=t.datafn(e,e.params,H,a,n))&&((e.intofn||e.intoallfn)&&Array.isArray(a)&&(a=a.length),s=a),t.queriesdata=e.queriesdata})),0!=e.sources.length&&0!==o||(s=J(e)),s}(r,a,(function(e,a){if(a)return t(a,null);if(0<r.rownums.length)for(var n=0,i=e.length;n<i;n++)for(var s=0,o=r.rownums.length;s<o;s++)e[n][r.rownums[s]]=n+1;return a=B(r,e),t&&t(a),a}))};return i.query=r,i},j.Select.prototype.execute=function(e,t,a){return this.compile(e)(t,a)},j.ExistsValue=function(e){return j.extend(this,e)},j.ExistsValue.prototype.toString=function(){return"EXISTS("+this.value.toString()+")"},j.ExistsValue.prototype.toType=function(){return"boolean"},j.ExistsValue.prototype.toJS=function(e,t,a){return"this.existsfn["+this.existsidx+"](params,null,"+e+").data.length"},j.Select.prototype.compileWhereExists=function(e){this.exists&&(e.existsfn=this.exists.map((function(t){return(t=t.compile(e.database.databaseid)).query.modifier="RECORDSET",t})))},j.Select.prototype.compileQueries=function(e){this.queries&&(e.queriesfn=this.queries.map((function(t){return(t=t.compile(e.database.databaseid)).query.modifier="RECORDSET",t})))},n.precompile=function(e,t,a){e&&(e.params=a,e.queries&&(e.queriesfn=e.queries.map((function(a){return(a=a.compile(t||e.database.databaseid)).query.modifier="RECORDSET",a}))),e.exists&&(e.existsfn=e.exists.map((function(a){return(a=a.compile(t||e.database.databaseid)).query.modifier="RECORDSET",a}))))},j.Select.prototype.compileFrom=function(e){e.sources=[],e.aliases={},this.from&&(this.from.forEach((function(t){var a="",r=t.as||t.tableid;if(t instanceof j.Table)e.aliases[r]={tableid:t.tableid,databaseid:t.databaseid||e.database.databaseid,type:"table"};else if(t instanceof j.Select)e.aliases[r]={type:"subquery"};else if(t instanceof j.Search)e.aliases[r]={type:"subsearch"};else if(t instanceof j.ParamValue)e.aliases[r]={type:"paramvalue"};else if(t instanceof j.FuncValue)e.aliases[r]={type:"funcvalue"};else if(t instanceof j.VarValue)e.aliases[r]={type:"varvalue"};else if(t instanceof j.FromData)e.aliases[r]={type:"fromdata"};else if(t instanceof j.Json)e.aliases[r]={type:"json"};else{if(!t.inserted)throw new Error("Wrong table at FROM");e.aliases[r]={type:"inserted"}}var i={alias:r,databaseid:t.databaseid||e.database.databaseid,tableid:t.tableid,joinmode:"INNER",onmiddlefn:h,srcwherefns:"",srcwherefn:h};if(t instanceof j.Table)i.columns=n.databases[i.databaseid].tables[i.tableid].columns,n.options.autocommit&&n.databases[i.databaseid].engineid&&!n.databases[i.databaseid].tables[i.tableid].view?i.datafn=function(e,t,a,n,r){return r.engines[r.databases[i.databaseid].engineid].fromTable(i.databaseid,i.tableid,a,n,e)}:n.databases[i.databaseid].tables[i.tableid].view?i.datafn=function(e,t,a,n,r){return t=r.databases[i.databaseid].tables[i.tableid].select(t),a&&(t=a(t,n,e)),t}:i.datafn=function(e,t,a,n,r){return r=r.databases[i.databaseid].tables[i.tableid].data,a&&(r=a(r,n,e)),r};else if(t instanceof j.Select)i.subquery=t.compile(e.database.databaseid),void 0===i.subquery.query.modifier&&(i.subquery.query.modifier="RECORDSET"),i.columns=i.subquery.query.columns,i.datafn=function(e,t,a,n,r){var s;return i.subquery(e.params,(function(t){return s=t.data,a&&(s=a(s,n,e)),s})),s};else if(t instanceof j.Search)i.subsearch=t,i.columns=[],i.datafn=function(e,t,a,n,r){var s;return i.subsearch.execute(e.database.databaseid,e.params,(function(t){return s=t,a&&(s=a(s,n,e)),s})),s};else if(t instanceof j.ParamValue)a="var res = alasql.prepareFromData(params['"+t.param+"']",t.array&&(a+=",true"),a+=");if(cb)res=cb(res,idx,query);return res",i.datafn=new Function("query,params,cb,idx,alasql",a);else if(t.inserted)a="var res = alasql.prepareFromData(alasql.inserted",t.array&&(a+=",true"),a+=");if(cb)res=cb(res,idx,query);return res",i.datafn=new Function("query,params,cb,idx,alasql",a);else if(t instanceof j.Json)a="var res = alasql.prepareFromData("+t.toJS(),t.array&&(a+=",true"),a+=");if(cb)res=cb(res,idx,query);return res",i.datafn=new Function("query,params,cb,idx,alasql",a);else if(t instanceof j.VarValue)a="var res = alasql.prepareFromData(alasql.vars['"+t.variable+"']",t.array&&(a+=",true"),a+=");if(cb)res=cb(res,idx,query);return res",i.datafn=new Function("query,params,cb,idx,alasql",a);else if(t instanceof j.FuncValue)a="var res=alasql.from["+JSON.stringify(t.funcid.toUpperCase())+"](",t.args&&0<t.args.length?(t.args[0]?a+=t.args[0].toJS("query.oldscope")+",":a+="null,",t.args[1]?a+=t.args[1].toJS("query.oldscope")+",":a+="null,"):a+="null,null,",a+="cb,idx,query",a+=");/*if(cb)res=cb(res,idx,query);*/return res",i.datafn=new Function("query, params, cb, idx, alasql",a);else{if(!(t instanceof j.FromData))throw new Error("Wrong table at FROM");i.datafn=function(e,a,n,r,i){var s=t.data;return n&&(s=n(s,r,e)),s}}e.sources.push(i)})),e.defaultTableid=e.sources[0].alias)},n.prepareFromData=function(e,t){var a,n,r=e;if("string"==typeof e){if(r=e.split(/\r?\n/),t)for(a=0,n=r.length;a<n;a++)r[a]=[r[a]]}else if(t)for(r=[],a=0,n=e.length;a<n;a++)r.push([e[a]]);else if("object"==typeof e&&!Array.isArray(e))if("undefined"!=typeof Mongo&&void 0!==Mongo.Collection&&e instanceof Mongo.Collection)r=e.find().fetch();else for(var i in r=[],e)e.hasOwnProperty(i)&&r.push([i,e[i]]);return r},j.Select.prototype.compileJoins=function(e){this.joins.forEach((function(t){var a,r,i;if("CROSS"===t.joinmode){if(t.using||t.on)throw new Error("CROSS JOIN cannot have USING or ON clauses");t.joinmode="INNER"}if(t instanceof j.Apply)return(r={alias:t.as,applymode:t.applymode,onmiddlefn:h,srcwherefns:"",srcwherefn:h,columns:[]}).applyselect=t.select.compile(e.database.databaseid),r.columns=r.applyselect.query.columns,r.datafn=function(e,t,a,n,r){var i;return a&&(i=a(i,n,e)),i},void e.sources.push(r);if(t.table){if(a=t.table,r={alias:t.as||a.tableid,databaseid:a.databaseid||e.database.databaseid,tableid:a.tableid,joinmode:t.joinmode,onmiddlefn:h,srcwherefns:"",srcwherefn:h,columns:[]},!n.databases[r.databaseid].tables[r.tableid])throw new Error("Table '"+r.tableid+"' is not exists in database '"+r.databaseid+"'");r.columns=n.databases[r.databaseid].tables[r.tableid].columns,n.options.autocommit&&n.databases[r.databaseid].engineid?r.datafn=function(e,t,a,n,i){return i.engines[i.databases[r.databaseid].engineid].fromTable(r.databaseid,r.tableid,a,n,e)}:n.databases[r.databaseid].tables[r.tableid].view?r.datafn=function(e,t,a,n,i){return t=i.databases[r.databaseid].tables[r.tableid].select(t),a&&(t=a(t,n,e)),t}:r.datafn=function(e,t,a,n,i){return i=i.databases[r.databaseid].tables[r.tableid].data,a&&(i=a(i,n,e)),i},e.aliases[r.alias]={tableid:a.tableid,databaseid:a.databaseid||e.database.databaseid}}else t.select?(a=t.select,(r={alias:t.as,joinmode:t.joinmode,onmiddlefn:h,srcwherefns:"",srcwherefn:h,columns:[]}).subquery=a.compile(e.database.databaseid),void 0===r.subquery.query.modifier&&(r.subquery.query.modifier="RECORDSET"),r.columns=r.subquery.query.columns,r.datafn=function(e,t,a,n,i){return r.subquery(e.params,null,a,n).data},e.aliases[r.alias]={type:"subquery"}):t.param?(r={alias:t.as,joinmode:t.joinmode,onmiddlefn:h,srcwherefns:"",srcwherefn:h},i="var res=alasql.prepareFromData(params['"+t.param.param+"']",t.array&&(i+=",true"),i+=");if(cb)res=cb(res, idx, query);return res",r.datafn=new Function("query,params,cb,idx, alasql",i),e.aliases[r.alias]={type:"paramvalue"}):t.variable?(r={alias:t.as,joinmode:t.joinmode,onmiddlefn:h,srcwherefns:"",srcwherefn:h},i="var res=alasql.prepareFromData(alasql.vars['"+t.variable+"']",t.array&&(i+=",true"),i+=");if(cb)res=cb(res, idx, query);return res",r.datafn=new Function("query,params,cb,idx, alasql",i),e.aliases[r.alias]={type:"varvalue"}):t.func&&(r={alias:t.as,joinmode:t.joinmode,onmiddlefn:h,srcwherefns:"",srcwherefn:h},o="var res=alasql.from["+JSON.stringify(t.func.funcid.toUpperCase())+"](",(s=t.func.args)&&0<s.length?(s[0]?o+=s[0].toJS("query.oldscope")+",":o+="null,",s[1]?o+=s[1].toJS("query.oldscope")+",":o+="null,"):o+="null,null,",o+="cb,idx,query",o+=");/*if(cb)res=cb(res,idx,query);*/return res",r.datafn=new Function("query, params, cb, idx, alasql",o),e.aliases[r.alias]={type:"funcvalue"});var s,o,l=r.alias;if(t.natural){if(t.using||t.on)throw new Error("NATURAL JOIN cannot have USING or ON clauses");if(0<e.sources.length){var c=e.sources[e.sources.length-1],u=n.databases[c.databaseid].tables[c.tableid],d=n.databases[r.databaseid].tables[r.tableid];if(!u||!d)throw new Error("In this version of Alasql NATURAL JOIN works for tables with predefined columns only");var p=u.columns.map((function(e){return e.columnid})),f=d.columns.map((function(e){return e.columnid}));t.using=A(p,f).map((function(e){return{columnid:e}}))}}t.using?(c=e.sources[e.sources.length-1],r.onleftfns=t.using.map((function(e){return"p['"+(c.alias||c.tableid)+"']['"+e.columnid+"']"})).join('+"`"+'),r.onleftfn=new Function("p,params,alasql","var y;return "+r.onleftfns),r.onrightfns=t.using.map((function(e){return"p['"+(r.alias||r.tableid)+"']['"+e.columnid+"']"})).join('+"`"+'),r.onrightfn=new Function("p,params,alasql","var y;return "+r.onrightfns),r.optimization="ix"):t.on&&(t.on instanceof j.Op&&"="===t.on.op&&!t.on.allsome?(u=o=s="",d=!(r.optimization="ix"),p=t.on.left.toJS("p",e.defaultTableid,e.defcols),f=t.on.right.toJS("p",e.defaultTableid,e.defcols),-1<p.indexOf("p['"+l+"']")&&!(-1<f.indexOf("p['"+l+"']"))?(p.match(/p\['.*?'\]/g)||[]).every((function(e){return e==="p['"+l+"']"}))?o=p:d=!0:!(-1<p.indexOf("p['"+l+"']"))&&-1<f.indexOf("p['"+l+"']")&&(f.match(/p\['.*?'\]/g)||[]).every((function(e){return e==="p['"+l+"']"}))?s=p:d=!0,-1<f.indexOf("p['"+l+"']")&&!(-1<p.indexOf("p['"+l+"']"))?(f.match(/p\['.*?'\]/g)||[]).every((function(e){return e==="p['"+l+"']"}))?o=f:d=!0:!(-1<f.indexOf("p['"+l+"']"))&&-1<p.indexOf("p['"+l+"']")&&(p.match(/p\['.*?'\]/g)||[]).every((function(e){return e==="p['"+l+"']"}))?s=f:d=!0,d&&(s=o="",u=t.on.toJS("p",e.defaultTableid,e.defcols),r.optimization="no"),r.onleftfns=s,r.onrightfns=o,r.onmiddlefns=u||"true",r.onleftfn=new Function("p,params,alasql","var y;return "+r.onleftfns),r.onrightfn=new Function("p,params,alasql","var y;return "+r.onrightfns),r.onmiddlefn=new Function("p,params,alasql","var y;return "+r.onmiddlefns)):(r.optimization="no",r.onmiddlefns=t.on.toJS("p",e.defaultTableid,e.defcols),r.onmiddlefn=new Function("p,params,alasql","var y;return "+t.on.toJS("p",e.defaultTableid,e.defcols)))),e.sources.push(r)}))},j.Select.prototype.compileWhere=function(e){if(this.where){if("function"==typeof this.where)return this.where;var t=this.where.toJS("p",e.defaultTableid,e.defcols);return e.wherefns=t,new Function("p,params,alasql","var y;return "+t)}return function(){return!0}},j.Select.prototype.compileWhereJoins=function(e){},j.Select.prototype.compileGroup=function(e){var t;t=0<e.sources.length?e.sources[0].alias:"";var a=e.defcols,n=[[]];this.group&&(n=X(this.group,e));var r=[];n.forEach((function(e){r=E(r,e)})),e.allgroups=r,e.ingroup=[];var i="";return n.forEach((function(n){i+="var g=this.xgroups[";var s=n.map((function(t){var a=t.split("\t")[0];return t=t.split("\t")[1],""===a?"1":(e.ingroup.push(a),t)}));0===s.length&&(s=["''"]),i+=s.join('+"`"+'),i+="];if(!g) {this.groups.push((g=this.xgroups[",i+=s.join('+"`"+'),i+="] = {",i+=n.map((function(e){var t=e.split("\t")[0];return e=e.split("\t")[1],""===t?"":"'"+t+"':"+e+","})).join(""),n=T(r,n),i+=n.map((function(e){return"'"+e.split("\t")[0]+"':null,"})).join("");var o="";n="",void 0!==e.groupStar&&(n+="for(var f in p['"+e.groupStar+"']) {g[f]=p['"+e.groupStar+"'][f];};"),i+=e.selectGroup.map((function(n){var r=n.expression.toJS("p",t,a),i=n.nick;return n instanceof j.AggrValue?(n.distinct&&(o+=",g['$$_VALUES_"+i+"']={},g['$$_VALUES_"+i+"']["+r+"]=true"),"SUM"===n.aggregatorid?"'"+i+"':("+r+")||0,":"MIN"===n.aggregatorid||"MAX"===n.aggregatorid||"FIRST"===n.aggregatorid||"LAST"===n.aggregatorid?"'"+i+"':"+r+",":"ARRAY"===n.aggregatorid?"'"+i+"':["+r+"],":"COUNT"===n.aggregatorid?"*"===n.expression.columnid?"'"+i+"':1,":"'"+i+"':(typeof "+r+' == "undefined" || '+r+" === null) ? 0 : 1,":"AVG"===n.aggregatorid?(e.removeKeys.push("_SUM_"+i),e.removeKeys.push("_COUNT_"+i),"'"+i+"':"+r+",'_SUM_"+i+"':("+r+")||0,'_COUNT_"+i+"':(typeof "+r+' == "undefined" || '+r+" === null) ? 0 : 1,"):"AGGR"===n.aggregatorid?(o+=",g['"+i+"']="+n.expression.toJS("g",-1),""):"REDUCE"===n.aggregatorid?(e.aggrKeys.push(n),"'"+i+"':alasql.aggr['"+n.funcid+"']("+r+",undefined,1),"):""):""})).join(""),i+="}"+o+",g));"+n+"} else {",i+=e.selectGroup.map((function(e){var n=e.nick,r=e.expression.toJS("p",t,a);if(e instanceof j.AggrValue){var i="",s="";return e.distinct&&(i="if(typeof "+r+'!="undefined" && (!g[\'$$_VALUES_'+n+"']["+r+"])) \t\t\t\t \t\t {",s="g['$$_VALUES_"+n+"']["+r+"]=true;}"),"SUM"===e.aggregatorid?i+"g['"+n+"']+=("+r+"||0);"+s:"COUNT"===e.aggregatorid?"*"===e.expression.columnid?i+"g['"+n+"']++;"+s:i+"if(typeof "+r+'!="undefined" && '+r+" !== null) g['"+n+"']++;"+s:"ARRAY"===e.aggregatorid?i+"g['"+n+"'].push("+r+");"+s:"MIN"===e.aggregatorid?i+"if ((y="+r+") < g['"+n+"']) g['"+n+"'] = y;"+s:"MAX"===e.aggregatorid?i+"if ((y="+r+") > g['"+n+"']) g['"+n+"'] = y;"+s:"FIRST"===e.aggregatorid?"":"LAST"===e.aggregatorid?i+"g['"+n+"']="+r+";"+s:"AVG"===e.aggregatorid?i+"g['_SUM_"+n+"']+=(y="+r+")||0;g['_COUNT_"+n+"']+=(typeof y == \"undefined\" || y === null) ? 0 : 1;g['"+n+"']=g['_SUM_"+n+"']/g['_COUNT_"+n+"'];"+s:"AGGR"===e.aggregatorid?i+"g['"+n+"']="+e.expression.toJS("g",-1)+";"+s:"REDUCE"===e.aggregatorid?i+"g['"+n+"']=alasql.aggr."+e.funcid+"("+r+",g['"+n+"'],2);"+s:""}return""})).join(""),i+="}"})),new Function("p,params,alasql","var y;"+i)},j.Select.prototype.compileSelect1=function(e,t){var a=this;e.columns=[],e.xcolumns={},e.selectColumns={},e.dirtyColumns=!1;var r="var r={",i="",s=[];return this.columns.forEach((function(r){if(r instanceof j.Column)if("*"===r.columnid)r.func?i+="r=params['"+r.param+"'](p['"+e.sources[0].alias+"'],p,params,alasql);":(r.tableid?(c=G(e,[r.tableid],!1)).s&&(s=s.concat(c.s)):(c=G(e,Object.keys(e.aliases),!0)).s&&(s=s.concat(c.s)),i+=c.sp);else{var o=r.tableid,l=r.databaseid||e.sources[0].databaseid||e.database.databaseid;if(o=(o=o||e.defcols[r.columnid])||e.defaultTableid,"_"!==r.columnid?t&&1<t.length&&Array.isArray(t[0])&&1<=t[0].length&&t[0][0].hasOwnProperty("sheetid")?i='var r={};var w=p["'+o+'"];var cols=['+a.columns.map((function(e){return"'"+e.columnid+"'"})).join(",")+"];var colas=["+a.columns.map((function(e){return"'"+(e.as||e.columnid)+"'"})).join(",")+"];for (var i=0;i<Object.keys(p['"+o+"']).length;i++) for(var k=0;k<cols.length;k++){if (!r.hasOwnProperty(i)) r[i]={}; r[i][colas[k]]=w[i][cols[k]];}":s.push("'"+m(r.as||r.columnid)+"':p['"+o+"']['"+r.columnid+"']"):s.push("'"+m(r.as||r.columnid)+"':p['"+o+"']"),e.selectColumns[m(r.as||r.columnid)]=!0,e.aliases[o]&&"table"===e.aliases[o].type){if(!n.databases[l].tables[e.aliases[o].tableid])throw new Error("Table '"+o+"' does not exist in database");var c=n.databases[l].tables[e.aliases[o].tableid].columns;if((o=n.databases[l].tables[e.aliases[o].tableid].xcolumns)&&0<c.length){if(void 0===(d=o[r.columnid]))throw new Error("Column does not exist: "+r.columnid);var d={columnid:r.as||r.columnid,dbtypeid:d.dbtypeid,dbsize:d.dbsize,dbpecision:d.dbprecision,dbenum:d.dbenum};e.columns.push(d),e.xcolumns[d.columnid]=d}else d={columnid:r.as||r.columnid},e.columns.push(d),e.xcolumns[d.columnid]=d,e.dirtyColumns=!0}else d={columnid:r.as||r.columnid},e.columns.push(d),e.xcolumns[d.columnid]=d}else r instanceof j.AggrValue?(a.group||(a.group=[""]),r.as||(r.as=m(r.toString())),"SUM"===r.aggregatorid||"MAX"===r.aggregatorid||"MIN"===r.aggregatorid||"FIRST"===r.aggregatorid||"LAST"===r.aggregatorid||"AVG"===r.aggregatorid||"ARRAY"===r.aggregatorid||"REDUCE"===r.aggregatorid?s.push("'"+m(r.as)+"':"+u(r.expression.toJS("p",e.defaultTableid,e.defcols))):"COUNT"===r.aggregatorid&&s.push("'"+m(r.as)+"':1")):(s.push("'"+m(r.as||r.columnid||r.toString())+"':"+u(r.toJS("p",e.defaultTableid,e.defcols))),e.selectColumns[m(r.as||r.columnid||r.toString())]=!0),d={columnid:r.as||r.columnid||r.toString()},e.columns.push(d),e.xcolumns[d.columnid]=d})),r+(s.join(",")+"};")+i},j.Select.prototype.compileSelect2=function(e,t){var a=e.selectfns;return this.orderColumns&&0<this.orderColumns.length&&this.orderColumns.forEach((function(n,r){r="$$$"+r,n instanceof j.Column&&e.xcolumns[n.columnid]?a+="r['"+r+"']=r['"+n.columnid+"'];":n instanceof j.ParamValue&&e.xcolumns[t[n.param]]?a+="r['"+r+"']=r['"+t[n.param]+"'];":a+="r['"+r+"']="+n.toJS("p",e.defaultTableid,e.defcols)+";",e.removeKeys.push(r)})),new Function("p,params,alasql","var y;"+a+"return r")},j.Select.prototype.compileSelectGroup0=function(e){var t=this;t.columns.forEach((function(a,n){if(a instanceof j.Column&&"*"===a.columnid)e.groupStar=a.tableid||"default";else{for(var r,i=a instanceof j.Column?m(a.columnid):m(a.toString(!0)),s=0;s<n;s++)if(i===t.columns[s].nick){i=t.columns[s].nick+":"+n;break}a.nick=i,!t.group||-1<(r=t.group.findIndex((function(e){return e.columnid===a.columnid&&e.tableid===a.tableid})))&&(t.group[r].nick=i),!a.funcid||"ROWNUM"!==a.funcid.toUpperCase()&&"ROW_NUMBER"!==a.funcid.toUpperCase()||e.rownums.push(a.as)}})),this.columns.forEach((function(t){t.findAggregator&&t.findAggregator(e)})),this.having&&this.having.findAggregator&&this.having.findAggregator(e)},j.Select.prototype.compileSelectGroup1=function(e){var t="var r = {};";return this.columns.forEach((function(a){if(a instanceof j.Column&&"*"===a.columnid)return t+="for(var k in g) {r[k]=g[k]};","";var n=a.as;void 0===n&&(n=a instanceof j.Column?m(a.columnid):a.nick),e.groupColumns[n]=a.nick,t+="r['"+n+"']=",t+=u(a.toJS("g",""))+";";for(var r=0;r<e.removeKeys.length;r++)if(e.removeKeys[r]===n){e.removeKeys.splice(r,1);break}})),t},j.Select.prototype.compileSelectGroup2=function(e){var t=e.selectgfns;return this.columns.forEach((function(a){-1<e.ingroup.indexOf(a.nick)&&(t+="r['"+(a.as||a.nick)+"']=g['"+a.nick+"'];")})),this.orderColumns&&0<this.orderColumns.length&&this.orderColumns.forEach((function(a,n){n="$$$"+n,a instanceof j.Column&&e.groupColumns[a.columnid]?t+="r['"+n+"']=r['"+a.columnid+"'];":t+="r['"+n+"']="+a.toJS("g","")+";",e.removeKeys.push(n)})),new Function("g,params,alasql","var y;"+t+"return r")},j.Select.prototype.compileRemoveColumns=function(e){void 0!==this.removecolumns&&(e.removeKeys=e.removeKeys.concat(this.removecolumns.filter((function(e){return void 0===e.like})).map((function(e){return e.columnid}))),e.removeLikeKeys=this.removecolumns.filter((function(e){return void 0!==e.like})).map((function(e){return e.like.value})))},j.Select.prototype.compileHaving=function(e){if(this.having){var t=this.having.toJS("g",-1);return e.havingfns=t,new Function("g,params,alasql","var y;return "+t)}return function(){return!0}},j.Select.prototype.compileOrder=function(e,t){var a=this;if(a.orderColumns=[],this.order){if(this.order&&1==this.order.length&&this.order[0].expression&&"function"==typeof this.order[0].expression){var r=this.order[0].expression,i="FIRST"==this.order[0].nullsOrder?-1:"LAST"==this.order[0].nullsOrder?1:0;return function(e,t){if(e=r(e),t=r(t),i){if(null==e)return null==t?0:i;if(null==t)return-i}return t<e?1:e==t?0:-1}}var s="",o="";return this.order.forEach((function(r,i){u=r.expression instanceof j.NumValue?a.columns[r.expression.value-1]:r.expression,a.orderColumns.push(u);var l,c,u="$$$"+i;i="",r.expression instanceof j.Column&&(l=r.expression.columnid,e.xcolumns[l]?"DATE"!=(c=e.xcolumns[l].dbtypeid)&&"DATETIME"!=c&&"DATETIME2"!=c&&"STRING"!=c&&"NUMBER"!=c||(i=".valueOf()"):n.options.valueof&&(i=".valueOf()")),r.expression instanceof j.ParamValue&&(l=t[r.expression.param],e.xcolumns[l]?"DATE"!=(c=e.xcolumns[l].dbtypeid)&&"DATETIME"!=c&&"DATETIME2"!=c&&"STRING"!=c&&"NUMBER"!=c||(i=".valueOf()"):n.options.valueof&&(i=".valueOf()")),r.nocase&&(i+=".toUpperCase()"),r.nullsOrder&&("FIRST"==r.nullsOrder?s+="if((a['"+u+"'] != null) && (b['"+u+"'] == null)) return 1;":"LAST"==r.nullsOrder&&(s+="if((a['"+u+"'] == null) && (b['"+u+"'] != null)) return 1;"),s+="if((a['"+u+"'] == null) == (b['"+u+"'] == null)) {",o+="}"),s+="if((a['"+u+"']||'')"+i+("ASC"==r.direction?">":"<")+"(b['"+u+"']||'')"+i+")return 1;",s+="if((a['"+u+"']||'')"+i+"==(b['"+u+"']||'')"+i+"){",o+="}"})),s+="return 0;",s+=o+"return -1",e.orderfns=s,new Function("a,b","var y;"+s)}},j.Select.prototype.compilePivot=function(e){var t=this,a=t.pivot.columnid,r=t.pivot.expr.aggregatorid,i=t.pivot.inlist,s=null;if(null==(s=(t.pivot.expr.expression.hasOwnProperty("columnid")?t.pivot.expr:t.pivot.expr.expression).expression.columnid))throw"columnid not found";return i=i&&i.map((function(e){return e.expr.columnid})),function(){var e=this,t=e.columns.filter((function(e){return e.columnid!=a&&e.columnid!=s})).map((function(e){return e.columnid})),o=[],l={},c={},u={},d=[];if(e.data.forEach((function(e){if(!i||-1<i.indexOf(e[a])){var h=t.map((function(t){return e[t]})).join("`"),p=c[h];if(p||(p={},c[h]=p,d.push(p),t.forEach((function(t){p[t]=e[t]}))),u[h]||(u[h]={}),u[h][e[a]]?u[h][e[a]]++:u[h][e[a]]=1,l[e[a]]||(l[e[a]]=!0,o.push(e[a])),"SUM"==r||"AVG"==r)void 0===p[e[a]]&&(p[e[a]]=0),p[e[a]]+=+e[s];else if("COUNT"==r)void 0===p[e[a]]&&(p[e[a]]=0),p[e[a]]++;else if("MIN"==r)void 0===p[e[a]]&&(p[e[a]]=e[s]),e[s]<p[e[a]]&&(p[e[a]]=e[s]);else if("MAX"==r)void 0===p[e[a]]&&(p[e[a]]=e[s]),e[s]>p[e[a]]&&(p[e[a]]=e[s]);else if("FIRST"==r)void 0===p[e[a]]&&(p[e[a]]=e[s]);else if("LAST"==r)p[e[a]]=e[s];else{if(!n.aggr[r])throw new Error("Wrong aggregator in PIVOT clause");n.aggr[r](p[e[a]],e[s])}}})),"AVG"==r)for(var h in c){var p,f=c[h];for(p in f)-1==t.indexOf(p)&&p!=s&&(f[p]=f[p]/u[h][p])}e.data=d,i&&(o=i);var m=e.columns.filter((function(e){return e.columnid==s}))[0];e.columns=e.columns.filter((function(e){return!(e.columnid==a||e.columnid==s)})),o.forEach((function(t){var a=x(m);a.columnid=t,e.columns.push(a)}))}},j.Select.prototype.compileUnpivot=function(e){var t=this.unpivot.tocolumnid,a=this.unpivot.forcolumnid,n=this.unpivot.inlist.map((function(e){return e.columnid}));return function(){var r=[],i=e.columns.map((function(e){return e.columnid})).filter((function(e){return-1==n.indexOf(e)&&e!=a&&e!=t}));e.data.forEach((function(e){n.forEach((function(n){var s={};i.forEach((function(t){s[t]=e[t]})),s[a]=n,s[t]=e[n],r.push(s)}))})),e.data=r}};var z=function(e,t){for(var a=[],n=0,r=e.length,i=0;i<r+1;i++){for(var s,o=[],l=0;l<r;l++)s=e[l]instanceof j.Column?(e[l].nick=m(e[l].columnid),t.groupColumns[m(e[l].columnid)]=e[l].nick,e[l].nick+"\t"+e[l].toJS("p",t.sources[0].alias,t.defcols)):(t.groupColumns[m(e[l].toString())]=m(e[l].toString()),m(e[l].toString())+"\t"+e[l].toJS("p",t.sources[0].alias,t.defcols)),n&1<<l&&o.push(s);a.push(o),n=1+(n<<1)}return a},Y=function(e,t){for(var a=[],n=e.length,r=1<<n,i=0;i<r;i++){for(var s=[],o=0;o<n;o++)i&1<<o&&(s=s.concat(X(e[o],t)));a.push(s)}return a},W=function(e,t){return e.reduce((function(e,a){return e.concat(X(a,t))}),[])},K=function(e,t){for(var a=[],n=0;n<e.length;n++)for(var r=0;r<t.length;r++)a.push(e[n].concat(t[r]));return a};function X(e,t){if(Array.isArray(e)){for(var a=[[]],n=0;n<e.length;n++)if(e[n]instanceof j.Column)e[n].nick=e[n].nick?m(e[n].nick):m(e[n].columnid),t.groupColumns[e[n].nick]=e[n].nick,a=a.map((function(a){return a.concat(e[n].nick+"\t"+e[n].toJS("p",t.sources[0].alias,t.defcols))}));else if(e[n]instanceof j.FuncValue)t.groupColumns[m(e[n].toString())]=m(e[n].toString()),a=a.map((function(a){return a.concat(m(e[n].toString())+"\t"+e[n].toJS("p",t.sources[0].alias,t.defcols))}));else if(e[n]instanceof j.GroupExpression)if("ROLLUP"==e[n].type)a=K(a,z(e[n].group,t));else if("CUBE"==e[n].type)a=K(a,Y(e[n].group,t));else{if("GROUPING SETS"!=e[n].type)throw new Error("Unknown grouping function");a=K(a,W(e[n].group,t))}else a=""===e[n]?[["1\t1"]]:a.map((function(a){return t.groupColumns[m(e[n].toString())]=m(e[n].toString()),a.concat(m(e[n].toString())+"\t"+e[n].toJS("p",t.sources[0].alias,t.defcols))}));return a}return e instanceof j.FuncValue?(t.groupColumns[m(e.toString())]=m(e.toString()),[e.toString()+"\t"+e.toJS("p",t.sources[0].alias,t.defcols)]):e instanceof j.Column?(e.nick=m(e.columnid),t.groupColumns[e.nick]=e.nick,[e.nick+"\t"+e.toJS("p",t.sources[0].alias,t.defcols)]):(t.groupColumns[m(e.toString())]=m(e.toString()),[m(e.toString())+"\t"+e.toJS("p",t.sources[0].alias,t.defcols)])}j.Select.prototype.compileDefCols=function(e,t){var a={".":{}};return this.from&&this.from.forEach((function(e){if(a["."][e.as||e.tableid]=!0,e instanceof j.Table){var r=e.as||e.tableid,i=n.databases[e.databaseid||t].tables[e.tableid];if(void 0===i)throw new Error("Table does not exist: "+e.tableid);i.columns&&i.columns.forEach((function(e){a[e.columnid]?a[e.columnid]="-":a[e.columnid]=r}))}else if(!(e instanceof j.Select||e instanceof j.Search||e instanceof j.ParamValue||e instanceof j.VarValue||e instanceof j.FuncValue||e instanceof j.FromData||e instanceof j.Json||e.inserted))throw new Error("Unknown type of FROM clause")})),this.joins&&this.joins.forEach((function(e){if(a["."][e.as||e.table.tableid]=!0,e.table){var r=e.table.tableid;e.as&&(r=e.as),r=e.as||e.table.tableid;var i=n.databases[e.table.databaseid||t].tables[e.table.tableid];i.columns&&i.columns.forEach((function(e){a[e.columnid]?a[e.columnid]="-":a[e.columnid]=r}))}else if(!e.select&&!e.param&&!e.func)throw new Error("Unknown type of FROM clause")})),a},j.Union=function(e){return j.extend(this,e)},j.Union.prototype.toString=function(){return"UNION"},j.Union.prototype.compile=function(e){return null},j.Apply=function(e){return j.extend(this,e)},j.Apply.prototype.toString=function(){var e=this.applymode+" APPLY ("+this.select.toString()+")";return this.as&&(e+=" AS "+this.as),e},j.Over=function(e){return j.extend(this,e)},j.Over.prototype.toString=function(){var e="OVER (";return this.partition&&(e+="PARTITION BY "+this.partition.toString(),this.order&&(e+=" ")),this.order&&(e+="ORDER BY "+this.order.toString()),e+")"},j.ExpressionStatement=function(e){return j.extend(this,e)},j.ExpressionStatement.prototype.toString=function(){return this.expression.toString()},j.ExpressionStatement.prototype.execute=function(e,t,a){if(this.expression)return n.precompile(this,e,t),t=new Function("params,alasql,p","var y;return "+this.expression.toJS("({})","",null)).bind(this)(t,n),a&&(t=a(t)),t},j.Expression=function(e){return j.extend(this,e)},j.Expression.prototype.toString=function(e){return e=this.expression.toString(e),this.order&&(e+=" "+this.order.toString()),this.nocase&&(e+=" COLLATE NOCASE"),this.direction&&(e+=" "+this.direction),e},j.Expression.prototype.findAggregator=function(e){this.expression.findAggregator&&this.expression.findAggregator(e)},j.Expression.prototype.toJS=function(e,t,a){return this.expression.reduced?"true":this.expression.toJS(e,t,a)},j.Expression.prototype.compile=function(e,t,a){return!!this.reduced||new Function("p","var y;return "+this.toJS(e,t,a))},j.JavaScript=function(e){return j.extend(this,e)},j.JavaScript.prototype.toString=function(){return"``"+this.value+"``"},j.JavaScript.prototype.toJS=function(){return"("+this.value+")"},j.JavaScript.prototype.execute=function(e,t,a){var r=1;return new Function("params,alasql,p",this.value)(t,n),a&&(r=a(r)),r},j.Literal=function(e){return j.extend(this,e)},j.Literal.prototype.toString=function(e){var t=this.value;return this.value1&&(t=this.value1+"."+t),this.alias&&!e&&(t+=" AS "+this.alias),t},j.Join=function(e){return j.extend(this,e)},j.Join.prototype.toString=function(){var e=" ";return this.joinmode&&(e+=this.joinmode+" "),e+"JOIN "+this.table.toString()},j.Table=function(e){return j.extend(this,e)},j.Table.prototype.toString=function(){var e=this.tableid;return this.databaseid&&(e=this.databaseid+"."+e),e},j.View=function(e){return j.extend(this,e)},j.View.prototype.toString=function(){var e=this.viewid;return this.databaseid&&(e=this.databaseid+"."+e),e},j.Op=function(e){return j.extend(this,e)},j.Op.prototype.toString=function(){if("IN"===this.op||"NOT IN"===this.op)return this.left.toString()+" "+this.op+" ("+this.right.toString()+")";if(this.allsome)return this.left.toString()+" "+this.op+" "+this.allsome+" ("+this.right.toString()+")";if("->"!==this.op&&"!"!==this.op)return"BETWEEN"!==this.op&&"NOT BETWEEN"!==this.op?this.left.toString()+" "+this.op+" "+(this.allsome?this.allsome+" ":"")+this.right.toString():e=this.left.toString()+" "+this.op+" "+this.right1.toString()+" AND "+this.right2.toString();var e=this.left.toString()+this.op;return"string"!=typeof this.right&&"number"!=typeof this.right&&(e+="("),e+=this.right.toString(),"string"!=typeof this.right&&"number"!=typeof this.right&&(e+=")"),e},j.Op.prototype.findAggregator=function(e){this.left&&this.left.findAggregator&&this.left.findAggregator(e),this.right&&this.right.findAggregator&&!this.allsome&&this.right.findAggregator(e)},j.Op.prototype.toType=function(e){if(-1<["-","*","/","%","^"].indexOf(this.op))return"number";if(-1<["||"].indexOf(this.op))return"string";if("+"===this.op){if("string"===this.left.toType(e)||"string"===this.right.toType(e))return"string";if("number"===this.left.toType(e)||"number"===this.right.toType(e))return"number"}return-1<["AND","OR","NOT","=","==","===","!=","!==","!===",">",">=","<","<=","IN","NOT IN","LIKE","NOT LIKE","REGEXP","GLOB"].indexOf(this.op)||"BETWEEN"===this.op||"NOT BETWEEN"===this.op||"IS NULL"===this.op||"IS NOT NULL"===this.op||this.allsome?"boolean":this.op?"unknown":this.left.toType()},j.Op.prototype.toJS=function(e,t,a){function n(n){return n.toJS&&(n=n.toJS(e,t,a)),"y["+(s.push(n)-1)+"]"}var r,i,s=[],o=this.op,l=this,c=function(){return n(l.left)},u=function(){return n(l.right)};if("="===this.op?o="===":"<>"===this.op?o="!=":"OR"===this.op&&(o="||"),"->"===this.op&&(r="("+c()+"||{})",i="string"==typeof this.right?r+'["'+this.right+'"]':"number"==typeof this.right?r+"["+this.right+"]":this.right instanceof j.FuncValue?(i=[],this.right.args&&0!==this.right.args.length&&(i=this.right.args.map(n)),r+"["+JSON.stringify(this.right.funcid)+"]("+i.join(",")+")"):r+"["+u()+"]"),"!"===this.op&&"string"==typeof this.right&&(i="alasql.databases[alasql.useid].objects["+c()+']["'+this.right+'"]'),"IS"===this.op&&(i="(("+c()+"==null) === ("+u()+"==null))"),"=="===this.op&&(i="alasql.utils.deepEqual("+c()+","+u()+")"),"==="!==this.op&&"!==="!==this.op||(i="("+("!==="===this.op?"!":"")+"(("+c()+").valueOf()===("+u()+").valueOf()))"),"!=="===this.op&&(i="(!alasql.utils.deepEqual("+c()+","+u()+"))"),"||"===this.op&&(i="(''+("+c()+"||'')+("+u()+'||""))'),"LIKE"!==this.op&&"NOT LIKE"!==this.op||(i="("+("NOT LIKE"===this.op?"!":"")+"alasql.utils.like("+u()+","+c(),this.escape&&(i+=","+n(this.escape)),i+="))"),"REGEXP"===this.op&&(i="alasql.stdfn.REGEXP_LIKE("+c()+","+u()+")"),"GLOB"===this.op&&(i="alasql.utils.glob("+c()+","+u()+")"),"BETWEEN"!==this.op&&"NOT BETWEEN"!==this.op||(r=c(),i="("+("NOT BETWEEN"===this.op?"!":"")+"(("+n(this.right1)+"<="+r+") && ("+r+"<="+n(this.right2)+")))"),"IN"===this.op&&(this.right instanceof j.Select?(i="(",i+="alasql.utils.flatArray(this.queriesfn["+this.queriesidx+"](params,null,"+e+"))",i+=".indexOf(",i+="alasql.utils.getValueOf("+c()+"))>-1)"):i=Array.isArray(this.right)?"(["+this.right.map(n).join(",")+"].indexOf(alasql.utils.getValueOf("+c()+"))>-1)":"("+u()+".indexOf("+c()+")>-1)"),"NOT IN"===this.op&&(this.right instanceof j.Select?(i="(",i+="alasql.utils.flatArray(this.queriesfn["+this.queriesidx+"](params,null,p))",i+=".indexOf(",i+="alasql.utils.getValueOf("+c()+"))<0)"):Array.isArray(this.right)?(i="(["+this.right.map(n).join(",")+"].indexOf(",i+="alasql.utils.getValueOf("+c()+"))<0)"):(i="("+u()+".indexOf(",i+=c()+")==-1)")),"ALL"===this.allsome)if(this.right instanceof j.Select)i="alasql.utils.flatArray(this.query.queriesfn["+this.queriesidx+"](params,null,p))",i+=".every(function(b){return (",i+=c()+")"+o+"b})";else{if(!Array.isArray(this.right))throw new Error("NOT IN operator without SELECT");i=""+(1==this.right.length?n(this.right[0]):"["+this.right.map(n).join(",")+"]"),i+=".every(function(b){return (",i+=c()+")"+o+"b})"}if("SOME"===this.allsome||"ANY"===this.allsome)if(this.right instanceof j.Select)i="alasql.utils.flatArray(this.query.queriesfn["+this.queriesidx+"](params,null,p))",i+=".some(function(b){return (",i+=c()+")"+o+"b})";else{if(!Array.isArray(this.right))throw new Error("SOME/ANY operator without SELECT");i=""+(1==this.right.length?n(this.right[0]):"["+this.right.map(n).join(",")+"]"),i+=".some(function(b){return (",i+=c()+")"+o+"b})"}if("AND"===this.op){if(this.left.reduced){if(this.right.reduced)return"true";i=u()}else this.right.reduced&&(i=c());o="&&"}return c=i||"("+c()+o+u()+")",u="y=[("+s.join("), (")+")]","&&"===o||"||"===o||"IS"===o||"IS NULL"===o||"IS NOT NULL"===o?"("+u+", "+c+")":"("+u+", y.some(function(e){return e == null}) ? void 0 : "+c+")"},j.VarValue=function(e){return j.extend(this,e)},j.VarValue.prototype.toString=function(){return"@"+this.variable},j.VarValue.prototype.toType=function(){return"unknown"},j.VarValue.prototype.toJS=function(){return"alasql.vars['"+this.variable+"']"},j.NumValue=function(e){return j.extend(this,e)},j.NumValue.prototype.toString=function(){return this.value.toString()},j.NumValue.prototype.toType=function(){return"number"},j.NumValue.prototype.toJS=function(){return""+this.value},j.StringValue=function(e){return j.extend(this,e)},j.StringValue.prototype.toString=function(){return"'"+this.value.toString()+"'"},j.StringValue.prototype.toType=function(){return"string"},j.StringValue.prototype.toJS=function(){return"'"+m(this.value)+"'"},j.DomainValueValue=function(e){return j.extend(this,e)},j.DomainValueValue.prototype.toString=function(){return"VALUE"},j.DomainValueValue.prototype.toType=function(){return"object"},j.DomainValueValue.prototype.toJS=function(e,t,a){return e},j.ArrayValue=function(e){return j.extend(this,e)},j.ArrayValue.prototype.toString=function(){return"ARRAY[]"},j.ArrayValue.prototype.toType=function(){return"object"},j.ArrayValue.prototype.toJS=function(e,t,a){return"[("+this.value.map((function(n){return n.toJS(e,t,a)})).join("), (")+")]"},j.LogicValue=function(e){return j.extend(this,e)},j.LogicValue.prototype.toString=function(){return this.value?"TRUE":"FALSE"},j.LogicValue.prototype.toType=function(){return"boolean"},j.LogicValue.prototype.toJS=function(){return this.value?"true":"false"},j.NullValue=function(e){return j.extend(this,e)},j.NullValue.prototype.toString=function(){return"NULL"},j.NullValue.prototype.toJS=function(){return"undefined"},j.ParamValue=function(e){return j.extend(this,e)},j.ParamValue.prototype.toString=function(){return"$"+this.param},j.ParamValue.prototype.toJS=function(){return"string"==typeof this.param?"params['"+this.param+"']":"params["+this.param+"]"},j.UniOp=function(e){return j.extend(this,e)},j.UniOp.prototype.toString=function(){var e=void 0;return"~"===this.op&&(e=this.op+this.right.toString()),"-"===this.op&&(e=this.op+this.right.toString()),"+"===this.op&&(e=this.op+this.right.toString()),"#"===this.op&&(e=this.op+this.right.toString()),"NOT"===this.op&&(e=this.op+"("+this.right.toString()+")"),null===this.op&&(e="("+this.right.toString()+")"),e||"("+this.right.toString()+")"},j.UniOp.prototype.findAggregator=function(e){this.right.findAggregator&&this.right.findAggregator(e)},j.UniOp.prototype.toType=function(){return"-"===this.op||"+"===this.op?"number":"NOT"===this.op?"boolean":void 0},j.UniOp.prototype.toJS=function(e,t,a){return"~"===this.op?"(~("+this.right.toJS(e,t,a)+"))":"-"===this.op?"(-("+this.right.toJS(e,t,a)+"))":"+"===this.op?"("+this.right.toJS(e,t,a)+")":"NOT"===this.op?"!("+this.right.toJS(e,t,a)+")":"#"===this.op?this.right instanceof j.Column?"(alasql.databases[alasql.useid].objects['"+this.right.columnid+"'])":"(alasql.databases[alasql.useid].objects["+this.right.toJS(e,t,a)+"])":null==this.op?"("+this.right.toJS(e,t,a)+")":void 0},j.Column=function(e){return j.extend(this,e)},j.Column.prototype.toString=function(e){var t=this.columnid==+this.columnid?"["+this.columnid+"]":this.columnid;return this.tableid&&(t=+this.columnid===this.columnid?this.tableid+t:this.tableid+"."+t,this.databaseid&&(t=this.databaseid+"."+t)),this.alias&&!e&&(t+=" AS "+this.alias),t},j.Column.prototype.toJS=function(e,t,a){var n="";if(this.tableid||""!==t||a)if("g"===e)n="g['"+this.nick+"']";else if(this.tableid)n="_"!==this.columnid?e+"['"+this.tableid+"']['"+this.columnid+"']":"g"===e?"g['_']":e+"['"+this.tableid+"']";else if(a){if("-"===(a=a[this.columnid]))throw new Error('Cannot resolve column "'+this.columnid+'" because it exists in two source tables');n=a?"_"!==this.columnid?e+"['"+a+"']['"+this.columnid+"']":e+"['"+a+"']":"_"!==this.columnid?e+"['"+(this.tableid||t)+"']['"+this.columnid+"']":e+"['"+(this.tableid||t)+"']"}else n=-1===t?e+"['"+this.columnid+"']":"_"!==this.columnid?e+"['"+(this.tableid||t)+"']['"+this.columnid+"']":e+"['"+(this.tableid||t)+"']";else n="_"!==this.columnid?e+"['"+this.columnid+"']":"g"===e?"g['_']":e;return n},j.AggrValue=function(e){return j.extend(this,e)},j.AggrValue.prototype.toString=function(e){var t="";return"REDUCE"===this.aggregatorid?t+=this.funcid.replace(Q,"")+"(":t+=this.aggregatorid+"(",this.distinct&&(t+="DISTINCT "),this.expression&&(t+=this.expression.toString()),t+=")",this.over&&(t+=" "+this.over.toString()),this.alias&&!e&&(t+=" AS "+this.alias),t},j.AggrValue.prototype.findAggregator=function(e){var t=m(this.toString())+":"+e.selectGroup.length;if(!(a=!1)){if(!this.nick){this.nick=t;for(var a=!1,n=0;n<e.removeKeys.length;n++)if(e.removeKeys[n]===t){a=!0;break}a||e.removeKeys.push(t)}e.selectGroup.push(this)}},j.AggrValue.prototype.toType=function(){return-1<["SUM","COUNT","AVG","MIN","MAX","AGGR","VAR","STDDEV"].indexOf(this.aggregatorid)?"number":-1<["ARRAY"].indexOf(this.aggregatorid)?"array":-1<["FIRST","LAST"].indexOf(this.aggregatorid)?this.expression.toType():void 0},j.AggrValue.prototype.toJS=function(){var e=this.nick;return void 0===e&&(e=this.toString()),"g['"+e+"']"},j.OrderExpression=function(e){return j.extend(this,e)},j.OrderExpression.prototype.toString=j.Expression.prototype.toString,j.GroupExpression=function(e){return j.extend(this,e)},j.GroupExpression.prototype.toString=function(){return this.type+"("+this.group.toString()+")"},j.FromData=function(e){return j.extend(this,e)},j.FromData.prototype.toString=function(){return this.data?"DATA("+(1e16*Math.random()|0)+")":"?"},j.FromData.prototype.toJS=function(){},j.Select.prototype.exec=function(e,t){this.preparams&&(e=this.preparams.concat(e));var a=n.useid,r=n.databases[a],i=this.toString(),s=S(i);if(a=this.compile(a))return a.sql=i,a.dbversion=r.dbversion,r.sqlCacheSize>n.MAXSQLCACHESIZE&&r.resetSqlCache(),r.sqlCacheSize++,r.sqlCache[s]=a,n.res=a(e,t)},j.Select.prototype.Select=function(){var e=this,t=[];if(1<arguments.length)t=Array.prototype.slice.call(arguments);else{if(1!=arguments.length)throw new Error("Wrong number of arguments of Select() function");t=Array.isArray(arguments[0])?arguments[0]:[arguments[0]]}return e.columns=[],t.forEach((function(t){var a;"string"==typeof t?e.columns.push(new j.Column({columnid:t})):"function"==typeof t&&(a=0,e.preparams?a=e.preparams.length:e.preparams=[],e.preparams.push(t),e.columns.push(new j.Column({columnid:"*",func:t,param:a})))})),e},j.Select.prototype.From=function(e){var t=this;if(t.from||(t.from=[]),Array.isArray(e)){var a=0;t.preparams?a=t.preparams.length:t.preparams=[],t.preparams.push(e),t.from.push(new j.ParamValue({param:a}))}else{if("string"!=typeof e)throw new Error("Unknown arguments in From() function");t.from.push(new j.Table({tableid:e}))}return t},j.Select.prototype.OrderBy=function(){var e=this,t=[];if(e.order=[],0==arguments.length)t=["_"];else if(1<arguments.length)t=Array.prototype.slice.call(arguments);else{if(1!=arguments.length)throw new Error("Wrong number of arguments of Select() function");t=Array.isArray(arguments[0])?arguments[0]:[arguments[0]]}return 0<t.length&&t.forEach((function(t){var a=new j.Column({columnid:t});"function"==typeof t&&(a=t),e.order.push(new j.OrderExpression({expression:a,direction:"ASC"}))})),e},j.Select.prototype.Top=function(e){return this.top=new j.NumValue({value:e}),this},j.Select.prototype.GroupBy=function(){var e=this,t=[];if(1<arguments.length)t=Array.prototype.slice.call(arguments);else{if(1!=arguments.length)throw new Error("Wrong number of arguments of Select() function");t=Array.isArray(arguments[0])?arguments[0]:[arguments[0]]}return e.group=[],t.forEach((function(t){t=new j.Column({columnid:t}),e.group.push(t)})),e},j.Select.prototype.Where=function(e){return"function"==typeof e&&(this.where=e),this},j.FuncValue=function(e){return j.extend(this,e)};var Q=/[^0-9A-Z_$]+/i;j.FuncValue.prototype.toString=function(e){var t="";return n.fn[this.funcid]||n.aggr[this.funcid]?t+=this.funcid:(n.stdlib[this.funcid.toUpperCase()]||n.stdfn[this.funcid.toUpperCase()])&&(t+=this.funcid.toUpperCase().replace(Q,"")),"CURRENT_TIMESTAMP"!==this.funcid&&(t+="(",this.args&&0<this.args.length&&(t+=this.args.map((function(e){return e.toString()})).join(",")),t+=")"),this.as&&!e&&(t+=" AS "+this.as.toString()),t},j.FuncValue.prototype.execute=function(e,t,a){var r=1;return n.precompile(this,e,t),new Function("params,alasql","var y;return "+this.toJS("","",null))(t,n),a&&(r=a(r)),r},j.FuncValue.prototype.findAggregator=function(e){this.args&&0<this.args.length&&this.args.forEach((function(t){t.findAggregator&&t.findAggregator(e)}))},j.FuncValue.prototype.toJS=function(e,t,a){var r="",i=this.funcid;return!n.fn[i]&&n.stdlib[i.toUpperCase()]?this.args&&0<this.args.length?r+=n.stdlib[i.toUpperCase()].apply(this,this.args.map((function(a){return a.toJS(e,t)}))):r+=n.stdlib[i.toUpperCase()]():(!n.fn[i]&&n.stdfn[i.toUpperCase()]?(this.newid&&(r+="new "),r+="alasql.stdfn["+JSON.stringify(this.funcid.toUpperCase())+"](",this.args&&0<this.args.length&&(r+=this.args.map((function(n){return n.toJS(e,t,a)})).join(","))):(this.newid&&(r+="new "),r+="alasql.fn["+JSON.stringify(this.funcid)+"](",this.args&&0<this.args.length&&(r+=this.args.map((function(n){return n.toJS(e,t,a)})).join(","))),r+=")"),r},F=n.stdlib={},U=n.stdfn={},F.ABS=function(e){return"Math.abs("+e+")"},F.CLONEDEEP=function(e){return"alasql.utils.cloneDeep("+e+")"},U.CONCAT=function(){return Array.prototype.slice.call(arguments).join("")},F.EXP=function(e){return"Math.pow(Math.E,"+e+")"},F.IIF=function(e,t,a){if(3==arguments.length)return"(("+e+")?("+t+"):("+a+"))";throw new Error("Number of arguments of IFF is not equals to 3")},F.IFNULL=function(e,t){return"("+e+"||"+t+")"},F.INSTR=function(e,t){return"(("+e+").indexOf("+t+")+1)"},F.LEN=F.LENGTH=function(e){return d(e,"y.length")},F.LOWER=F.LCASE=function(e){return d(e,"String(y).toLowerCase()")},F.LTRIM=function(e){return d(e,'y.replace(/^[ ]+/,"")')},F.RTRIM=function(e){return d(e,'y.replace(/[ ]+$/,"")')},F.MAX=F.GREATEST=function(){return"["+Array.prototype.join.call(arguments,",")+"].reduce(function (a, b) { return a > b ? a : b; })"},F.MIN=F.LEAST=function(){return"["+Array.prototype.join.call(arguments,",")+"].reduce(function (a, b) { return a < b ? a : b; })"},F.SUBSTRING=F.SUBSTR=F.MID=function(e,t,a){return 2==arguments.length?d(e,"y.substr("+t+"-1)"):3==arguments.length?d(e,"y.substr("+t+"-1,"+a+")"):void 0},U.REGEXP_LIKE=function(e,t,a){return-1<(e||"").search(RegExp(t,a))},F.ISNULL=F.NULLIF=function(e,t){return"("+e+"=="+t+"?undefined:"+e+")"},F.POWER=function(e,t){return"Math.pow("+e+","+t+")"},F.RANDOM=function(e){return 0==arguments.length?"Math.random()":"(Math.random()*("+e+")|0)"},F.ROUND=function(e,t){return 2==arguments.length?"Math.round(("+e+")*Math.pow(10,("+t+")))/Math.pow(10,("+t+"))":"Math.round("+e+")"},F.CEIL=F.CEILING=function(e){return"Math.ceil("+e+")"},F.FLOOR=function(e){return"Math.floor("+e+")"},F.ROWNUM=function(){return"1"},F.ROW_NUMBER=function(){return"1"},F.SQRT=function(e){return"Math.sqrt("+e+")"},F.TRIM=function(e){return d(e,"y.trim()")},F.UPPER=F.UCASE=function(e){return d(e,"String(y).toUpperCase()")},U.CONCAT_WS=function(){var e=Array.prototype.slice.call(arguments);return(e=e.filter((function(e,t){return!t||null!=e}))).slice(1,e.length).join(e[0]||"")},n.aggr.GROUP_CONCAT=function(e,t,a){return 1===a?""+e:2===a?t+=","+e:t},n.aggr.MEDIAN=function(e,t,a){return 2===a?(null!==e&&t.push(e),t):1===a?null===e?[]:[e]:t.length?(a=t.sort((function(e,t){return e===t?0:t<e?1:-1})),e=(a.length+1)/2,Number.isInteger(e)?a[e-1]:"number"==typeof(t=a[Math.floor(e-1)])||t instanceof Number?(t+a[Math.ceil(e-1)])/2:t):t},n.aggr.QUART=function(e,t,a,n){return 2===a?(null!==e&&t.push(e),t):1===a?null===e?[]:[e]:t.length?(n=n||1,t=t.sort((function(e,t){return e===t?0:t<e?1:-1})),n=n*(t.length+1)/4,Number.isInteger(n)?t[n-1]:t[Math.floor(n)]):t},n.aggr.QUART2=function(e,t,a){return n.aggr.QUART(e,t,a,2)},n.aggr.QUART3=function(e,t,a){return n.aggr.QUART(e,t,a,3)},n.aggr.VAR=function(e,t,a){if(1===a)return null===e?{arr:[],sum:0}:{arr:[e],sum:e};if(2===a)return null===e||(t.arr.push(e),t.sum+=e),t;for(var n=t.arr.length,r=t.sum/n,i=0,s=0;s<n;s++)i+=(t.arr[s]-r)*(t.arr[s]-r);return i/(n-1)},n.aggr.STDEV=function(e,t,a){return 1===a||2===a?n.aggr.VAR(e,t,a):Math.sqrt(n.aggr.VAR(e,t,a))},n.aggr.VARP=function(e,t,a){if(1==a)return{arr:[e],sum:e};if(2==a)return t.arr.push(e),t.sum+=e,t;for(var n=t.arr.length,r=t.sum/n,i=0,s=0;s<n;s++)i+=(t.arr[s]-r)*(t.arr[s]-r);return i/n},n.aggr.STD=n.aggr.STDDEV=n.aggr.STDEVP=function(e,t,a){return 1==a||2==a?n.aggr.VARP(e,t,a):Math.sqrt(n.aggr.VARP(e,t,a))},n._aggrOriginal=n.aggr,n.aggr={},Object.keys(n._aggrOriginal).forEach((function(e){n.aggr[e]=function(t,a,r){if(3!==r||void 0!==a)return n._aggrOriginal[e].apply(null,arguments)}})),U.REPLACE=function(e,t,a){return(e||"").split(t).join(a)};for(var Z=[],ee=0;ee<256;ee++)Z[ee]=(ee<16?"0":"")+ee.toString(16);U.NEWID=U.UUID=U.GEN_RANDOM_UUID=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,a=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return Z[255&e]+Z[e>>8&255]+Z[e>>16&255]+Z[e>>24&255]+"-"+Z[255&t]+Z[t>>8&255]+"-"+Z[t>>16&15|64]+Z[t>>24&255]+"-"+Z[63&a|128]+Z[a>>8&255]+"-"+Z[a>>16&255]+Z[a>>24&255]+Z[255&n]+Z[n>>8&255]+Z[n>>16&255]+Z[n>>24&255]},j.CaseValue=function(e){return j.extend(this,e)},j.CaseValue.prototype.toString=function(){var e="CASE ";return this.expression&&(e+=this.expression.toString()),this.whens&&(e+=this.whens.map((function(e){return" WHEN "+e.when.toString()+" THEN "+e.then.toString()})).join()),e+" END"},j.CaseValue.prototype.findAggregator=function(e){this.expression&&this.expression.findAggregator&&this.expression.findAggregator(e),this.whens&&0<this.whens.length&&this.whens.forEach((function(t){t.when.findAggregator&&t.when.findAggregator(e),t.then.findAggregator&&t.then.findAggregator(e)})),this.elses&&this.elses.findAggregator&&this.elses.findAggregator(e)},j.CaseValue.prototype.toJS=function(e,t,a){var n="((function("+e+",params,alasql){var y,r;";return this.expression?(n+="v="+this.expression.toJS(e,t,a)+";",n+=(this.whens||[]).map((function(n){return" if(v=="+n.when.toJS(e,t,a)+") {r="+n.then.toJS(e,t,a)+"}"})).join(" else ")):n+=(this.whens||[]).map((function(n){return" if("+n.when.toJS(e,t,a)+") {r="+n.then.toJS(e,t,a)+"}"})).join(" else "),this.elses&&(n+=" else {r="+this.elses.toJS(e,t,a)+"}"),n+";return r;}).bind(this))("+e+",params,alasql)"},j.Json=function(e){return j.extend(this,e)},j.Json.prototype.toString=function(){var e="";return(e+=te(this.value))+""};var te=n.utils.JSONtoString=function(e){var t="";if("string"==typeof e)t='"'+e+'"';else if("number"==typeof e)t=e;else if("boolean"==typeof e)t=e;else{if("object"!=typeof e)throw new Error("2Can not show JSON object "+JSON.stringify(e));if(Array.isArray(e))t+="["+e.map((function(e){return te(e)})).join(",")+"]";else if(!e.toJS||e instanceof j.Json){t="{";var a,n=[];for(a in e){var r="";if("string"==typeof a)r+='"'+a+'"';else if("number"==typeof a)r+=a;else{if("boolean"!=typeof a)throw new Error("THis is not ES6... no expressions on left side yet");r+=a}r+=":"+te(e[a]),n.push(r)}t+=n.join(",")+"}"}else{if(!e.toString)throw new Error("1Can not show JSON object "+JSON.stringify(e));t=e.toString()}}return t};function ae(e,t,a,n){var r="";if("string"==typeof e)r='"'+e+'"';else if("number"==typeof e)r="("+e+")";else if("boolean"==typeof e)r=e;else{if("object"!=typeof e)throw new Error("2Can not parse JSON object "+JSON.stringify(e));if(Array.isArray(e))r+="["+e.map((function(e){return ae(e,t,a,n)})).join(",")+"]";else if(!e.toJS||e instanceof j.Json){r="{";var i,s=[];for(i in e){var o="";if("string"==typeof i)o+='"'+i+'"';else if("number"==typeof i)o+=i;else{if("boolean"!=typeof i)throw new Error("THis is not ES6... no expressions on left side yet");o+=i}o+=":"+ae(e[i],t,a,n),s.push(o)}r+=s.join(",")+"}"}else{if(!e.toJS)throw new Error("1Can not parse JSON object "+JSON.stringify(e));r=e.toJS(t,a,n)}}return r}j.Json.prototype.toJS=function(e,t,a){return ae(this.value,e,t,a)},j.Convert=function(e){return j.extend(this,e)},j.Convert.prototype.toString=function(){var e="CONVERT(";return e+=this.dbtypeid,void 0!==this.dbsize&&(e+="("+this.dbsize,this.dbprecision&&(e+=","+this.dbprecision),e+=")"),e+=","+this.expression.toString(),this.style&&(e+=","+this.style),e+")"},j.Convert.prototype.toJS=function(e,t,a){return"alasql.stdfn.CONVERT("+this.expression.toJS(e,t,a)+',{dbtypeid:"'+this.dbtypeid+'",dbsize:'+this.dbsize+",dbprecision:"+this.dbprecision+",style:"+this.style+"})"},n.stdfn.CONVERT=function(e,t){var a=e;if(t.style){var n=/\d{8}/.test(a)?new Date(+a.substr(0,4),+a.substr(4,2)-1,+a.substr(6,2)):o(a);switch(t.style){case 1:a=("0"+(n.getMonth()+1)).substr(-2)+"/"+("0"+n.getDate()).substr(-2)+"/"+("0"+n.getYear()).substr(-2);break;case 2:a=("0"+n.getYear()).substr(-2)+"."+("0"+(n.getMonth()+1)).substr(-2)+"."+("0"+n.getDate()).substr(-2);break;case 3:a=("0"+n.getDate()).substr(-2)+"/"+("0"+(n.getMonth()+1)).substr(-2)+"/"+("0"+n.getYear()).substr(-2);break;case 4:a=("0"+n.getDate()).substr(-2)+"."+("0"+(n.getMonth()+1)).substr(-2)+"."+("0"+n.getYear()).substr(-2);break;case 5:a=("0"+n.getDate()).substr(-2)+"-"+("0"+(n.getMonth()+1)).substr(-2)+"-"+("0"+n.getYear()).substr(-2);break;case 6:a=("0"+n.getDate()).substr(-2)+" "+n.toString().substr(4,3).toLowerCase()+" "+("0"+n.getYear()).substr(-2);break;case 7:a=n.toString().substr(4,3)+" "+("0"+n.getDate()).substr(-2)+","+("0"+n.getYear()).substr(-2);break;case 8:case 108:a=("0"+n.getHours()).substr(-2)+":"+("0"+n.getMinutes()).substr(-2)+":"+("0"+n.getSeconds()).substr(-2);break;case 10:a=("0"+(n.getMonth()+1)).substr(-2)+"-"+("0"+n.getDate()).substr(-2)+"-"+("0"+n.getYear()).substr(-2);break;case 11:a=("0"+n.getYear()).substr(-2)+"/"+("0"+(n.getMonth()+1)).substr(-2)+"/"+("0"+n.getDate()).substr(-2);break;case 12:a=("0"+n.getYear()).substr(-2)+("0"+(n.getMonth()+1)).substr(-2)+("0"+n.getDate()).substr(-2);break;case 101:a=("0"+(n.getMonth()+1)).substr(-2)+"/"+("0"+n.getDate()).substr(-2)+"/"+n.getFullYear();break;case 102:a=n.getFullYear()+"."+("0"+(n.getMonth()+1)).substr(-2)+"."+("0"+n.getDate()).substr(-2);break;case 103:a=("0"+n.getDate()).substr(-2)+"/"+("0"+(n.getMonth()+1)).substr(-2)+"/"+n.getFullYear();break;case 104:a=("0"+n.getDate()).substr(-2)+"."+("0"+(n.getMonth()+1)).substr(-2)+"."+n.getFullYear();break;case 105:a=("0"+n.getDate()).substr(-2)+"-"+("0"+(n.getMonth()+1)).substr(-2)+"-"+n.getFullYear();break;case 106:a=("0"+n.getDate()).substr(-2)+" "+n.toString().substr(4,3).toLowerCase()+" "+n.getFullYear();break;case 107:a=n.toString().substr(4,3)+" "+("0"+n.getDate()).substr(-2)+","+n.getFullYear();break;case 110:a=("0"+(n.getMonth()+1)).substr(-2)+"-"+("0"+n.getDate()).substr(-2)+"-"+n.getFullYear();break;case 111:a=n.getFullYear()+"/"+("0"+(n.getMonth()+1)).substr(-2)+"/"+("0"+n.getDate()).substr(-2);break;case 112:a=n.getFullYear()+("0"+(n.getMonth()+1)).substr(-2)+("0"+n.getDate()).substr(-2);break;default:throw new Error("The CONVERT style "+t.style+" is not realized yet.")}}if(n=t.dbtypeid.toUpperCase(),"Date"==t.dbtypeid)return o(a);if("DATE"==n)return(r=o(a)).getFullYear()+"."+("0"+(r.getMonth()+1)).substr(-2)+"."+("0"+r.getDate()).substr(-2);if("DATETIME"==n||"DATETIME2"==n){var r,i=(r=o(a)).getFullYear()+"."+("0"+(r.getMonth()+1)).substr(-2)+"."+("0"+r.getDate()).substr(-2);return(i+=" "+("0"+r.getHours()).substr(-2)+":"+("0"+r.getMinutes()).substr(-2)+":"+("0"+r.getSeconds()).substr(-2))+"."+("00"+r.getMilliseconds()).substr(-3)}if(-1<["MONEY"].indexOf(n))return(0|(s=+a))+100*s%100/100;if(-1<["BOOLEAN"].indexOf(n))return!!a;if(-1<["INT","INTEGER","SMALLINT","BIGINT","SERIAL","SMALLSERIAL","BIGSERIAL"].indexOf(t.dbtypeid.toUpperCase()))return 0|a;if(-1<["STRING","VARCHAR","NVARCHAR","CHARACTER VARIABLE"].indexOf(t.dbtypeid.toUpperCase()))return t.dbsize?(""+a).substr(0,t.dbsize):""+a;if(-1<["CHAR","CHARACTER","NCHAR"].indexOf(n))return(a+new Array(t.dbsize+1).join(" ")).substr(0,t.dbsize);if(-1<["NUMBER","FLOAT","DECIMAL","NUMERIC"].indexOf(n)){var s=+a;return s=void 0!==t.dbsize?parseFloat(s.toPrecision(t.dbsize)):s,void 0!==t.dbprecision?parseFloat(s.toFixed(t.dbprecision)):s}if(-1<["JSON"].indexOf(n)){if("object"==typeof a)return a;try{return JSON.parse(a)}catch(e){throw new Error("Cannot convert string to JSON")}}return a},j.ColumnDef=function(e){return j.extend(this,e)},j.ColumnDef.prototype.toString=function(){var e=this.columnid;return this.dbtypeid&&(e+=" "+this.dbtypeid),this.dbsize&&(e+="("+this.dbsize,this.dbprecision&&(e+=","+this.dbprecision),e+=")"),this.primarykey&&(e+=" PRIMARY KEY"),this.notnull&&(e+=" NOT NULL"),e},j.CreateTable=function(e){return j.extend(this,e)},j.CreateTable.prototype.toString=function(){var e="CREATE";return this.temporary&&(e+=" TEMPORARY"),this.view?e+=" VIEW":e+=" "+(this.class?"CLASS":"TABLE"),this.ifnotexists&&(e+=" IF  NOT EXISTS"),e+=" "+this.table.toString(),this.viewcolumns&&(e+="("+this.viewcolumns.map((function(e){return e.toString()})).join(",")+")"),this.as?e+=" AS "+this.as:e+=" ("+this.columns.map((function(e){return e.toString()})).join(",")+")",this.view&&this.select&&(e+=" AS "+this.select.toString()),e},j.CreateTable.prototype.execute=function(e,t,a){var r=n.databases[this.table.databaseid||e],i=this.table.tableid;if(!i)throw new Error("Table name is not defined");var s=this.columns,o=this.constraints||[];if(this.ifnotexists&&r.tables[i])return a?a(0):0;if(r.tables[i])throw new Error("Can not create table '"+i+"', because it already exists in the database '"+r.databaseid+"'");var l=r.tables[i]=new n.Table;this.class&&(l.isclass=!0);var c,u,d=[],h=[];return s&&s.forEach((function(t){var a,r=t.dbtypeid;if(n.fn[r]||(r=r.toUpperCase()),-1<["SERIAL","SMALLSERIAL","BIGSERIAL"].indexOf(r)&&(t.identity={value:1,step:1}),r={columnid:t.columnid,dbtypeid:r,dbsize:t.dbsize,dbprecision:t.dbprecision,notnull:t.notnull,identity:t.identity},t.identity&&(l.identities[t.columnid]={value:+t.identity.value,step:+t.identity.step}),t.check&&l.checks.push({id:t.check.constrantid,fn:new Function("r","var y;return "+t.check.expression.toJS("r",""))}),t.default&&d.push("'"+t.columnid+"':"+t.default.toJS("r","")),t.primarykey&&((a=l.pk={}).columns=[t.columnid],a.onrightfns="r['"+t.columnid+"']",a.onrightfn=new Function("r","var y;return "+a.onrightfns),a.hh=S(a.onrightfns),l.uniqs[a.hh]={}),t.unique&&(a={},l.uk=l.uk||[],l.uk.push(a),a.columns=[t.columnid],a.onrightfns="r['"+t.columnid+"']",a.onrightfn=new Function("r","var y;return "+a.onrightfns),a.hh=S(a.onrightfns),l.uniqs[a.hh]={}),t.foreignkey){var i=t.foreignkey.table,s=n.databases[i.databaseid||e].tables[i.tableid];if(void 0===i.columnid){if(!(s.pk.columns&&0<s.pk.columns.length))throw new Error("FOREIGN KEY allowed only to tables with PRIMARY KEYs");i.columnid=s.pk.columns[0]}l.checks.push({fn:function(e){var a={};if(void 0===e[t.columnid])return!0;if(a[i.columnid]=e[t.columnid],a=s.pk.onrightfn(a),!s.uniqs[s.pk.hh][a])throw new Error("Foreign key violation");return!0}})}t.onupdate&&h.push("r['"+t.columnid+"']="+t.onupdate.toJS("r","")),l.columns.push(r),l.xcolumns[r.columnid]=r})),l.defaultfns=d.join(","),l.onupdatefns=h.join(";"),o.forEach((function(t){var a;if("PRIMARY KEY"===t.type){if(l.pk)throw new Error("Primary key already exists");var r=l.pk={};r.columns=t.columns,r.onrightfns=r.columns.map((function(e){return"r['"+e+"']"})).join("+'`'+"),r.onrightfn=new Function("r","var y;return "+r.onrightfns),r.hh=S(r.onrightfns),l.uniqs[r.hh]={}}else if("CHECK"===t.type)a=new Function("r","var y;return "+t.expression.toJS("r",""));else if("UNIQUE"===t.type){var i={};l.uk=l.uk||[],l.uk.push(i),i.columns=t.columns,i.onrightfns=i.columns.map((function(e){return"r['"+e+"']"})).join("+'`'+"),i.onrightfn=new Function("r","var y;return "+i.onrightfns),i.hh=S(i.onrightfns),l.uniqs[i.hh]={}}else if("FOREIGN KEY"===t.type){var s=t.fktable;if(t.fkcolumns&&0<t.fkcolumns.length&&(s.fkcolumns=t.fkcolumns),i=n.databases[s.databaseid||e].tables[s.tableid],void 0===s.fkcolumns&&(s.fkcolumns=i.pk.columns),s.columns=t.columns,s.fkcolumns.length>s.columns.length)throw new Error("Invalid foreign key on table "+l.tableid);a=function(t){var a={};if(s.fkcolumns.forEach((function(e,n){null!=t[s.columns[n]]&&(a[e]=t[s.columns[n]])})),0===Object.keys(a).length)return!0;if(Object.keys(a).length!==s.columns.length)throw new Error("Invalid foreign key on table "+l.tableid);var r=n.databases[s.databaseid||e].tables[s.tableid],i=r.pk.onrightfn(a);if(!r.uniqs[r.pk.hh][i])throw new Error("Foreign key violation");return!0}}a&&l.checks.push({fn:a,id:t.constraintid,fk:"FOREIGN KEY"===t.type})})),this.view&&this.viewcolumns&&(c=this).viewcolumns.forEach((function(e,t){c.select.columns[t].as=e.columnid})),this.view&&this.select&&(l.view=!0,l.select=this.select.compile(this.table.databaseid||e)),r.engineid?n.engines[r.engineid].createTable(this.table.databaseid||e,i,this.ifnotexists,a):(l.insert=function(a,r){var i=n.inserted;n.inserted=[a];var s=this,o=!1,l=!1;for(m in s.beforeinsert)(c=s.beforeinsert[m])&&(c.funcid?!1===n.fn[c.funcid](a)&&(l=l||!0):c.statement&&!1===c.statement.execute(e)&&(l=l||!0));if(!l){var c,u=!1;for(m in s.insteadofinsert)u=!0,(c=s.insteadofinsert[m])&&(c.funcid?n.fn[c.funcid](a):c.statement&&c.statement.execute(e));if(!u){for(var d in s.identities){var h=s.identities[d];a[d]=h.value}if(s.checks&&0<s.checks.length&&s.checks.forEach((function(e){if(!e.fn(a))throw new Error("Violation of CHECK constraint "+(e.id||""))})),s.columns.forEach((function(e){if(e.notnull&&void 0===a[e.columnid])throw new Error("Wrong NULL value in NOT NULL column "+e.columnid)})),s.pk){var p,f=(p=s.pk).onrightfn(a);if(void 0!==s.uniqs[p.hh][f]){if(!r)throw new Error("Cannot insert record, because it already exists in primary key index");o=s.uniqs[p.hh][f]}}if(s.uk&&s.uk.length&&s.uk.forEach((function(e){var t=e.onrightfn(a);if(void 0!==s.uniqs[e.hh][t]){if(!r)throw new Error("Cannot insert record, because it already exists in unique index");o=s.uniqs[e.hh][t]}})),o)s.update((function(e){for(var t in a)e[t]=a[t]}),s.data.indexOf(o),t);else{for(var d in s.data.push(a),s.identities)(h=s.identities[d]).value+=h.step;s.pk&&(f=(p=s.pk).onrightfn(a),s.uniqs[p.hh][f]=a),s.uk&&s.uk.length&&s.uk.forEach((function(e){var t=e.onrightfn(a);s.uniqs[e.hh][t]=a}))}for(var m in s.afterinsert)(c=s.afterinsert[m])&&(c.funcid?n.fn[c.funcid](a):c.statement&&c.statement.execute(e));n.inserted=i}}},l.delete=function(t){var a=this,r=a.data[t],i=!1;for(s in a.beforedelete)(l=a.beforedelete[s])&&(l.funcid?!1===n.fn[l.funcid](r)&&(i=i||!0):l.statement&&!1===l.statement.execute(e)&&(i=i||!0));if(i)return!1;var s,o=!1;for(s in a.insteadofdelete){var l;o=!0,(l=a.insteadofdelete[s])&&(l.funcid?n.fn[l.funcid](r):l.statement&&l.statement.execute(e))}if(!o){if(this.pk){var c=this.pk;if(t=c.onrightfn(r),void 0===this.uniqs[c.hh][t])throw new Error("Something wrong with primary key index on table");this.uniqs[c.hh][t]=void 0}a.uk&&a.uk.length&&a.uk.forEach((function(e){var t=e.onrightfn(r);if(void 0===a.uniqs[e.hh][t])throw new Error("Something wrong with unique index on table");a.uniqs[e.hh][t]=void 0}))}},l.deleteall=function(){this.data.length=0,this.pk&&(this.uniqs[this.pk.hh]={}),l.uk&&l.uk.length&&l.uk.forEach((function(e){l.uniqs[e.hh]={}}))},l.update=function(t,a,r){var i,s=x(this.data[a]);if(this.pk&&((i=this.pk).pkaddr=i.onrightfn(s,r),void 0===this.uniqs[i.hh][i.pkaddr]))throw new Error("Something wrong with index on table");l.uk&&l.uk.length&&l.uk.forEach((function(e){if(e.ukaddr=e.onrightfn(s),void 0===l.uniqs[e.hh][e.ukaddr])throw new Error("Something wrong with unique index on table")})),t(s,r,n);var o=!1;for(d in l.beforeupdate)(u=l.beforeupdate[d])&&(u.funcid?!1===n.fn[u.funcid](this.data[a],s)&&(o=o||!0):u.statement&&!1===u.statement.execute(e)&&(o=o||!0));if(o)return!1;var c=!1;for(d in l.insteadofupdate){var u;c=!0,(u=l.insteadofupdate[d])&&(u.funcid?n.fn[u.funcid](this.data[a],s):u.statement&&u.statement.execute(e))}if(!c){if(l.checks&&0<l.checks.length&&l.checks.forEach((function(e){if(!e.fn(s))throw new Error("Violation of CHECK constraint "+(e.id||""))})),l.columns.forEach((function(e){if(e.notnull&&void 0===s[e.columnid])throw new Error("Wrong NULL value in NOT NULL column "+e.columnid)})),this.pk&&(i.newpkaddr=i.onrightfn(s),void 0!==this.uniqs[i.hh][i.newpkaddr]&&i.newpkaddr!==i.pkaddr))throw new Error("Record already exists");for(var d in l.uk&&l.uk.length&&l.uk.forEach((function(e){if(e.newukaddr=e.onrightfn(s),void 0!==l.uniqs[e.hh][e.newukaddr]&&e.newukaddr!==e.ukaddr)throw new Error("Record already exists")})),this.pk&&(this.uniqs[i.hh][i.pkaddr]=void 0,this.uniqs[i.hh][i.newpkaddr]=s),l.uk&&l.uk.length&&l.uk.forEach((function(e){l.uniqs[e.hh][e.ukaddr]=void 0,l.uniqs[e.hh][e.newukaddr]=s})),this.data[a]=s,l.afterupdate)(u=l.afterupdate[d])&&(u.funcid?n.fn[u.funcid](this.data[a],s):u.statement&&u.statement.execute(e))}},n.options.nocount||(u=1),a&&(u=a(u)),u)},n.fn.Date=Object,n.fn.Date=Date,n.fn.Number=Number,n.fn.String=String,n.fn.Boolean=Boolean,U.EXTEND=n.utils.extend,U.CHAR=String.fromCharCode.bind(String),U.ASCII=function(e){return e.charCodeAt(0)},U.COALESCE=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e]&&("number"!=typeof arguments[e]||!isNaN(arguments[e])))return arguments[e]},U.USER=function(){return"alasql"},U.OBJECT_ID=function(e){return!!n.tables[e]},U.DATE=function(e){return/\d{8}/.test(e)?new Date(+e.substr(0,4),+e.substr(4,2)-1,+e.substr(6,2)):o(e)},U.NOW=function(){var e=new Date,t=e.getFullYear()+"."+("0"+(e.getMonth()+1)).substr(-2)+"."+("0"+e.getDate()).substr(-2);return(t+=" "+("0"+e.getHours()).substr(-2)+":"+("0"+e.getMinutes()).substr(-2)+":"+("0"+e.getSeconds()).substr(-2))+"."+("00"+e.getMilliseconds()).substr(-3)},U.GETDATE=U.NOW,U.CURRENT_TIMESTAMP=U.NOW,U.SECOND=function(e){return(e=o(e)).getSeconds()},U.MINUTE=function(e){return(e=o(e)).getMinutes()},U.HOUR=function(e){return(e=o(e)).getHours()},U.DAYOFWEEK=U.WEEKDAY=function(e){return(e=o(e)).getDay()},U.DAY=U.DAYOFMONTH=function(e){return(e=o(e)).getDate()},U.MONTH=function(e){return(e=o(e)).getMonth()+1},U.YEAR=function(e){return(e=o(e)).getFullYear()};var ne={year:31536e6,quarter:7884e6,month:2592e6,week:6048e5,day:864e5,dayofyear:864e5,weekday:864e5,hour:36e5,minute:6e4,second:1e3,millisecond:1,microsecond:.001};function re(e){var t="";if(void 0===e)t+="undefined";else if(Array.isArray(e)){t+="<style>",t+="table {border:1px black solid; border-collapse: collapse; border-spacing: 0px;}",t+="td,th {border:1px black solid; padding-left:5px; padding-right:5px}",t+="th {background-color: #EEE}",t+="</style>",t+="<table>";var a,n=[];for(a in e[0])n.push(a);t+="<tr><th>#",n.forEach((function(e){t+="<th>"+e}));for(var r=0,i=e.length;r<i;r++)t+="<tr><th>"+(r+1),n.forEach((function(a){t+="<td> ",e[r][a]==+e[r][a]?(t+='<div style="text-align:right">',void 0===e[r][a]?t+="NULL":t+=e[r][a],t+="</div>"):void 0===e[r][a]?t+="NULL":"string"==typeof e[r][a]?t+=e[r][a]:t+=te(e[r][a])}));t+="</table>"}else t+="<p>"+te(e)+"</p>";return t}function ie(e,t,a){var n;a<=0||(n=(t-e.scrollTop)/a*10,setTimeout((function(){e.scrollTop!==t&&(e.scrollTop=e.scrollTop+n,ie(e,t,a-10))}),10))}function se(e,t,a,r,i,s){var o={};function l(e){return e&&!1===n.options.casesensitive?e.toLowerCase():e}a=a||{},n.utils.extend(o,a),void 0===o.headers&&(o.headers=!0),t=n.utils.autoExtFilename(t,"xls",a),n.utils.loadBinaryFile(t,!!r,(function(t){var a,c;a=t instanceof ArrayBuffer?(d=function(e){for(var t="",a=0,n=10240;a<e.byteLength/n;++a)t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(a*n,a*n+n)));return t+String.fromCharCode.apply(null,new Uint8Array(e.slice(a*n)))}(t),e.read(btoa(d),{type:"base64"})):e.read(t,{type:"binary"}),c=void 0===o.sheetid?a.SheetNames[0]:"number"==typeof o.sheetid?a.SheetNames[o.sheetid]:o.sheetid;var u=[];if(void 0===o.range?p=a.Sheets[c]["!ref"]:(p=o.range,a.Sheets[c][p]&&(p=a.Sheets[c][p])),p){for(var d=p.split(":"),h=(t=d[0].match(/[A-Z]+/)[0],+d[0].match(/[0-9]+/)[0]),p=d[1].match(/[A-Z]+/)[0],f=+d[1].match(/[0-9]+/)[0],m={},g=n.utils.xlscn(t),b=n.utils.xlscn(p),v=g;v<=b;v++){var y=n.utils.xlsnc(v);o.headers?a.Sheets[c][y+""+h]?m[y]=l(a.Sheets[c][y+""+h].v):m[y]=l(y):m[y]=y}o.headers&&h++;for(var S=h;S<=f;S++){var E={};for(v=g;v<=b;v++)y=n.utils.xlsnc(v),a.Sheets[c][y+""+S]&&(E[m[y]]=a.Sheets[c][y+""+S].v);u.push(E)}}else u.push([]);0<u.length&&u[u.length-1]&&0==Object.keys(u[u.length-1]).length&&u.pop(),r&&(u=r(u,i,s))}),(function(e){throw e}))}n.stdfn.DATEDIFF=function(e,t,a){return(o(a).getTime()-o(t).getTime())/ne[e.toLowerCase()]},n.stdfn.DATEADD=function(e,t,a){switch(a=o(a),e=e.toLowerCase()){case"year":a.setFullYear(a.getFullYear()+t);break;case"quarter":a.setMonth(a.getMonth()+3*t);break;case"month":a.setMonth(a.getMonth()+t);break;default:a=new Date(a.getTime()+t*ne[e])}return a},n.stdfn.INTERVAL=function(e,t){return e*ne[t.toLowerCase()]},n.stdfn.DATE_ADD=n.stdfn.ADDDATE=function(e,t){return t=o(e).getTime()+t,new Date(t)},n.stdfn.DATE_SUB=n.stdfn.SUBDATE=function(e,t){return t=o(e).getTime()-t,new Date(t)},j.DropTable=function(e){return j.extend(this,e)},j.DropTable.prototype.toString=function(){var e="DROP ";return this.view?e+="VIEW":e+="TABLE",this.ifexists&&(e+=" IF EXISTS"),e+" "+this.tables.toString()},j.DropTable.prototype.execute=function(e,t,a){var r=this.ifexists,i=0,s=0,o=this.tables.length;return this.tables.forEach((function(t){var l=n.databases[t.databaseid||e],c=t.tableid;if(!r||r&&l.tables[c]){if(l.tables[c])l.engineid?n.engines[l.engineid].dropTable(t.databaseid||e,c,r,(function(e){delete l.tables[c],i+=e,++s==o&&a&&a(i)})):(delete l.tables[c],i++,++s==o&&a&&a(i));else if(!n.options.dropifnotexists)throw new Error("Can not drop table '"+t.tableid+"', because it does not exist in the database.")}else++s==o&&a&&a(i)})),i},j.TruncateTable=function(e){return j.extend(this,e)},j.TruncateTable.prototype.toString=function(){return"TRUNCATE TABLE "+this.table.toString()},j.TruncateTable.prototype.execute=function(e,t,a){var r=n.databases[this.table.databaseid||e],i=this.table.tableid;if(r.engineid)return n.engines[r.engineid].truncateTable(this.table.databaseid||e,i,this.ifexists,a);if(!r.tables[i])throw new Error("Cannot truncate table becaues it does not exist");return r.tables[i].data=[],a?a(0):0},j.CreateVertex=function(e){return j.extend(this,e)},j.CreateVertex.prototype.toString=function(){var e="CREATE VERTEX ";return this.class&&(e+=this.class+" "),this.sharp&&(e+="#"+this.sharp+" "),this.sets?e+=this.sets.toString():this.content?e+=this.content.toString():this.select&&(e+=this.select.toString()),e},j.CreateVertex.prototype.toJS=function(e){return"this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+")"},j.CreateVertex.prototype.compile=function(e){var t,a,r,i=e,s=this.sharp;return void 0!==this.name&&(a="x.name="+this.name.toJS(),t=new Function("x",a)),this.sets&&0<this.sets.length&&(a=this.sets.map((function(e){return"x['"+e.column.columnid+"']="+e.expression.toJS("x","")})).join(";"),r=new Function("x,params,alasql",a)),function(e,a){var o=n.databases[i],l={$id:l=void 0!==s?s:o.counter++,$node:"VERTEX"};return o=o.objects[l.$id]=l,t&&t(l),r&&r(l,e,n),a&&(o=a(o)),o}},j.CreateEdge=function(e){return j.extend(this,e)},j.CreateEdge.prototype.toString=function(){var e="CREATE EDGE ";return this.class&&(e+=this.class+" "),e},j.CreateEdge.prototype.toJS=function(e){return"this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+")"},j.CreateEdge.prototype.compile=function(e){var t,a,r,i=e,s=new Function("params,alasql","var y;return "+this.from.toJS()),o=new Function("params,alasql","var y;return "+this.to.toJS());return void 0!==this.name&&(a="x.name="+this.name.toJS(),t=new Function("x",a)),this.sets&&0<this.sets.length&&(a=this.sets.map((function(e){return"x['"+e.column.columnid+"']="+e.expression.toJS("x","")})).join(";"),r=new Function("x,params,alasql","var y;"+a)),function(e,a){var l=0,c=n.databases[i],u={$id:c.counter++,$node:"EDGE"},d=s(e,n),h=o(e,n);return u.$in=[d.$id],u.$out=[h.$id],void 0===d.$out&&(d.$out=[]),d.$out.push(u.$id),h.$in,h.$in.push(u.$id),l=c.objects[u.$id]=u,t&&t(u),r&&r(u,e,n),a&&(l=a(l)),l}},j.CreateGraph=function(e){return j.extend(this,e)},j.CreateGraph.prototype.toString=function(){var e="CREATE GRAPH ";return this.class&&(e+=this.class+" "),e},j.CreateGraph.prototype.execute=function(e,t,a){var r=[];return this.from&&n.from[this.from.funcid]&&(this.graph=n.from[this.from.funcid.toUpperCase()]),this.graph.forEach((function(a){if(a.source){var o={};void 0!==a.as&&(n.vars[a.as]=o),void 0!==a.prop&&(o.name=a.prop),void 0!==a.sharp&&(o.$id=a.sharp),void 0!==a.name&&(o.name=a.name),void 0!==a.class&&(o.$class=a.class);var l,c,u,d,h=n.databases[e];if(void 0===o.$id&&(o.$id=h.counter++),o.$node="EDGE",void 0!==a.json&&I(o,new Function("params,alasql","var y;return "+a.json.toJS())(t,n)),a.source.vars?l="object"==typeof(d=n.vars[a.source.vars])?d:h.objects[d]:(void 0===(c=a.source.sharp)&&(c=a.source.prop),void 0!==(l=n.databases[e].objects[c])||!n.options.autovertex||void 0===a.source.prop&&void 0===a.source.name||void 0===(l=i(a.source.prop||a.source.name))&&(l=s(a.source))),a.source.vars?u="object"==typeof(d=n.vars[a.target.vars])?d:h.objects[d]:(void 0===(d=a.target.sharp)&&(d=a.target.prop),void 0!==(u=n.databases[e].objects[d])||!n.options.autovertex||void 0===a.target.prop&&void 0===a.target.name||void 0===(u=i(a.target.prop||a.target.name))&&(u=s(a.target))),o.$in=[l.$id],o.$out=[u.$id],void 0===l.$out&&(l.$out=[]),l.$out.push(o.$id),void 0===u.$in&&(u.$in=[]),u.$in.push(o.$id),void 0!==(h.objects[o.$id]=o).$class){if(void 0===n.databases[e].tables[o.$class])throw new Error("No such class. Pleace use CREATE CLASS");n.databases[e].tables[o.$class].data.push(o)}r.push(o.$id)}else s(a)})),a&&(r=a(r)),r;function i(e){var t,a=n.databases[n.useid].objects;for(t in a)if(a[t].name===e)return a[t]}function s(a){var i={};void 0!==a.as&&(n.vars[a.as]=i),void 0!==a.prop&&(i.$id=a.prop,i.name=a.prop),void 0!==a.sharp&&(i.$id=a.sharp),void 0!==a.name&&(i.name=a.name),void 0!==a.class&&(i.$class=a.class);var s=n.databases[e];if(void 0===i.$id&&(i.$id=s.counter++),i.$node="VERTEX",void 0!==a.json&&I(i,new Function("params,alasql","var y;return "+a.json.toJS())(t,n)),void 0!==(s.objects[i.$id]=i).$class){if(void 0===n.databases[e].tables[i.$class])throw new Error("No such class. Pleace use CREATE CLASS");n.databases[e].tables[i.$class].data.push(i)}return r.push(i.$id),i}},j.CreateGraph.prototype.compile1=function(e){var t,a,r,i=e,s=new Function("params,alasql","var y;return "+this.from.toJS()),o=new Function("params,alasql","var y;return "+this.to.toJS());return void 0!==this.name&&(a="x.name="+this.name.toJS(),t=new Function("x",a)),this.sets&&0<this.sets.length&&(a=this.sets.map((function(e){return"x['"+e.column.columnid+"']="+e.expression.toJS("x","")})).join(";"),r=new Function("x,params,alasql","var y;"+a)),function(e,a){var l=0,c=n.databases[i],u={$id:c.counter++,$node:"EDGE"},d=s(e,n),h=o(e,n);return u.$in=[d.$id],u.$out=[h.$id],void 0===d.$out&&(d.$out=[]),d.$out.push(u.$id),void 0===h.$in&&(h.$in=[]),h.$in.push(u.$id),l=c.objects[u.$id]=u,t&&t(u),r&&r(u,e,n),a&&(l=a(l)),l}},j.AlterTable=function(e){return j.extend(this,e)},j.AlterTable.prototype.toString=function(){var e="ALTER TABLE "+this.table.toString();return this.renameto&&(e+=" RENAME TO "+this.renameto),e},j.AlterTable.prototype.execute=function(e,t,a){var r=n.databases[e];if(r.dbversion=Date.now(),this.renameto){var i=this.table.tableid,s=this.renameto,o=1;if(r.tables[s])throw new Error("Can not rename a table '"+i+"' to '"+s+"', because the table with this name already exists");if(s===i)throw new Error("Can not rename a table '"+i+"' to itself");return r.tables[s]=r.tables[i],delete r.tables[i],o=1,a&&a(o),o}if(this.addcolumn){(r=n.databases[this.table.databaseid||e]).dbversion++;var l=this.table.tableid,c=r.tables[l],u=this.addcolumn.columnid;if(c.xcolumns[u])throw new Error('Cannot add column "'+u+'", because it already exists in the table "'+l+'"');var d={columnid:u,dbtypeid:this.addcolumn.dbtypeid,dbsize:this.dbsize,dbprecision:this.dbprecision,dbenum:this.dbenum,defaultfns:null};c.columns.push(d),c.xcolumns[u]=d;for(var h=0,p=c.data.length;h<p;h++)c.data[h][u]=void 0;return a?a(1):1}if(this.modifycolumn){if((r=n.databases[this.table.databaseid||e]).dbversion++,l=this.table.tableid,c=r.tables[l],u=this.modifycolumn.columnid,!c.xcolumns[u])throw new Error('Cannot modify column "'+u+'", because it was not found in the table "'+l+'"');return(d=c.xcolumns[u]).dbtypeid=this.dbtypeid,d.dbsize=this.dbsize,d.dbprecision=this.dbprecision,d.dbenum=this.dbenum,a?a(1):1}if(this.renamecolumn){(r=n.databases[this.table.databaseid||e]).dbversion++,l=this.table.tableid,c=r.tables[l],u=this.renamecolumn;var f=this.to;if(!c.xcolumns[u])throw new Error('Column "'+u+'" is not found in the table "'+l+'"');if(c.xcolumns[f])throw new Error('Column "'+f+'" already exists in the table "'+l+'"');if(u==f)return a?a(0):0;for(var m=0;m<c.columns.length;m++)c.columns[m].columnid==u&&(c.columns[m].columnid=f);for(c.xcolumns[f]=c.xcolumns[u],delete c.xcolumns[u],h=0,p=c.data.length;h<p;h++)c.data[h][f]=c.data[h][u],delete c.data[h][u];return c.data.length}if(this.dropcolumn){(r=n.databases[this.table.databaseid||e]).dbversion++,l=this.table.tableid,c=r.tables[l],u=this.dropcolumn;var g=!1;for(m=0;m<c.columns.length;m++)if(c.columns[m].columnid==u){g=!0,c.columns.splice(m,1);break}if(!g)throw new Error('Cannot drop column "'+u+'", because it was not found in the table "'+l+'"');for(delete c.xcolumns[u],h=0,p=c.data.length;h<p;h++)delete c.data[h][u];return a?a(c.data.length):c.data.length}throw Error("Unknown ALTER TABLE method")},j.CreateIndex=function(e){return j.extend(this,e)},j.CreateIndex.prototype.toString=function(){var e="CREATE";return this.unique&&(e+=" UNIQUE"),(e+=" INDEX "+this.indexid+" ON "+this.table.toString())+"("+this.columns.toString()+")"},j.CreateIndex.prototype.execute=function(e,t,a){var r=n.databases[e],i=this.table.tableid,s=r.tables[i];e=this.indexid,r.indices[e]=i;var o=this.columns.map((function(e){return e.expression.toJS("r","")})).join("+'`'+"),l=new Function("r,params,alasql","return "+o);if(this.unique){s.uniqdefs[e]={rightfns:o};var c=s.uniqs[e]={};if(0<s.data.length)for(var u=0,d=s.data.length;u<d;u++)c[p=o(s.data[u])]||(c[p]={num:0}),c[p].num++}else{var h=S(o);s.inddefs[e]={rightfns:o,hh:h},s.indices[h]={};var p,f=s.indices[h]={};if(0<s.data.length)for(u=0,d=s.data.length;u<d;u++)f[p=l(s.data[u],t,n)]||(f[p]=[]),f[p].push(s.data[u])}return h=1,a&&(h=a(h)),h},j.Reindex=function(e){return j.extend(this,e)},j.Reindex.prototype.toString=function(){return"REINDEX "+this.indexid},j.Reindex.prototype.execute=function(e,t,a){var r=n.databases[e];return e=this.indexid,e=r.indices[e],r.tables[e].indexColumns(),e=1,a&&(e=a(e)),e},j.DropIndex=function(e){return j.extend(this,e)},j.DropIndex.prototype.toString=function(){return"DROP INDEX"+this.indexid},j.DropIndex.prototype.compile=function(e){return this.indexid,function(){return 1}},j.WithSelect=function(e){return j.extend(this,e)},j.WithSelect.prototype.toString=function(){var e="WITH ";return(e+=this.withs.map((function(e){return e.name+" AS ("+e.select.toString()+")"})).join(",")+" ")+this.select.toString()},j.WithSelect.prototype.execute=function(e,t,a){var r=this,i=[];return r.withs.forEach((function(a){i.push(n.databases[e].tables[a.name]),(n.databases[e].tables[a.name]=new _({tableid:a.name})).data=a.select.execute(e,t)})),this.select.execute(e,t,(function(t){return r.withs.forEach((function(t,a){i[a]?n.databases[e].tables[t.name]=i[a]:delete n.databases[e].tables[t.name]})),a&&(t=a(t)),t}))},j.If=function(e){return j.extend(this,e)},j.If.prototype.toString=function(){var e="IF ";return e+=this.expression.toString(),e+=" "+this.thenstat.toString(),this.elsestat&&(e+=" ELSE "+this.thenstat.toString()),e},j.If.prototype.execute=function(e,t,a){var r;return new Function("params,alasql,p","var y;return "+this.expression.toJS("({})","",null)).bind(this)(t,n)?r=this.thenstat.execute(e,t,a):this.elsestat?r=this.elsestat.execute(e,t,a):a&&(r=a(r)),r},j.While=function(e){return j.extend(this,e)},j.While.prototype.toString=function(){var e="WHILE ";return(e+=this.expression.toString())+" "+this.loopstat.toString()},j.While.prototype.execute=function(e,t,a){var r=this,i=[],s=new Function("params,alasql,p","var y;return "+this.expression.toJS());if(a){var o=!1,l=function(c){o?i.push(c):o=!0,setTimeout((function(){s(t,n)?r.loopstat.execute(e,t,l):i=a(i)}),0)};l()}else for(;s(t,n);){var c=r.loopstat.execute(e,t);i.push(c)}return i},j.Break=function(e){return j.extend(this,e)},j.Break.prototype.toString=function(){return"BREAK"},j.Break.prototype.execute=function(e,t,a,n){var r=1;return a&&(r=a(r)),r},j.Continue=function(e){return j.extend(this,e)},j.Continue.prototype.toString=function(){return"CONTINUE"},j.Continue.prototype.execute=function(e,t,a,n){var r=1;return a&&(r=a(r)),r},j.BeginEnd=function(e){return j.extend(this,e)},j.BeginEnd.prototype.toString=function(){return"BEGIN "+this.statements.toString()+" END"},j.BeginEnd.prototype.execute=function(e,t,a,n){var r=this,i=[],s=0;return function n(){r.statements[s].execute(e,t,(function(e){return i.push(e),++s<r.statements.length?n():void(a&&(i=a(i)))}))}(),i},j.Insert=function(e){return j.extend(this,e)},j.Insert.prototype.toString=function(){var e="INSERT ";return this.orreplace&&(e+="OR REPLACE "),this.replaceonly&&(e="REPLACE "),e+="INTO "+this.into.toString(),this.columns&&(e+="("+this.columns.toString()+")"),this.values&&(e+=" VALUES "+this.values.map((function(e){return"("+e.toString()+")"})).join(",")),this.select&&(e+=" "+this.select.toString()),e},j.Insert.prototype.toJS=function(e,t,a){return"this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+")"},j.Insert.prototype.compile=function(e){var t=this;e=t.into.databaseid||e;var a=n.databases[e],r=t.into.tableid,i=a.tables[r];if(!i)throw"Table '"+r+"' could not be found";var s,o="",l="",c=(o="db.tables['"+r+"'].dirty=true;","var a,aa=[],x;");if(this.values){this.exists&&(this.existsfn=this.exists.map((function(t){return(t=t.compile(e)).query.modifier="RECORDSET",t}))),this.queries&&(this.queriesfn=this.queries.map((function(t){return(t=t.compile(e)).query.modifier="RECORDSET",t}))),t.values.forEach((function(s){var c=[];t.columns?t.columns.forEach((function(e,t){var a="'"+e.columnid+"':";i.xcolumns&&i.xcolumns[e.columnid]?0<=["INT","FLOAT","NUMBER","MONEY"].indexOf(i.xcolumns[e.columnid].dbtypeid)?a+="(x="+s[t].toJS()+",x==undefined?undefined:+x)":n.fn[i.xcolumns[e.columnid].dbtypeid]?(a+="(new "+i.xcolumns[e.columnid].dbtypeid+"(",a+=s[t].toJS(),a+="))"):a+=s[t].toJS():a+=s[t].toJS(),c.push(a)})):Array.isArray(s)&&i.columns&&0<i.columns.length?i.columns.forEach((function(e,t){var a="'"+e.columnid+"':";0<=["INT","FLOAT","NUMBER","MONEY"].indexOf(e.dbtypeid)?a+="+"+s[t].toJS():n.fn[e.dbtypeid]?(a+="(new "+e.dbtypeid+"(",a+=s[t].toJS(),a+="))"):a+=s[t].toJS(),c.push(a)})):l=ae(s),a.tables[r].defaultfns&&c.unshift(a.tables[r].defaultfns),o+=l?"a="+l+";":"a={"+c.join(",")+"};",a.tables[r].isclass&&(o+="var db=alasql.databases['"+e+"'];",o+='a.$class="'+r+'";',o+="a.$id=db.counter++;",o+="db.objects[a.$id]=a;"),a.tables[r].insert?(o+="var db=alasql.databases['"+e+"'];",o+="db.tables['"+r+"'].insert(a,"+(t.orreplace?"true":"false")+");"):o+="aa.push(a);"})),s=c+o,a.tables[r].insert||(o+="alasql.databases['"+e+"'].tables['"+r+"'].data=alasql.databases['"+e+"'].tables['"+r+"'].data.concat(aa);"),a.tables[r].insert&&a.tables[r].isclass?o+="return a.$id;":o+="return "+t.values.length;var u=new Function("db, params, alasql","var y;"+c+o).bind(this)}else if(this.select){this.select.modifier="RECORDSET";var d=this.select.compile(e);if(a.engineid&&n.engines[a.engineid].intoTable)return function(e,t){return e=d(e),n.engines[a.engineid].intoTable(a.databaseid,r,e.data,null,t)};var h="return alasql.utils.extend(r,{"+i.defaultfns+"})",p=new Function("r,db,params,alasql",h);u=function(e,a,n){var i=d(a).data;if(e.tables[r].insert)for(var s=0,o=i.length;s<o;s++){var l=x(i[s]);p(l,e,a,n),e.tables[r].insert(l,t.orreplace)}else e.tables[r].data=e.tables[r].data.concat(i);return n.options.nocount?void 0:i.length}}else{if(!this.default)throw new Error("Wrong INSERT parameters");h="db.tables['"+r+"'].data.push({"+i.defaultfns+"});return 1;",u=new Function("db,params,alasql",h)}return a.engineid&&n.engines[a.engineid].intoTable&&n.options.autocommit?function(e,t){return e=new Function("db,params","var y;"+s+"return aa;")(a,e),n.engines[a.engineid].intoTable(a.databaseid,r,e,null,t)}:function(t,a){var i=n.databases[e];return n.options.autocommit&&i.engineid&&n.engines[i.engineid].loadTableData(e,r),t=u(i,t,n),n.options.autocommit&&i.engineid&&n.engines[i.engineid].saveTableData(e,r),n.options.nocount&&(t=void 0),a&&a(t),t}},j.Insert.prototype.execute=function(e,t,a){return this.compile(e)(t,a)},j.CreateTrigger=function(e){return j.extend(this,e)},j.CreateTrigger.prototype.toString=function(){var e="CREATE TRIGGER "+this.trigger+" ";return this.when&&(e+=this.when+" "),e+=this.action+" ON ",this.table.databaseid&&(e+=this.table.databaseid+"."),(e+=this.table.tableid+" ")+this.statement.toString()},j.CreateTrigger.prototype.execute=function(e,t,a){var r=1,i=this.trigger;e=this.table.databaseid||e;var s=n.databases[e],o=this.table.tableid;return e={action:this.action,when:this.when,statement:this.statement,funcid:this.funcid,tableid:this.table.tableid},"INSERT"==(s.triggers[i]=e).action&&"BEFORE"==e.when?s.tables[o].beforeinsert[i]=e:"INSERT"==e.action&&"AFTER"==e.when?s.tables[o].afterinsert[i]=e:"INSERT"==e.action&&"INSTEADOF"==e.when?s.tables[o].insteadofinsert[i]=e:"DELETE"==e.action&&"BEFORE"==e.when?s.tables[o].beforedelete[i]=e:"DELETE"==e.action&&"AFTER"==e.when?s.tables[o].afterdelete[i]=e:"DELETE"==e.action&&"INSTEADOF"==e.when?s.tables[o].insteadofdelete[i]=e:"UPDATE"==e.action&&"BEFORE"==e.when?s.tables[o].beforeupdate[i]=e:"UPDATE"==e.action&&"AFTER"==e.when?s.tables[o].afterupdate[i]=e:"UPDATE"==e.action&&"INSTEADOF"==e.when&&(s.tables[o].insteadofupdate[i]=e),a&&(r=a(r)),r},j.DropTrigger=function(e){return j.extend(this,e)},j.DropTrigger.prototype.toString=function(){return"DROP TRIGGER "+this.trigger},j.DropTrigger.prototype.execute=function(e,t,a){var r=0,i=n.databases[e],s=this.trigger;if(!i.triggers[s])throw new Error("Trigger not found");if(!(e=i.triggers[s].tableid))throw new Error("Trigger Table not found");return r=1,delete i.tables[e].beforeinsert[s],delete i.tables[e].afterinsert[s],delete i.tables[e].insteadofinsert[s],delete i.tables[e].beforedelete[s],delete i.tables[e].afterdelete[s],delete i.tables[e].insteadofdelete[s],delete i.tables[e].beforeupdate[s],delete i.tables[e].afterupdate[s],delete i.tables[e].insteadofupdate[s],delete i.triggers[s],a&&(r=a(r)),r},j.Delete=function(e){return j.extend(this,e)},j.Delete.prototype.toString=function(){var e="DELETE FROM "+this.table.toString();return this.where&&(e+=" WHERE "+this.where.toString()),e},j.Delete.prototype.compile=function(e){e=this.table.databaseid||e;var t,a=this.table.tableid,r=n.databases[e];return this.where?(this.exists&&(this.existsfn=this.exists.map((function(t){return(t=t.compile(e)).query.modifier="RECORDSET",t}))),this.queries&&(this.queriesfn=this.queries.map((function(t){return(t=t.compile(e)).query.modifier="RECORDSET",t}))),t=new Function("r,params,alasql","var y;return ("+this.where.toJS("r","")+")").bind(this),function(i,s){if(r.engineid&&n.engines[r.engineid].deleteFromTable)return n.engines[r.engineid].deleteFromTable(e,a,t,i,s);n.options.autocommit&&r.engineid&&("LOCALSTORAGE"==r.engineid||"FILESTORAGE"==r.engineid)&&n.engines[r.engineid].loadTableData(e,a);for(var o,l=r.tables[a],c=l.data.length,u=[],d=0,h=l.data.length;d<h;d++)t(l.data[d],i,n)?l.delete&&l.delete(d,i,n):u.push(l.data[d]);for(o in l.data=u,l.afterdelete){var p=l.afterdelete[o];p&&(p.funcid?n.fn[p.funcid]():p.statement&&p.statement.execute(e))}return c-=l.data.length,n.options.autocommit&&r.engineid&&("LOCALSTORAGE"==r.engineid||"FILESTORAGE"==r.engineid)&&n.engines[r.engineid].saveTableData(e,a),s&&s(c),c}):function(t,i){n.options.autocommit&&r.engineid&&n.engines[r.engineid].loadTableData(e,a),r.tables[a].dirty=!0;var s,o=r.tables[a].data.length;for(s in r.tables[a].data.length=0,r.tables[a].uniqs)r.tables[a].uniqs[s]={};for(s in r.tables[a].indices)r.tables[a].indices[s]={};return n.options.autocommit&&r.engineid&&n.engines[r.engineid].saveTableData(e,a),i&&i(o),o}},j.Delete.prototype.execute=function(e,t,a){return this.compile(e)(t,a)},j.Update=function(e){return j.extend(this,e)},j.Update.prototype.toString=function(){var e="UPDATE "+this.table.toString();return this.columns&&(e+=" SET "+this.columns.toString()),this.where&&(e+=" WHERE "+this.where.toString()),e},j.SetColumn=function(e){return j.extend(this,e)},j.SetColumn.prototype.toString=function(){return this.column.toString()+"="+this.expression.toString()},j.Update.prototype.compile=function(e){e=this.table.databaseid||e;var t,a=this.table.tableid;this.where&&(this.exists&&(this.existsfn=this.exists.map((function(t){return(t=t.compile(e)).query.modifier="RECORDSET",t}))),this.queries&&(this.queriesfn=this.queries.map((function(t){return(t=t.compile(e)).query.modifier="RECORDSET",t}))),t=new Function("r,params,alasql","var y;return "+this.where.toJS("r","")).bind(this));var r=n.databases[e].tables[a].onupdatefns||"";r+=";",this.columns.forEach((function(e){r+="r['"+e.column.columnid+"']="+e.expression.toJS("r","")+";"}));var i=new Function("r,params,alasql","var y;"+r);return function(r,s){var o=n.databases[e];if(o.engineid&&n.engines[o.engineid].updateTable)return n.engines[o.engineid].updateTable(e,a,i,t,r,s);n.options.autocommit&&o.engineid&&n.engines[o.engineid].loadTableData(e,a);var l=o.tables[a];if(!l)throw new Error("Table '"+a+"' not exists");for(var c=0,u=0,d=l.data.length;u<d;u++)t&&!t(l.data[u],r,n)||(l.update?l.update(i,u,r):i(l.data[u],r,n),c++);return n.options.autocommit&&o.engineid&&n.engines[o.engineid].saveTableData(e,a),s&&s(c),c}},j.Update.prototype.execute=function(e,t,a){return this.compile(e)(t,a)},j.Merge=function(e){return j.extend(this,e)},j.Merge.prototype.toString=function(){var e="MERGE ";return e+=this.into.tableid+" ",this.into.as&&(e+="AS "+this.into.as+" "),e+="USING "+this.using.tableid+" ",this.using.as&&(e+="AS "+this.using.as+" "),e+="ON "+this.on.toString()+" ",this.matches.forEach((function(t){e+="WHEN ",t.matched||(e+="NOT "),e+="MATCHED ",t.bytarget&&(e+="BY TARGET "),t.bysource&&(e+="BY SOURCE "),t.expr&&(e+="AND "+t.expr.toString()+" "),e+="THEN ",t.action.delete&&(e+="DELETE "),t.action.insert&&(e+="INSERT ",t.action.columns&&(e+="("+t.action.columns.toString()+") "),t.action.values&&(e+="VALUES ("+t.action.values.toString()+") "),t.action.defaultvalues&&(e+="DEFAULT VALUES ")),t.action.update&&(e+="UPDATE ",e+=t.action.update.map((function(e){return e.toString()})).join(",")+" ")})),e},j.Merge.prototype.execute=function(e,t,a){var n=1;return a&&(n=a(n)),n},j.CreateDatabase=function(e){return j.extend(this,e)},j.CreateDatabase.prototype.toString=function(){var e="CREATE";return this.engineid&&(e+=" "+this.engineid),e+=" DATABASE",this.ifnotexists&&(e+=" IF NOT EXISTS"),e+=" "+this.databaseid,this.args&&0<this.args.length&&(e+="("+this.args.map((function(e){return e.toString()})).join(", ")+")"),this.as&&(e+=" AS "+this.as),e},j.CreateDatabase.prototype.execute=function(e,t,a){if(this.args&&0<this.args.length&&this.args.map((function(e){return new Function("params,alasql","var y;return "+e.toJS())(t,n)})),this.engineid)return n.engines[this.engineid].createDatabase(this.databaseid,this.args,this.ifnotexists,this.as,a);var r=this.databaseid;if(n.databases[r])throw new Error("Database '"+r+"' already exists");new n.Database(r);var i=1;return a?a(i):i},j.AttachDatabase=function(e){return j.extend(this,e)},j.AttachDatabase.prototype.toString=function(e){var t="ATTACH";return this.engineid&&(t+=" "+this.engineid),t+=" DATABASE "+this.databaseid,e&&(t+="(",0<e.length&&(t+=e.map((function(e){return e.toString()})).join(", ")),t+=")"),this.as&&(t+=" AS "+this.as),t},j.AttachDatabase.prototype.execute=function(e,t,a){if(!n.engines[this.engineid])throw new Error('Engine "'+this.engineid+'" is not defined.');return n.engines[this.engineid].attachDatabase(this.databaseid,this.as,this.args,t,a)},j.DetachDatabase=function(e){return j.extend(this,e)},j.DetachDatabase.prototype.toString=function(){return"DETACH DATABASE "+this.databaseid},j.DetachDatabase.prototype.execute=function(e,t,a){if(!n.databases[this.databaseid].engineid)throw new Error('Cannot detach database "'+this.engineid+'", because it was not attached.');var r=this.databaseid;if(r===n.DEFAULTDATABASEID)throw new Error("Drop of default database is prohibited");if(n.databases[r]){var i=n.databases[r].engineid&&"FILESTORAGE"==n.databases[r].engineid,s=n.databases[r].filename||"";delete n.databases[r],i&&(n.databases[r]={},n.databases[r].isDetached=!0,n.databases[r].filename=s),r===n.useid&&n.use(),s=1}else{if(!this.ifexists)throw new Error("Database '"+r+"' does not exist");s=0}return a&&a(s),s},j.UseDatabase=function(e){return j.extend(this,e)},j.UseDatabase.prototype.toString=function(){return"USE DATABASE "+this.databaseid},j.UseDatabase.prototype.execute=function(e,t,a){var r=this.databaseid;if(!n.databases[r])throw new Error("Database '"+r+"' does not exist");return n.use(r),a&&a(1),1},j.DropDatabase=function(e){return j.extend(this,e)},j.DropDatabase.prototype.toString=function(){var e="DROP";return this.ifexists&&(e+=" IF EXISTS"),e+" DATABASE "+this.databaseid},j.DropDatabase.prototype.execute=function(e,t,a){if(this.engineid)return n.engines[this.engineid].dropDatabase(this.databaseid,this.ifexists,a);var r,i=this.databaseid;if(i===n.DEFAULTDATABASEID)throw new Error("Drop of default database is prohibited");if(n.databases[i]){if(n.databases[i].engineid)throw new Error("Cannot drop database '"+i+"', because it is attached. Detach it.");delete n.databases[i],i===n.useid&&n.use(),r=1}else{if(!this.ifexists)throw new Error("Database '"+i+"' does not exist");r=0}return a&&a(r),r},j.Declare=function(e){return j.extend(this,e)},j.Declare.prototype.toString=function(){var e="DECLARE ";return this.declares&&0<this.declares.length&&(e=this.declares.map((function(e){var t="";return t+="@"+e.variable+" ",t+=e.dbtypeid,this.dbsize&&(t+="("+this.dbsize,this.dbprecision&&(t+=","+this.dbprecision),t+=")"),e.expression&&(t+=" = "+e.expression.toString()),t})).join(",")),e},j.Declare.prototype.execute=function(e,t,a){var r=1;return this.declares&&0<this.declares.length&&this.declares.map((function(e){var a=e.dbtypeid;n.fn[a]||(a=a.toUpperCase()),n.declares[e.variable]={dbtypeid:a,dbsize:e.dbsize,dbprecision:e.dbprecision},e.expression&&(n.vars[e.variable]=new Function("params,alasql","return "+e.expression.toJS("({})","",null))(t,n),n.declares[e.variable]&&(n.vars[e.variable]=n.stdfn.CONVERT(n.vars[e.variable],n.declares[e.variable])))})),a&&(r=a(r)),r},j.ShowDatabases=function(e){return j.extend(this,e)},j.ShowDatabases.prototype.toString=function(){var e="SHOW DATABASES";return this.like&&(e+="LIKE "+this.like.toString()),e},j.ShowDatabases.prototype.execute=function(e,t,a){if(this.engineid)return n.engines[this.engineid].showDatabases(this.like,a);var r,i=this,s=[];for(r in n.databases)s.push({databaseid:r});return i.like&&s&&0<s.length&&(s=s.filter((function(e){return n.utils.like(i.like.value,e.databaseid)}))),a&&a(s),s},j.ShowTables=function(e){return j.extend(this,e)},j.ShowTables.prototype.toString=function(){var e="SHOW TABLES";return this.databaseid&&(e+=" FROM "+this.databaseid),this.like&&(e+=" LIKE "+this.like.toString()),e},j.ShowTables.prototype.execute=function(e,t,a){e=n.databases[this.databaseid||e];var r,i=this,s=[];for(r in e.tables)s.push({tableid:r});return i.like&&s&&0<s.length&&(s=s.filter((function(e){return n.utils.like(i.like.value,e.tableid)}))),a&&a(s),s},j.ShowColumns=function(e){return j.extend(this,e)},j.ShowColumns.prototype.toString=function(){var e="SHOW COLUMNS";return this.table.tableid&&(e+=" FROM "+this.table.tableid),this.databaseid&&(e+=" FROM "+this.databaseid),e},j.ShowColumns.prototype.execute=function(e,t,a){return(e=n.databases[this.databaseid||e].tables[this.table.tableid])&&e.columns?(e=e.columns.map((function(e){return{columnid:e.columnid,dbtypeid:e.dbtypeid,dbsize:e.dbsize}})),a&&a(e),e):(a&&a([]),[])},j.ShowIndex=function(e){return j.extend(this,e)},j.ShowIndex.prototype.toString=function(){var e="SHOW INDEX";return this.table.tableid&&(e+=" FROM "+this.table.tableid),this.databaseid&&(e+=" FROM "+this.databaseid),e},j.ShowIndex.prototype.execute=function(e,t,a){var r=n.databases[this.databaseid||e].tables[this.table.tableid],i=[];if(r&&r.indices)for(var s in r.indices)i.push({hh:s,len:Object.keys(r.indices[s]).length});return a&&a(i),i},j.ShowCreateTable=function(e){return j.extend(this,e)},j.ShowCreateTable.prototype.toString=function(){var e="SHOW CREATE TABLE "+this.table.tableid;return this.databaseid&&(e+=" FROM "+this.databaseid),e},j.ShowCreateTable.prototype.execute=function(e){var t=n.databases[this.databaseid||e].tables[this.table.tableid];if(t){e="CREATE TABLE "+this.table.tableid+" (";var a=[];return t.columns&&(t.columns.forEach((function(e){var t=e.columnid+" "+e.dbtypeid;e.dbsize&&(t+="("+e.dbsize+")"),e.primarykey&&(t+=" PRIMARY KEY"),a.push(t)})),e+=a.join(", ")),e+")"}throw new Error('There is no such table "'+this.table.tableid+'"')},j.SetVariable=function(e){return j.extend(this,e)},j.SetVariable.prototype.toString=function(){var e="SET ";return void 0!==this.value&&(e+=this.variable.toUpperCase()+" "+(this.value?"ON":"OFF")),this.expression&&(e+=this.method+this.variable+" = "+this.expression.toString()),e},j.SetVariable.prototype.execute=function(e,t,a){var r;void 0!==this.value?("ON"==(r=this.value)?r=!0:"OFF"==r&&(r=!1),n.options[this.variable]=r):this.expression&&(this.exists&&(this.existsfn=this.exists.map((function(t){return(t=t.compile(e)).query&&!t.query.modifier&&(t.query.modifier="RECORDSET"),t}))),this.queries&&(this.queriesfn=this.queries.map((function(t){return(t=t.compile(e)).query&&!t.query.modifier&&(t.query.modifier="RECORDSET"),t}))),i=new Function("params,alasql","return "+this.expression.toJS("({})","",null)).bind(this)(t,n),n.declares[this.variable]&&(i=n.stdfn.CONVERT(i,n.declares[this.variable])),this.props&&0<this.props.length?(r="@"==this.method?"alasql.vars['"+this.variable+"']":"params['"+this.variable+"']",r+=this.props.map((function(e){return"string"==typeof e?"['"+e+"']":"number"==typeof e?"["+e+"]":"["+e.toJS()+"]"})).join(),new Function("value,params,alasql","var y;"+r+"=value")(i,t,n)):"@"==this.method?n.vars[this.variable]=i:t[this.variable]=i);var i=1;return a&&(i=a(i)),i},n.test=function(e,t,a){if(0!==arguments.length){var r=Date.now();if(1===arguments.length)return a(),void n.con.log(Date.now()-r);2===arguments.length&&(a=t,t=1);for(var i=0;i<t;i++)a();n.con.results[e]=Date.now()-r}else n.log(n.con.results)},n.log=function(e,t){n.useid;var a,r=n.options.logtarget;if(c.isNode&&(r="console"),a="string"==typeof e?n(e,t):e,"console"===r||c.isNode)"string"==typeof e&&n.options.logprompt,Array.isArray(a)&&console.table;else{r="output"===r?document.getElementsByTagName("output")[0]:"string"==typeof r?document.getElementById(r):r;var i="";if("string"==typeof e&&n.options.logprompt&&(i+="<pre><code>"+n.pretty(e)+"</code></pre>"),Array.isArray(a))if(0===a.length)i+="<p>[ ]</p>";else if("object"!=typeof a[0]||Array.isArray(a[0]))for(var s=0,o=a.length;s<o;s++)i+="<p>"+re(a[s])+"</p>";else i+=re(a);else i+=re(a);r.innerHTML+=i}},n.clear=function(){var e=n.options.logtarget;c.isNode||c.isMeteorServer?console.clear:("output"===e?document.getElementsByTagName("output")[0]:"string"==typeof e?document.getElementById(e):e).innerHTML=""},n.write=function(e){var t=n.options.logtarget;c.isNode||c.isMeteorServer?console.log:("output"===t?document.getElementsByTagName("output")[0]:"string"==typeof t?document.getElementById(t):t).innerHTML+=e},n.prompt=function(e,t,a){if(c.isNode)throw new Error("The prompt not realized for Node.js");var r=0;if("string"==typeof e&&(e=document.getElementById(e)),"string"==typeof t&&(t=document.getElementById(t)),t.textContent=n.useid,a){n.prompthistory.push(a),r=n.prompthistory.length;try{var i=Date.now();n.log(a),n.write('<p style="color:blue">'+(Date.now()-i)+" ms</p>")}catch(i){n.write("<p>"+n.useid+"&gt;&nbsp;<b>"+a+"</b></p>"),n.write('<p style="color:red">'+i+"<p>")}}var s=e.getBoundingClientRect().top+document.getElementsByTagName("body")[0].scrollTop;ie(document.getElementsByTagName("body")[0],s,500),e.onkeydown=function(a){if(13===a.which){var i=e.value,s=n.useid;e.value="",n.prompthistory.push(i),r=n.prompthistory.length;try{var o=Date.now();n.log(i),n.write('<p style="color:blue">'+(Date.now()-o)+" ms</p>")}catch(a){n.write("<p>"+s+"&gt;&nbsp;"+n.pretty(i,!1)+"</p>"),n.write('<p style="color:red">'+a+"<p>")}e.focus(),t.textContent=n.useid,s=e.getBoundingClientRect().top+document.getElementsByTagName("body")[0].scrollTop,ie(document.getElementsByTagName("body")[0],s,500)}else 38===a.which?(--r<0&&(r=0),n.prompthistory[r]&&(e.value=n.prompthistory[r],a.preventDefault())):40===a.which&&(++r>=n.prompthistory.length?(r=n.prompthistory.length,e.value=""):n.prompthistory[r]&&(e.value=n.prompthistory[r],a.preventDefault()))}},j.BeginTransaction=function(e){return j.extend(this,e)},j.BeginTransaction.prototype.toString=function(){return"BEGIN TRANSACTION"},j.BeginTransaction.prototype.execute=function(e,t,a){return n.databases[e].engineid?n.engines[n.databases[n.useid].engineid].begin(e,a):(a&&a(1),1)},j.CommitTransaction=function(e){return j.extend(this,e)},j.CommitTransaction.prototype.toString=function(){return"COMMIT TRANSACTION"},j.CommitTransaction.prototype.execute=function(e,t,a){return n.databases[e].engineid?n.engines[n.databases[n.useid].engineid].commit(e,a):(a&&a(1),1)},j.RollbackTransaction=function(e){return j.extend(this,e)},j.RollbackTransaction.prototype.toString=function(){return"ROLLBACK TRANSACTION"},j.RollbackTransaction.prototype.execute=function(e,t,a){return n.databases[e].engineid?n.engines[n.databases[e].engineid].rollback(e,a):(a&&a(1),1)},n.options.tsql&&(n.stdfn.OBJECT_ID=function(e,t){void 0===t&&(t="T"),t=t.toUpperCase(),e=e.split(".");var a=n.useid,r=e[0];2==e.length&&(a=e[0],r=e[1]);var i,s=n.databases[a].tables;for(i in a=n.databases[a].databaseid,s)if(i==r)return s[i].view&&"V"==t||!s[i].view&&"T"==t?a+"."+i:void 0}),n.options.mysql,(n.options.mysql||n.options.sqlite)&&(n.from.INFORMATION_SCHEMA=function(e,t,a,r,i){if("VIEWS"!=e&&"TABLES"!=e)throw new Error("Unknown INFORMATION_SCHEMA table");var s,o=[];for(s in n.databases){var l,c=n.databases[s].tables;for(l in c)(c[l].view&&"VIEWS"==e||!c[l].view&&"TABLES"==e)&&o.push({TABLE_CATALOG:s,TABLE_NAME:l})}return a&&(o=a(o,r,i)),o}),n.options.postgres,n.options.oracle,n.options.sqlite,n.into.SQL=function(e,t,a,r,i){"object"==typeof e&&(t=e,e=void 0);var s={};if(n.utils.extend(s,t),void 0===s.tableid)throw new Error("Table for INSERT TO is not defined.");var o="";0===r.length&&"object"==typeof a[0]&&(r=Object.keys(a[0]).map((function(e){return{columnid:e}})));for(var l=0,c=a.length;l<c;l++)o+="INSERT INTO "+t.tableid+"(",o+=r.map((function(e){return e.columnid})).join(","),o+=") VALUES (",o+=r.map((function(e){var t=a[l][e.columnid];return e.typeid?"STRING"!==e.typeid&&"VARCHAR"!==e.typeid&&"NVARCHAR"!==e.typeid&&"CHAR"!==e.typeid&&"NCHAR"!==e.typeid||(t="'"+g(t)+"'"):"string"==typeof t&&(t="'"+g(t)+"'"),t})),o+=");\n";return e=n.utils.autoExtFilename(e,"sql",t),e=n.utils.saveFile(e,o),i&&(e=i(e)),e},n.into.HTML=function(e,t,a,n,r){var i=1;return r&&(i=r(i)),i},n.into.JSON=function(e,t,a,r,i){var s=1;return"object"==typeof e&&(t=e,e=void 0),a=JSON.stringify(a),e=n.utils.autoExtFilename(e,"json",t),s=n.utils.saveFile(e,a),i&&(s=i(s)),s},n.into.TXT=function(e,t,a,r,i){0===r.length&&0<a.length&&(r=Object.keys(a[0]).map((function(e){return{columnid:e}}))),"object"==typeof e&&(t=e,e=void 0);var s,o=a.length,l="";return 0<a.length&&(s=r[0].columnid,l+=a.map((function(e){return e[s]})).join("\n")),e=n.utils.autoExtFilename(e,"txt",t),o=n.utils.saveFile(e,l),i&&(o=i(o)),o},n.into.TAB=n.into.TSV=function(e,t,a,r,i){var s={};return n.utils.extend(s,t),s.separator="\t",e=n.utils.autoExtFilename(e,"tab",t),s.autoExt=!1,n.into.CSV(e,s,a,r,i)},n.into.CSV=function(e,t,a,r,i){0===r.length&&0<a.length&&(r=Object.keys(a[0]).map((function(e){return{columnid:e}}))),"object"==typeof e&&(t=e,e=void 0);var s={headers:!0,separator:";",quote:'"',utf8Bom:!0};t&&!t.headers&&void 0!==t.headers&&(s.utf8Bom=!1),n.utils.extend(s,t);var o=a.length,l=s.utf8Bom?"\ufeff":"";return s.headers&&(l+=s.quote+r.map((function(e){return e.columnid.trim()})).join(s.quote+s.separator+s.quote)+s.quote+"\r\n"),a.forEach((function(e){l+=r.map((function(t){return t=e[t.columnid],""!==s.quote&&(t=(t+"").replace(new RegExp("\\"+s.quote,"g"),s.quote+s.quote)),+t!=t&&(t=s.quote+t+s.quote),t})).join(s.separator)+"\r\n"})),e=n.utils.autoExtFilename(e,"csv",t),o=n.utils.saveFile(e,l,null,{disableAutoBom:!0}),i&&(o=i(o)),o},n.into.XLS=function(e,t,a,r,i){"object"==typeof e&&(t=e,e=void 0);var s={};t&&t.sheets&&(s=t.sheets);var o={headers:!0};return void 0!==s.Sheet1?o=s[0]:void 0!==t&&(o=t),void 0===o.sheetid&&(o.sheetid="Sheet1"),s=function(){var e,n='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" \t\txmlns="http://www.w3.org/TR/REC-html40"><head> \t\t<meta charset="utf-8" /> \t\t\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets> ';return n+=" <x:ExcelWorksheet><x:Name>"+o.sheetid+"</x:Name><x:WorksheetOptions><x:DisplayGridlines/>     </x:WorksheetOptions> \t\t</x:ExcelWorksheet>",n+="</x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head>",n+="<body",void 0!==o.style&&(n+=' style="',"function"==typeof o.style?n+=o.style(o):n+=o.style,n+='"'),n+=">",n+="<table>",void 0!==o.caption&&("string"==typeof(e=o.caption)&&(e={title:e}),n+="<caption",void 0!==e.style&&(n+=' style="',"function"==typeof e.style?n+=e.style(o,e):n+=e.style,n+='" '),n+=">",n+=e.title,n+="</caption>"),void 0!==o.columns?r=o.columns:0==r.length&&0<a.length&&"object"==typeof a[0]&&(r=Array.isArray(a[0])?a[0].map((function(e,t){return{columnid:t}})):Object.keys(a[0]).map((function(e){return{columnid:e}}))),r.forEach((function(e,t){void 0!==o.column&&I(e,o.column),void 0===e.width&&(o.column&&"undefined"!=o.column.width?e.width=o.column.width:e.width="120px"),"number"==typeof e.width&&(e.width=e.width+"px"),void 0===e.columnid&&(e.columnid=t),void 0===e.title&&(e.title=""+e.columnid.trim()),o.headers&&Array.isArray(o.headers)&&(e.title=o.headers[t])})),n+="<colgroups>",r.forEach((function(e){n+='<col style="width: '+e.width+'"></col>'})),n+="</colgroups>",o.headers&&(n+="<thead>",n+="<tr>",r.forEach((function(e,t){n+="<th ",void 0!==e.style&&(n+=' style="',"function"==typeof e.style?n+=e.style(o,e,t):n+=e.style,n+='" '),n+=">",void 0!==e.title&&("function"==typeof e.title?n+=e.title(o,e,t):n+=e.title),n+="</th>"})),n+="</tr>",n+="</thead>"),n+="<tbody>",a&&0<a.length&&a.forEach((function(e,a){var i;a>o.limit||(n+="<tr",I(i={},o.row),o.rows&&o.rows[a]&&I(i,o.rows[a]),void 0!==i&&void 0!==i.style&&(n+=' style="',"function"==typeof i.style?n+=i.style(o,e,a):n+=i.style,n+='" '),n+=">",r.forEach((function(r,s){var l={};I(l,o.cell),I(l,i.cell),void 0!==o.column&&I(l,o.column.cell),I(l,r.cell),o.cells&&o.cells[a]&&o.cells[a][s]&&I(l,o.cells[a][s]);var c=e[r.columnid];"function"==typeof l.value&&(c=l.value(c,o,e,r,l,a,s));var u=l.typeid;"function"==typeof u&&(u=u(c,o,e,r,l,a,s)),void 0===u&&("number"==typeof c?u="number":"string"==typeof c?u="string":"boolean"==typeof c?u="boolean":"object"==typeof c&&c instanceof Date&&(u="date"));var d="";if("money"==u?d='mso-number-format:"\\#\\,\\#\\#0\\\\ _р_\\.";white-space:normal;':"number"==u?d=" ":"date"==u?d='mso-number-format:"Short Date";':t.types&&t.types[u]&&t.types[u].typestyle&&(d=t.types[u].typestyle),n+="<td style='"+(d=d||'mso-number-format:"\\@";')+"' ",void 0!==l.style&&(n+=' style="',"function"==typeof l.style?n+=l.style(c,o,e,r,a,s):n+=l.style,n+='" '),n+=">",l=l.format,void 0===c)n+="";else if(void 0!==l)if("function"==typeof l)n+=l(c);else{if("string"!=typeof l)throw new Error("Unknown format type. Should be function or string");n+=c}else n+="number"==u||"date"==u?c.toString():"money"==u?(+c).toFixed(2):c;n+="</td>"})),n+="</tr>")})),n+="</tbody>",n+="</table>",n+="</body>",n+="</html>"}(),e=n.utils.autoExtFilename(e,"xls",t),s=n.utils.saveFile(e,s),i&&(s=i(s)),s},n.into.XLSXML=function(e,t,a,r,i){t=t||{},"object"==typeof e&&(t=e,e=void 0);var s,o={},l=t&&t.sheets?(o=t.sheets,s=a,r):(o.Sheet1=t,s=[a],[r]);return e=n.utils.autoExtFilename(e,"xls",t),e=n.utils.saveFile(e,function(){var e="",a=" </Styles>",n={},r=62;function i(t){var a,i="";for(a in t){for(var s in i+="<"+a,t[a])i+=" ","x:"==s.substr(0,2)?i+=s:i+="ss:",i+=s+'="'+t[a][s]+'"';i+="/>"}var o=S(i);return n[o]||(n[o]={styleid:r},e+='<Style ss:ID="s'+r+'">',e+=i,e+="</Style>",r++),"s"+n[o].styleid}var c,u=0;for(c in o){var d=o[c],h=void 0!==d.dataidx?d.dataidx:u++,p=function(e){try{return Object.values(e)}catch(t){return Object.keys(e).map((function(t){return e[t]}))}}(s[h]),f=void 0;void 0!==d.columns?f=d.columns:(void 0===(f=l[h])||0==f.length&&0<p.length)&&"object"==typeof p[0]&&(f=Array.isArray(p[0])?p[0].map((function(e,t){return{columnid:t}})):Object.keys(p[0]).map((function(e){return{columnid:e}}))),f.forEach((function(e,t){void 0!==d.column&&I(e,d.column),void 0===e.width&&(d.column&&void 0!==d.column.width?e.width=d.column.width:e.width=120),"number"==typeof e.width&&(e.width=e.width),void 0===e.columnid&&(e.columnid=t),void 0===e.title&&(e.title=""+e.columnid.trim()),d.headers&&Array.isArray(d.headers)&&(e.title=d.headers[t])})),a+='<Worksheet ss:Name="'+c+'"> \t  \t\t\t<Table ss:ExpandedColumnCount="'+f.length+'" ss:ExpandedRowCount="'+((d.headers?1:0)+Math.min(p.length,d.limit||p.length))+'" x:FullColumns="1" \t   \t\t\tx:FullRows="1" ss:DefaultColumnWidth="65" ss:DefaultRowHeight="15">',f.forEach((function(e,t){a+='<Column ss:Index="'+(t+1)+'" ss:AutoFitWidth="0" ss:Width="'+e.width+'"/>'})),d.headers&&(a+='<Row ss:AutoFitHeight="0">',f.forEach((function(e,t){var n;a+="<Cell ",void 0!==e.style&&(n={},"function"==typeof e.style?I(n,e.style(d,e,t)):I(n,e.style),a+='ss:StyleID="'+i(n)+'"'),a+='><Data ss:Type="String">',void 0!==e.title&&("function"==typeof e.title?a+=e.title(d,e,t):a+=e.title),a+="</Data></Cell>"})),a+="</Row>"),p&&0<p.length&&p.forEach((function(e,n){var r,s;n>d.limit||(I(r={},d.row),d.rows&&d.rows[n]&&I(r,d.rows[n]),a+="<Row ",void 0!==r&&(s={},void 0!==r.style&&("function"==typeof r.style?I(s,r.style(d,e,n)):I(s,r.style),a+='ss:StyleID="'+i(s)+'"')),a+=">",f.forEach((function(s,o){var l={};I(l,d.cell),I(l,r.cell),void 0!==d.column&&I(l,d.column.cell),I(l,s.cell),d.cells&&d.cells[n]&&d.cells[n][o]&&I(l,d.cells[n][o]);var c=e[s.columnid];"function"==typeof l.value&&(c=l.value(c,d,e,s,l,n,o));var u=l.typeid;"function"==typeof u&&(u=u(c,d,e,s,l,n,o)),void 0===u&&("number"==typeof c?u="number":"string"==typeof c?u="string":"boolean"==typeof c?u="boolean":"object"==typeof c&&c instanceof Date&&(u="date"));var h="String";"number"==u?h="Number":"date"==u&&(h="Date");var p="";if("money"==u?p='mso-number-format:"\\#\\,\\#\\#0\\\\ _р_\\.";white-space:normal;':"number"==u?p=" ":"date"==u?p='mso-number-format:"Short Date";':t.types&&t.types[u]&&t.types[u].typestyle&&(p=t.types[u].typestyle),p=p||'mso-number-format:"\\@";',a+="<Cell ",p={},void 0!==l.style&&("function"==typeof l.style?I(p,l.style(c,d,e,s,n,o)):I(p,l.style),a+='ss:StyleID="'+i(p)+'"'),a+=">",a+='<Data ss:Type="'+h+'">',l=l.format,void 0===c)a+="";else if(void 0!==l)if("function"==typeof l)a+=l(c);else{if("string"!=typeof l)throw new Error("Unknown format type. Should be function or string");a+=c}else a+="number"==u||"date"==u?c.toString():"money"==u?(+c).toFixed(2):c;a+="</Data></Cell>"})),a+="</Row>")})),a+="</Table></Worksheet>"}return'<?xml version="1.0"?> \t\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \t\t xmlns:o="urn:schemas-microsoft-com:office:office" \t\t xmlns:x="urn:schemas-microsoft-com:office:excel" \t\t xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \t\t xmlns:html="http://www.w3.org/TR/REC-html40"> \t\t <DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \t\t </DocumentProperties> \t\t <OfficeDocumentSettings xmlns="urn:schemas-microsoft-com:office:office"> \t\t  <AllowPNG/> \t\t </OfficeDocumentSettings> \t\t <ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \t\t  <ActiveSheet>0</ActiveSheet> \t\t </ExcelWorkbook> \t\t <Styles> \t\t  <Style ss:ID="Default" ss:Name="Normal"> \t\t   <Alignment ss:Vertical="Bottom"/> \t\t   <Borders/> \t\t   <Font ss:FontName="Calibri" x:Family="Swiss" ss:Size="12" ss:Color="#000000"/> \t\t   <Interior/> \t\t   <NumberFormat/> \t\t   <Protection/> \t\t  </Style>'+e+(a+="</Workbook>")}()),i&&(e=i(e)),e},n.into.XLSX=function(e,t,a,r,i){var s=1;t=t||{},O(r,[{columnid:"_"}])&&(a=a.map((function(e){return e._})),r=void 0),e=n.utils.autoExtFilename(e,"xlsx",t);var o=L();"object"==typeof e&&(t=e,e=void 0);var l={SheetNames:[],Sheets:{}};return t.sourcefilename?n.utils.loadBinaryFile(t.sourcefilename,!!i,(function(e){l=o.read(e,{type:"binary"}),u()})):u(),i&&(s=i(s)),s;function u(){"object"==typeof t&&Array.isArray(t)?a&&0<a.length&&a.forEach((function(e,a){d(t[a],e,void 0,a+1)})):d(t,a,r,1),function(){if(void 0===e)s=l;else if(t=L(),c.isNode||c.isMeteorServer)t.writeFile(l,e);else{var t=t.write(l,{bookType:"xlsx",bookSST:!1,type:"binary"});if(9==y())throw new Error("Cannot save XLSX files in IE9. Please use XLS() export function");ue(new Blob([function(e){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),n=0;n!=e.length;++n)a[n]=255&e.charCodeAt(n);return t}(t)],{type:"application/octet-stream"}),e)}}()}function d(e,t,a,r){r={sheetid:"Sheet "+r,headers:!0},n.utils.extend(r,e);var i=Object.keys(t).length;(!a||0==a.length)&&0<i&&(a=Object.keys(t[0]).map((function(e){return{columnid:e}})));var s={};-1<l.SheetNames.indexOf(r.sheetid)||(l.SheetNames.push(r.sheetid),l.Sheets[r.sheetid]={}),s=l.Sheets[r.sheetid],e="A1",r.range&&(e=r.range);var o=n.utils.xlscn(e.match(/[A-Z]+/)[0]);e=+e.match(/[0-9]+/)[0]-1,u=l.Sheets[r.sheetid]["!ref"]?(u=l.Sheets[r.sheetid]["!ref"],c=n.utils.xlscn(u.match(/[A-Z]+/)[0]),+u.match(/[0-9]+/)[0]-1):c=1;var c=Math.max(o+a.length,c),u=Math.max(e+i+2,u),d=1+e;l.Sheets[r.sheetid]["!ref"]="A1:"+n.utils.xlsnc(c)+u,r.headers&&(a.forEach((function(e,t){s[n.utils.xlsnc(o+t)+""+d]={v:e.columnid.trim()}})),d++);for(var h=0;h<i;h++)a.forEach((function(e,a){var r={v:t[h][e.columnid]};"number"==typeof t[h][e.columnid]?r.t="n":"string"==typeof t[h][e.columnid]?r.t="s":"boolean"==typeof t[h][e.columnid]?r.t="b":"object"==typeof t[h][e.columnid]&&t[h][e.columnid]instanceof Date&&(r.t="d"),s[n.utils.xlsnc(o+a)+""+d]=r})),d++}},n.from.METEOR=function(e,t,a,n,r){return t=e.find(t).fetch(),a&&(t=a(t,n,r)),t},n.from.TABLETOP=function(e,t,a,r,i){var s=[];return e={headers:!0,simpleSheet:!0,key:e},n.utils.extend(e,t),e.callback=function(e){s=e,a&&(s=a(s,r,i))},Tabletop.init(e),null},n.from.HTML=function(e,t,a,r,i){var s={};if(n.utils.extend(s,t),!(e=document.querySelector(e))&&"TABLE"!==e.tagName)throw new Error("Selected HTML element is not a TABLE");var o=[],l=s.headers;if(l&&!Array.isArray(l)){l=[];for(var c=e.querySelector("thead tr").children,u=0;u<c.length;u++)c.item(u).style&&"none"===c.item(u).style.display&&s.skipdisplaynone?l.push(void 0):l.push(c.item(u).textContent)}for(var d=e.querySelectorAll("tbody tr"),h=0;h<d.length;h++){var p=d.item(h).children,f={};for(u=0;u<p.length;u++)p.item(u).style&&"none"===p.item(u).style.display&&s.skipdisplaynone||(l?f[l[u]]=p.item(u).textContent:f[u]=p.item(u).textContent);o.push(f)}return a&&(o=a(o,r,i)),o},n.from.RANGE=function(e,t,a,n,r){for(var i=[],s=e;s<=t;s++)i.push(s);return a&&(i=a(i,n,r)),i},n.from.FILE=function(e,t,a,r,i){if("string"==typeof e)s=e;else{if(!(e instanceof Event))throw new Error("Wrong usage of FILE() function");s=e.target.files[0].name}var s=(s=s.split("."))[s.length-1].toUpperCase();if(n.from[s])return n.from[s](e,t,a,r,i);throw new Error("Cannot recognize file type for loading")},n.from.JSON=function(e,t,a,r,i){var s;return e=n.utils.autoExtFilename(e,"json",t),n.utils.loadFile(e,!!a,(function(e){s=JSON.parse(e),a&&(s=a(s,r,i))})),s},n.from.TXT=function(e,t,a,r,i){var s;return e=n.utils.autoExtFilename(e,"txt",t),n.utils.loadFile(e,!!a,(function(e){""===(s=e.split(/\r?\n/))[s.length-1]&&s.pop();for(var t=0,n=s.length;t<n;t++)s[t]==+s[t]&&(s[t]=+s[t]),s[t]=[s[t]];a&&(s=a(s,r,i))})),s},n.from.TAB=n.from.TSV=function(e,t,a,r,i){return(t=t||{}).separator="\t",e=n.utils.autoExtFilename(e,"tab",t),t.autoext=!1,n.from.CSV(e,t,a,r,i)},n.from.CSV=function(e,t,a,r,i){e=""+e;var s,o={separator:",",quote:'"',headers:!0};n.utils.extend(o,t);var l=[];function c(e){var t,n,c,u=o.separator.charCodeAt(0),d=o.quote.charCodeAt(0),h={},p={},f=[],m=e.length,g=0,b=0;function v(){if(m<=g)return p;if(n)return n=!1,h;var t=g;if(e.charCodeAt(t)===d){for(var a=t;a++<m;)if(e.charCodeAt(a)===d){if(e.charCodeAt(a+1)!==d)break;++a}return g=a+2,13===(r=e.charCodeAt(a+1))?(n=!0,10===e.charCodeAt(a+2)&&++g):10===r&&(n=!0),e.substring(t+1,a).replace(/""/g,'"')}for(;g<m;){var r,i=1;if(10===(r=e.charCodeAt(g++)))n=!0;else if(13===r)n=!0,10===e.charCodeAt(g)&&(++g,++i);else if(r!==u)continue;return e.substring(t,g-i)}return e.substring(t)}for(;(t=v())!==p;){for(var y,S=[];t!==h&&t!==p;)S.push(t.trim()),t=v();o.headers?(0===b?"boolean"==typeof o.headers?l=S:Array.isArray(o.headers)&&(l=o.headers,y={},l.forEach((function(e,t){y[e]=S[t],void 0!==y[e]&&0!==y[e].length&&y[e].trim()==+y[e]&&(y[e]=+y[e])})),f.push(y)):(y={},l.forEach((function(e,t){y[e]=S[t],void 0!==y[e]&&0!==y[e].length&&y[e].trim()==+y[e]&&(y[e]=+y[e])})),f.push(y)),b++):f.push(S)}s=f,o.headers&&i&&i.sources&&i.sources[r]&&(c=i.sources[r].columns=[],l.forEach((function(e){c.push({columnid:e})}))),a&&(s=a(s,r,i))}return new RegExp("\n").test(e)?c(e):(e=n.utils.autoExtFilename(e,"csv",t),n.utils.loadFile(e,!!a,c,i.cb)),s},n.from.XLS=function(e,t,a,r,i){return t=t||{},e=n.utils.autoExtFilename(e,"xls",t),t.autoExt=!1,se(L(),e,t,a,r,i)},n.from.XLSX=function(e,t,a,r,i){return t=t||{},e=n.utils.autoExtFilename(e,"xlsx",t),t.autoExt=!1,se(L(),e,t,a,r,i)},n.from.ODS=function(e,t,a,r,i){return t=t||{},e=n.utils.autoExtFilename(e,"ods",t),t.autoExt=!1,se(L(),e,t,a,r,i)},n.from.XML=function(e,t,a,r,i){var s;return n.utils.loadFile(e,!!a,(function(e){function t(){var e=o(/^([^<]*)/);return e?e[1]:""}function n(){var e=o(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(e)return{name:e[1],value:e[2].replace(/^['"]|['"]$/g,"")}}function o(e){if(e=u.match(e))return u=u.slice(e[0].length),e}function l(){return 0==u.length}function c(e){return 0==u.indexOf(e)}var u;u=(u=(u=e).trim()).replace(/<!--[\s\S]*?-->/g,""),function(){if(o(/^<\?xml\s*/)){for(var e={attributes:{}};!l()&&!c("?>");){var t=n();if(!t)return e;e.attributes[t.name]=t.value}o(/\?>\s*/)}}(),s=function e(){var a=o(/^<([\w-:.]+)\s*/);if(a){for(var r,i={name:a[1],attributes:{},children:[]};!(l()||c(">")||c("?>")||c("/>"));){var s=n();if(!s)return i;i.attributes[s.name]=s.value}if(o(/^\s*\/>\s*/))return i;for(o(/\??>\s*/),i.content=t();r=e();)i.children.push(r);return o(/^<\/[\w-:.]+>\s*/),i}}(),a&&(s=a(s,r,i))})),s},n.from.GEXF=function(e,t,a,r,i){var s;return n("SEARCH FROM XML("+e+")",[],(function(e){s=e,a&&(s=a(s))})),s},j.Print=function(e){return j.extend(this,e)},j.Print.prototype.toString=function(){var e="PRINT";return this.statement&&(e+=" "+this.statement.toString()),e},j.Print.prototype.execute=function(e,t,a){var r=this,i=1;return n.precompile(this,e,t),this.exprs&&0<this.exprs.length?this.exprs.map((function(e){return e=new Function("params,alasql,p","var y;return "+e.toJS("({})","",null)).bind(r)(t,n),te(e)})):this.select&&(e=this.select.execute(e,t)),a&&(i=a(i)),i},j.Source=function(e){return j.extend(this,e)},j.Source.prototype.toString=function(){var e="SOURCE";return this.url&&(e+=" '"+this.url+" '"),e},j.Source.prototype.execute=function(e,t,a){var r;return v(this.url,!!a,(function(e){return r=n(e),a&&(r=a(r)),r}),(function(e){throw e})),r},j.Require=function(e){return j.extend(this,e)},j.Require.prototype.toString=function(){var e="REQUIRE";return this.paths&&0<this.paths.length&&(e+=this.paths.map((function(e){return e.toString()})).join(",")),this.plugins&&0<this.plugins.length&&(e+=this.plugins.map((function(e){return e.toUpperCase()})).join(",")),e},j.Require.prototype.execute=function(e,t,a){var r=this,i=0,s="";return this.paths&&0<this.paths.length?this.paths.forEach((function(e){v(e.value,!!a,(function(e){s+=e,++i<r.paths.length||(new Function("params,alasql",s)(t,n),a&&(i=a(i)))}))})):this.plugins&&0<this.plugins.length?this.plugins.forEach((function(e){n.plugins[e]||v(n.path+"/alasql-"+e.toLowerCase()+".js",!!a,(function(o){s+=o,++i<r.plugins.length||(new Function("params,alasql",s)(t,n),n.plugins[e]=!0,a&&(i=a(i)))}))})):a&&(i=a(i)),i},j.Assert=function(e){return j.extend(this,e)},j.Source.prototype.toString=function(){var e="ASSERT";return this.value&&(e+=" "+JSON.stringify(this.value)),e},j.Assert.prototype.execute=function(e){if(!O(n.res,this.value))throw new Error((this.message||"Assert wrong")+": "+JSON.stringify(n.res)+" == "+JSON.stringify(this.value));return 1},(U=n.engines.WEBSQL=function(){}).createDatabase=function(e,t,a,r){var i=openDatabase(e,t[0],t[1],t[2]);if(this.dbid&&((t=n.createDatabase(this.dbid)).engineid="WEBSQL",t.wdbid=e,t.wdb=t),!i)throw new Error('Cannot create WebSQL database "'+this.dbid+'"');return r&&r(1),1},U.dropDatabase=function(e){throw new Error("This is impossible to drop WebSQL database.")},U.attachDatabase=function(e,t,a,r,i){if(n.databases[t])throw new Error('Unable to attach database as "'+t+'" because it already exists');return n.openDatabase(e,a[0],a[1],a[2]),1};var oe=n.engines.INDEXEDDB=function(){};c.hasIndexedDB&&("function"==typeof c.global.indexedDB.webkitGetDatabaseNames?oe.getDatabaseNames=c.global.indexedDB.webkitGetDatabaseNames.bind(c.global.indexedDB):(oe.getDatabaseNames=function(){var e={},t={contains:function(e){return!0},notsupported:!0};return setTimeout((function(){var a={target:{result:t}};e.onsuccess(a)}),0),e},oe.getDatabaseNamesNotSupported=!0)),oe.showDatabases=function(e,t){oe.getDatabaseNames().onsuccess=function(a){var n=a.target.result;if(oe.getDatabaseNamesNotSupported)throw new Error("SHOW DATABASE is not supported in this browser");var r,i=[];e&&(r=new RegExp(e.value.replace(/\%/g,".*"),"g"));for(var s=0;s<n.length;s++)e&&!n[s].match(r)||i.push({databaseid:n[s]});t(i)}},oe.createDatabase=function(e,t,a,n,r){var i=c.global.indexedDB;a?i.open(e,1).onsuccess=function(e){e.target.result.close(),r&&r(1)}:((i=i.open(e,1)).onupgradeneeded=function(e){e.target.transaction.abort()},i.onsuccess=function(t){if(!a)throw new Error('IndexedDB: Cannot create new database "'+e+'" because it already exists');r&&r(0)})},oe.createDatabase=function(e,t,a,n,r){var i,s,o,l=c.global.indexedDB;oe.getDatabaseNamesNotSupported?a?(i=!0,(s=l.open(e)).onupgradeneeded=function(e){i=!1},s.onsuccess=function(e){e.target.result.close(),i?r&&r(0):r&&r(1)}):((o=l.open(e)).onupgradeneeded=function(e){e.target.transaction.abort()},o.onabort=function(e){r&&r(1)},o.onsuccess=function(t){throw t.target.result.close(),new Error('IndexedDB: Cannot create new database "'+e+'" because it already exists')}):(o=oe.getDatabaseNames()).onsuccess=function(t){if(t.target.result.contains(e)){if(a)return void(r&&r(0));throw new Error('IndexedDB: Cannot create new database "'+e+'" because it already exists')}l.open(e,1).onsuccess=function(e){e.target.result.close(),r&&r(1)}}},oe.dropDatabase=function(e,t,a){var n=c.global.indexedDB;oe.getDatabaseNames().onsuccess=function(r){if(!r.target.result.contains(e)){if(t)return void(a&&a(0));throw new Error('IndexedDB: Cannot drop new database "'+e+'" because it does not exist')}n.deleteDatabase(e).onsuccess=function(e){a&&a(1)}}},oe.attachDatabase=function(e,t,a,r,i){if(!c.hasIndexedDB)throw new Error("The current browser does not support IndexedDB");var s=c.global.indexedDB;oe.getDatabaseNames().onsuccess=function(a){if(!a.target.result.contains(e))throw new Error('IndexedDB: Cannot attach database "'+e+'" because it does not exist');s.open(e).onsuccess=function(a){var r=a.target.result,s=new n.Database(t||e);s.engineid="INDEXEDDB",s.ixdbid=e,s.tables=[];for(var o=r.objectStoreNames,l=0;l<o.length;l++)s.tables[o[l]]={};a.target.result.close(),i&&i(1)}}},oe.createTable=function(e,t,a,r){var i=c.global.indexedDB,s=n.databases[e].ixdbid;oe.getDatabaseNames().onsuccess=function(a){if(!a.target.result.contains(s))throw new Error('IndexedDB: Cannot create table in database "'+s+'" because it does not exist');(a=i.open(s)).onversionchange=function(e){e.target.result.close()},a.onsuccess=function(a){var n=a.target.result.version;a.target.result.close(),(n=i.open(s,n+1)).onupgradeneeded=function(e){e.target.result.createObjectStore(t,{autoIncrement:!0})},n.onsuccess=function(e){e.target.result.close(),r&&r(1)},n.onerror=function(e){throw e},n.onblocked=function(a){throw new Error('Cannot create table "'+t+'" because database "'+e+'"  is blocked')}}}},oe.dropTable=function(e,t,a,r){var i=c.global.indexedDB,s=n.databases[e].ixdbid;oe.getDatabaseNames().onsuccess=function(o){if(!o.target.result.contains(s))throw new Error('IndexedDB: Cannot drop table in database "'+s+'" because it does not exist');(o=i.open(s)).onversionchange=function(e){e.target.result.close()},o.onsuccess=function(o){var l=o.target.result.version;o.target.result.close(),(l=i.open(s,l+1)).onupgradeneeded=function(r){if((r=r.target.result).objectStoreNames.contains(t))r.deleteObjectStore(t),delete n.databases[e].tables[t];else if(!a)throw new Error('IndexedDB: Cannot drop table "'+t+'" because it does not exist')},l.onsuccess=function(e){e.target.result.close(),r&&r(1)},l.onerror=function(e){throw e},l.onblocked=function(a){throw new Error('Cannot drop table "'+t+'" because database "'+e+'" is blocked')}}}},oe.intoTable=function(e,t,a,r,i){var s=c.global.indexedDB;e=n.databases[e].ixdbid,s.open(e).onsuccess=function(e){for(var n=e.target.result,r=(e=n.transaction([t],"readwrite")).objectStore(t),s=0,o=a.length;s<o;s++)r.add(a[s]);e.oncomplete=function(){n.close(),i&&i(o)}}},oe.fromTable=function(e,t,a,r,i){var s=c.global.indexedDB;e=n.databases[e].ixdbid,s.open(e).onsuccess=function(e){var n=[],s=e.target.result;(e=s.transaction([t]).objectStore(t).openCursor()).onblocked=function(e){},e.onerror=function(e){},e.onsuccess=function(e){(e=e.target.result)?(n.push(e.value),e.continue()):(s.close(),a&&a(n,r,i))}}},oe.deleteFromTable=function(e,t,a,r,i){var s=c.global.indexedDB;e=n.databases[e].ixdbid,s.open(e).onsuccess=function(e){var n=e.target.result,s=(e=n.transaction([t],"readwrite").objectStore(t).openCursor(),0);e.onblocked=function(e){},e.onerror=function(e){},e.onsuccess=function(e){(e=e.target.result)?(a&&!a(e.value,r)||(e.delete(),s++),e.continue()):(n.close(),i&&i(s))}}},oe.updateTable=function(e,t,a,r,i,s){var o=c.global.indexedDB;e=n.databases[e].ixdbid,o.open(e).onsuccess=function(e){var n=e.target.result,o=(e=n.transaction([t],"readwrite").objectStore(t).openCursor(),0);e.onblocked=function(e){},e.onerror=function(e){},e.onsuccess=function(e){var t=e.target.result;t?(r&&!r(t.value,i)||(e=t.value,a(e,i),t.update(e),o++),t.continue()):(n.close(),s&&s(o))}}};var le=n.engines.LOCALSTORAGE=function(){};le.get=function(e){var t,a=localStorage.getItem(e);if(void 0!==a){try{t=JSON.parse(a)}catch(e){throw new Error("Cannot parse JSON object from localStorage"+a)}return t}},le.set=function(e,t){void 0===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t))},le.storeTable=function(e,t){var a=n.databases[e],r=a.tables[t];(e={}).columns=r.columns,e.data=r.data,e.identities=r.identities,le.set(a.lsdbid+"."+t,e)},le.restoreTable=function(e,t){e=n.databases[e];var a,r=le.get(e.lsdbid+"."+t),i=new n.Table;for(a in r)i[a]=r[a];return(e.tables[t]=i).indexColumns(),i},le.removeTable=function(e,t){e=n.databases[e],localStorage.removeItem(e.lsdbid+"."+t)},le.createDatabase=function(e,t,a,n,r){var i=1,s=le.get("alasql");if(a&&s&&s.databases&&s.databases[e])i=0;else{if((s=s||{databases:{}}).databases&&s.databases[e])throw new Error('localStorage: Cannot create new database "'+e+'" because it already exists');s.databases[e]=!0,le.set("alasql",s),le.set(e,{databaseid:e,tables:{}})}return r&&(i=r(i)),i},le.dropDatabase=function(e,t,a){var n,r=1,i=le.get("alasql");if(t&&i&&i.databases&&!i.databases[e])r=0;else{if(!i){if(t)return a?a(0):0;throw new Error("There is no any AlaSQL databases in localStorage")}if(i.databases&&!i.databases[e])throw new Error('localStorage: Cannot drop database "'+e+'" because there is no such database');for(n in delete i.databases[e],le.set("alasql",i),le.get(e).tables)localStorage.removeItem(e+"."+n);localStorage.removeItem(e)}return a&&(r=a(r)),r},le.attachDatabase=function(e,t,a,r,i){var s=1;if(n.databases[t])throw new Error('Unable to attach database as "'+t+'" because it already exists');t=t||e;var o=new n.Database(t);if(o.engineid="LOCALSTORAGE",o.lsdbid=e,o.tables=le.get(e).tables,!n.options.autocommit&&o.tables)for(var l in o.tables)le.restoreTable(t,l);return i&&(s=i(s)),s},le.showDatabases=function(e,t){var a,n=[],r=le.get("alasql");if(e&&(a=new RegExp(e.value.replace(/%/g,".*"),"g")),r&&r.databases){for(var i in r.databases)n.push({databaseid:i});e&&n&&0<n.length&&(n=n.filter((function(e){return e.databaseid.match(a)})))}return t&&(n=t(n)),n},le.createTable=function(e,t,a,r){var i=1,s=n.databases[e].lsdbid;if(le.get(s+"."+t)&&!a)throw new Error('Table "'+t+'" alsready exists in localStorage database "'+s+'"');return a=le.get(s),n.databases[e].tables[t],a.tables[t]=!0,le.set(s,a),le.storeTable(e,t),r&&(i=r(i)),i},le.truncateTable=function(e,t,a,r){var i=1,s=n.databases[e].lsdbid;if(s=n.options.autocommit?le.get(s):n.databases[e],!a&&!s.tables[t])throw new Error('Cannot truncate table "'+t+'" in localStorage, because it does not exist');return le.restoreTable(e,t).data=[],le.storeTable(e,t),r&&(i=r(i)),i},le.dropTable=function(e,t,a,r){var i=1,s=n.databases[e].lsdbid,o=n.options.autocommit?le.get(s):n.databases[e];if(!a&&!o.tables[t])throw new Error('Cannot drop table "'+t+'" in localStorage, because it does not exist');return delete o.tables[t],le.set(s,o),le.removeTable(e,t),r&&(i=r(i)),i},le.fromTable=function(e,t,a,r,i){return n.databases[e].lsdbid,t=le.restoreTable(e,t).data,a&&(t=a(t,r,i)),t},le.intoTable=function(e,t,a,r,i){n.databases[e].lsdbid;var s,o=a.length,l=le.restoreTable(e,t);for(s in l.identities){var c,u=l.identities[s];for(c in a)a[c][s]=u.value,u.value+=u.step}return l.data||(l.data=[]),l.data=l.data.concat(a),le.storeTable(e,t),i&&(o=i(o)),o},le.loadTableData=function(e,t){n.databases[e],n.databases[e].lsdbid,le.restoreTable(e,t)},le.saveTableData=function(e,t){var a=n.databases[e];e=n.databases[e].lsdbid,le.storeTable(e,t),a.tables[t].data=void 0},le.commit=function(e,t){var a=n.databases[e],r=n.databases[e].lsdbid,i={databaseid:r,tables:{}};if(a.tables)for(var s in a.tables)i.tables[s]=!0,le.storeTable(e,s);return le.set(r,i),t?t(1):1},le.begin=le.commit,le.rollback=function(e,t){},(U=n.engines.SQLITE=function(){}).createDatabase=function(e,t,a,n,r){throw new Error("Connot create SQLITE database in memory. Attach it.")},U.dropDatabase=function(e){throw new Error("This is impossible to drop SQLite database. Detach it.")},U.attachDatabase=function(e,t,a,r,i){var s;if(n.databases[t])throw new Error('Unable to attach database as "'+t+'" because it already exists');if(a[0]&&a[0]instanceof j.StringValue||a[0]instanceof j.ParamValue)return a[0]instanceof j.StringValue?s=a[0].value:a[0]instanceof j.ParamValue&&(s=r[a[0].param]),n.utils.loadBinaryFile(s,!0,(function(a){var r=new n.Database(t||e);r.engineid="SQLITE",r.sqldbid=e,a=r.sqldb=new SQL.Database(a),r.tables=[],a.exec("SELECT * FROM sqlite_master WHERE type='table'")[0].values.forEach((function(e){r.tables[e[1]]={};var t=r.tables[e[1]].columns=[];(e=n.parse(e[4]).statements[0].columns)&&0<e.length&&e.forEach((function(e){t.push(e)}))})),i(1)}),(function(e){throw new Error('Cannot open SQLite database file "'+a[0].value+'"')})),1;throw new Error("Cannot attach SQLite database without a file")},U.fromTable=function(e,t,a,r,i){t=n.databases[e].sqldb.exec("SELECT * FROM "+t);var s=i.sources[r].columns=[];0<t[0].columns.length&&t[0].columns.forEach((function(e){s.push({columnid:e})}));var o=[];0<t[0].values.length&&t[0].values.forEach((function(e){var t={};s.forEach((function(a,n){t[a.columnid]=e[n]})),o.push(t)})),a&&a(o,r,i)},U.intoTable=function(e,t,a,r,i){for(var s=n.databases[e].sqldb,o=0,l=a.length;o<l;o++){var c="INSERT INTO "+t+" (",u=a[o],d=Object.keys(u);c+=d.join(","),c+=") VALUES (",c+=d.map((function(e){return"string"==typeof(e=u[e])&&(e="'"+e+"'"),e})).join(","),c+=")",s.exec(c)}return e=l,i&&i(e),e};var ce=n.engines.FILESTORAGE=n.engines.FILE=function(){};if(ce.createDatabase=function(e,t,a,r,i){var s=1,o=t[0].value;return n.utils.fileExists(o,(function(e){if(e){if(a)return s=0,i&&(s=i(s)),s;throw new Error("Cannot create new database file, because it already exists")}n.utils.saveFile(o,JSON.stringify({tables:{}}),(function(e){i&&(s=i(s))}))})),s},ce.dropDatabase=function(e,t,a){var r,i="";return"object"==typeof e&&e.value?i=e.value:(i=(n.databases[e]||{}).filename||"",delete n.databases[e]),n.utils.fileExists(i,(function(e){if(e)r=1,n.utils.deleteFile(i,(function(){r=1,a&&(r=a(r))}));else{if(!t)throw new Error("Cannot drop database file, because it does not exist");r=0,a&&(r=a(r))}})),r},ce.attachDatabase=function(e,t,a,r,i){var s=1;if(n.databases[t])throw new Error('Unable to attach database as "'+t+'" because it already exists');var o=new n.Database(t||e);return o.engineid="FILESTORAGE",o.filename=a[0].value,v(o.filename,!!i,(function(e){try{o.data=JSON.parse(e)}catch(e){throw new Error("Data in FileStorage database are corrupted")}if(o.tables=o.data.tables,!n.options.autocommit&&o.tables)for(var t in o.tables)o.tables[t].data=o.data[t];i&&(s=i(s))})),s},ce.createTable=function(e,t,a,r){var i=n.databases[e];if(i.data[t]&&!a)throw new Error('Table "'+t+'" alsready exists in the database "'+fsdbid+'"');return a=n.databases[e].tables[t],i.data.tables[t]={columns:a.columns},i.data[t]=[],ce.updateFile(e),r&&r(1),1},ce.updateFile=function(e){var t=n.databases[e];t.issaving?t.postsave=!0:(t.issaving=!0,t.postsave=!1,n.utils.saveFile(t.filename,JSON.stringify(t.data),(function(){t.issaving=!1,t.postsave&&setTimeout((function(){ce.updateFile(e)}),50)})))},ce.dropTable=function(e,t,a,r){var i=n.databases[e];if(!a&&!i.tables[t])throw new Error('Cannot drop table "'+t+'" in fileStorage, because it does not exist');return delete i.tables[t],delete i.data.tables[t],delete i.data[t],ce.updateFile(e),r&&r(1),1},ce.fromTable=function(e,t,a,r,i){return t=n.databases[e].data[t],a&&(t=a(t,r,i)),t},ce.intoTable=function(e,t,a,r,i){var s=n.databases[e],o=a.length,l=(l=s.data[t])||[];return s.data[t]=l.concat(a),ce.updateFile(e),i&&i(o),o},ce.loadTableData=function(e,t){(e=n.databases[e]).tables[t].data=e.data[t]},ce.saveTableData=function(e,t){var a=n.databases[e];a.data[t]=a.tables[t].data,a.tables[t].data=null,ce.updateFile(e)},ce.commit=function(e,t){var a=n.databases[e];if(a.tables)for(var r in a.tables)a.data.tables[r]={columns:a.tables[r].columns},a.data[r]=a.tables[r].data;return ce.updateFile(e),t?t(1):1},ce.begin=ce.commit,ce.rollback=function(e,t){var a=1,r=n.databases[e];r.dbversion++,function i(){setTimeout((function(){return r.issaving?i():void n.loadFile(r.filename,!!t,(function(i){for(var s in r.data=i,r.tables={},r.data.tables){var o=new n.Table({columns:r.data.tables[s].columns});I(o,r.data.tables[s]),r.tables[s]=o,n.options.autocommit||(r.tables[s].data=r.data[s]),r.tables[s].indexColumns()}delete n.databases[e],n.databases[e]=new n.Database(e),I(n.databases[e],r),n.databases[e].engineid="FILESTORAGE",n.databases[e].filename=r.filename,t&&(a=t(a))}))}),100)}()},c.isBrowser&&!c.isWebWorker){if(!(n=n||!1))throw new Error("alasql was not found");n.worker=function(){throw new Error("Can find webworker in this enviroment")},"undefined"!=typeof Worker&&(n.worker=function(e,t,a){if(!0===e&&(e=void 0),void 0===e)for(var r=document.getElementsByTagName("script"),i=0;i<r.length;i++){if("alasql-worker.js"===r[i].src.substr(-16).toLowerCase()){e=r[i].src.substr(0,r[i].src.length-16)+"alasql.js";break}if("alasql-worker.min.js"===r[i].src.substr(-20).toLowerCase()){e=r[i].src.substr(0,r[i].src.length-20)+"alasql.min.js";break}if("alasql.js"===r[i].src.substr(-9).toLowerCase()){e=r[i].src;break}if("alasql.min.js"===r[i].src.substr(-13).toLowerCase()){e=r[i].src.substr(0,r[i].src.length-13)+"alasql.min.js";break}}if(void 0===e)throw new Error("Path to alasql.js is not specified");var s;!1!==e?(s="importScripts('",s+=e,s+="');self.onmessage = function(event) {alasql(event.data.sql,event.data.params, function(data){postMessage({id:event.data.id, data:data});});}",s=new Blob([s],{type:"text/plain"}),n.webworker=new Worker(URL.createObjectURL(s)),n.webworker.onmessage=function(e){var t=e.data.id;n.buffer[t](e.data.data),delete n.buffer[t]},n.webworker.onerror=function(e){throw e},1<arguments.length&&(t="REQUIRE "+t.map((function(e){return'"'+e+'"'})).join(","),n(t,[],a))):!1===e&&delete n.webworker});var ue=ue||function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,a=function(){return e.URL||e.webkitURL||e},n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,i=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(e){setTimeout((function(){"string"==typeof e?a().revokeObjectURL(e):e.remove()}),4e4)},l=function(t,a,n){for(var r=(a=[].concat(a)).length;r--;){var i=t["on"+a[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){!function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)}(t)}}},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(t,u,d){function h(){l(f,"writestart progress write writeend".split(" "))}d||(t=c(t));var p,f=this,m="application/octet-stream"===t.type;if(f.readyState=f.INIT,r)return p=a().createObjectURL(t),void setTimeout((function(){var e,t;n.href=p,n.download=u,e=n,t=new MouseEvent("click"),e.dispatchEvent(t),h(),o(p),f.readyState=f.DONE}));!function(){if((s||m&&i)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=s?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,f.readyState=f.DONE,h()},n.readAsDataURL(t),f.readyState=f.INIT}p=p||a().createObjectURL(t),!m&&e.open(p,"_blank")||(e.location.href=p),f.readyState=f.DONE,h(),o(p)}()};return t=u.prototype,"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,a){return t=t||e.name||"download",a||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(t.abort=function(){},t.readyState=t.INIT=0,t.WRITING=1,t.DONE=2,t.error=t.onwritestart=t.onprogress=t.onwrite=t.onabort=t.onerror=t.onwriteend=null,function(e,t,a){return new u(e,t||e.name||"download",a)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);e.exports?e.exports.saveAs=ue:null!==a.amdD&&null!==a.amdO&&void 0!==(i=function(){return ue}.call(t,a,t,e))&&(e.exports=i),c.isCordova||c.isMeteorServer||c.isNode,n.utils.saveAs=ue}return new $("alasql"),n.use("alasql"),n},void 0===(i="function"==typeof n?n.apply(t,r):n)||(e.exports=i)},44237:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});a(79150),a(42295);var n=e=>e.replace(/hh:mm/i,"").replace(":ss","").replace(/[a,p]\.?m\.?/i,"").trim(),r=(a(86305),a(68268),a(3661)),i=a(38163),s=e=>null!=(0,i.stringToMatches)(e),o=a(65573),l=a(65002),c=e=>{var t=(0,l.default)(e).toLowerCase();return-1!==o.DAY_KEY_WORDS.indexOf(t)},u=[c,s],d={isTodayKeyWord:e=>{var t=e.toLowerCase();return"today"===t||"heute"===t},getDateFormatWithoutTime:n,setDateHours:(e,t,a,n,r)=>{t=t||0,a=a||0,(n=n||"AM")===r&&"12"!==t&&(t=+t+12),e.setHours(t,a,0,0)},getDateTimeObject:(e,t,a)=>{var i=t,s=e,o=[];i=n(i);var l=t.replace(i,"").trim(),c=e.indexOf(":");if(c>=0){c-=2;var u=e.substring(c,c+l.length).trim();s=e.replace(u,"").replace(/[a,p]\.?m\.?/i,"").trim();var d=e.replace(u,"").replace(s,"").trim().toLocaleLowerCase();o=u.split(":");var h=[];a&&(h=a.map((e=>r.default.get(e).pm))),-1!==d.indexOf("pm")||-1!==d.indexOf("p.m")||-1!==h.indexOf(d)?"12"!==o[0]&&(o[0]=parseInt(o[0])+12):d.length&&(o[0]=o[0]%12)}return{dateFormat:i,timeFormat:l,timeString:u,dateString:s,time:o}},isDateOffset:s,isDayKeyword:c,isRelativeDate:e=>u.some((t=>t(e)))},h=d},19805:function(e,t,a){"use strict";a.r(t),t.default=e=>Confluence.MacroParameterSerializer.deserialize(e.getAttribute("data-macro-parameters"))},9908:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return r}});a(48868),a(54861),a(63045);var n=a(72510);function r(e){if(e.hasClass("filter-container"))return i(e);var t=[],a=a=>{t.push(...s(e,a))};return a(".selectfilter-element"),a(".userfilter-element"),a(".numberfilter-element"),a(".datefilter-element"),a(".globalfilter-element"),a(".columnhider-element"),a(".iconfilter-element"),t.join(n.ALTERNATE_COMMA)}var i=e=>s(e).join(n.ALTERNATE_COMMA);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.find(t+" .tf-label-name").map((function(){return $(this).text()})).toArray()}},63701:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});a(79150),a(42295),a(86305),a(98457);var n=a(21038),r=a(72510),i=e=>{function t(t,a,n,i,s,o,l,c){var u=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=[];return $.each(a,(function(a,h){var p=n.length>s+a?n[s+a].replace(r.ALTERNATE_COMMA_REGEXP,",").trim():"",f=p?p.split("&&"):[],m=p.split("->"),g={label:(null==t?void 0:t.length)>l+a&&t[l+a]?t[l+a]:h.replace(r.ALTERNATE_COMMA_REGEXP,",").replace(/\u200C/g,"").trim(),name:h.replace(r.ALTERNATE_COMMA_REGEXP,",").replace(/\u200C/g,"").trim(),defaultValue:p,columnWidth:o>-1&&i.length>o+a&&i[o+a]||"150",options:f,defaultFromValue:m[0],defaultToValue:m.length>1?m[1]:"",inverse:Array.isArray(c)?"true"==c[s+a]:c};u&&(g.dateFormat=e.datepattern,g.defaultFromValue?g.defaultStrFromValue=$.datepicker.formatDate(e.datepattern,new Date(+g.defaultFromValue)):g.defaultStrFromValue="",g.defaultToValue?g.defaultStrToValue=$.datepicker.formatDate(e.datepattern,new Date(+g.defaultToValue)):g.defaultStrToValue=""),d.push(g)})),d}var a=!!e.inverse&&e.inverse.split(","),i=e["cell-width"]?e["cell-width"].split(","):[],s=e.default?e.default.split(","):[],o=!!e.labels&&e.labels.split(r.ALTERNATE_COMMA),l=e.ddSeparator?e.ddSeparator.split(r.ALTERNATE_COMMA):"",c=e.ddOperator?e.ddOperator.split(","):[],u=0,d=0,h=0,p=1!==l.length||e.ddSeparators?"":l[0],f=e.column?e.column.split(","):[],m=t(o,f,s,i,u,d,h,a);u+=f.length,d+=f.length,h+=f.length,m.forEach((e=>{var t;Array.isArray(l)?(e.ddSeparator=null!==(t=l[0])&&void 0!==t?t:p,l.shift()):e.ddSeparator=l;e.ddOperator=c[0]||"OR",c.shift()}));var g=t(o,f=e.userfilter?e.userfilter.split(","):[],s,i,u,d,h,a);u+=f.length,d+=f.length,h+=f.length;var b=t(o,f=e.numberfilter?e.numberfilter.split(","):[],s,i,u,-1,h,a);u+=f.length,h+=f.length;var v=t(o,f=e.datefilter?e.datefilter.split(","):[],s,i,u,-1,h,a,!0);u+=f.length,h+=f.length;var y=(f=(0,n.getBooleanValue)(e.globalFilter)?["Filter whole table"]:[]).length?t(o,f,s,i,u,d,h,a)[0]:null;u+=f.length,d+=f.length,h+=f.length;var S=(f=(0,n.getBooleanValue)(e.hideColumns)?["Hide Columns"]:[]).length?t(o,f,s,i,u,d,h,a)[0]:null;u+=f.length,d+=f.length,h+=f.length;var E=t(o,f=e.iconfilter?e.iconfilter.split(","):[],s,i,u,d,h,a);return E.forEach((e=>{e.ddOperator=c[0],c.shift()})),{iconFilters:E,hideColumns:S,globalFilter:y,dateFilters:v,numberFilters:b,freeTexts:g,comboBoxes:m}},s=Object.freeze({SELECT:"selectfilter",USER:"userfilter",NUMBER:"numberfilter",DATE:"datefilter",GLOBAL:"globalfilter",HIDER:"columnhider",ICON:"iconfilter"}),o=e=>{var t="";return e&&e.each((function(){var e=$(this),a=""==e.text()?"‌":e.text();t+=a.replace(/,/g,r.ALTERNATE_COMMA)+","})),t.slice(0,-1)};var l=a(24238),c=a(83931),u=e=>"true"!==e.parents(".tf-filters__group__input").first().find(".tf-button--equal").first().attr("equal").toLowerCase(),d=e=>{var t={selectfilters:[],userfilters:[],numberfilters:[],datefilters:[],globalfilter:e.find("input.global-filter"),columnhider:e.find("select.column-select"),iconfilters:[],defaults:[],width:[],inverse:[],order:[],ddSeparator:[],ddOperator:[]},a=(e=>{var t=e.hasClass("filter-container")?e.parent().find(".filter-container"):e.find(".filter-container");return e=>t.index((e=>e.parents(".filter-container"))(e))})(e);if(e.find("select.select-filter").each((function(){var e=[],n=$(this);t.selectfilters.push(n.attr("name").replace(/\,/g,r.ALTERNATE_COMMA)),t.width.push(n.attr("data-width").replace("px","")),n.find("option:selected").each((function(){e.push(this.textContent.replace(/\,/g,r.ALTERNATE_COMMA))})),t.defaults.push(e.join("&&")),t.inverse.push(u(n)),t.order.push(a(n)),t.ddSeparator.push(n.parent().find(".tf-button-settings").first().attr("dd-separator")),t.ddOperator.push(n.parent().find(".tf-button-settings").first().attr("dd-operator"))})),e.find("input.user-filter").each((function(){var e=$(this);t.userfilters.push(e.attr("name").replace(/\,/g,r.ALTERNATE_COMMA)),t.width.push(e.attr("data-width").replace("px","")),t.defaults.push(e.val().replace(/\,/g,r.ALTERNATE_COMMA)),t.inverse.push(u(e)),t.order.push(a(e))})),e.find(".range.numbers").each((function(){var e=[],n=$(this);t.numberfilters.push(n.attr("name").replace(/\,/g,r.ALTERNATE_COMMA)),n.find("input.number").each((function(){e.push($(this).val().replace(/\,/g,r.ALTERNATE_COMMA))})),t.defaults.push(e.join("->")),t.inverse.push(u(n)),t.order.push(a(n))})),e.find(".range.dates").each((function(){var e=[],n=$(this);t.datefilters.push(n.attr("name").replace(/\,/g,r.ALTERNATE_COMMA)),n.find("input.date").each((function(){var t=$(this),a=t.val(),n=t.attr("dateFormat");e.push(c.default.dateToUTCTimestamp(a,n,t.attr("locale")||"eu_US"))})),t.defaults.push(e.join("->")),t.inverse.push(u(n)),t.order.push(a(n))})),t.globalfilter.length?(t.defaults.push(t.globalfilter.val().replace(/\,/g,r.ALTERNATE_COMMA)),t.width.push(t.globalfilter.attr("data-width").replace("px","")),t.inverse.push(u(t.globalfilter)),t.order.push(a(t.globalfilter)),t.globalfilter=!0):t.globalfilter=!1,t.columnhider.length){var n=[];t.columnhider.find("option:selected").each((function(){n.push(this.textContent.replace(/\,/g,r.ALTERNATE_COMMA))})),t.defaults.push(n.join("&&")),t.width.push(t.columnhider.attr("data-width").replace("px","")),t.inverse.push(u(t.columnhider)),t.order.push(a(t.columnhider)),t.columnhider=!0}else t.columnhider=!1;return e.find("select.icon-select").each((function(){var e=[],n=$(this);t.iconfilters.push(n.attr("name").replace(/\,/g,r.ALTERNATE_COMMA)),t.width.push(n.attr("data-width").replace("px","")),n.find("option:selected").each((function(){e.push(this.textContent.replace(/\,/g,r.ALTERNATE_COMMA))})),t.defaults.push(e.join("&&")),t.inverse.push(u(n)),t.order.push(a(n)),t.ddOperator.push(n.parent().find(".tf-button-settings").first().attr("dd-operator"))})),c.default.unI18nFilterValues(t.defaults),t},h=a(9908),p=e=>{var t=d(e),a=(0,h.default)(e),n={default:t.defaults.join(","),"cell-width":t.width.join(","),inverse:t.inverse.join(","),order:t.order.join(","),labels:a,column:l.default.getColumnsForStore(t.selectfilters),iconfilter:l.default.getColumnsForStore(t.iconfilters),userfilter:l.default.getColumnsForStore(t.userfilters),numberfilter:l.default.getColumnsForStore(t.numberfilters),globalFilter:t.globalfilter,hideColumns:t.columnhider,datefilter:t.datefilters.join(","),ddOperator:t.ddOperator.join(","),ddSeparator:t.ddSeparator.join(r.ALTERNATE_COMMA)};return n.ddSeparator=n.ddSeparator.replace(/ /g,"\\u0020"),n},f=Object.freeze({getPanelParams:i,filterConstants:s,getSelectedDataWithComma:o,getColumnsForStore:function(e){return e.map((e=>""===e?"‌":e)).join(",")},getFilterParams:p,getRawFilters:d})},21038:function(e,t,a){"use strict";a.r(t),a.d(t,{decimalSeparatorToLongForm:function(){return i},decimalSeparatorToShortForm:function(){return s},default:function(){return b},getBooleanValue:function(){return o},getBooleanValueOrNull:function(){return l},getShowNRowsValue:function(){return c},numberingToLongForm:function(){return u},removeEmptyPTag:function(){return d},thousandsSeparatorToLongForm:function(){return h},thousandsSeparatorToShortForm:function(){return p},transformOldCellWidthFormat:function(){return g},transformOldDefValueFormat:function(){return m},transformOldFilterColumns:function(){return f}});a(42295),a(17503);function n(e,t){return"string"==typeof e&&(e=~e.search(/point|\./i)?t.POINT:t.COMMA),e}var r=a(72510);function i(e){return n(e,r.SEPARATORS.LONG)}function s(e){return n(e,r.SEPARATORS.SHORT)}function o(e){return"boolean"==typeof e?e:"true"==e}function l(e){return null==e?null:o(e)}function c(e){return e?"1000000"==e?"all":e:"all"}function u(e){if(!e||"false"===e||"string"!=typeof e)return"";var t=~e.search(/dynamic/i)||"true"===e?"Dynamic":"Static",a=~e.search(/desc/i)?"Descending":"Ascending";return"".concat(t+" "+a)}function d(e){return e.replace(/<p>&nbsp;<\/p>/g,"").replace(/<p \/>/g,"")}function h(e){return e?~e.search(/point|\./i)?r.SEPARATORS.LONG.POINT:~e.search(/space/i)?r.SEPARATORS.LONG.SPACE:~e.search(/comma|,/i)?r.SEPARATORS.LONG.COMMA:"":e}function p(e){switch(e){case r.SEPARATORS.LONG.COMMA:return r.SEPARATORS.SHORT.COMMA;case r.SEPARATORS.LONG.POINT:return r.SEPARATORS.SHORT.POINT;case r.SEPARATORS.LONG.SPACE:return r.SEPARATORS.SHORT.SPACE;default:return""}}function f(e){return decodeURIComponent(e).replace(/\,/g,r.ALTERNATE_COMMA).replace(/\|/g,",")}a(79150);function m(e){return decodeURIComponent(e).trim().replace(/❥❥/g,"&&").replace(/❅☃✐\d/g,"-Empty-").replace(/❥/g,r.ALTERNATE_COMMA).replace(/☃/g,".").replace(/❦/g,"->")}a(86305),a(98457),a(10086),a(48868),a(54861);function g(e,t){var a=o(t.globalFilter),n=o(t.hideColumns),r="",i=0,s={widths:e?e.split(","):[],columns:t.column?t.column.split(","):[],userfilters:t.userfilter?t.userfilter.split(","):[],numberfilters:t.numberfilter?t.numberfilter.split(","):[],datefilters:t.datefilter?t.datefilter.split(","):[],globalfilter:a?["true"]:[],hidecolumns:n?["true"]:[]};return Object.entries(s).forEach((e=>{var[t,a]=e;"widths"!==t&&("datefilters"!==t&&"numberfilters"!==t?a.forEach((function(){"150"!==s.widths[i]?r+=s.widths[i]+",":r+=",",i+=1})):i+=s[t].length)})),r.slice(0,-1)}var b=Object.freeze({decimalSeparatorToLongForm:i,decimalSeparatorToShortForm:s,getBooleanValue:o,getBooleanValueOrNull:l,getShowNRowsValue:c,numberingToLongForm:u,removeEmptyPTag:d,thousandsSeparatorToLongForm:h,thousandsSeparatorToShortForm:p,transformOldFilterColumns:f,transformOldDefValueFormat:m,transformOldCellWidthFormat:g})},3661:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return r}});var n={ar_SA:{monthNames:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],dayNamesMin:["ح","ن","ث","ر","خ","ج","س"],firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},az_AZ:{monthNames:["Yanvar","Fevral","Mart","Aprel","May","İyun","İyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],monthNamesShort:["Yan","Fev","Mar","Apr","May","İyun","İyul","Avq","Sen","Okt","Noy","Dek"],dayNames:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"],dayNamesShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayNamesMin:["B","B","Ç","С","Ç","C","Ş"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},be_BY:{monthNames:["Студзень","Люты","Сакавік","Красавік","Травень","Чэрвень","Ліпень","Жнівень","Верасень","Кастрычнік","Лістапад","Сьнежань"],monthNamesShort:["Сту","Лют","Сак","Кра","Тра","Чэр","Ліп","Жні","Вер","Кас","Ліс","Сьн"],dayNames:["нядзеля","панядзелак","аўторак","серада","чацьвер","пятніца","субота"],dayNamesMin:["Нд","Пн","Аў","Ср","Чц","Пт","Сб"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bg_BG:{monthNames:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],monthNamesShort:["Яну","Фев","Мар","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Нов","Дек"],dayNames:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"],dayNamesShort:["Нед","Пон","Вто","Сря","Чет","Пет","Съб"],dayNamesMin:["Не","По","Вт","Ср","Че","Пе","Съ"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},bs_BA:{monthNames:["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},ca_ES:{monthNames:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],monthNamesShort:["gen","feb","març","abr","maig","juny","jul","ag","set","oct","nov","des"],dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],dayNamesMin:["dg","dl","dt","dc","dj","dv","ds"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},cs_CZ:{monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],monthNamesShort:["led","úno","bře","dub","kvě","čer","čvc","srp","zář","říj","lis","pro"],dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],dayNamesMin:["ne","po","út","st","čt","pá","so"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Dnes",yesterday:"Včera",am:"dop.",pm:"odp."},da_DK:{monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],monthNamesShort:["jan.","feb.","mar.","apr.","maj","jun.","jul.","aug.","sep.","okt.","nov.","dec."],dayNames:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],dayNamesShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayNamesMin:["Sø","Ma","Ti","On","To","Fr","Lø"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"I dag",yesterday:"I går",am:"AM",pm:"PM"},da_DK_picker:{monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],dayNamesShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayNamesMin:["Sø","Ma","Ti","On","To","Fr","Lø"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"I dag",yesterday:"I går",am:"AM",pm:"PM"},de_CH:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Heute",yesterday:"Gestern",am:"AM",pm:"PM"},de_DE:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Heute",yesterday:"Gestern",am:"AM",pm:"PM"},el_GR:{monthNames:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],monthNamesShort:["Ιαν","Φεβ","Μαρ","Απρ","Μαι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],dayNames:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],dayNamesShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayNamesMin:["Κυ","Δε","Τρ","Τε","Πε","Πα","Σα"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},en_GB:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:0,isRTL:!1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],showMonthAfterYear:!1,yearSuffix:"",today:"Today",yesterday:"Yesterday",am:"AM",pm:"PM"},en_US:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:0,isRTL:!1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],showMonthAfterYear:!1,yearSuffix:"",today:"Today",yesterday:"Yesterday",weekstart:"weekstart",weekend:"weekend",monthstart:"monthstart",monthend:"monthend",am:"AM",pm:"PM"},es_AR:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["dom","lun","mar","mié","jue","vie","sáb"],dayNamesMin:["D","L","M","X","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoy",yesterday:"Ayer",am:"AM",pm:"PM"},es_MX:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["dom","lun","mar","mié","jue","vie","sáb"],dayNamesMin:["D","L","M","X","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoy",yesterday:"Ayer",am:"AM",pm:"PM"},es_VE:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["dom","lun","mar","mié","jue","vie","sáb"],dayNamesMin:["D","L","M","X","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoy",yesterday:"Ayer",am:"AM",pm:"PM"},es_ES:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["dom","lun","mar","mié","jue","vie","sáb"],dayNamesMin:["D","L","M","X","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoy",yesterday:"Ayer",am:"AM",pm:"PM"},et_EE:{monthNames:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],monthNamesShort:["Jaan","Veebr","Märts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],dayNames:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"],dayNamesShort:["Pühap","Esmasp","Teisip","Kolmap","Neljap","Reede","Laup"],dayNamesMin:["P","E","T","K","N","R","L"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Täna",yesterday:"Eile",am:"AM",pm:"PM"},eu_ES:{monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua"],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe."],dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig.","al.","ar.","az.","og.","ol.","lr."],dayNamesMin:["ig","al","ar","az","og","ol","lr"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},fa_IR:{monthNames:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["يکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayNamesShort:["ی","د","س","چ","پ","ج","ش"],dayNamesMin:["ی","د","س","چ","پ","ج","ش"],firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},fi_FI:{monthNames:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],monthNamesShort:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"],dayNamesShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayNames:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],dayNamesMin:["Su","Ma","Ti","Ke","To","Pe","La"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Tänään",yesterday:"Eilen",am:"ap.",pm:"ip."},fr_BE:{monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Aujourd'hui",yesterday:"Hier",am:"AM",pm:"PM"},fr_CA:{monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Aujourd'hui",yesterday:"Hier",am:"AM",pm:"PM"},fr_FR:{monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Aujourd'hui",yesterday:"Hier",am:"AM",pm:"PM"},hi_IN:{monthNames:["जनवरी ","फरवरी","मार्च","अप्रेल","मई","जून","जूलाई","अगस्त ","सितम्बर","अक्टूबर","नवम्बर","दिसम्बर"],monthNamesShort:["जन","फर","मार्च","अप्रेल","मई","जून","जूलाई","अग","सित","अक्ट","नव","दि"],dayNames:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],dayNamesMin:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},hu_HU:{monthNames:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],monthNamesShort:["jan.","febr.","márc.","ápr.","máj.","jún.","júl.","aug.","szept.","okt.","nov.","dec."],dayNames:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],dayNamesShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo"],dayNamesMin:["V","H","K","Sze","Cs","P","Szo"],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"",today:"Ma",yesterday:"Tegnap",am:"DE",pm:"DU"},hu_HU_picker:{monthNames:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],monthNamesShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],dayNames:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],dayNamesShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo"],dayNamesMin:["V","H","K","Sze","Cs","P","Szo"],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"",today:"Ma",yesterday:"Tegnap",am:"DE",pm:"DU"},in_ID:{monthNames:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agus","Sep","Okt","Nop","Des"],dayNames:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],dayNamesMin:["Mg","Sn","Sl","Rb","Km","jm","Sb"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},is_IS:{monthNames:["janúar","febrúar","mars","apríl","maí","júní","júlí","ágúst","september","október","nóvember","desember"],monthNamesShort:["jan.","feb.","mar.","apr.","maí","jún.","júl.","ágú.","sep.","okt.","nóv.","des."],dayNames:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"],dayNamesShort:["Sun","Mán","Þri","Mið","Fim","Fös","Lau"],dayNamesMin:["Su","Má","Þr","Mi","Fi","Fö","La"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Í dag",yesterday:"Í gær",am:"AM",pm:"PM"},is_IS_picker:{monthNames:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Maí","Jún","Júl","Ágú","Sep","Okt","Nóv","Des"],dayNames:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"],dayNamesShort:["Sun","Mán","Þri","Mið","Fim","Fös","Lau"],dayNamesMin:["Su","Má","Þr","Mi","Fi","Fö","La"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Í dag",yesterday:"Í gær",am:"AM",pm:"PM"},it_IT:{monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Oggi",yesterday:"Ieri",am:"AM",pm:"PM"},iw_IL:{monthNames:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],monthNamesShort:["ינו","פבר","מרץ","אפר","מאי","יוני","יולי","אוג","ספט","אוק","נוב","דצמ"],dayNames:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],dayNamesMin:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},ja_JP:{monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年",today:"今日",yesterday:"昨日",am:"午前",pm:"午後"},ja_JP_picker:{monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年",today:"今日",yesterday:"昨日",am:"午前",pm:"午後"},ka_GE:{monthNames:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],monthNamesShort:["იან","თებ","მარ","აპრ","მაი","ივნ","ივლ","აგვ","სექ","ოქტ","ნოე","დეკ"],dayNames:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"],dayNamesShort:["კვ","ორშ","სამ","ოთხ","ხუთ","პარ","შაბ"],dayNamesMin:["კვ","ორშ","სამ","ოთხ","ხუთ","პარ","შაბ"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},ko_KR:{monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"],dayNamesMin:["일","월","화","수","목","금","토"],firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"년",today:"오늘",yesterday:"어제",am:"오전",pm:"오후"},lt_LT:{monthNames:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis"],monthNamesShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],dayNames:["sekmadienis","pirmadienis","antradienis","trečiadienis","ketvirtadienis","penktadienis","šeštadienis"],dayNamesShort:["sek","pir","ant","tre","ket","pen","šeš"],dayNamesMin:["Se","Pr","An","Tr","Ke","Pe","Še"],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},lv_LV:{monthNames:["Janvāris","Februāris","Marts","Aprīlis","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthNamesShort:["Jan","Feb","Mar","Apr","Mai","Jūn","Jūl","Aug","Sep","Okt","Nov","Dec"],dayNames:["svētdiena","pirmdiena","otrdiena","trešdiena","ceturtdiena","piektdiena","sestdiena"],dayNamesShort:["svt","prm","otr","tre","ctr","pkt","sst"],dayNamesMin:["Sv","Pr","Ot","Tr","Ct","Pk","Ss"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},mk_MK:{monthNames:["Јануари","Февруари","Март","Април","Мај","Јуни","Јули","Август","Септември","Октомври","Ноември","Декември"],monthNamesShort:["Јан","Фев","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Ное","Дек"],dayNames:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"],dayNamesShort:["Нед","Пон","Вто","Сре","Чет","Пет","Саб"],dayNamesMin:["Не","По","Вт","Ср","Че","Пе","Са"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},nl_BE:{monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Vandaag",yesterday:"Gisteren",am:"AM",pm:"PM"},nl_NL:{monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Vandaag",yesterday:"Gisteren",am:"AM",pm:"PM"},nl_NL_picker:{monthNames:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthNamesShort:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Vandaag",yesterday:"Gisteren",am:"AM",pm:"PM"},no_NO:{monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["søn","man","tir","ons","tor","fre","lør"],dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesMin:["sø","ma","ti","on","to","fr","lø"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"I dag",yesterday:"I går",am:"AM",pm:"PM"},pl_PL:{monthNames:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","września","października","listopada","grudnia"],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Nie","Pn","Wt","Śr","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","Śr","Cz","Pt","So"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Dzisiaj",yesterday:"Wczoraj",am:"AM",pm:"PM"},pl_PL_picker:{monthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["sty","lu","mar","kw","maj","cze","lip","sie","wrz","pa","lis","gru"],dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Nie","Pn","Wt","Śr","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","Śr","Cz","Pt","So"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Dzisiaj",yesterday:"Wczoraj",am:"AM",pm:"PM"},pt_BR:{monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoje",yesterday:"Ontem",am:"AM",pm:"PM",article:"de"},pt_PT:{monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Hoje",yesterday:"Ontem",am:"AM",pm:"PM",article:"de"},ro_RO:{monthNames:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthNamesShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"],dayNamesShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],dayNamesMin:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Astăzi",yesterday:"Ieri",am:"AM",pm:"PM"},ru_RU:{monthNames:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],monthNamesShort:["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Сегодня",yesterday:"Вчера",am:"AM",pm:"PM"},ru_RU_picker:{monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Сегодня",yesterday:"Вчера",am:"AM",pm:"PM"},sk_SK:{monthNames:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december"],monthNamesShort:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],dayNames:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],dayNamesShort:["Ned","Pon","Uto","Str","Štv","Pia","Sob"],dayNamesMin:["Ne","Po","Ut","St","Št","Pia","So"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Dnes",yesterday:"Včera",am:"AM",pm:"PM"},sl_SL:{monthNames:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"],dayNamesShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayNamesMin:["Ne","Po","To","Sr","Če","Pe","So"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},sr_SR:{monthNames:["Јануар","Фебруар","Март","Април","Мај","Јун","Јул","Август","Септембар","Октобар","Новембар","Децембар"],monthNamesShort:["Јан","Феб","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Нов","Дец"],dayNames:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"],dayNamesShort:["Нед","Пон","Уто","Сре","Чет","Пет","Суб"],dayNamesMin:["Не","По","Ут","Ср","Че","Пе","Су"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},sv_SE:{monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayNames:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],dayNamesMin:["Sö","Må","Ti","On","To","Fr","Lö"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Idag",yesterday:"Igår",am:"fm",pm:"em"},th_TH:{monthNames:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],monthNamesShort:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],dayNames:["วันอาทิตย์","วันจันทร์","วันอังคาร","วันพุธ","วันพฤหัสบดี","วันศุกร์","วันเสาร์"],dayNamesShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayNamesMin:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Today",yesterday:"Yesterday",am:"ก่อนเที่ยง",pm:"หลังเที่ยง"},tr_TR:{monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],dayNamesMin:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},uk_UA:{monthNames:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthNamesShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],dayNames:["неділя","понеділок","вівторок","середа","четвер","п’ятниця","субота"],dayNamesShort:["нед","пнд","вів","срд","чтв","птн","сбт"],dayNamesMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",today:"Today",yesterday:"Yesterday",am:"AM",pm:"PM"},vi_VN:{monthNames:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"],monthNamesShort:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayNames:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"],dayNamesShort:["CN","T2","T3","T4","T5","T6","T7"],dayNamesMin:["CN","T2","T3","T4","T5","T6","T7"],firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},zh_CN:{monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年",today:"今天",yesterday:"昨天",am:"上午",pm:"下午"},zh_TW:{monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年",today:"今天",yesterday:"昨天",am:"上午",pm:"下午"}},r={get:e=>n[e],set:(e,t)=>{n[e]=t},has:e=>!!n[e]}},31512:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return r}});a(42295),a(86305);var n=(e,t)=>{var a=(""+e).split("."),n=a.length>1?a[a.length-1].length:0,r=(""+t).split("."),i=r.length>1?r[r.length-1].length:0;return Math.min(Math.max(n,i),20)},r=(a(84745),a(36364),{getDecimals:n,addFloats:(e,t)=>parseFloat(parseFloat(e+t).toFixed(n(e,t))),multFloats:(e,t)=>parseFloat(parseFloat(e*t).toFixed(n(e,0)+n(t,0)))})},96570:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});a(79150),a(42295),a(15761),a(75654),a(86305);var n=a(44237),r=a(23e3),i=a(3661);var s=[function(e){return"Just now"===e?new Date:null},function(e){var t=e.match(/(\d+) (minutes?|hours?|days?|weeks?) ago( (\d+):(\d\d) ([AP]M))?/);if(!t)return null;var a=t[1],r=t[2],i=new Date;switch(r){case"minute":case"minutes":i.setMinutes(i.getMinutes()-a);break;case"hour":case"hours":i.setHours(i.getHours()-a);break;case"day":case"days":i.setDate(i.getDate()-a),n.default.setDateHours(i,t[4],t[5],t[6],"PM");break;case"week":case"weeks":i.setDate(i.getDate()-7*a),n.default.setDateHours(i,t[4],t[5],t[6],"PM")}return i},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,r=null;return t.some((t=>{var s=i.default.get(t),o=s.today||"Today",l=s.yesterday||"Yesterday",c=s.weekend||"weekend",u=s.weekstart||"weekstart",d=s.monthend||"monthend",h=s.monthstart||"monthstart",p=s.firstDay||0,f=s.pm||"PM",m=s.am||"AM",g="",b=s.dayNamesShort||s.dayNamesMin;a||(g=b.join("|")+"|");var v=new RegExp("^(".concat(s.dayNames.join("|"),"|").concat(g).concat(o,"|").concat(l,"|").concat(c,"|").concat(u,"|").concat(h,"|").concat(d,")( (\\d+):(\\d\\d) (").concat(m,"|").concat(f,"))?$"),"i"),y=e.match(v);if(y){var S=y[1],E=S.toLowerCase();r=new Date,n.default.setDateHours(r,y[3],y[4],y[5],f);var T=0;if(S===l)T=1;else if(E===c)T=r.getDay()-6-p;else if(E===u)T=r.getDay()-p;else if(E===d)r.setMonth(r.getMonth()+1),r.setDate(0);else if(E===h)r.setDate(1);else if(S!==o){var A=s.dayNames.indexOf(S);-1===A&&(A=b.indexOf(S)),(T=r.getDay()-A)<0&&(T+=7)}return r.setDate(r.getDate()-T),!0}})),r},a(38163).default],o=(e,t,a)=>{var n=null;return s.some((r=>null!=(n=r(e,t,a)))),n},l=a(65573),c=(e,t,a,s,c)=>{if(!e||!e.trim())return{date:null,formats:t};if(n.default.isTodayKeyWord(e))return(p=new Date).setHours(0,0,0,0),{date:p,formats:t};"string"==typeof t&&(t=[t],-1===["en_US","en_GB"].indexOf((a=[a])[0])&&a.push("en_US"));var u,d=a[0]+"_picker";i.default.has(d)&&a.push(d);for(var h=0;h<t.length;h++){var p,f=(u=t[h]).toLowerCase().indexOf("hh:mm")>=0,m=u.indexOf("i")>=0,g=u.indexOf("w")>=0,b=u,v=e,y=[];if(f){var S=n.default.getDateTimeObject(e,u,a);if(b=S.dateFormat,v=S.dateString,y=S.time,!b&&0===y.length)throw"Not a date"}else m&&(b=b.replace("i","m")),g&&(b=b.replace(/w/g,"o"));-1===b.toLowerCase().indexOf("m")&&(b="mm/"+b,v="01/"+v),-1===b.indexOf("d")&&(b="dd/"+b,v="01/"+v),-1===b.indexOf("y")&&(b="yy/"+b,v=(new Date).getFullYear()+"/"+v);try{for(var E=0;E<a.length;E++){var T=i.default.get(a[E]),A=v;T.article&&(A=v.replace(new RegExp(" "+(0,r.default)(T.article)+" ","g")," "));try{(p=$.datepicker.parseDate(b,A,T)).getTime()}catch(e){if(-1===e.indexOf("Extra/unparsed characters found in date: ")||s){if(-1===b.indexOf("yy")||-1===e.indexOf("Missing number at position")){if(E<a.length-1)continue;throw e}(p=$.datepicker.parseDate(b.replace("yy","y"),A,T)).getTime()}else(p=$.datepicker.parseDate(b,A.replace(e.split("Extra/unparsed characters found in date: ")[1],""),T)).getTime()}break}}catch(n){if(h<t.length-1)continue;if(null==(p=o(e,a,c)))throw n;return{date:p,formats:t}}if(p){if(p.setHours(y[0]||0,y[1]||0,y[2]||0),m&&p.setMonth(3*p.getMonth()),g){var C=p.getMonth(),w=p.getDate();C>1&&p.getYear()%4==0&&w++,p.setMonth(0),p.setDate(1);var N=p.getDay();p.setDate(1-N),N>4&&p.setDate(p.getDate()+7),p.setDate(p.getDate()+7*(w+l.MONTH_DAY_COUNT[C]-1))}break}}return{date:p,formats:[u]}},u=(e,t,a,n,r)=>c(e,t,a,n,r).date,d=(a(84745),a(2757)),h=(e,t)=>{var a=(0,d.default)(e,t),n=a.match(/-?\.?\d+/);return parseFloat(n?a.substring(n.index):a)},p=a(9069),f=(e,t)=>{var a=p.default.prepareNumberStringForParsing(e,t);return/^[+-]?\d*\.?\d+(?:[Ee][+-]?\d+)?$/.test(a)?parseFloat(a):NaN},m=[1e3,6e4,36e5],g=e=>{var t=!1,a=0===e.indexOf("-");a&&(e=e.substring(1));var n=e.split(":");if(n.length>1){t=0;for(var r=n.length-1,i=0;r>=0;r--,i++)t+=n[r]*m[i]}return a?-t:t},b=(a(98457),(e,t,a,n,r)=>(t=p.default.clearString(t),e===l.DATA_TYPES.worklog?((e,t,a)=>{var n=!1,r=1;return 0===(e=e.replace(/,\s/g," ")).indexOf("-")&&(e=e.substring(1),r=-1),t.worklogPlaces.forEach((function(r,i){r.some((function(r){var s=e.split(r);if(2===s.length){var o=t.mult[i]*f(s[0],a);isNaN(o)||(!1===n&&(n=0),n+=o,e=s[1])}}))})),n&&(n*=r),n})(t,n,a):e===l.DATA_TYPES.duration?g(t):r?f(t,a):h(t,a))),v=[/(\d|[A-Z])+\.(\d|[A-Z])+[.\-_]/g,/release/gi],y=new RegExp(/^\d+[ymwd]$/,"i"),S={parseDate:u,parseFilterDate:(e,t,a)=>{try{return u((e=>(""+e).trim().match(y)?"+"+e:e)(e),t,a)}catch(t){return AJS.log("Error while filtering by date '"+e+"': "+t),!1}},parseDateAndGetFormat:c,parseRelativeDate:o,parseNumber:h,parseNumberQuietly:f,parseDuration:g,parseValueByType:b,parseAnyValueByType:(e,t,a,n,r,i,s,o)=>e===l.DATA_TYPES.date?u(t,i,s,null,o):b(e,t,a,n,r),getValueType:(e,t,a,n)=>{var r=n?null:l.DATA_TYPES.number;if(void 0===e)return r;if("number"==typeof e)return l.DATA_TYPES.number;if(new RegExp("^-?\\d{1,2}:\\d{2}").test(e))return l.DATA_TYPES.duration;if(e.trim()){var i=e.replace(/,\s/g," ");i.trim()&&a.worklogPlaces.some((function(e){var t=!1;return e.some((function(e){var a=new RegExp("^-?\\d+([\\.,]\\d+)?"+e);if(!(i=i.replace(a,"").trim()))return r=l.DATA_TYPES.worklog,t=!0,!0})),t}))}return null===r?isNaN(f(e,t))?null:l.DATA_TYPES.number:r},isNumber:e=>!isNaN(parseFloat(e))&&isFinite(e),isRevision:e=>v.some((t=>!!e.match(t)))},E=S},38163:function(e,t,a){"use strict";a.r(t),a.d(t,{stringToMatches:function(){return i}});a(42295),a(48868),a(54861);var n=a(50092),r=a(75990),i=e=>{var t=(0,n.default)(e),a=/([+-])(\d+[yY]\s*)?(\d+[mM]\s*)?(\d+[wW]\s*)?(\d+[dD]\s*)?/g.exec(t);return null!==a&&a[0]===t&&a.slice(2,6).some((e=>!(0,r.default)(e)))?a:null};t.default=(e,t)=>{if((0,r.default)(e))return null;var a=i(e);if(null===a)return null;var n="-"===a[1]?-1:1,s=a.slice(2,6).filter((e=>!!e)),o=(e=>"[object Date]"===Object.prototype.toString.call(e))(t)?new Date(t):new Date;for(var l of(o.setHours(0,0,0,0),s)){var[,c,u]=/(\d+)([ymwd])/.exec(l),d=n*c;switch(u){case"y":o.setFullYear(o.getFullYear()+d);break;case"m":o.setMonth(o.getMonth()+d);break;case"w":o.setDate(o.getDate()+7*d);break;default:o.setDate(o.getDate()+d)}}return o}},65002:function(e,t,a){"use strict";a.r(t);a(79150),a(42295);var n=a(34971);t.default=e=>(0,n.default)(e).replace(/\u00A0|\s{2,}/g," ").trim()},34971:function(e,t,a){"use strict";a.r(t);a(79150),a(42295);t.default=e=>void 0===e?"":("string"!=typeof e&&(e=""+e),e.replace(/[\u200B\uFEFF]/g,"").trim())},50092:function(e,t,a){"use strict";a.r(t);var n=a(91756),r=a(65002);t.default=e=>(0,n.default)((0,r.default)(e))},9069:function(e,t,a){"use strict";a.r(t);var n=a(34971),r=a(65002),i=a(2757),s=a(91756),o=a(50092),l=a(75990),c={clearStringBasic:n.default,clearString:r.default,prepareNumberStringForParsing:i.default,toLowerCase:s.default,clearStringLowerCase:o.default,isBlank:l.default};t.default=c},75990:function(e,t,a){"use strict";a.r(t);var n=a(34971);t.default=e=>!e||0===(0,n.default)(e).length},2757:function(e,t,a){"use strict";a.r(t);a(42295),a(79150);t.default=(e,t)=>(void 0===e&&(e=""),"."===t?e=e.replace(/,/g,""):","===t&&(e=e.replace(/\./g,"")),e.replace(/\s/g,"").replace(/,/g,".").replace(/[$€£¥₽%]/,"").trim())},91756:function(e,t,a){"use strict";a.r(t),t.default=e=>(e||"").toLocaleLowerCase()},34714:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var n=a(50092),r={getCellPosition:(e,t)=>{if(e.length){var a=(0,n.default)(t),r=e[0].findIndex((function(e){return(0,n.default)(e)===a}));if(r>-1)return r}return null}},i=r},94121:function(e,t,a){"use strict";a.r(t),a.d(t,{GABase:function(){return S},PAGE_MODE:function(){return y},gaLoadScript:function(){return g}});a(98457),a(68049),a(42295),a(67285),a(63045);var n=a(25561),r=a(94818),i=["eventCategory","eventAction","eventLabel"];function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e,t,a,n,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void a(e)}o.done?t(l):Promise.resolve(l).then(n,r)}function d(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function s(e){u(i,n,r,s,o,"next",e)}function o(e){u(i,n,r,s,o,"throw",e)}s(void 0)}))}}var h={"Dropdown Filter":"dropdown",selectfilter:"dropdown",select:"dropdown",dropdown:"dropdown","Free Text Filter":"freeText",userfilter:"freeText",freetext:"freeText",freeText:"freeText","Number Filter":"number",numberfilter:"number",number:"number","Date Filter":"date",datefilter:"date",date:"date","Icon Filter":"icon",iconfilter:"icon",icon:"icon","Global Filter":"global",global:"global",globalfilter:"global","Hide Columns":"hideColumns",columnhider:"hideColumns",hideColumns:"hideColumns"},p={Pie:"pie",Donut:"donut",Column:"column","Stacked Column":"stackedColumn",Bar:"bar","Stacked Bar":"stackedBar","Bubble Pie":"bubblePie",Line:"line",Area:"area","Stacked Area":"stackedArea","Time Line":"timeLine","Time Area":"timeArea","Stacked Time Area":"stackedTimeArea",Gantt:"gantt",Radar:"radar"},f={"Multi-filter operator ()":"multiFilterOperator","Cell value delimiter":"cellValueDelimiter","Set filters default values":"filtersDefaultValues","Set width of filters":"widthFilters","Set filter labels":"filterLabels","Select reversed filters":"reversedFilters","Set worklog settings":"worklogSettings","Update dropdown filters options":"dropdownFiltersOptions","Disable the change saving":"disableChangeSaving","Hide control buttons":"hideControlButtons","Hide filtration pane":"hideFiltrationPane","Operation type for Total column":"operationTypeForTotalColumn","Count totals for columns":"countTotalsForColumns","Thousands separator":"thousandsSeparator","Show first N rows if not filtered":"showFirstNRowsIfNotFiltered","Rows per page":"rowsPerPage","Ignore first n rows":"ignoreFirstNRows","Freeze first N rows":"freezeFirstNRows","Table height":"tableHeight","Freeze first N columns":"freezeFirstNColumns","Dropdown filter":"dropdownFilter","Free text filter":"freeTextFilter","Date range filter":"dateRangeFilter","Visual filter":"visualFilter","Global filter":"globalFilter","Hide columns":"hideColumns","Decimal separator":"decimalSeparator","Default sorting":"defaultSorting","Row numbering type":"rowNumberingType","Sparkline charts":"sparklineCharts","Date format":"dateFormat"},m={Type:"type",Height:"height",Width:"width","3D":"3D","Select colors":"colors","Select barColoringType":"barColoringType","Select color columns":"colorColumns","Line settings":"lineSettings","Align chart":"alignChart","Legend position":"legendPosition","Show grid":"showGrid","Hide chart controls":"hideChartControls","Show data labels":"showDataLabels",Callouts:"callouts","Row axis label / X-axis label":"xRowAxisLabel","Value axis label / Y-axis label":"yValueAxisLabel","Table data orientation":"tableDataOrientation","Minimal X value":"xMinValue","Maximal X value":"xMaxValue","Minimal Y value":"yMinValue","Maximal Y value":"yMaxValue","Scale Y step":"yScaleStep","Logarithmic scale Y":"yLogarithmicScaleStep","Logarithmic scale X":"xLogarithmicScaleStep","Show trendline":"showTrendline",Interpolation:"interpolation","Decimal separator":"decimalSeparator","Date format":"dateFormat","Set worklog settings":"worklogSettings","Hide the source table":"hideSourceTable","Gantt arrows":"ganttArrows"},g=function(){var e=d((function*(){window.gaMustLoad&&void 0===window.tfGA&&(yield window.loadGAScript())}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=d((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yield g(),window.tfGA&&(t.send_to="G",window.tfGA("event",e,t))}));return function(t){return e.apply(this,arguments)}}(),v=(e,t)=>a=>!(e[a]===t[a]||String(e[a])===String(t[a])||!e[a]&&0!==e[a]&&!t[a]&&0!==t[a]),y={editor:"Macro Browser",preview:"Macro Preview",view:"Page View",edit_page:"Edit Page",admin:"Admin"};class S{constructor(){c(this,"gaSendEvent",function(){var e=d((function*(e){var{eventCategory:t,eventAction:a,eventLabel:n}=e,s=l(e,i);if(yield g(),window.tfGA){var c=(0,r.getCloudClientUrl)(),u=(0,r.cleanObj)(o(o({event_category:t,event_label:n},s),{},{dimension13:c}));u.send_to="UA",window.tfGA("event",a,u)}}));return function(t){return e.apply(this,arguments)}}()),c(this,"quickInsertDialogOpened",(e=>{b("quick_insertDialog_opened",{countTables:e}),this.gaSendEvent({eventCategory:"Quick insert macro",eventAction:"Open dialog",eventLabel:"Count of tables "+e,dimension10:e})})),c(this,"quickPresetTFClicked",(e=>{b("quick_presetTF_clicked",{countTables:e}),this.gaSendEvent({eventCategory:"Quick insert macro",eventAction:"Selected inserting TF macro",eventLabel:"Count of tables "+e,dimension10:e})})),c(this,"quickPresetChartClicked",(e=>{b("quick_presetChart_clicked",{countTables:e}),this.gaSendEvent({eventCategory:"Quick insert macro",eventAction:"Selected inserting Chart macro",eventLabel:"Count of tables "+e,dimension10:e})})),c(this,"quickPresetPivotClicked",(e=>{b("quick_presetPivot_clicked",{countTables:e}),this.gaSendEvent({eventCategory:"Quick insert macro",eventAction:"Selected inserting Pivot macro",eventLabel:"Count of tables "+e,dimension10:e})})),c(this,"quickPresetSpreadsheetClicked",(()=>b("quick_presetSheet_clicked"))),c(this,"quickTFMacroTFAdded",(e=>{b("quickTF_macroTF_added",{countTables:e}),this.gaSendEvent({eventCategory:"Quick insert macro",eventAction:"Inserted TF macro",eventLabel:"Count of tables "+e,dimension10:e})})),c(this,"quickChartTableSelected",(e=>{b("quickChart1_table_selected",{countTables:e})})),c(this,"quickChartTypeSelected",(()=>{b("quickChartScr2_type_selected")})),c(this,"quickChartMacroChartAdded",(e=>{b("quickChart".concat("custom"===e?2:3,"_macroChart_added"),{type:p[e]}),this.gaSendEvent({eventCategory:"Quick insert macro",eventAction:"Inserted Chart macro",eventLabel:"table-chart",dimension15:e})})),c(this,"quickPivotTableSelected",(e=>{b("quickPivot_table_selected",{countTables:e})})),c(this,"quickPivotBackClicked",(e=>{b("quickPivot_back_clicked",{countTables:e})})),c(this,"quickPivotMacroPivotAdded",(()=>{b("quickPivot_macroPivot_added"),this.gaSendEvent({eventCategory:"Quick insert macro",eventAction:"Inserted Pivot macro",eventLabel:"table-pivot"})})),c(this,"quickMacroToolboxAdded",((e,t)=>{b("quick".concat(t?"Pivot":"Chart","_macroToolbox_added"),{type:e})})),c(this,"quickSpreadsheetMacroAdded",(()=>{b("quickSheet_macroSheet_added",{property:3})})),c(this,"headerFilterAdded",((e,t)=>{b("headerTF_filter_added",{type:h[e],filterType:t})})),c(this,"panelFilterAdded",((e,t)=>{b("panelTF_filter_added",{type:h[e],filterType:t})})),c(this,"panelFilterDeleted",(e=>{b("panelTF_filter_deleted",{type:h[e]})})),c(this,"panelFilterReordered",(e=>{b("panelTF_filter_reordered",{type:h[e]})})),c(this,"filterUpdated",((e,t,a)=>{b("".concat(a?"panelTF":"headerTF","_filter_updated"),{type:h[e],filterType:t})})),c(this,"macroStructure",((e,t,a)=>{var n;"filter"===e?n="TF":"chart"===e&&(n="chart"),n&&b("structure_".concat(n,"_used"),{type:t,property:a})})),c(this,"filterMacroTableSize",(e=>{b("page_tf_used",{type:e})})),c(this,"menuTFClicked",(()=>{b("page_menuTF_clicked")})),c(this,"macrobrowserMacroTFAdded",(()=>{b("browserTF_macroTF_added")})),c(this,"macrobrowserFilterAdded",((e,t)=>{b("browserTF_filter_added",{type:e,filterType:t})})),c(this,"macrobrowserFilterUpdated",((e,t)=>{b("browserTF_filter_updated",{type:h[e],filterType:t?"inversed":"normal"})})),c(this,"macrobrowserMacroChartAdded",(e=>{b("browserChart_macroChart_added",{type:p[e]})})),c(this,"macrobrowserMacroPivotAdded",(()=>{b("browserPivot_macroPivot_added")})),c(this,"macrobrowserMacroToolboxAdded",(e=>{b("browserToolbox_macroToolbox_added",{type:e})})),c(this,"tableToolboxMacroStructure",(e=>{b("structure_toolbox_used",{type:e})})),c(this,"gaMacroViewStructure",(()=>{})),c(this,"gaToolboxMacroViewStructure",(()=>{})),c(this,"gaEditorTF",((e,t)=>{var{isFirstTimeEnter:a}=e;if(void 0!==a){var n=v(e,t),r=this.getSendEventFunc("filter");n("isOR")&&r({eventCategory:"Table Filter Macro",eventAction:"Multi-filter operator ()",eventLabel:"change to '".concat(e.isOR,"'"),dimension4:y.editor,dimension12:String(a)}),n("ddSeparator")&&r({eventCategory:"Table Filter Macro",eventAction:"Cell value delimiter",eventLabel:"change to '".concat(e.ddSeparator,"'"),dimension4:y.editor,dimension12:String(a)}),n("default ")&&r({eventCategory:"Table Filter Macro",eventAction:"Set filters default values",eventLabel:"change to '".concat(e.default,"'"),dimension4:y.editor,dimension12:String(a)}),n("cell-width")&&r({eventCategory:"Table Filter Macro",eventAction:"Set width of filters",eventLabel:"change to '".concat(e["cell-width"],"'"),dimension4:y.editor,dimension12:String(a)}),n("labels")&&r({eventCategory:"Table Filter Macro",eventAction:"Set filter labels",eventLabel:"change to '".concat(e.labels,"'"),dimension4:y.editor,dimension12:String(a)}),n("inverse")&&r({eventCategory:"Table Filter Macro",eventAction:"Select reversed filters",eventLabel:"change to '".concat(e.inverse,"'"),dimension4:y.editor,dimension12:String(a)}),n("worklog")&&r({eventCategory:"Table Filter Macro",eventAction:"Set worklog settings",eventLabel:"change to '".concat(e.worklog,"'"),dimension4:y.editor,dimension12:String(a)}),n("updateSelectOptions")&&r({eventCategory:"Table Filter Macro",eventAction:"Update dropdown filters options",eventLabel:"change to '".concat(e.updateSelectOptions,"'"),dimension4:y.editor,dimension12:String(a)}),n("disableSave")&&r({eventCategory:"Table Filter Macro",eventAction:"Disable the change saving",eventLabel:"change to '".concat(e.disableSave,"'"),dimension4:y.editor,dimension12:String(a)}),n("hideControls")&&r({eventCategory:"Table Filter Macro",eventAction:"Hide control buttons",eventLabel:"change to '".concat(e.disableSave,"'"),dimension4:y.editor,dimension12:String(a)}),n("hidePane")&&r({eventCategory:"Table Filter Macro",eventAction:"Hide filtration pane",eventLabel:"change to '".concat(e.hidePane,"'"),dimension4:y.editor,dimension12:String(a)}),n("disabled")&&r({eventCategory:"Table Filter Macro",eventAction:"Disable filtration at start",eventLabel:"change to '".concat(e.disabled,"'"),dimension4:y.editor,dimension12:String(a)}),n("totalcol")&&r({eventCategory:"Table Filter Macro",eventAction:"Operation type for Total column",eventLabel:"change to '".concat(e.totalcol,"'"),dimension4:y.editor,dimension12:String(a)}),n("totalrow")&&r({eventCategory:"Table Filter Macro",eventAction:"Count totals for columns",eventLabel:"change to '".concat(e.totalrow,"'"),dimension4:y.editor,dimension12:String(a)}),n("thousandSeparator")&&r({eventCategory:"Table Filter Macro",eventAction:"Thousands separator",eventLabel:"change to '".concat(e.thousandSeparator,"'"),dimension4:y.editor,dimension12:String(a)}),n("showNRowsifNotFiltered")&&r({eventCategory:"Table Filter Macro",eventAction:"Show first N rows if not filtered",eventLabel:"change to '".concat(e.showNRowsifNotFiltered,"'"),dimension4:y.editor,dimension12:String(a)}),n("rowsPerPage")&&r({eventCategory:"Table Filter Macro",eventAction:"Rows per page",eventLabel:"change to '".concat(e.rowsPerPage,"'"),dimension4:y.editor,dimension12:String(a)}),n("ignoreFirstNrows")&&r({eventCategory:"Table Filter Macro",eventAction:"Ignore first n rows",eventLabel:"change to '".concat(e.ignoreFirstNrows,"'"),dimension4:y.editor,dimension12:String(a)}),n("limitHeight")&&r({eventCategory:"Table Filter Macro",eventAction:"Freeze first N rows",eventLabel:"change to '".concat(e.limitHeight,"'"),dimension4:y.editor,dimension12:String(a)}),n("heightValue")&&r({eventCategory:"Table Filter Macro",eventAction:"Table height",eventLabel:"change to '".concat(e.heightValue,"'"),dimension4:y.editor,dimension12:String(a)}),n("fixedCols")&&r({eventCategory:"Table Filter Macro",eventAction:"Freeze first N columns",eventLabel:"change to '".concat(e.fixedCols,"'"),dimension4:y.editor,dimension12:String(a)}),n("column")&&r({eventCategory:"Table Filter Macro",eventAction:"Dropdown filter",eventLabel:"change to '".concat(e.column,"'"),dimension4:y.editor,dimension12:String(a)}),n("userfilter")&&r({eventCategory:"Table Filter Macro",eventAction:"Free text filter",eventLabel:"change to '".concat(e.userfilter,"'"),dimension4:y.editor,dimension12:String(a)}),n("datefilter")&&r({eventCategory:"Table Filter Macro",eventAction:"Date range filter",eventLabel:"change to '".concat(e.datefilter,"'"),dimension4:y.editor,dimension12:String(a)}),n("numberfilter")&&r({eventCategory:"Table Filter Macro",eventAction:"Number range filter",eventLabel:"change to '".concat(e.numberfilter,"'"),dimension4:y.editor,dimension12:String(a)}),n("iconfilter")&&r({eventCategory:"Table Filter Macro",eventAction:"Visual filter",eventLabel:"change to '".concat(e.iconfilter,"'"),dimension4:y.editor,dimension12:String(a)}),n("globalFilter")&&r({eventCategory:"Table Filter Macro",eventAction:"Global filter",eventLabel:"change to '".concat(e.globalFilter,"'"),dimension4:y.editor,dimension12:String(a)}),n("hideColumns")&&r({eventCategory:"Table Filter Macro",eventAction:"Hide columns",eventLabel:"change to '".concat(e.hideColumns,"'"),dimension4:y.editor,dimension12:String(a)}),n("separator")&&r({eventCategory:"Table Filter Macro",eventAction:"Decimal separator",eventLabel:"change to '".concat(e.separator,"'"),dimension4:y.editor,dimension12:String(a)}),n("sort")&&r({eventCategory:"Table Filter Macro",eventAction:"Default sorting",eventLabel:"change to '".concat(e.sort,"'"),dimension4:y.editor,dimension12:String(a)}),n("numbering")&&r({eventCategory:"Table Filter Macro",eventAction:"Row numbering type",eventLabel:"change to '".concat(e.numbering,"'"),dimension4:y.editor,dimension12:String(a)}),n("sparkline")&&r({eventCategory:"Table Filter Macro",eventAction:"Sparkline charts",eventLabel:"change to '".concat(e.sparkline,"'"),dimension4:y.editor,dimension12:String(a)}),n("datepattern")&&r({eventCategory:"Table Filter Macro",eventAction:"Date format",eventLabel:"change to '".concat(e.datepattern,"'"),dimension4:y.editor,dimension12:String(a)})}})),c(this,"gaTFSaveChanges",(()=>{b("menuTF_save_clicked")})),c(this,"gaTFResetFilters",(e=>{b("menuTF_resetAllFilters_clicked"),this.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Reset all filters",eventLabel:"Click reset all filters",dimension4:y[e]})})),c(this,"gaTFDisableFilters",((e,t)=>{b(t?"menuTF_disableAllFilters_clicked":"menuTF_enableAllFilters_clicked"),this.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Disable all filters",eventLabel:"isDisable ".concat(t),dimension4:y[e]})})),c(this,"gaTFCopyFilterURL",(()=>{b("menuTF_copyUrlTF_clicked"),this.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Copy filter URL"})})),c(this,"gaTFApplyFilterURL",(()=>{b("page_applyUrlTF_clicked"),this.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Apply filter URL"})})),c(this,"gaExportData",(e=>{var t;if(-1!==["Table Filter","filter"].indexOf(e.macro)?t="menuTF":"chart"===e.macro&&(t="menuChart"),t){var a="Print browser"===e.format?"print":"export".concat(e.format.slice(10));b("".concat(t,"_").concat(a,"_clicked"))}})),c(this,"gaRateAddon",(e=>{-1!==["Table Filter","filter"].indexOf(e)&&b("menuTF_rateAddon_clicked")})),c(this,"gaRemoveMacro",((e,t)=>{var a;"Table Filter"===e?a="menuTF":"Chart from Table"===e&&(a="menuChart"),a&&b("".concat(a,"_removeMacro_clicked")),this.gaSendEvent({eventCategory:"Page view",eventAction:"Inline remove",eventLabel:t})})),c(this,"gaEditorPivot",((e,t)=>{var{isFirstTimeEnter:a}=e;if(void 0!==a){var n=v(e,t);n("column")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Row labels",eventLabel:"change to '".concat(e.column,"'"),dimension4:y.editor,dimension12:String(a)}),n("row")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Column labels",eventLabel:"change to '".concat(e.row,"'"),dimension4:y.editor,dimension12:String(a)}),n("aggregation")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Calculated column",eventLabel:"change to '".concat(e.aggregation,"'"),dimension4:y.editor,dimension12:String(a)}),n("type")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Operation type",eventLabel:"change to '".concat(e.type,"'"),dimension4:y.editor,dimension12:String(a)}),n("decimals")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Decimal places",eventLabel:"change to '".concat(e.decimals,"'"),dimension4:y.editor,dimension12:String(a)}),n("numberaccuracy")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Number range aggregation",eventLabel:"change to '".concat(e.numberaccuracy,"'"),dimension4:y.editor,dimension12:String(a)}),n("vvpattern")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Show data values as",eventLabel:"change to '".concat(e.vvpattern,"'"),dimension4:y.editor,dimension12:String(a)}),n("ddSeparator")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Cell value delimiter",eventLabel:"change to '".concat(e.ddSeparator,"'"),dimension4:y.editor,dimension12:String(a)}),n("hideTotal")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Hide totals",eventLabel:"change to '".concat(e.hideTotal,"'"),dimension4:y.editor,dimension12:String(a)}),n("showrawdata")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Show the source table",eventLabel:"change to '".concat(e.showrawdata,"'"),dimension4:y.editor,dimension12:String(a)}),n("hidePane")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Hide control panel",eventLabel:"change to '".concat(e.hidePane,"'"),dimension4:y.editor,dimension12:String(a)}),n("decimalseparator")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Decimal separator",eventLabel:"change to '".concat(e.decimalseparator,"'"),dimension4:y.editor,dimension12:String(a)}),n("datepattern")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Date format",eventLabel:"change to '".concat(e.datepattern,"'"),dimension4:y.editor,dimension12:String(a)}),n("worklog")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Set worklog settings",eventLabel:"change to '".concat(e.worklog,"'"),dimension4:y.editor,dimension12:String(a)}),n(".sort")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Default sorting",eventLabel:"change to '".concat(e.sort,"'"),dimension4:y.editor,dimension12:String(a)}),n("separator")&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Thousands separator",eventLabel:"change to '".concat(e.separator,"'"),dimension4:y.editor,dimension12:String(a)})}})),c(this,"gaPivotSaveChange",((e,t)=>{e.column!==t.column&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Row labels",eventLabel:"change to '".concat(e.column,"'"),dimension4:y.view}),e.row!==t.row&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Column labels",eventLabel:"change to '".concat(e.row,"'"),dimension4:y.view}),e.aggregation!==t.aggregation&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Calculated column",eventLabel:"change to '".concat(e.aggregation,"'"),dimension4:y.view}),e.type!==t.type&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Operation type",eventLabel:"change to '".concat(e.type,"'"),dimension4:y.view}),e.showrawdata!==t.showrawdata&&this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Show the source table",eventLabel:"change to '".concat(e.showrawdata,"'"),dimension4:y.view})})),c(this,"gaTooglePivotControlPanel",(e=>{this.gaSendEvent({eventCategory:"Pivot Table Macro",eventAction:"Hide control panel",eventLabel:"change to '".concat(!e,"'"),dimension4:y.view})})),c(this,"gaEditorChart",((e,t)=>{var{isFirstTimeEnter:a}=e;if(void 0!==a){var n=v(e,t),r=this.getSendEventFunc("chartBrowser");n("type")&&r({eventCategory:"Table Chart Macro",eventAction:"Type",eventLabel:"change to '".concat(e.type,"'"),dimension4:y.editor,dimension12:String(a)},!0),n("tfc-height")&&r({eventCategory:"Table Chart Macro",eventAction:"Height",eventLabel:"change to '".concat(e["tfc-height"],"'"),dimension4:y.editor,dimension12:String(a)}),n("tfc-width")&&r({eventCategory:"Table Chart Macro",eventAction:"Width",eventLabel:"change to '".concat(e["tfc-width"],"'"),dimension4:y.editor,dimension12:String(a)}),n("is3d")&&r({eventCategory:"Table Chart Macro",eventAction:"3D",eventLabel:"change to '".concat(e.is3d,"'"),dimension4:y.editor,dimension12:String(a)}),n("barColoringType")&&r({eventCategory:"Table Chart Macro",eventAction:"Select barColoringType",eventLabel:"change to '".concat(e.barColoringType,"'"),dimension4:y.editor,dimension12:String(a)}),n("colors")&&r({eventCategory:"Table Chart Macro",eventAction:"Select colors",eventLabel:"change to '".concat(e.colors,"'"),dimension4:y.editor,dimension12:String(a)}),n("colorColumns")&&r({eventCategory:"Table Chart Macro",eventAction:"Select color columns",eventLabel:"change to '".concat(e.colorColumns,"'"),dimension4:y.editor,dimension12:String(a)}),n("line-settings")&&r({eventCategory:"Table Chart Macro",eventAction:"Line settings",eventLabel:"change to '".concat(e["line-settings"],"'"),dimension4:y.editor,dimension12:String(a)}),n("align")&&r({eventCategory:"Table Chart Macro",eventAction:"Align chart",eventLabel:"change to '".concat(e.align,"'"),dimension4:y.editor,dimension12:String(a)}),n("legend")&&r({eventCategory:"Table Chart Macro",eventAction:"Legend position",eventLabel:"change to '".concat(e.legend,"'"),dimension4:y.editor,dimension12:String(a)}),n("grid")&&r({eventCategory:"Table Chart Macro",eventAction:"Show grid",eventLabel:"change to '".concat(e.grid,"'"),dimension4:y.editor,dimension12:String(a)}),n("hidecontrols)")&&r({eventCategory:"Table Chart Macro",eventAction:"Hide chart controls",eventLabel:"change to '".concat(e.hidecontrols,"'"),dimension4:y.editor,dimension12:String(a)}),n("title")&&r({eventCategory:"Table Chart Macro",eventAction:"Chart title",eventLabel:"change to '".concat(e.title,"'"),dimension4:y.editor,dimension12:String(a)}),n("innerlabels")&&r({eventCategory:"Table Chart Macro",eventAction:"Show data labels",eventLabel:"change to '".concat(e.innerlabels,"'"),dimension4:y.editor,dimension12:String(a)}),n("outerLabels")&&r({eventCategory:"Table Chart Macro",eventAction:"Callouts",eventLabel:"change to '".concat(e.outerLabels,"'"),dimension4:y.editor,dimension12:String(a)}),n("xtitle")&&r({eventCategory:"Table Chart Macro",eventAction:"Row axis label / X-axis label",eventLabel:"change to '".concat(e.xtitle,"'"),dimension4:y.editor,dimension12:String(a)}),n("ytitle")&&r({eventCategory:"Table Chart Macro",eventAction:"Value axis label / Y-axis label",eventLabel:"change to '".concat(e.ytitle,"'"),dimension4:y.editor,dimension12:String(a)}),n("dataorientation")&&r({eventCategory:"Table Chart Macro",eventAction:"Table data orientation",eventLabel:"change to '".concat(e.dataorientation,"'"),dimension4:y.editor,dimension12:String(a)}),n("xminvalue")&&r({eventCategory:"Table Chart Macro",eventAction:"Minimal X value",eventLabel:"change to '".concat(e.xminvalue,"'"),dimension4:y.editor,dimension12:String(a)}),n("xmaxvalue")&&r({eventCategory:"Table Chart Macro",eventAction:"Maximal X value",eventLabel:"change to '".concat(e.xmaxvalue,"'"),dimension4:y.editor,dimension12:String(a)}),n("minvalue")&&r({eventCategory:"Table Chart Macro",eventAction:"Minimal Y value",eventLabel:"change to '".concat(e.minvalue,"'"),dimension4:y.editor,dimension12:String(a)}),n("maxvalue")&&r({eventCategory:"Table Chart Macro",eventAction:"Maximal Y value",eventLabel:"change to '".concat(e.maxvalue,"'"),dimension4:y.editor,dimension12:String(a)}),n("xscalestep")&&r({eventCategory:"Table Chart Macro",eventAction:"Scale X step",eventLabel:"change to '".concat(e.xscalestep,"'"),dimension4:y.editor,dimension12:String(a)}),n("scalestep")&&r({eventCategory:"Table Chart Macro",eventAction:"Scale Y step",eventLabel:"change to '".concat(e.scalestep,"'"),dimension4:y.editor,dimension12:String(a)}),n("log")&&r({eventCategory:"Table Chart Macro",eventAction:"Logarithmic scale Y",eventLabel:"change to '".concat(e.log,"'"),dimension4:y.editor,dimension12:String(a)}),n("xlog")&&r({eventCategory:"Table Chart Macro",eventAction:"Logarithmic scale X",eventLabel:"change to '".concat(e.xlog,"'"),dimension4:y.editor,dimension12:String(a)}),n("trendline")&&r({eventCategory:"Table Chart Macro",eventAction:"Show trendline",eventLabel:"change to '".concat(e.trendline,"'"),dimension4:y.editor,dimension12:String(a)}),n("interpolation")&&r({eventCategory:"Table Chart Macro",eventAction:"Interpolation",eventLabel:"change to '".concat(e.interpolation,"'"),dimension4:y.editor,dimension12:String(a)}),n("separator")&&r({eventCategory:"Table Chart Macro",eventAction:"Decimal separator",eventLabel:"change to '".concat(e.separator,"'"),dimension4:y.editor,dimension12:String(a)}),n("datepattern")&&r({eventCategory:"Table Chart Macro",eventAction:"Date format",eventLabel:"change to '".concat(e.datepattern,"'"),dimension4:y.editor,dimension12:String(a)}),n("worklog")&&r({eventCategory:"Table Chart Macro",eventAction:"Set worklog settings",eventLabel:"change to '".concat(e.worklog,"'"),dimension4:y.editor,dimension12:String(a)}),n("hide")&&r({eventCategory:"Table Chart Macro",eventAction:"Hide the source table",eventLabel:"change to '".concat(e.hide,"'"),dimension4:y.editor,dimension12:String(a)})}})),c(this,"gaChartSaveChange",((e,t)=>{var a=v(e,t),n=this.getSendEventFunc("chartView");a("type")&&n({eventCategory:"Table Chart Macro",eventAction:"Type",eventLabel:"change to '".concat(e.type,"'"),dimension4:y.view},!0),a("tfc-height")&&n({eventCategory:"Table Chart Macro",eventAction:"Height",eventLabel:"change to '".concat(e["tfc-height"],"'"),dimension4:y.view}),a("tfc-width")&&n({eventCategory:"Table Chart Macro",eventAction:"Width",eventLabel:"change to '".concat(e["tfc-width"],"'"),dimension4:y.view}),a("is3d")&&n({eventCategory:"Table Chart Macro",eventAction:"3D",eventLabel:"change to '".concat(e.is3d,"'"),dimension4:y.view}),a("barColoringType")&&n({eventCategory:"Table Chart Macro",eventAction:"Select barColoringType",eventLabel:"change to '".concat(e.barColoringType,"'"),dimension4:y.view}),a("colors")&&n({eventCategory:"Table Chart Macro",eventAction:"Select colors",eventLabel:"change to '".concat(e.colors,"'"),dimension4:y.view}),a("colorColumns")&&n({eventCategory:"Table Chart Macro",eventAction:"Select color columns",eventLabel:"change to '".concat(e.colorColumns,"'"),dimension4:y.view}),a("line-settings")&&n({eventCategory:"Table Chart Macro",eventAction:"Line settings",eventLabel:"change to '".concat(e["line-settings"],"'"),dimension4:y.view}),e.interpolation&&a("interpolation")&&n({eventCategory:"Table Chart Macro",eventAction:"Interpolation",eventLabel:"change to '".concat(e.interpolation,"'"),dimension4:y.view}),a("hide ")&&n({eventCategory:"Table Chart Macro",eventAction:"Hide the source table",eventLabel:"change to '".concat(e.hide,"'"),dimension4:y.view}),e.type===t.type&&-1!==e.type.indexOf("Gantt")&&e.ganttArrows&&e.ganttArrows!==t.ganttArrows&&n({eventCategory:"Table Chart Macro",eventAction:"Gantt arrows",eventLabel:"change arrows",dimension4:y.view})})),c(this,"gaEnableEditArrowsMode",(()=>{b("menuChart_setDependencies_clicked"),this.gaSendEvent({eventCategory:"Table Chart Macro",eventAction:"Gantt arrows",eventLabel:"Enable arrow editing mode"})})),c(this,"gaChartExportJPEG",(()=>{b("menuChart_exportImage_clicked")})),c(this,"gaEditorTransformer",((e,t)=>{var a=new n.default,{isFirstTimeEnter:r}=e;a.unionQuery===e.sql&&e.sql!==t.sql?this.gaSendEvent({eventCategory:"Table Transformer Macro",eventAction:"Presets",eventLabel:"Presets is merge",dimension4:y.editor}):a.getJoinQuery(e["join-column"])===e.sql&&e.sql!==t.sql?this.gaSendEvent({eventCategory:"Table Transformer Macro",eventAction:"Presets",eventLabel:"Presets is Look Up",dimension4:y.editor}):e.sql&&e.sql!==t.sql&&this.gaSendEvent({eventCategory:"Table Transformer Macro",eventAction:"Presets",eventLabel:"Presets is Custom",dimension4:y.editor}),(e.sql!==t.sql||r)&&this.gaSendEvent({eventCategory:"Table Transformer Macro",eventAction:"Custom SQL",eventLabel:"change to '".concat(e.sql,"'"),dimension4:y.editor,dimension12:String(r)}),(String(e.transpose)!==String(t.transpose)||r)&&this.gaSendEvent({eventCategory:"Table Transformer Macro",eventAction:"Transpose tables",eventLabel:"change to '".concat(e.transpose,"'"),dimension4:y.editor,dimension12:String(r)}),(e.separator!==t.separator||r)&&this.gaSendEvent({eventCategory:"Table Transformer Macro",eventAction:"Decimal separator",eventLabel:"change to '".concat(e.separator,"'"),dimension4:y.editor,dimension12:String(r)}),(e.dateFormat!==t.dateFormat||r)&&this.gaSendEvent({eventCategory:"Table Transformer Macro",eventAction:"Date format",eventLabel:"change to '".concat(e.dateFormat,"'"),dimension4:y.editor,dimension12:String(r)}),(e.worklog!==t.worklog||r)&&this.gaSendEvent({eventCategory:"Table Transformer Macro",eventAction:"Set worklog settings",eventLabel:"change to '".concat(e.worklog,"'"),dimension4:y.editor,dimension12:String(r)}),(e.decimals!==t.decimals||r)&&this.gaSendEvent({eventCategory:"Table Transformer Macro",eventAction:"Decimal places",eventLabel:"change to '".concat(e.decimals,"'"),dimension4:y.editor,dimension12:String(r)}),(e["thousand-separator"]!==t["thousand-separator"]||r)&&this.gaSendEvent({eventCategory:"Table Transformer Macro",eventAction:"Thousands separator",eventLabel:"change to '".concat(e["thousand-separator"],"'"),dimension4:y.editor,dimension12:String(r)}),(String(e["show-source"])!==String(t["show-source"])||r)&&this.gaSendEvent({eventCategory:"Table Transformer Macro",eventAction:"Show the source table",eventLabel:"change to '".concat(e["show-source"],"'"),dimension4:y.editor,dimension12:String(r)})})),c(this,"gaEditorDataSource",((e,t,a)=>{e.source!==t.source&&this.gaSendEvent({eventCategory:"".concat(a," Macro"),eventAction:"Source",eventLabel:"change to '".concat(e.source,"'"),dimension4:y.editor}),e["auth-type"]!==t["auth-type"]&&this.gaSendEvent({eventCategory:"".concat(a," Macro"),eventAction:"Authentication type",eventLabel:"change to '".concat(e["auth-type"],"'"),dimension4:y.editor}),e.format!==t.format&&this.gaSendEvent({eventCategory:"".concat(a," Macro"),eventAction:"Data format",eventLabel:"change to '".concat(e.format,"'"),dimension4:y.editor})})),c(this,"qaExportToCSV",(e=>{this.gaExportData({macro:e,format:"Export to CSV"}),this.gaSendEvent({eventCategory:"Export",eventAction:"Export to CSV",eventLabel:"export ".concat(e),dimension4:y.view})})),c(this,"qaResetColumnSorting",(()=>{this.gaSendEvent({eventCategory:"Table Filter Macro",eventAction:"Reset Column sorting",dimension4:y.view})})),c(this,"gaServerEnableClick",(()=>{this.gaSendEvent({eventCategory:"Server Admin",eventAction:"Enable GA on Server",dimension4:y.admin})})),c(this,"gaEditorExcerptInclude",((e,t)=>{e.type!==t.type&&this.gaSendEvent({eventCategory:"Table Excerpt Include Macro",eventAction:"Excerpt source",eventLabel:"change to '".concat(e.type,"'"),dimension4:y.editor}),e.copytable!==t.copytable&&this.gaSendEvent({eventCategory:"Table Excerpt Include Macro",eventAction:"Show copy of source table",eventLabel:"change to '".concat(e.copytable,"'"),dimension4:y.editor}),e["page-title"]!==t["page-title"]&&this.gaSendEvent({eventCategory:"Table Excerpt Include Macro",eventAction:"Show page links",eventLabel:"change to '".concat(e["page-title"],"'"),dimension4:y.editor}),e["merge-tables"]!==t["merge-tables"]&&this.gaSendEvent({eventCategory:"Table Excerpt Include Macro",eventAction:"Merge tables",eventLabel:"change to '".concat(e["merge-tables"],"'"),dimension4:y.editor})})),c(this,"gaSpreadsheetCreate",(e=>{b("browserSheet_macroSheet_added",{property:e})})),c(this,"gaSpreadsheetUpdateMacro",(e=>{b("browserSheet_macroSheet_updated",{property:e})})),c(this,"gaSpreadsheetUpdateView",((e,t)=>{b("viewSheet_macroSheet_updated",{property:e,type:t})})),c(this,"gaSpreadsheetOpenView",(()=>{b("viewSheet_macroSheet_opened")})),c(this,"gaSpreadsheetOpenMacro",(()=>{b("browserSheet_macroSheet_opened")})),c(this,"gaSpreadsheetSaveAsView",(()=>{b("viewSheet_macroSheet_savedAs")})),c(this,"gaSpreadsheetSaveAsMacro",(()=>{b("browserSheet_macroSheet_savedAs")})),c(this,"gaSpreadsheetView",(e=>{b("structure_sheet_used",{property:e})})),c(this,"ga4TFInsert",((e,t)=>this.ga4MacroInsert(e,t))),c(this,"gaSpreadsheetImportView",(()=>{b("viewSheet_macroSheet_imported")})),c(this,"gaSpreadsheetExportView",(()=>{b("viewSheet_macroSheet_exported")})),c(this,"gaSpreadsheetImportBrowser",(()=>{b("browserSheet_macroSheet_imported")})),c(this,"ga4MacroInsert",((e,t)=>b(e?"browswerTF_saved_in_live":"browserTF_save_in_macrobrowser",{countTables:t}))),c(this,"gaSpreadsheetExportBrowser",(()=>{b("browserSheet_macroSheet_exported")})),c(this,"gaTFInsert",((e,t)=>this.gaMacroInsert("Insert TF macro",e,t))),c(this,"gaPivotInsert",(e=>this.gaMacroInsert("Pivot Table Macro","Pivot Saved in Macro Browser",e))),c(this,"gaChartInsert",(e=>this.gaMacroInsert("Table Chart Macro","Chart Saved in Macro Browser",e))),c(this,"gaMacroInsert",((e,t,a)=>{this.gaSendEvent({eventCategory:e,eventAction:t,eventLabel:"Count of tables ".concat(a)})})),c(this,"getSendEventFunc",(e=>(t,a)=>{this.gaSendEvent(t);var{eventAction:n,eventLabel:r}=t;switch(e){case"filter":((e,t,a)=>{b("browserTF_".concat(e,"_").concat(a?"update":"set"),{property:t})})(f[n]||n,r.slice(10),a);break;case"chartView":case"chartBrowser":var i="chartView"===e;((e,t,a,n)=>{b("".concat(a?"panelChart":"browserChart","_").concat(e,"_").concat(n?"update":"set"),n?{type:p[t.replace(/'/g,"")]||t}:{property:t})})(m[n]||n,r.replace(/change to /,""),i,a)}}))}}t.default=new S},24865:function(e,t,a){"use strict";a.r(t);a(42295),a(15761),a(75654);var n=(e,t)=>{var a=e.indexOf(t);return-1===a?e.length:a};t.default=class{constructor(){var e,t,a,r=this;a=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i="."===t?",":".",s="-?[".concat(t,"]?\\d([\\d\\s").concat(i,"]*\\d+)?[").concat(t,"]?\\d*([Ee]-?\\d+)?"),o=e.match(new RegExp(s)),l=e=>e;if(o){var c=!a,u=o[0];if(a){c=!1,l=r.formatter;var d=n(u,t);(d>r.maxNumLength||!r.formatter)&&(r.maxNumLength=d,c=!0)}if(c){var h=e.replace(u,"{%s}"),p=u.indexOf(" ")>0?" ":u.indexOf(",")>0&&"."===t?",":u.indexOf(".")>0&&","===t?".":"";l=h.length>9?function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e:e.replace(/ /g,p)}:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?h.replace("{%s}",e):h.replace("{%s}",e.replace(/ /g,p))}}a&&(r.formatter=l)}return l},(t="getFormatter")in(e=this)?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,this.formatter=null,this.maxNumLength=0}}},99497:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});a(75093),a(13616),a(98457),a(67285);var n=a(94121),r=["table-filter","pivot-table","table-chart","table-joiner","table-excerpt","table-processor","table-excerpt-include","csv-table","json-from-table"];function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class s extends n.GABase{constructor(){super(),i(this,"gaUnwrapMacro",(()=>{this.gaSendEvent({eventCategory:"Edit Page",eventAction:"Unwrap table",dimension4:n.PAGE_MODE.edit_page})})),i(this,"gaShowFilter",(e=>{this.gaSendEvent({eventCategory:"Edit Page",eventAction:"Show Filter",eventLabel:e?"Hide Filter panel":"Show Filter panel",dimension4:n.PAGE_MODE.edit_page})})),i(this,"gaMacroViewStructure",(e=>{var t=this;e.find(".conf-macro").filter((function(){return 0===$(this).parent().closest(".conf-macro",e).length})).each((function(){var e,a,n=$(this).data("macro-name");a=t.getInfoAboutMacro($(this)),0!==Object.keys(a).length&&(e=t.getEventNameByMacroKey(n),t.sendMacroStructureEvent(e,a))}))})),i(this,"getInfoAboutMacro",(e=>{var t=e.data("macro-name"),a={},n=!1;return n=r.includes(t),e.find("table").each((function(){var t=$(this).closest(".conf-macro",e).data("macro-name");r.includes(t)&&(a.hasOwnProperty("plain_table")?a.plain_table.count+=a.plain_table.count:a.plain_table={count:1})})),e.find(".conf-macro").each((function(){var e=$(this).data("macro-name");!n&&r.includes(e)&&(n=!0),a.hasOwnProperty(e)?a[e].count+=a[e].count:a[e]={count:1}})),n?a:{}})),i(this,"getEventNameByMacroKey",(e=>"table-filter"===e?"Filter Table Macro Structure":"pivot-table"===e?"Pivot Table Macro Structure":"table-chart"===e?"Chart Table Macro Structure":"table-joiner"===e?"Table Transformer Macro Structure":"table-excerpt"===e?"Table Excerpt Macro Structure":"table-excerpt-include"===e?"Table Excerpt Include Macro Structure":"csv-table"===e?"CSV Table Macro Structure":"json-from-table"===e?"JSON Table Macro Structure":"".concat(e.charAt(0).toUpperCase()+e.slice(1)," Macro Structure"))),i(this,"sendMacroStructureEvent",((e,t)=>{if(Object.keys(t).length>0){var a="",r="";Object.keys(t).sort().forEach((e=>{a+=a?" + ".concat(e):e,r+=r?" + ".concat(e," * ").concat(t[e].count):"".concat(e," * ").concat(t[e].count)})),this.gaSendEvent({eventCategory:"Macro View",eventAction:e,eventLabel:a,dimension4:n.PAGE_MODE.view,dimension10:r})}}))}}var o=new s},23778:function(e,t,a){"use strict";a.r(t);var n=a(99497),r={addToUnloadPageAction:e=>{e.isWasSavedEarlier||(e.needRemind=!0)},removeFromUnloadPageAction:e=>{e.isWasSavedEarlier||(e.needRemind=!1,e.isWasSavedEarlier=!0)},bindUnloadPage:(e,t)=>{if(!e.isWasSavedEarlier){var a=document.getElementById("main"),r=t.hasClass("chart-settings")?"Chart from Table":"Pivot Table",i=null;try{i=new Event("TableFilterBeforeunload")}catch(e){(i=document.createEvent("Event")).initEvent("TableFilterBeforeunload",!1,!0)}a.addEventListener("TableFilterBeforeunload",(()=>e.needRemind=!1),!1),window.addEventListener("beforeunload",(function(s){if(e.needRemind&&t.closest("body").length){i&&a.dispatchEvent(i),setTimeout((()=>{t.hasClass("active")||(e.content.hasClass("hidden-pane")&&e.content.removeClass("hidden-pane"),t.trigger("mousedown"),t.trigger("aui-button-invoke")),e.btn.blinkFromClass("active");var a=t.offset().top;(document.documentElement.scrollTop>a||document.documentElement.scrollTop+document.documentElement.clientHeight<a+150)&&document.documentElement.scrollTo({top:a-150,behavior:"smooth"}),setTimeout((()=>{n.default.gaSendEvent({eventCategory:"Reminded to save",eventAction:"Remained on site",eventLabel:r})}),3e3)}),2e3),n.default.gaSendEvent({eventCategory:"Reminded to save",eventAction:"Show dialog",eventLabel:r}),s.preventDefault();var o="Changes to macro parameters will be lost";return s.returnValue=o,o}}),{once:!0})}}};t.default=r},1629:function(e,t,a){"use strict";a.r(t),t.default=()=>{var e;return AJS.params.currentUserFullname||(null===(e=parent.AJS)||void 0===e?void 0:e.params.currentUserFullname)}},35242:function(e,t,a){"use strict";a.r(t),t.default=()=>{var e,t;return AJS.params.pageTitle||AJS.Meta.get("page-title")||(null===(e=parent.AJS)||void 0===e?void 0:e.params.pageTitle)||(null===(t=parent.AJS)||void 0===t?void 0:t.Meta.get("page-title"))}},24238:function(e,t,a){"use strict";a.r(t);a(15761),a(42295),a(75654),a(98457),a(68049);var n=a(33926),r=a(63701),i=a(35242);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({loadScriptsBeforeExport:function(e){window.pdfMake?e():l.loadResource({key:"com.stiltsoft.confluence.plugin.tablefilter.tablefilter:export-pdf-resources",callback:e})},loadIframeGadgetResources:function(e){l.loadResource({key:"com.stiltsoft.confluence.plugin.tablefilter.tablefilter:table-content-resources",container:$(e[0].body)})},getCurrentUserFullName:a(1629).default,getCurrentUserName:function(){return AJS.params.remoteUser},getPageTitle:i.default,saveMacroParams:function(e,t){(0,n.makeAjax)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"POST",cache:!1,url:Confluence.getContextPath()+"/rest/table-filter/1.0/service/save-tf",dataType:"json",data:e,error:function(e){l.showError(e,t)}})},unwrapMacro:function(e,t,a){(0,n.makeAjax)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"POST",cache:!1,url:Confluence.getContextPath()+"/rest/table-filter/1.0/service/remove-macro",dataType:"text",data:{pageId:e,macroId:t,macroName:a},success:function(){location.reload()},error:function(e){l.showError(e,$("#main-content"))}})},showError:function(e,t){var a=-1!==e.responseText.indexOf("com.atlassian.confluence.api.service.exceptions.ReadOnlyException"),n=$('<div id="tfac-message"></div>');t.append(n),AJS.messages.error(n,{body:a?"This Confluence site is temporarily in the read-only mode. You cannot make any changes right now.":"Oops! An unexpected error occurred! Please see logs for details.",closeable:!0}),setTimeout((function(){n.remove()}),5e3)},loadResource:function(e){var{key:t,callback:a,container:r=$(document.head)}=e;(0,n.makeAjax)({contentType:"application/x-www-form-urlencoded; charset=utf-8",type:"GET",url:Confluence.getContextPath()+"/rest/table-filter/1.0/service/load-resource",dataType:"text",data:{key:t},success:function(e){r.append(e),null==a||a()}})},setCookie:function(e,t,a){var n=a?JSON.stringify(t):t;document.cookie=e+"="+encodeURIComponent(n)+"; max-age=259200000"},getCookie:function(e,t){if(0!=document.cookie.length){var a=new RegExp("[; ]"+e+"=([^\\s;]*)"),n=(" "+document.cookie).match(a);if(n)return t?JSON.parse(decodeURIComponent(n[1])):decodeURIComponent(n[1])}return""},storeValue:function(e,t){localStorage.setItem(e,t)},getStoredValue:function(e){return localStorage.getItem(e)},removeValue:function(e){return localStorage.removeItem(e)},isPreview:function(){return document.body.classList.contains("content-preview")}},r.default);t.default=l}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:0163046f8619867cc744b2def923e0a2', location = 'build/2414.js' */
"use strict";(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2414],{62414:function(e,t,n){n.r(t),n.d(t,{copyObject:function(){return c},deepFreeze:function(){return r},getKeyByValue:function(){return f}});n(48868),n(54861);function r(e){var t=Object.getOwnPropertyNames(e);for(var n of t){var c=e[n];c&&"object"==typeof c&&r(c)}return Object.freeze(e)}var c=e=>JSON.parse(JSON.stringify(e)),f=(e,t)=>Object.keys(e).find((n=>e[n]===t))}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:7dab76666192299dd4ad541ed26e9e64', location = 'build/706.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[706],{19866:function(t){t.exports=function(t,r,n,e){if(!Array.isArray(t))throw new TypeError("array is not a Array");var o,a,i=t.length;for(n=parseInt(n,10)||0,e=void 0===e?i:parseInt(e,10)||0,o=n<0?Math.max(i+n,0):Math.min(n,i),a=e<0?Math.max(i+e,0):Math.min(e,i);o<a;o++)t[o]=r;return t}},99537:function(t,r,n){var e=n(19866);Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{enumerable:!1,value:function(t){var r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e(this,t,r,n)}})},49224:function(t){var r=TypeError;t.exports=function(t){if(t>9007199254740991)throw r("Maximum allowed index exceeded");return t}},35816:function(t,r,n){"use strict";var e=n(20119),o=n(44821),a=n(49224),i=n(99918),f=function(t,r,n,u,l,c,p,s){for(var h,v,y=l,d=0,m=!!p&&i(p,s);d<u;)d in n&&(h=m?m(n[d],d,r):n[d],c>0&&e(h)?(v=o(h),y=f(t,r,h,v,y,c-1)-1):(a(y+1),t[y]=h),y++),d++;return y};t.exports=f},74467:function(t,r,n){"use strict";var e=n(29638),o=n(35816),a=n(84933),i=n(87615),f=n(44821),u=n(17021);e({target:"Array",proto:!0},{flatMap:function(t){var r,n=i(this),e=f(n);return a(t),(r=u(n,0)).length=o(r,n,n,e,0,1,t,arguments.length>1?arguments[1]:void 0),r}})},54903:function(t,r,n){n(5822)("flatMap")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:e947a812aeff0388ffbc946767be7187', location = 'build/1818.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[1818],{1818:function(t,e,n){var c=n(29638),f=n(98971),l=n(1006);c({target:"Object",stat:!0},{fromEntries:function(t){var e={};return f(t,(function(t,n){l(e,t,n)}),{AS_ENTRIES:!0}),e}})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:d0f72cd3c8e3e3b8947893ed22711b94', location = 'build/3969.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[3969],{57032:function(t,n,e){var r=e(63927);t.exports=function(t){return r(Map.prototype.entries,t)}},97529:function(t){t.exports=function(t,n){return t===n||t!=t&&n!=n}},25290:function(t,n,e){var r=e(29638),i=e(28654);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},50903:function(t,n,e){"use strict";e(29638)({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:e(37247)})},48705:function(t,n,e){"use strict";var r=e(29638),i=e(4905),o=e(99918),a=e(57032),u=e(98971);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var n=i(this),e=a(n),r=o(t,arguments.length>1?arguments[1]:void 0);return!u(e,(function(t,e,i){if(!r(e,t,n))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},60528:function(t,n,e){"use strict";var r=e(29638),i=e(3425),o=e(99918),a=e(63927),u=e(84933),s=e(4905),c=e(63571),f=e(57032),l=e(98971);r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var n=s(this),e=f(n),r=o(t,arguments.length>1?arguments[1]:void 0),h=new(c(n,i("Map"))),d=u(h.set);return l(e,(function(t,e){r(e,t,n)&&a(d,h,t,e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),h}})},61609:function(t,n,e){"use strict";var r=e(29638),i=e(4905),o=e(99918),a=e(57032),u=e(98971);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var n=i(this),e=a(n),r=o(t,arguments.length>1?arguments[1]:void 0);return u(e,(function(t,e,i){if(r(e,t,n))return i(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},71263:function(t,n,e){"use strict";var r=e(29638),i=e(4905),o=e(99918),a=e(57032),u=e(98971);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var n=i(this),e=a(n),r=o(t,arguments.length>1?arguments[1]:void 0);return u(e,(function(t,e,i){if(r(e,t,n))return i(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},13983:function(t,n,e){"use strict";var r=e(29638),i=e(4905),o=e(57032),a=e(97529),u=e(98971);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return u(o(i(this)),(function(n,e,r){if(a(e,t))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},31589:function(t,n,e){"use strict";var r=e(29638),i=e(4905),o=e(57032),a=e(98971);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){return a(o(i(this)),(function(n,e,r){if(e===t)return r(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},90917:function(t,n,e){"use strict";var r=e(29638),i=e(3425),o=e(99918),a=e(63927),u=e(84933),s=e(4905),c=e(63571),f=e(57032),l=e(98971);r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var n=s(this),e=f(n),r=o(t,arguments.length>1?arguments[1]:void 0),h=new(c(n,i("Map"))),d=u(h.set);return l(e,(function(t,e){a(d,h,r(e,t,n),e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),h}})},65492:function(t,n,e){"use strict";var r=e(29638),i=e(3425),o=e(99918),a=e(63927),u=e(84933),s=e(4905),c=e(63571),f=e(57032),l=e(98971);r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var n=s(this),e=f(n),r=o(t,arguments.length>1?arguments[1]:void 0),h=new(c(n,i("Map"))),d=u(h.set);return l(e,(function(t,e){a(d,h,t,r(e,t,n))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),h}})},23942:function(t,n,e){"use strict";var r=e(29638),i=e(84933),o=e(4905),a=e(98971);r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var n=o(this),e=i(n.set),r=arguments.length,u=0;u<r;)a(arguments[u++],e,{that:n,AS_ENTRIES:!0});return n}})},34726:function(t,n,e){"use strict";var r=e(29638),i=e(4905),o=e(84933),a=e(57032),u=e(98971),s=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var n=i(this),e=a(n),r=arguments.length<2,c=r?void 0:arguments[1];if(o(t),u(e,(function(e,i){r?(r=!1,c=i):c=t(c,i,e,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw s("Reduce of empty map with no initial value");return c}})},72646:function(t,n,e){"use strict";var r=e(29638),i=e(4905),o=e(99918),a=e(57032),u=e(98971);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var n=i(this),e=a(n),r=o(t,arguments.length>1?arguments[1]:void 0);return u(e,(function(t,e,i){if(r(e,t,n))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},88489:function(t,n,e){"use strict";var r=e(29638),i=e(63927),o=e(4905),a=e(84933),u=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,n){var e=o(this),r=a(e.get),s=a(e.has),c=a(e.set),f=arguments.length;a(n);var l=i(s,e,t);if(!l&&f<3)throw u("Updating absent value");var h=l?i(r,e,t):a(f>2?arguments[2]:void 0)(t,e);return i(c,e,t,n(h,t,e)),e}})},69264:function(t,n,e){t.exports={ResizeSensor:e(6118),ElementQueries:e(98415)}},98415:function(t,n,e){"use strict";var r,i,o;"undefined"!=typeof window&&window,i=[e(6118)],void 0===(o="function"==typeof(r=function(t){var n=function(){var n,e={},r=[];function i(t){t||(t=document.documentElement);var n=window.getComputedStyle(t,null).fontSize;return parseFloat(n)||16}function o(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var n=t.getBoundingClientRect();return{width:Math.round(n.width),height:Math.round(n.height)}}function a(t,n){var e=n.split(/\d/),r=e[e.length-1];switch(n=parseFloat(n),r){case"px":default:return n;case"em":return n*i(t);case"rem":return n*i();case"vw":return n*document.documentElement.clientWidth/100;case"vh":return n*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100;return n*(0,Math["vmin"===r?"min":"max"])(o,a)}}function u(t,n){var r,i,u,s,c,f,l,h;this.element=t;var d=["min-width","min-height","max-width","max-height"];this.call=function(){for(r in u=o(this.element),f={},e[n])e[n].hasOwnProperty(r)&&(i=e[n][r],s=a(this.element,i.value),c="width"===i.property?u.width:u.height,h=i.mode+"-"+i.property,l="","min"===i.mode&&c>=s&&(l+=i.value),"max"===i.mode&&c<=s&&(l+=i.value),f[h]||(f[h]=""),l&&-1===(" "+f[h]+" ").indexOf(" "+l+" ")&&(f[h]+=" "+l));for(var t in d)d.hasOwnProperty(t)&&(f[d[t]]?this.element.setAttribute(d[t],f[d[t]].substr(1)):this.element.removeAttribute(d[t]))}}function s(n,e){n.elementQueriesSetupInformation||(n.elementQueriesSetupInformation=new u(n,e)),n.elementQueriesSensor||(n.elementQueriesSensor=new t(n,(function(){n.elementQueriesSetupInformation.call()})))}function c(t,i,o,a){if(void 0===e[t]){e[t]=[];var u=r.length;n.innerHTML+="\n"+t+" {animation: 0.1s element-queries;}",n.innerHTML+="\n"+t+" > .resize-sensor {min-width: "+u+"px;}",r.push(t)}e[t].push({mode:i,property:o,value:a})}function f(t){var n;if(document.querySelectorAll&&(n=t?t.querySelectorAll.bind(t):document.querySelectorAll.bind(document)),n||"undefined"==typeof $$||(n=$$),n||"undefined"==typeof jQuery||(n=jQuery),!n)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return n}function l(t){var n=f(t);for(var r in e)if(e.hasOwnProperty(r))for(var i=n(r,t),o=0,a=i.length;o<a;o++)s(i[o],r)}function h(n){var e=[],r=[],i=[],o=0,a=-1,u=[];for(var s in n.children)if(n.children.hasOwnProperty(s)&&n.children[s].tagName&&"img"===n.children[s].tagName.toLowerCase()){e.push(n.children[s]);var c=n.children[s].getAttribute("min-width")||n.children[s].getAttribute("data-min-width"),f=n.children[s].getAttribute("data-src")||n.children[s].getAttribute("url");i.push(f);var l={minWidth:c};r.push(l),c?n.children[s].style.display="none":(o=e.length-1,n.children[s].style.display="block")}function h(){var t,s=!1;for(t in e)e.hasOwnProperty(t)&&r[t].minWidth&&n.offsetWidth>r[t].minWidth&&(s=t);if(s||(s=o),a!==s)if(u[s])e[a].style.display="none",e[s].style.display="block",a=s;else{var c=new Image;c.onload=function(){e[s].src=i[s],e[a].style.display="none",e[s].style.display="block",u[s]=!0,a=s},c.src=i[s]}else e[s].src=i[s]}a=o,n.resizeSensorInstance=new t(n,h),h()}function d(){for(var t=f()("[data-responsive-image],[responsive-image]"),n=0,e=t.length;n<e;n++)h(t[n])}var p=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,g=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function y(t){var n,e,r,i;for(t=t.replace(/'/g,'"');null!==(n=p.exec(t));)for(e=n[1]+n[3],r=n[2];null!==(i=g.exec(r));)c(e,i[1],i[2],i[3])}function m(t){var n="";if(t)if("string"==typeof t)-1===(t=t.toLowerCase()).indexOf("min-width")&&-1===t.indexOf("max-width")||y(t);else for(var e=0,r=t.length;e<r;e++)1===t[e].type?-1!==(n=t[e].selectorText||t[e].cssText).indexOf("min-height")||-1!==n.indexOf("max-height")?y(n):-1===n.indexOf("min-width")&&-1===n.indexOf("max-width")||y(n):4===t[e].type?m(t[e].cssRules||t[e].rules):3===t[e].type&&t[e].styleSheet.hasOwnProperty("cssRules")&&m(t[e].styleSheet.cssRules)}var v=!1;this.init=function(){var e="animationstart";void 0!==document.documentElement.style.webkitAnimationName?e="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?e="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(e="oanimationstart"),document.body.addEventListener(e,(function(n){var e=n.target,i=e&&window.getComputedStyle(e,null),o=i&&i.getPropertyValue("animation-name");if(o&&-1!==o.indexOf("element-queries")){e.elementQueriesSensor=new t(e,(function(){e.elementQueriesSetupInformation&&e.elementQueriesSetupInformation.call()}));var a=window.getComputedStyle(e.resizeSensor,null).getPropertyValue("min-width");a=parseInt(a.replace("px","")),s(n.target,r[a])}})),v||((n=document.createElement("style")).type="text/css",n.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",n.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(n),v=!0);for(var i=0,o=document.styleSheets.length;i<o;i++)try{document.styleSheets[i].href&&document.styleSheets[i].href.indexOf("file://"),m(document.styleSheets[i].cssRules||document.styleSheets[i].rules||document.styleSheets[i].cssText)}catch(t){}d()},this.findElementQueriesElements=function(t){l(t)},this.update=function(){this.init()}};n.update=function(){n.instance.update()},n.detach=function(t){t.elementQueriesSetupInformation?(t.elementQueriesSensor.detach(),delete t.elementQueriesSetupInformation,delete t.elementQueriesSensor):t.resizeSensorInstance&&(t.resizeSensorInstance.detach(),delete t.resizeSensorInstance)},n.init=function(){n.instance||(n.instance=new n),n.instance.init()};var e=function(t){if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var n=setInterval((function(){/loaded|complete/i.test(document.readyState)&&(t(),clearInterval(n))}),10);else window.onload=t};return n.findElementQueriesElements=function(t){n.instance.findElementQueriesElements(t)},n.listen=function(){e(n.init)},n})?r.apply(n,i):r)||(t.exports=o)},6118:function(t,n,e){"use strict";var r,i;"undefined"!=typeof window&&window,void 0===(i="function"==typeof(r=function(){if("undefined"==typeof window)return null;var t="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),n=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(n){return t.setTimeout(n,20)},e=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||function(n){t.clearTimeout(n)};function r(t,n){var e=Object.prototype.toString.call(t),r="[object Array]"===e||"[object NodeList]"===e||"[object HTMLCollection]"===e||"[object Object]"===e||"undefined"!=typeof jQuery&&t instanceof jQuery||"undefined"!=typeof Elements&&t instanceof Elements,i=0,o=t.length;if(r)for(;i<o;i++)n(t[i]);else n(t)}function i(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var n=t.getBoundingClientRect();return{width:Math.round(n.width),height:Math.round(n.height)}}function o(t,n){Object.keys(n).forEach((function(e){t.style[e]=n[e]}))}var a=function(t,u){var s=0;function c(){var t,n,e=[];this.add=function(t){e.push(t)},this.call=function(r){for(t=0,n=e.length;t<n;t++)e[t].call(this,r)},this.remove=function(r){var i=[];for(t=0,n=e.length;t<n;t++)e[t]!==r&&i.push(e[t]);e=i},this.length=function(){return e.length}}function f(t,e){if(t)if(t.resizedAttached)t.resizedAttached.add(e);else{t.resizedAttached=new c,t.resizedAttached.add(e),t.resizeSensor=document.createElement("div"),t.resizeSensor.dir="ltr",t.resizeSensor.className="resize-sensor";var r={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},a={position:"absolute",left:"0px",top:"0px",transition:"0s"};o(t.resizeSensor,r);var u=document.createElement("div");u.className="resize-sensor-expand",o(u,r);var f=document.createElement("div");o(f,a),u.appendChild(f);var l=document.createElement("div");l.className="resize-sensor-shrink",o(l,r);var h=document.createElement("div");o(h,a),o(h,{width:"200%",height:"200%"}),l.appendChild(h),t.resizeSensor.appendChild(u),t.resizeSensor.appendChild(l),t.appendChild(t.resizeSensor);var d=window.getComputedStyle(t),p=d?d.getPropertyValue("position"):null;"absolute"!==p&&"relative"!==p&&"fixed"!==p&&"sticky"!==p&&(t.style.position="relative");var g=!1,y=0,m=i(t),v=0,b=0,x=!0;s=0;var _=function(){var n=t.offsetWidth,e=t.offsetHeight;f.style.width=n+10+"px",f.style.height=e+10+"px",u.scrollLeft=n+10,u.scrollTop=e+10,l.scrollLeft=n+10,l.scrollTop=e+10},w=function(){if(x){if(0===t.offsetWidth&&0===t.offsetHeight)return void(s||(s=n((function(){s=0,w()}))));x=!1}_()};t.resizeSensor.resetSensor=w;var M=function(){y=0,g&&(v=m.width,b=m.height,t.resizedAttached&&t.resizedAttached.call(m))},A=function(){m=i(t),(g=m.width!==v||m.height!==b)&&!y&&(y=n(M)),w()},S=function(t,n,e){t.attachEvent?t.attachEvent("on"+n,e):t.addEventListener(n,e)};S(u,"scroll",A),S(l,"scroll",A),s=n((function(){s=0,w()}))}}r(t,(function(t){f(t,u)})),this.detach=function(n){s||(e(s),s=0),a.detach(t,n)},this.reset=function(){t.resizeSensor.resetSensor()}};if(a.reset=function(t){r(t,(function(t){t.resizeSensor.resetSensor()}))},a.detach=function(t,n){r(t,(function(t){t&&(t.resizedAttached&&"function"==typeof n&&(t.resizedAttached.remove(n),t.resizedAttached.length())||t.resizeSensor&&(t.contains(t.resizeSensor)&&t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached))}))},"undefined"!=typeof MutationObserver){var u=new MutationObserver((function(t){for(var n in t)if(t.hasOwnProperty(n))for(var e=t[n].addedNodes,r=0;r<e.length;r++)e[r].resizeSensor&&a.reset(e[r])}));document.addEventListener("DOMContentLoaded",(function(t){u.observe(document.body,{childList:!0,subtree:!0})}))}return a})?r.call(n,e,n,t):r)||(t.exports=i)},65392:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return bt}});var r="$";function i(){}function o(t,n){var e=new i;if(t instanceof i)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,o=-1,a=t.length;if(null==n)for(;++o<a;)e.set(o,t[o]);else for(;++o<a;)e.set(n(r=t[o],o,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}i.prototype=o.prototype={constructor:i,has:function(t){return r+t in this},get:function(t){return this[r+t]},set:function(t,n){return this[r+t]=n,this},remove:function(t){var n=r+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===r&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===r&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===r&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===r&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===r&&++t;return t},empty:function(){for(var t in this)if(t[0]===r)return!1;return!0},each:function(t){for(var n in this)n[0]===r&&t(this[n],n.slice(1),this)}};var a=o;function u(){}var s=a.prototype;function c(t,n){var e=new u;if(t instanceof u)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}u.prototype=c.prototype={constructor:u,has:s.has,add:function(t){return this[r+(t+="")]=t,this},remove:s.remove,clear:s.clear,values:s.keys,size:s.size,empty:s.empty,each:s.each};function f(){}function l(t){return null==t?f:function(){return this.querySelector(t)}}function h(){return[]}function d(t){return new Array(t.length)}function p(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function g(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new p(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function y(t,n,e,r,i,o,a){var u,s,c,f={},l=n.length,h=o.length,d=new Array(l);for(u=0;u<l;++u)(s=n[u])&&(d[u]=c="$"+a.call(s,s.__data__,u,n),c in f?i[u]=s:f[c]=s);for(u=0;u<h;++u)(s=f[c="$"+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],f[c]=null):e[u]=new p(t,o[u]);for(u=0;u<l;++u)(s=n[u])&&f[d[u]]===s&&(i[u]=s)}function m(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var v="http://www.w3.org/1999/xhtml",b={svg:"http://www.w3.org/2000/svg",xhtml:v,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function x(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),b.hasOwnProperty(n)?{space:b[n],local:t}:t}function _(t){return function(){this.removeAttribute(t)}}function w(t){return function(){this.removeAttributeNS(t.space,t.local)}}function M(t,n){return function(){this.setAttribute(t,n)}}function A(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function S(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function T(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function E(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function N(t){return function(){this.style.removeProperty(t)}}function C(t,n,e){return function(){this.style.setProperty(t,n,e)}}function P(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function k(t,n){return t.style.getPropertyValue(n)||E(t).getComputedStyle(t,null).getPropertyValue(n)}function O(t){return function(){delete this[t]}}function R(t,n){return function(){this[t]=n}}function I(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function z(t){return t.trim().split(/^|\s+/)}function V(t){return t.classList||new D(t)}function D(t){this._node=t,this._names=z(t.getAttribute("class")||"")}function L(t,n){for(var e=V(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function B(t,n){for(var e=V(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function F(t){return function(){L(this,t)}}function U(t){return function(){B(this,t)}}function q(t,n){return function(){(n.apply(this,arguments)?L:B)(this,t)}}function H(){this.textContent=""}function Y(t){return function(){this.textContent=t}}function X(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function j(){this.innerHTML=""}function W(t){return function(){this.innerHTML=t}}function G(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Q(){this.nextSibling&&this.parentNode.appendChild(this)}function $(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Z(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===v&&n.documentElement.namespaceURI===v?n.createElement(t):n.createElementNS(e,t)}}function K(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function J(t){var n=x(t);return(n.local?K:Z)(n)}function tt(){return null}function nt(){var t=this.parentNode;t&&t.removeChild(this)}function et(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function rt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}D.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var it={},ot=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(it={mouseenter:"mouseover",mouseleave:"mouseout"}));function at(t,n,e){return t=ut(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function ut(t,n,e){return function(r){var i=ot;ot=r;try{t.call(this,this.__data__,n,e)}finally{ot=i}}}function st(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function ct(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function ft(t,n,e){var r=it.hasOwnProperty(t.type)?at:ut;return function(i,o,a){var u,s=this.__on,c=r(n,o,a);if(s)for(var f=0,l=s.length;f<l;++f)if((u=s[f]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function lt(t,n,e){var r=E(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ht(t,n){return function(){return lt(this,t,n)}}function dt(t,n){return function(){return lt(this,t,n.apply(this,arguments))}}var pt=[null];function gt(t,n){this._groups=t,this._parents=n}function yt(){return new gt([[document.documentElement]],pt)}gt.prototype=yt.prototype={constructor:gt,select:function(t){"function"!=typeof t&&(t=l(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),f=0;f<s;++f)(o=u[f])&&(a=t.call(o,o.__data__,f,u))&&("__data__"in o&&(a.__data__=o.__data__),c[f]=a);return new gt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?h:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new gt(r,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new gt(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),f=-1,this.each((function(t){p[++f]=t})),p;var e,r=n?y:g,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),s=new Array(a),c=new Array(a),f=0;f<a;++f){var l=i[f],h=o[f],d=h.length,p=t.call(l,l&&l.__data__,f,i),m=p.length,v=s[f]=new Array(m),b=u[f]=new Array(m);r(l,h,v,b,c[f]=new Array(d),p,n);for(var x,_,w=0,M=0;w<m;++w)if(x=v[w]){for(w>=M&&(M=w+1);!(_=b[M])&&++M<m;);x._next=_||null}}return(u=new gt(u,i))._enter=s,u._exit=c,u},enter:function(){return new gt(this._enter||this._groups.map(d),this._parents)},exit:function(){return new gt(this._exit||this._groups.map(d),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],f=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(s=c[d]||f[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new gt(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=m);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),f=0;f<s;++f)(a=u[f])&&(c[f]=a);c.sort(n)}return new gt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=x(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?w:_:"function"==typeof n?e.local?T:S:e.local?A:M)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?N:"function"==typeof n?P:C)(t,n,null==e?"":e)):k(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?O:"function"==typeof n?I:R)(t,n)):this.node()[t]},classed:function(t,n){var e=z(t+"");if(arguments.length<2){for(var r=V(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?q:n?F:U)(e,n))},text:function(t){return arguments.length?this.each(null==t?H:("function"==typeof t?X:Y)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?j:("function"==typeof t?G:W)(t)):this.node().innerHTML},raise:function(){return this.each(Q)},lower:function(){return this.each($)},append:function(t){var n="function"==typeof t?t:J(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:J(t),r=null==n?tt:"function"==typeof n?n:l(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(nt)},clone:function(t){return this.select(t?rt:et)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=st(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?ft:ct,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,f=u.length;c<f;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?dt:ht)(t,n))}};var mt=yt;function vt(t){return"string"==typeof t?new gt([[document.querySelector(t)]],[document.documentElement]):new gt([[t]],pt)}function bt(){var t=function(){return"n"},n=function(){return[0,0]},e=function(){return" "},r=document.body,i=h(),o=null,u=null,s=null;function c(t){var n;n=t.node(),(o=n?"svg"===n.tagName.toLowerCase()?n:n.ownerSVGElement:null)&&(u=o.createSVGPoint(),r.appendChild(i))}c.show=function(){var i=Array.prototype.slice.call(arguments);i[i.length-1]instanceof SVGElement&&(s=i.pop());var o,a=e.apply(this,i),u=n.apply(this,i),h=t.apply(this,i),p=d(),g=l.length,y=document.documentElement.scrollTop||r.scrollTop,m=document.documentElement.scrollLeft||r.scrollLeft;for(p.html(a).style("opacity",1).style("pointer-events","all");g--;)p.classed(l[g],!1);return o=f.get(h).apply(this),p.classed(h,!0).style("top",o.top+u[0]+y+"px").style("left",o.left+u[1]+m+"px"),c},c.hide=function(){return d().style("opacity",0).style("pointer-events","none"),c},c.attr=function(t,n){if(arguments.length<2&&"string"==typeof t)return d().attr(t);var e=Array.prototype.slice.call(arguments);return mt.prototype.attr.apply(d(),e),c},c.style=function(t,n){if(arguments.length<2&&"string"==typeof t)return d().style(t);var e=Array.prototype.slice.call(arguments);return mt.prototype.style.apply(d(),e),c},c.direction=function(n){return arguments.length?(t=null==n?n:g(n),c):t},c.offset=function(t){return arguments.length?(n=null==t?t:g(t),c):n},c.html=function(t){return arguments.length?(e=null==t?t:g(t),c):e},c.rootElement=function(t){return arguments.length?(r=null==t?t:g(t),c):r},c.destroy=function(){return i&&(d().remove(),i=null),c};var f=a({n:function(){var t=p(this);return{top:t.n.y-i.offsetHeight,left:t.n.x-i.offsetWidth/2}},s:function(){var t=p(this);return{top:t.s.y,left:t.s.x-i.offsetWidth/2}},e:function(){var t=p(this);return{top:t.e.y-i.offsetHeight/2,left:t.e.x}},w:function(){var t=p(this);return{top:t.w.y-i.offsetHeight/2,left:t.w.x-i.offsetWidth}},nw:function(){var t=p(this);return{top:t.nw.y-i.offsetHeight,left:t.nw.x-i.offsetWidth}},ne:function(){var t=p(this);return{top:t.ne.y-i.offsetHeight,left:t.ne.x}},sw:function(){var t=p(this);return{top:t.sw.y,left:t.sw.x-i.offsetWidth}},se:function(){var t=p(this);return{top:t.se.y,left:t.se.x}}}),l=f.keys();function h(){var t=vt(document.createElement("div"));return t.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),t.node()}function d(){return null==i&&(i=h(),r.appendChild(i)),vt(i)}function p(t){for(var n=s||t;null==n.getScreenCTM&&null!=n.parentNode;)n=n.parentNode;var e={},r=n.getScreenCTM(),i=n.getBBox(),o=i.width,a=i.height,c=i.x,f=i.y;return u.x=c,u.y=f,e.nw=u.matrixTransform(r),u.x+=o,e.ne=u.matrixTransform(r),u.y+=a,e.se=u.matrixTransform(r),u.x-=o,e.sw=u.matrixTransform(r),u.y-=a/2,e.w=u.matrixTransform(r),u.x+=o,e.e=u.matrixTransform(r),u.x-=o/2,u.y-=a/2,e.n=u.matrixTransform(r),u.y+=a,e.s=u.matrixTransform(r),e}function g(t){return"function"==typeof t?t:function(){return t}}return c}},62930:function(t){(function(){var n,e,r,i,o,a;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(n()-o)/1e6},e=process.hrtime,i=(n=function(){var t;return 1e9*(t=e())[0]+t[1]})(),a=1e9*process.uptime(),o=i-a):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},48729:function(t,n,e){for(var r=e(62930),i="undefined"==typeof window?e.g:window,o=["moz","webkit"],a="AnimationFrame",u=i["request"+a],s=i["cancel"+a]||i["cancelRequest"+a],c=0;!u&&c<o.length;c++)u=i[o[c]+"Request"+a],s=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!u||!s){var f=0,l=0,h=[];u=function(t){if(0===h.length){var n=r(),e=Math.max(0,16.666666666666668-(n-f));f=e+n,setTimeout((function(){var t=h.slice(0);h.length=0;for(var n=0;n<t.length;n++)if(!t[n].cancelled)try{t[n].callback(f)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(e))}return h.push({handle:++l,callback:t,cancelled:!1}),l},s=function(t){for(var n=0;n<h.length;n++)h[n].handle===t&&(h[n].cancelled=!0)}}t.exports=function(t){return u.call(i,t)},t.exports.cancel=function(){s.apply(i,arguments)},t.exports.polyfill=function(t){t||(t=i),t.requestAnimationFrame=u,t.cancelAnimationFrame=s}},31091:function(t){t.exports=function(t){this.ok=!1,this.alpha=1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=n[t]||t;for(var e=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<e.length;r++){var i=e[r].re,o=e[r].process,a=i.exec(t);if(a){var u=o(a);this.r=u[0],this.g=u[1],this.b=u[2],u.length>3&&(this.alpha=u[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var t=this.r.toString(16),n=this.g.toString(16),e=this.b.toString(16);return 1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),1==e.length&&(e="0"+e),"#"+t+n+e},this.getHelpXML=function(){for(var t=new Array,r=0;r<e.length;r++)for(var i=e[r].example,o=0;o<i.length;o++)t[t.length]=i[o];for(var a in n)t[t.length]=a;var u=document.createElement("ul");u.setAttribute("id","rgbcolor-examples");for(r=0;r<t.length;r++)try{var s=document.createElement("li"),c=new RGBColor(t[r]),f=document.createElement("div");f.style.cssText="margin: 3px; border: 1px solid black; background:"+c.toHex()+"; color:"+c.toHex(),f.appendChild(document.createTextNode("test"));var l=document.createTextNode(" "+t[r]+" -> "+c.toRGB()+" -> "+c.toHex());s.appendChild(f),s.appendChild(l),u.appendChild(s)}catch(t){}return u}}},75214:function(t,n,e){"use strict";e.r(n),e.d(n,{AElement:function(){return cn},AnimateColorElement:function(){return nn},AnimateElement:function(){return tn},AnimateTransformElement:function(){return en},BoundingBox:function(){return Ot},CB1:function(){return tt},CB2:function(){return nt},CB3:function(){return et},CB4:function(){return rt},Canvg:function(){return In},CircleElement:function(){return Ut},ClipPathElement:function(){return An},DefsElement:function(){return Gt},DescElement:function(){return kn},Document:function(){return Rn},Element:function(){return Tt},EllipseElement:function(){return qt},FeColorMatrixElement:function(){return _n},FeCompositeElement:function(){return Nn},FeDropShadowElement:function(){return Tn},FeGaussianBlurElement:function(){return Cn},FeMorphologyElement:function(){return En},FilterElement:function(){return Sn},Font:function(){return kt},FontElement:function(){return un},FontFaceElement:function(){return rn},GElement:function(){return Qt},GlyphElement:function(){return on},GradientElement:function(){return $t},ImageElement:function(){return hn},LineElement:function(){return Ht},LinearGradientElement:function(){return Zt},MarkerElement:function(){return Wt},MaskElement:function(){return wn},Matrix:function(){return _t},MissingGlyphElement:function(){return an},Mouse:function(){return lt},PSEUDO_ZERO:function(){return $},Parser:function(){return mt},PathElement:function(){return Lt},PathParser:function(){return Dt},PatternElement:function(){return jt},Point:function(){return ft},PolygonElement:function(){return Xt},PolylineElement:function(){return Yt},Property:function(){return ut},QB1:function(){return it},QB2:function(){return ot},QB3:function(){return at},RadialGradientElement:function(){return Kt},RectElement:function(){return Ft},RenderedElement:function(){return Rt},Rotate:function(){return bt},SVGElement:function(){return Bt},SVGFontLoader:function(){return pn},Scale:function(){return xt},Screen:function(){return pt},Skew:function(){return wt},SkewX:function(){return Mt},SkewY:function(){return At},StopElement:function(){return Jt},StyleElement:function(){return gn},SymbolElement:function(){return dn},TRefElement:function(){return sn},TSpanElement:function(){return zt},TextElement:function(){return It},TextPathElement:function(){return fn},TitleElement:function(){return Pn},Transform:function(){return St},Translate:function(){return vt},UnknownElement:function(){return Et},UseElement:function(){return yn},ViewPort:function(){return st},compressSpaces:function(){return O},elements:function(){return On},getSelectorSpecificity:function(){return Q},normalizeAttributeName:function(){return L},normalizeColor:function(){return F},parseExternalUrl:function(){return B},presets:function(){return k},toMatrixValue:function(){return V},toNumbers:function(){return z},trimLeft:function(){return R},trimRight:function(){return I},vectorMagnitude:function(){return Z},vectorsAngle:function(){return J},vectorsRatio:function(){return K}});var r=e(48729),i=e(31091),o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)};function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}function u(t,n){var e=t[0],r=t[1];return[e*Math.cos(n)-r*Math.sin(n),e*Math.sin(n)+r*Math.cos(n)]}function s(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=0;e<t.length;e++)if("number"!=typeof t[e])throw new Error("assertNumbers arguments["+e+"] is not a number. "+typeof t[e]+" == typeof "+t[e]);return!0}var c=Math.PI;function f(t,n,e){t.lArcFlag=0===t.lArcFlag?0:1,t.sweepFlag=0===t.sweepFlag?0:1;var r=t.rX,i=t.rY,o=t.x,a=t.y;r=Math.abs(t.rX),i=Math.abs(t.rY);var s=u([(n-o)/2,(e-a)/2],-t.xRot/180*c),f=s[0],l=s[1],h=Math.pow(f,2)/Math.pow(r,2)+Math.pow(l,2)/Math.pow(i,2);1<h&&(r*=Math.sqrt(h),i*=Math.sqrt(h)),t.rX=r,t.rY=i;var d=Math.pow(r,2)*Math.pow(l,2)+Math.pow(i,2)*Math.pow(f,2),p=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(r,2)*Math.pow(i,2)-d)/d)),g=r*l/i*p,y=-i*f/r*p,m=u([g,y],t.xRot/180*c);t.cX=m[0]+(n+o)/2,t.cY=m[1]+(e+a)/2,t.phi1=Math.atan2((l-y)/i,(f-g)/r),t.phi2=Math.atan2((-l-y)/i,(-f-g)/r),0===t.sweepFlag&&t.phi2>t.phi1&&(t.phi2-=2*c),1===t.sweepFlag&&t.phi2<t.phi1&&(t.phi2+=2*c),t.phi1*=180/c,t.phi2*=180/c}function l(t,n,e){s(t,n,e);var r=t*t+n*n-e*e;if(0>r)return[];if(0===r)return[[t*e/(t*t+n*n),n*e/(t*t+n*n)]];var i=Math.sqrt(r);return[[(t*e+n*i)/(t*t+n*n),(n*e-t*i)/(t*t+n*n)],[(t*e-n*i)/(t*t+n*n),(n*e+t*i)/(t*t+n*n)]]}var h,d=Math.PI/180;function p(t,n,e){return(1-e)*t+e*n}function g(t,n,e,r){return t+Math.cos(r/180*c)*n+Math.sin(r/180*c)*e}function y(t,n,e,r){var i=1e-6,o=n-t,a=e-n,u=3*o+3*(r-e)-6*a,s=6*(a-o),c=3*o;return Math.abs(u)<i?[-c/s]:function(t,n,e){void 0===e&&(e=1e-6);var r=t*t/4-n;if(r<-e)return[];if(r<=e)return[-t/2];var i=Math.sqrt(r);return[-t/2-i,-t/2+i]}(s/u,c/u,i)}function m(t,n,e,r,i){var o=1-i;return t*(o*o*o)+n*(3*o*o*i)+e*(3*o*i*i)+r*(i*i*i)}!function(t){function n(){return i((function(t,n,e){return t.relative&&(void 0!==t.x1&&(t.x1+=n),void 0!==t.y1&&(t.y1+=e),void 0!==t.x2&&(t.x2+=n),void 0!==t.y2&&(t.y2+=e),void 0!==t.x&&(t.x+=n),void 0!==t.y&&(t.y+=e),t.relative=!1),t}))}function e(){var t=NaN,n=NaN,e=NaN,r=NaN;return i((function(i,o,a){return i.type&M.SMOOTH_CURVE_TO&&(i.type=M.CURVE_TO,t=isNaN(t)?o:t,n=isNaN(n)?a:n,i.x1=i.relative?o-t:2*o-t,i.y1=i.relative?a-n:2*a-n),i.type&M.CURVE_TO?(t=i.relative?o+i.x2:i.x2,n=i.relative?a+i.y2:i.y2):(t=NaN,n=NaN),i.type&M.SMOOTH_QUAD_TO&&(i.type=M.QUAD_TO,e=isNaN(e)?o:e,r=isNaN(r)?a:r,i.x1=i.relative?o-e:2*o-e,i.y1=i.relative?a-r:2*a-r),i.type&M.QUAD_TO?(e=i.relative?o+i.x1:i.x1,r=i.relative?a+i.y1:i.y1):(e=NaN,r=NaN),i}))}function r(){var t=NaN,n=NaN;return i((function(e,r,i){if(e.type&M.SMOOTH_QUAD_TO&&(e.type=M.QUAD_TO,t=isNaN(t)?r:t,n=isNaN(n)?i:n,e.x1=e.relative?r-t:2*r-t,e.y1=e.relative?i-n:2*i-n),e.type&M.QUAD_TO){t=e.relative?r+e.x1:e.x1,n=e.relative?i+e.y1:e.y1;var o=e.x1,a=e.y1;e.type=M.CURVE_TO,e.x1=((e.relative?0:r)+2*o)/3,e.y1=((e.relative?0:i)+2*a)/3,e.x2=(e.x+2*o)/3,e.y2=(e.y+2*a)/3}else t=NaN,n=NaN;return e}))}function i(t){var n=0,e=0,r=NaN,i=NaN;return function(o){if(isNaN(r)&&!(o.type&M.MOVE_TO))throw new Error("path must start with moveto");var a=t(o,n,e,r,i);return o.type&M.CLOSE_PATH&&(n=r,e=i),void 0!==o.x&&(n=o.relative?n+o.x:o.x),void 0!==o.y&&(e=o.relative?e+o.y:o.y),o.type&M.MOVE_TO&&(r=n,i=e),a}}function o(t,n,e,r,o,a){return s(t,n,e,r,o,a),i((function(i,u,s,c){var f=i.x1,l=i.x2,h=i.relative&&!isNaN(c),d=void 0!==i.x?i.x:h?0:u,p=void 0!==i.y?i.y:h?0:s;function g(t){return t*t}i.type&M.HORIZ_LINE_TO&&0!==n&&(i.type=M.LINE_TO,i.y=i.relative?0:s),i.type&M.VERT_LINE_TO&&0!==e&&(i.type=M.LINE_TO,i.x=i.relative?0:u),void 0!==i.x&&(i.x=i.x*t+p*e+(h?0:o)),void 0!==i.y&&(i.y=d*n+i.y*r+(h?0:a)),void 0!==i.x1&&(i.x1=i.x1*t+i.y1*e+(h?0:o)),void 0!==i.y1&&(i.y1=f*n+i.y1*r+(h?0:a)),void 0!==i.x2&&(i.x2=i.x2*t+i.y2*e+(h?0:o)),void 0!==i.y2&&(i.y2=l*n+i.y2*r+(h?0:a));var y=t*r-n*e;if(void 0!==i.xRot&&(1!==t||0!==n||0!==e||1!==r))if(0===y)delete i.rX,delete i.rY,delete i.xRot,delete i.lArcFlag,delete i.sweepFlag,i.type=M.LINE_TO;else{var m=i.xRot*Math.PI/180,v=Math.sin(m),b=Math.cos(m),x=1/g(i.rX),_=1/g(i.rY),w=g(b)*x+g(v)*_,A=2*v*b*(x-_),S=g(v)*x+g(b)*_,T=w*r*r-A*n*r+S*n*n,E=A*(t*r+n*e)-2*(w*e*r+S*t*n),N=w*e*e-A*t*e+S*t*t,C=(Math.atan2(E,T-N)+Math.PI)%Math.PI/2,P=Math.sin(C),k=Math.cos(C);i.rX=Math.abs(y)/Math.sqrt(T*g(k)+E*P*k+N*g(P)),i.rY=Math.abs(y)/Math.sqrt(T*g(P)-E*P*k+N*g(k)),i.xRot=180*C/Math.PI}return void 0!==i.sweepFlag&&0>y&&(i.sweepFlag=+!i.sweepFlag),i}))}t.ROUND=function(t){function n(n){return Math.round(n*t)/t}return void 0===t&&(t=1e13),s(t),function(t){return void 0!==t.x1&&(t.x1=n(t.x1)),void 0!==t.y1&&(t.y1=n(t.y1)),void 0!==t.x2&&(t.x2=n(t.x2)),void 0!==t.y2&&(t.y2=n(t.y2)),void 0!==t.x&&(t.x=n(t.x)),void 0!==t.y&&(t.y=n(t.y)),void 0!==t.rX&&(t.rX=n(t.rX)),void 0!==t.rY&&(t.rY=n(t.rY)),t}},t.TO_ABS=n,t.TO_REL=function(){return i((function(t,n,e){return t.relative||(void 0!==t.x1&&(t.x1-=n),void 0!==t.y1&&(t.y1-=e),void 0!==t.x2&&(t.x2-=n),void 0!==t.y2&&(t.y2-=e),void 0!==t.x&&(t.x-=n),void 0!==t.y&&(t.y-=e),t.relative=!0),t}))},t.NORMALIZE_HVZ=function(t,n,e){return void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===e&&(e=!0),i((function(r,i,o,a,u){if(isNaN(a)&&!(r.type&M.MOVE_TO))throw new Error("path must start with moveto");return n&&r.type&M.HORIZ_LINE_TO&&(r.type=M.LINE_TO,r.y=r.relative?0:o),e&&r.type&M.VERT_LINE_TO&&(r.type=M.LINE_TO,r.x=r.relative?0:i),t&&r.type&M.CLOSE_PATH&&(r.type=M.LINE_TO,r.x=r.relative?a-i:a,r.y=r.relative?u-o:u),r.type&M.ARC&&(0===r.rX||0===r.rY)&&(r.type=M.LINE_TO,delete r.rX,delete r.rY,delete r.xRot,delete r.lArcFlag,delete r.sweepFlag),r}))},t.NORMALIZE_ST=e,t.QT_TO_C=r,t.INFO=i,t.SANITIZE=function(t){void 0===t&&(t=0),s(t);var n=NaN,e=NaN,r=NaN,o=NaN;return i((function(i,a,u,s,c){var f=Math.abs,l=!1,h=0,d=0;if(i.type&M.SMOOTH_CURVE_TO&&(h=isNaN(n)?0:a-n,d=isNaN(e)?0:u-e),i.type&(M.CURVE_TO|M.SMOOTH_CURVE_TO)?(n=i.relative?a+i.x2:i.x2,e=i.relative?u+i.y2:i.y2):(n=NaN,e=NaN),i.type&M.SMOOTH_QUAD_TO?(r=isNaN(r)?a:2*a-r,o=isNaN(o)?u:2*u-o):i.type&M.QUAD_TO?(r=i.relative?a+i.x1:i.x1,o=i.relative?u+i.y1:i.y2):(r=NaN,o=NaN),i.type&M.LINE_COMMANDS||i.type&M.ARC&&(0===i.rX||0===i.rY||!i.lArcFlag)||i.type&M.CURVE_TO||i.type&M.SMOOTH_CURVE_TO||i.type&M.QUAD_TO||i.type&M.SMOOTH_QUAD_TO){var p=void 0===i.x?0:i.relative?i.x:i.x-a,g=void 0===i.y?0:i.relative?i.y:i.y-u;h=isNaN(r)?void 0===i.x1?h:i.relative?i.x:i.x1-a:r-a,d=isNaN(o)?void 0===i.y1?d:i.relative?i.y:i.y1-u:o-u;var y=void 0===i.x2?0:i.relative?i.x:i.x2-a,m=void 0===i.y2?0:i.relative?i.y:i.y2-u;f(p)<=t&&f(g)<=t&&f(h)<=t&&f(d)<=t&&f(y)<=t&&f(m)<=t&&(l=!0)}return i.type&M.CLOSE_PATH&&f(a-s)<=t&&f(u-c)<=t&&(l=!0),l?[]:i}))},t.MATRIX=o,t.ROTATE=function(t,n,e){void 0===n&&(n=0),void 0===e&&(e=0),s(t,n,e);var r=Math.sin(t),i=Math.cos(t);return o(i,r,-r,i,n-n*i+e*r,e-n*r-e*i)},t.TRANSLATE=function(t,n){return void 0===n&&(n=0),s(t,n),o(1,0,0,1,t,n)},t.SCALE=function(t,n){return void 0===n&&(n=t),s(t,n),o(t,0,0,n,0,0)},t.SKEW_X=function(t){return s(t),o(1,0,Math.atan(t),1,0,0)},t.SKEW_Y=function(t){return s(t),o(1,Math.atan(t),0,1,0,0)},t.X_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),s(t),o(-1,0,0,1,t,0)},t.Y_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),s(t),o(1,0,0,-1,0,t)},t.A_TO_C=function(){return i((function(t,n,e){return M.ARC===t.type?function(t,n,e){var r,i,o,a;t.cX||f(t,n,e);for(var s=Math.min(t.phi1,t.phi2),c=Math.max(t.phi1,t.phi2)-s,l=Math.ceil(c/90),h=new Array(l),g=n,y=e,m=0;m<l;m++){var v=p(t.phi1,t.phi2,m/l),b=p(t.phi1,t.phi2,(m+1)/l),x=b-v,_=4/3*Math.tan(x*d/4),w=[Math.cos(v*d)-_*Math.sin(v*d),Math.sin(v*d)+_*Math.cos(v*d)],A=w[0],S=w[1],T=[Math.cos(b*d),Math.sin(b*d)],E=T[0],N=T[1],C=[E+_*Math.sin(b*d),N-_*Math.cos(b*d)],P=C[0],k=C[1];h[m]={relative:t.relative,type:M.CURVE_TO};var O=function(n,e){var r=u([n*t.rX,e*t.rY],t.xRot),i=r[0],o=r[1];return[t.cX+i,t.cY+o]};r=O(A,S),h[m].x1=r[0],h[m].y1=r[1],i=O(P,k),h[m].x2=i[0],h[m].y2=i[1],o=O(E,N),h[m].x=o[0],h[m].y=o[1],t.relative&&(h[m].x1-=g,h[m].y1-=y,h[m].x2-=g,h[m].y2-=y,h[m].x-=g,h[m].y-=y),g=(a=[h[m].x,h[m].y])[0],y=a[1]}return h}(t,t.relative?0:n,t.relative?0:e):t}))},t.ANNOTATE_ARCS=function(){return i((function(t,n,e){return t.relative&&(n=0,e=0),M.ARC===t.type&&f(t,n,e),t}))},t.CLONE=function(){return function(t){var n={};for(var e in t)n[e]=t[e];return n}},t.CALCULATE_BOUNDS=function(){var t=n(),o=r(),a=e(),u=i((function(n,e,r){var i=a(o(t(function(t){var n={};for(var e in t)n[e]=t[e];return n}(n))));function s(t){t>u.maxX&&(u.maxX=t),t<u.minX&&(u.minX=t)}function c(t){t>u.maxY&&(u.maxY=t),t<u.minY&&(u.minY=t)}if(i.type&M.DRAWING_COMMANDS&&(s(e),c(r)),i.type&M.HORIZ_LINE_TO&&s(i.x),i.type&M.VERT_LINE_TO&&c(i.y),i.type&M.LINE_TO&&(s(i.x),c(i.y)),i.type&M.CURVE_TO){s(i.x),c(i.y);for(var h=0,d=y(e,i.x1,i.x2,i.x);h<d.length;h++)0<(R=d[h])&&1>R&&s(m(e,i.x1,i.x2,i.x,R));for(var p=0,v=y(r,i.y1,i.y2,i.y);p<v.length;p++)0<(R=v[p])&&1>R&&c(m(r,i.y1,i.y2,i.y,R))}if(i.type&M.ARC){s(i.x),c(i.y),f(i,e,r);for(var b=i.xRot/180*Math.PI,x=Math.cos(b)*i.rX,_=Math.sin(b)*i.rX,w=-Math.sin(b)*i.rY,A=Math.cos(b)*i.rY,S=i.phi1<i.phi2?[i.phi1,i.phi2]:-180>i.phi2?[i.phi2+360,i.phi1+360]:[i.phi2,i.phi1],T=S[0],E=S[1],N=function(t){var n=t[0],e=t[1],r=180*Math.atan2(e,n)/Math.PI;return r<T?r+360:r},C=0,P=l(w,-x,0).map(N);C<P.length;C++)(R=P[C])>T&&R<E&&s(g(i.cX,x,w,R));for(var k=0,O=l(A,-_,0).map(N);k<O.length;k++){var R;(R=O[k])>T&&R<E&&c(g(i.cY,_,A,R))}}return n}));return u.minX=1/0,u.maxX=-1/0,u.minY=1/0,u.maxY=-1/0,u}}(h||(h={}));var v,b=function(){function t(){}return t.prototype.round=function(t){return this.transform(h.ROUND(t))},t.prototype.toAbs=function(){return this.transform(h.TO_ABS())},t.prototype.toRel=function(){return this.transform(h.TO_REL())},t.prototype.normalizeHVZ=function(t,n,e){return this.transform(h.NORMALIZE_HVZ(t,n,e))},t.prototype.normalizeST=function(){return this.transform(h.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(h.QT_TO_C())},t.prototype.aToC=function(){return this.transform(h.A_TO_C())},t.prototype.sanitize=function(t){return this.transform(h.SANITIZE(t))},t.prototype.translate=function(t,n){return this.transform(h.TRANSLATE(t,n))},t.prototype.scale=function(t,n){return this.transform(h.SCALE(t,n))},t.prototype.rotate=function(t,n,e){return this.transform(h.ROTATE(t,n,e))},t.prototype.matrix=function(t,n,e,r,i,o){return this.transform(h.MATRIX(t,n,e,r,i,o))},t.prototype.skewX=function(t){return this.transform(h.SKEW_X(t))},t.prototype.skewY=function(t){return this.transform(h.SKEW_Y(t))},t.prototype.xSymmetry=function(t){return this.transform(h.X_AXIS_SYMMETRY(t))},t.prototype.ySymmetry=function(t){return this.transform(h.Y_AXIS_SYMMETRY(t))},t.prototype.annotateArcs=function(){return this.transform(h.ANNOTATE_ARCS())},t}(),x=function(t){return" "===t||"\t"===t||"\r"===t||"\n"===t},_=function(t){return"0".charCodeAt(0)<=t.charCodeAt(0)&&t.charCodeAt(0)<="9".charCodeAt(0)},w=function(t){function n(){var n=t.call(this)||this;return n.curNumber="",n.curCommandType=-1,n.curCommandRelative=!1,n.canParseCommandOrComma=!0,n.curNumberHasExp=!1,n.curNumberHasExpDigits=!1,n.curNumberHasDecimal=!1,n.curArgs=[],n}return a(n,t),n.prototype.finish=function(t){if(void 0===t&&(t=[]),this.parse(" ",t),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return t},n.prototype.parse=function(t,n){var e=this;void 0===n&&(n=[]);for(var r=function(t){n.push(t),e.curArgs.length=0,e.canParseCommandOrComma=!0},i=0;i<t.length;i++){var o=t[i],a=!(this.curCommandType!==M.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),u=_(o)&&("0"===this.curNumber&&"0"===o||a);if(!_(o)||u)if("e"!==o&&"E"!==o)if("-"!==o&&"+"!==o||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==o||this.curNumberHasExp||this.curNumberHasDecimal||a){if(this.curNumber&&-1!==this.curCommandType){var s=Number(this.curNumber);if(isNaN(s))throw new SyntaxError("Invalid number ending at "+i);if(this.curCommandType===M.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>s)throw new SyntaxError('Expected positive number, got "'+s+'" at index "'+i+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+i+'"');this.curArgs.push(s),this.curArgs.length===A[this.curCommandType]&&(M.HORIZ_LINE_TO===this.curCommandType?r({type:M.HORIZ_LINE_TO,relative:this.curCommandRelative,x:s}):M.VERT_LINE_TO===this.curCommandType?r({type:M.VERT_LINE_TO,relative:this.curCommandRelative,y:s}):this.curCommandType===M.MOVE_TO||this.curCommandType===M.LINE_TO||this.curCommandType===M.SMOOTH_QUAD_TO?(r({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),M.MOVE_TO===this.curCommandType&&(this.curCommandType=M.LINE_TO)):this.curCommandType===M.CURVE_TO?r({type:M.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===M.SMOOTH_CURVE_TO?r({type:M.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===M.QUAD_TO?r({type:M.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===M.ARC&&r({type:M.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!x(o))if(","===o&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==o&&"-"!==o&&"."!==o)if(u)this.curNumber=o,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+i+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+o+'" at index '+i+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==o&&"Z"!==o)if("h"===o||"H"===o)this.curCommandType=M.HORIZ_LINE_TO,this.curCommandRelative="h"===o;else if("v"===o||"V"===o)this.curCommandType=M.VERT_LINE_TO,this.curCommandRelative="v"===o;else if("m"===o||"M"===o)this.curCommandType=M.MOVE_TO,this.curCommandRelative="m"===o;else if("l"===o||"L"===o)this.curCommandType=M.LINE_TO,this.curCommandRelative="l"===o;else if("c"===o||"C"===o)this.curCommandType=M.CURVE_TO,this.curCommandRelative="c"===o;else if("s"===o||"S"===o)this.curCommandType=M.SMOOTH_CURVE_TO,this.curCommandRelative="s"===o;else if("q"===o||"Q"===o)this.curCommandType=M.QUAD_TO,this.curCommandRelative="q"===o;else if("t"===o||"T"===o)this.curCommandType=M.SMOOTH_QUAD_TO,this.curCommandRelative="t"===o;else{if("a"!==o&&"A"!==o)throw new SyntaxError('Unexpected character "'+o+'" at index '+i+".");this.curCommandType=M.ARC,this.curCommandRelative="a"===o}else n.push({type:M.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=o,this.curNumberHasDecimal="."===o}else this.curNumber+=o,this.curNumberHasDecimal=!0;else this.curNumber+=o;else this.curNumber+=o,this.curNumberHasExp=!0;else this.curNumber+=o,this.curNumberHasExpDigits=this.curNumberHasExp}return n},n.prototype.transform=function(t){return Object.create(this,{parse:{value:function(n,e){void 0===e&&(e=[]);for(var r=0,i=Object.getPrototypeOf(this).parse.call(this,n);r<i.length;r++){var o=i[r],a=t(o);Array.isArray(a)?e.push.apply(e,a):e.push(a)}return e}}})},n}(b),M=function(t){function n(e){var r=t.call(this)||this;return r.commands="string"==typeof e?n.parse(e):e,r}return a(n,t),n.prototype.encode=function(){return n.encode(this.commands)},n.prototype.getBounds=function(){var t=h.CALCULATE_BOUNDS();return this.transform(t),t},n.prototype.transform=function(t){for(var n=[],e=0,r=this.commands;e<r.length;e++){var i=t(r[e]);Array.isArray(i)?n.push.apply(n,i):n.push(i)}return this.commands=n,this},n.encode=function(t){return function(t){var n="";Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var r=t[e];if(r.type===M.CLOSE_PATH)n+="z";else if(r.type===M.HORIZ_LINE_TO)n+=(r.relative?"h":"H")+r.x;else if(r.type===M.VERT_LINE_TO)n+=(r.relative?"v":"V")+r.y;else if(r.type===M.MOVE_TO)n+=(r.relative?"m":"M")+r.x+" "+r.y;else if(r.type===M.LINE_TO)n+=(r.relative?"l":"L")+r.x+" "+r.y;else if(r.type===M.CURVE_TO)n+=(r.relative?"c":"C")+r.x1+" "+r.y1+" "+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===M.SMOOTH_CURVE_TO)n+=(r.relative?"s":"S")+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===M.QUAD_TO)n+=(r.relative?"q":"Q")+r.x1+" "+r.y1+" "+r.x+" "+r.y;else if(r.type===M.SMOOTH_QUAD_TO)n+=(r.relative?"t":"T")+r.x+" "+r.y;else{if(r.type!==M.ARC)throw new Error('Unexpected command type "'+r.type+'" at index '+e+".");n+=(r.relative?"a":"A")+r.rX+" "+r.rY+" "+r.xRot+" "+ +r.lArcFlag+" "+ +r.sweepFlag+" "+r.x+" "+r.y}}return n}(t)},n.parse=function(t){var n=new w,e=[];return n.parse(t,e),n.finish(e),e},n.CLOSE_PATH=1,n.MOVE_TO=2,n.HORIZ_LINE_TO=4,n.VERT_LINE_TO=8,n.LINE_TO=16,n.CURVE_TO=32,n.SMOOTH_CURVE_TO=64,n.QUAD_TO=128,n.SMOOTH_QUAD_TO=256,n.ARC=512,n.LINE_COMMANDS=n.LINE_TO|n.HORIZ_LINE_TO|n.VERT_LINE_TO,n.DRAWING_COMMANDS=n.HORIZ_LINE_TO|n.VERT_LINE_TO|n.LINE_TO|n.CURVE_TO|n.SMOOTH_CURVE_TO|n.QUAD_TO|n.SMOOTH_QUAD_TO|n.ARC,n}(b),A=((v={})[M.MOVE_TO]=2,v[M.LINE_TO]=2,v[M.HORIZ_LINE_TO]=1,v[M.VERT_LINE_TO]=1,v[M.CLOSE_PATH]=0,v[M.QUAD_TO]=4,v[M.SMOOTH_QUAD_TO]=2,v[M.CURVE_TO]=6,v[M.SMOOTH_CURVE_TO]=4,v[M.ARC]=7,v);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}var T=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],E=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function N(t,n,e,r,i){if("string"==typeof t&&(t=document.getElementById(t)),!t||"object"!==S(t)||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var o=t.getContext("2d");try{return o.getImageData(n,e,r,i)}catch(t){throw new Error("unable to access image data: "+t)}}function C(t,n,e,r,i,o){if(!(isNaN(o)||o<1)){o|=0;var a=N(t,n,e,r,i);a=function(t,n,e,r,i,o){for(var a,u=t.data,s=2*o+1,c=r-1,f=i-1,l=o+1,h=l*(l+1)/2,d=new P,p=d,g=1;g<s;g++)p=p.next=new P,g===l&&(a=p);p.next=d;for(var y=null,m=null,v=0,b=0,x=T[o],_=E[o],w=0;w<i;w++){p=d;for(var M=u[b],A=u[b+1],S=u[b+2],N=u[b+3],C=0;C<l;C++)p.r=M,p.g=A,p.b=S,p.a=N,p=p.next;for(var k=0,O=0,R=0,I=0,z=l*M,V=l*A,D=l*S,L=l*N,B=h*M,F=h*A,U=h*S,q=h*N,H=1;H<l;H++){var Y=b+((c<H?c:H)<<2),X=u[Y],j=u[Y+1],W=u[Y+2],G=u[Y+3],Q=l-H;B+=(p.r=X)*Q,F+=(p.g=j)*Q,U+=(p.b=W)*Q,q+=(p.a=G)*Q,k+=X,O+=j,R+=W,I+=G,p=p.next}y=d,m=a;for(var $=0;$<r;$++){var Z=q*x>>_;if(u[b+3]=Z,0!==Z){var K=255/Z;u[b]=(B*x>>_)*K,u[b+1]=(F*x>>_)*K,u[b+2]=(U*x>>_)*K}else u[b]=u[b+1]=u[b+2]=0;B-=z,F-=V,U-=D,q-=L,z-=y.r,V-=y.g,D-=y.b,L-=y.a;var J=$+o+1;J=v+(J<c?J:c)<<2,B+=k+=y.r=u[J],F+=O+=y.g=u[J+1],U+=R+=y.b=u[J+2],q+=I+=y.a=u[J+3],y=y.next;var tt=m,nt=tt.r,et=tt.g,rt=tt.b,it=tt.a;z+=nt,V+=et,D+=rt,L+=it,k-=nt,O-=et,R-=rt,I-=it,m=m.next,b+=4}v+=r}for(var ot=0;ot<r;ot++){var at=u[b=ot<<2],ut=u[b+1],st=u[b+2],ct=u[b+3],ft=l*at,lt=l*ut,ht=l*st,dt=l*ct,pt=h*at,gt=h*ut,yt=h*st,mt=h*ct;p=d;for(var vt=0;vt<l;vt++)p.r=at,p.g=ut,p.b=st,p.a=ct,p=p.next;for(var bt=r,xt=0,_t=0,wt=0,Mt=0,At=1;At<=o;At++){b=bt+ot<<2;var St=l-At;pt+=(p.r=at=u[b])*St,gt+=(p.g=ut=u[b+1])*St,yt+=(p.b=st=u[b+2])*St,mt+=(p.a=ct=u[b+3])*St,Mt+=at,xt+=ut,_t+=st,wt+=ct,p=p.next,At<f&&(bt+=r)}b=ot,y=d,m=a;for(var Tt=0;Tt<i;Tt++){var Et=b<<2;u[Et+3]=ct=mt*x>>_,ct>0?(ct=255/ct,u[Et]=(pt*x>>_)*ct,u[Et+1]=(gt*x>>_)*ct,u[Et+2]=(yt*x>>_)*ct):u[Et]=u[Et+1]=u[Et+2]=0,pt-=ft,gt-=lt,yt-=ht,mt-=dt,ft-=y.r,lt-=y.g,ht-=y.b,dt-=y.a,Et=ot+((Et=Tt+l)<f?Et:f)*r<<2,pt+=Mt+=y.r=u[Et],gt+=xt+=y.g=u[Et+1],yt+=_t+=y.b=u[Et+2],mt+=wt+=y.a=u[Et+3],y=y.next,ft+=at=m.r,lt+=ut=m.g,ht+=st=m.b,dt+=ct=m.a,Mt-=at,xt-=ut,_t-=st,wt-=ct,m=m.next,b+=r}}return t}(a,0,0,r,i,o),t.getContext("2d").putImageData(a,n,e)}}var P=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};var k=Object.freeze({__proto__:null,offscreen:function(){let{DOMParser:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,createCanvas:(t,n)=>new OffscreenCanvas(t,n),async createImage(t){const n=await fetch(t),e=await n.blob();return await createImageBitmap(e)}};return void 0===globalThis.DOMParser&&void 0!==t||Reflect.deleteProperty(n,"DOMParser"),n},node:function(t){let{DOMParser:n,canvas:e,fetch:r}=t;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:n,fetch:r,createCanvas:e.createCanvas,createImage:e.loadImage}}});function O(t){return t.replace(/(?!\u3000)\s+/gm," ")}function R(t){return t.replace(/^[\n \t]+/,"")}function I(t){return t.replace(/[\n \t]+$/,"")}function z(t){const n=t.match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm);return n?n.map(parseFloat):[]}function V(t){const n=z(t);return[n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0]}const D=/^[A-Z-]+$/;function L(t){return D.test(t)?t.toLowerCase():t}function B(t){const n=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(t);return n&&(n[2]||n[3]||n[4])||""}function F(t){if(!t.startsWith("rgb"))return t;let n=3;return t.replace(/\d+(\.\d+)?/g,((t,e)=>n--&&e?String(Math.round(parseFloat(t))):t))}const U=/(\[[^\]]+\])/g,q=/(#[^\s+>~.[:]+)/g,H=/(\.[^\s+>~.[:]+)/g,Y=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,X=/(:[\w-]+\([^)]*\))/gi,j=/(:[^\s+>~.[:]+)/g,W=/([^\s+>~.[:]+)/g;function G(t,n){const e=n.exec(t);return e?[t.replace(n," "),e.length]:[t,0]}function Q(t){const n=[0,0,0];let e=t.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),r=0;return[e,r]=G(e,U),n[1]+=r,[e,r]=G(e,q),n[0]+=r,[e,r]=G(e,H),n[1]+=r,[e,r]=G(e,Y),n[2]+=r,[e,r]=G(e,X),n[1]+=r,[e,r]=G(e,j),n[1]+=r,e=e.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[e,r]=G(e,W),n[2]+=r,n.join("")}const $=1e-8;function Z(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function K(t,n){return(t[0]*n[0]+t[1]*n[1])/(Z(t)*Z(n))}function J(t,n){return(t[0]*n[1]<t[1]*n[0]?-1:1)*Math.acos(K(t,n))}function tt(t){return t*t*t}function nt(t){return 3*t*t*(1-t)}function et(t){return 3*t*(1-t)*(1-t)}function rt(t){return(1-t)*(1-t)*(1-t)}function it(t){return t*t}function ot(t){return 2*t*(1-t)}function at(t){return(1-t)*(1-t)}class ut{static empty(t){return new ut(t,"EMPTY","")}split(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ";const{document:n,name:e}=this;return O(this.getString()).trim().split(t).map((t=>new ut(n,e,t)))}hasValue(t){const n=this.value;return null!==n&&""!==n&&(t||0!==n)&&void 0!==n}isString(t){const{value:n}=this,e="string"==typeof n;return e&&t?t.test(n):e}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;const t=this.getString();switch(!0){case t.endsWith("px"):case/^[0-9]+$/.test(t):return!0;default:return!1}}setValue(t){return this.value=t,this}getValue(t){return void 0===t||this.hasValue()?this.value:t}getNumber(t){if(!this.hasValue())return void 0===t?0:parseFloat(t);const{value:n}=this;let e=parseFloat(n);return this.isString(/%$/)&&(e/=100),e}getString(t){return void 0===t||this.hasValue()?void 0===this.value?"":String(this.value):String(t)}getColor(t){let n=this.getString(t);return this.isNormalizedColor||(this.isNormalizedColor=!0,n=F(n),this.value=n),n}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;const[e,r]="boolean"==typeof t?[void 0,t]:[t],{viewPort:i}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(i.computeSize("x"),i.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(i.computeSize("x"),i.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*i.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*i.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&r:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*i.computeSize(e);default:{const t=this.getNumber();return n&&t<1?t*i.computeSize(e):t}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){const t=this.getString(),n=/#([^)'"]+)/.exec(t),e=(null==n?void 0:n[1])||t;return this.document.definitions[e]}getFillStyleDefinition(t,n){let e=this.getDefinition();if(!e)return null;if("function"==typeof e.createGradient&&"getBoundingBox"in t)return e.createGradient(this.document.ctx,t,n);if("function"==typeof e.createPattern){if(e.getHrefAttribute().hasValue()){const t=e.getAttribute("patternTransform");e=e.getHrefAttribute().getDefinition(),e&&t.hasValue()&&e.getAttribute("patternTransform",!0).setValue(t.value)}if(e)return e.createPattern(this.document.ctx,t,n)}return null}getTextBaseline(){if(!this.hasValue())return null;const t=this.getString();return ut.textBaselineMapping[t]||null}addOpacity(t){let n=this.getColor();const e=n.length;let r=0;for(let t=0;t<e&&(","===n[t]&&r++,3!==r);t++);if(t.hasValue()&&this.isString()&&3!==r){const e=new i(n);e.ok&&(e.alpha=t.getNumber(),n=e.toRGBA())}return new ut(this.document,this.name,n)}constructor(t,n,e){this.document=t,this.name=n,this.value=e,this.isNormalizedColor=!1}}ut.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class st{clear(){this.viewPorts=[]}setCurrent(t,n){this.viewPorts.push({width:t,height:n})}removeCurrent(){this.viewPorts.pop()}getRoot(){const[t]=this.viewPorts;return t||ct()}getCurrent(){const{viewPorts:t}=this,n=t[t.length-1];return n||ct()}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(t){return"number"==typeof t?t:"x"===t?this.width:"y"===t?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}constructor(){this.viewPorts=[]}}function ct(){return{width:st.DEFAULT_VIEWPORT_WIDTH,height:st.DEFAULT_VIEWPORT_HEIGHT}}st.DEFAULT_VIEWPORT_WIDTH=800,st.DEFAULT_VIEWPORT_HEIGHT=600;class ft{static parse(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[e=n,r=n]=z(t);return new ft(e,r)}static parseScale(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const[e=n,r=e]=z(t);return new ft(e,r)}static parsePath(t){const n=z(t),e=n.length,r=[];for(let t=0;t<e;t+=2)r.push(new ft(n[t],n[t+1]));return r}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}applyTransform(t){const{x:n,y:e}=this,r=n*t[0]+e*t[2]+t[4],i=n*t[1]+e*t[3]+t[5];this.x=r,this.y=i}constructor(t,n){this.x=t,this.y=n}}class lt{isWorking(){return this.working}start(){if(this.working)return;const{screen:t,onClick:n,onMouseMove:e}=this,r=t.ctx.canvas;r.onclick=n,r.onmousemove=e,this.working=!0}stop(){if(!this.working)return;const t=this.screen.ctx.canvas;this.working=!1,t.onclick=null,t.onmousemove=null}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(!this.working)return;const{screen:t,events:n,eventElements:e}=this,{style:r}=t.ctx.canvas;let i;r&&(r.cursor=""),n.forEach(((t,n)=>{let{run:r}=t;for(i=e[n];i;)r(i),i=i.parent})),this.events=[],this.eventElements=[]}checkPath(t,n){if(!this.working||!n)return;const{events:e,eventElements:r}=this;e.forEach(((e,i)=>{let{x:o,y:a}=e;!r[i]&&n.isPointInPath&&n.isPointInPath(o,a)&&(r[i]=t)}))}checkBoundingBox(t,n){if(!this.working||!n)return;const{events:e,eventElements:r}=this;e.forEach(((e,i)=>{let{x:o,y:a}=e;!r[i]&&n.isPointInBox(o,a)&&(r[i]=t)}))}mapXY(t,n){const{window:e,ctx:r}=this.screen,i=new ft(t,n);let o=r.canvas;for(;o;)i.x-=o.offsetLeft,i.y-=o.offsetTop,o=o.offsetParent;return(null==e?void 0:e.scrollX)&&(i.x+=e.scrollX),(null==e?void 0:e.scrollY)&&(i.y+=e.scrollY),i}onClick(t){const{x:n,y:e}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onclick",x:n,y:e,run(t){t.onClick&&t.onClick()}})}onMouseMove(t){const{x:n,y:e}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onmousemove",x:n,y:e,run(t){t.onMouseMove&&t.onMouseMove()}})}constructor(t){this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}}const ht="undefined"!=typeof window?window:null,dt="undefined"!=typeof fetch?fetch.bind(void 0):void 0;class pt{wait(t){this.waits.push(t)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;const t=this.waits.every((t=>t()));return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t,t}setDefaults(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4}setViewBox(t){let{document:n,ctx:e,aspectRatio:r,width:i,desiredWidth:o,height:a,desiredHeight:u,minX:s=0,minY:c=0,refX:f,refY:l,clip:h=!1,clipX:d=0,clipY:p=0}=t;const g=O(r).replace(/^defer\s/,""),[y,m]=g.split(" "),v=y||"xMidYMid",b=m||"meet",x=i/o,_=a/u,w=Math.min(x,_),M=Math.max(x,_);let A=o,S=u;"meet"===b&&(A*=w,S*=w),"slice"===b&&(A*=M,S*=M);const T=new ut(n,"refX",f),E=new ut(n,"refY",l),N=T.hasValue()&&E.hasValue();if(N&&e.translate(-w*T.getPixels("x"),-w*E.getPixels("y")),h){const t=w*d,n=w*p;e.beginPath(),e.moveTo(t,n),e.lineTo(i,n),e.lineTo(i,a),e.lineTo(t,a),e.closePath(),e.clip()}if(!N){const t="meet"===b&&w===_,n="slice"===b&&M===_,r="meet"===b&&w===x,o="slice"===b&&M===x;v.startsWith("xMid")&&(t||n)&&e.translate(i/2-A/2,0),v.endsWith("YMid")&&(r||o)&&e.translate(0,a/2-S/2),v.startsWith("xMax")&&(t||n)&&e.translate(i-A,0),v.endsWith("YMax")&&(r||o)&&e.translate(0,a-S)}switch(!0){case"none"===v:e.scale(x,_);break;case"meet"===b:e.scale(w,w);break;case"slice"===b:e.scale(M,M)}e.translate(-s,-c)}start(t){let{enableRedraw:n=!1,ignoreMouse:e=!1,ignoreAnimation:i=!1,ignoreDimensions:o=!1,ignoreClear:a=!1,forceRedraw:u,scaleWidth:s,scaleHeight:c,offsetX:f,offsetY:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{mouse:h}=this,d=1e3/pt.FRAMERATE;if(this.frameDuration=d,this.readyPromise=new Promise((t=>{this.resolveReady=t})),this.isReady()&&this.render(t,o,a,s,c,f,l),!n)return;let p=Date.now(),g=p,y=0;const m=()=>{p=Date.now(),y=p-g,y>=d&&(g=p-y%d,this.shouldUpdate(i,u)&&(this.render(t,o,a,s,c,f,l),h.runEvents())),this.intervalId=r(m)};e||h.start(),this.intervalId=r(m)}stop(){this.intervalId&&(r.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(t,n){if(!t){const{frameDuration:t}=this;if(this.animations.reduce(((n,e)=>e.update(t)||n),!1))return!0}return!("function"!=typeof n||!n())||(!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents())}render(t,n,e,r,i,o,a){const{viewPort:u,ctx:s,isFirstRender:c}=this,f=s.canvas;u.clear(),f.width&&f.height&&u.setCurrent(f.width,f.height);const l=t.getStyle("width"),h=t.getStyle("height");!n&&(c||"number"!=typeof r&&"number"!=typeof i)&&(l.hasValue()&&(f.width=l.getPixels("x"),f.style&&(f.style.width="".concat(f.width,"px"))),h.hasValue()&&(f.height=h.getPixels("y"),f.style&&(f.style.height="".concat(f.height,"px"))));let d=f.clientWidth||f.width,p=f.clientHeight||f.height;if(n&&l.hasValue()&&h.hasValue()&&(d=l.getPixels("x"),p=h.getPixels("y")),u.setCurrent(d,p),"number"==typeof o&&t.getAttribute("x",!0).setValue(o),"number"==typeof a&&t.getAttribute("y",!0).setValue(a),"number"==typeof r||"number"==typeof i){const n=z(t.getAttribute("viewBox").getString());let e=0,o=0;if("number"==typeof r){const i=t.getStyle("width");i.hasValue()?e=i.getPixels("x")/r:n[2]&&!isNaN(n[2])&&(e=n[2]/r)}if("number"==typeof i){const e=t.getStyle("height");e.hasValue()?o=e.getPixels("y")/i:n[3]&&!isNaN(n[3])&&(o=n[3]/i)}e||(e=o),o||(o=e),t.getAttribute("width",!0).setValue(r),t.getAttribute("height",!0).setValue(i);const a=t.getStyle("transform",!0,!0);a.setValue("".concat(a.getString()," scale(").concat(1/e,", ").concat(1/o,")"))}e||s.clearRect(0,0,d,p),t.render(s),c&&(this.isFirstRender=!1)}constructor(t,{fetch:n=dt,window:e=ht}={}){if(this.ctx=t,this.viewPort=new st,this.mouse=new lt(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=e,!n)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");this.fetch=n}}pt.defaultWindow=ht,pt.defaultFetch=dt,pt.FRAMERATE=30,pt.MAX_VIRTUAL_PIXELS=3e4;const{defaultFetch:gt}=pt,yt="undefined"!=typeof DOMParser?DOMParser:void 0;class mt{async parse(t){return t.startsWith("<")?this.parseFromString(t):this.load(t)}parseFromString(t){const n=new this.DOMParser;try{return this.checkDocument(n.parseFromString(t,"image/svg+xml"))}catch(e){return this.checkDocument(n.parseFromString(t,"text/xml"))}}checkDocument(t){const n=t.getElementsByTagName("parsererror")[0];if(n)throw new Error(n.textContent||"Unknown parse error");return t}async load(t){const n=await this.fetch(t),e=await n.text();return this.parseFromString(e)}constructor({fetch:t=gt,DOMParser:n=yt}={}){if(!t)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");if(!n)throw new Error("Can't find 'DOMParser' in 'globalThis', please provide it via options");this.fetch=t,this.DOMParser=n}}class vt{apply(t){const{x:n,y:e}=this.point;t.translate(n||0,e||0)}unapply(t){const{x:n,y:e}=this.point;t.translate(-1*n||0,-1*e||0)}applyToPoint(t){const{x:n,y:e}=this.point;t.applyTransform([1,0,0,1,n||0,e||0])}constructor(t,n){this.type="translate",this.point=ft.parse(n)}}class bt{apply(t){const{cx:n,cy:e,originX:r,originY:i,angle:o}=this,a=n+r.getPixels("x"),u=e+i.getPixels("y");t.translate(a,u),t.rotate(o.getRadians()),t.translate(-a,-u)}unapply(t){const{cx:n,cy:e,originX:r,originY:i,angle:o}=this,a=n+r.getPixels("x"),u=e+i.getPixels("y");t.translate(a,u),t.rotate(-1*o.getRadians()),t.translate(-a,-u)}applyToPoint(t){const{cx:n,cy:e,angle:r}=this,i=r.getRadians();t.applyTransform([1,0,0,1,n||0,e||0]),t.applyTransform([Math.cos(i),Math.sin(i),-Math.sin(i),Math.cos(i),0,0]),t.applyTransform([1,0,0,1,-n||0,-e||0])}constructor(t,n,e){this.type="rotate";const r=z(n);this.angle=new ut(t,"angle",r[0]),this.originX=e[0],this.originY=e[1],this.cx=r[1]||0,this.cy=r[2]||0}}class xt{apply(t){const{scale:{x:n,y:e},originX:r,originY:i}=this,o=r.getPixels("x"),a=i.getPixels("y");t.translate(o,a),t.scale(n,e||n),t.translate(-o,-a)}unapply(t){const{scale:{x:n,y:e},originX:r,originY:i}=this,o=r.getPixels("x"),a=i.getPixels("y");t.translate(o,a),t.scale(1/n,1/e||n),t.translate(-o,-a)}applyToPoint(t){const{x:n,y:e}=this.scale;t.applyTransform([n||0,0,0,e||0,0,0])}constructor(t,n,e){this.type="scale";const r=ft.parseScale(n);0!==r.x&&0!==r.y||(r.x=$,r.y=$),this.scale=r,this.originX=e[0],this.originY=e[1]}}class _t{apply(t){const{originX:n,originY:e,matrix:r}=this,i=n.getPixels("x"),o=e.getPixels("y");t.translate(i,o),t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),t.translate(-i,-o)}unapply(t){const{originX:n,originY:e,matrix:r}=this,i=r[0],o=r[2],a=r[4],u=r[1],s=r[3],c=r[5],f=1/(i*(1*s-0*c)-o*(1*u-0*c)+a*(0*u-0*s)),l=n.getPixels("x"),h=e.getPixels("y");t.translate(l,h),t.transform(f*(1*s-0*c),f*(0*c-1*u),f*(0*a-1*o),f*(1*i-0*a),f*(o*c-a*s),f*(a*u-i*c)),t.translate(-l,-h)}applyToPoint(t){t.applyTransform(this.matrix)}constructor(t,n,e){this.type="matrix",this.matrix=V(n),this.originX=e[0],this.originY=e[1]}}class wt extends _t{constructor(t,n,e){super(t,n,e),this.type="skew",this.angle=new ut(t,"angle",n)}}class Mt extends wt{constructor(t,n,e){super(t,n,e),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class At extends wt{constructor(t,n,e){super(t,n,e),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}class St{static fromElement(t,n){const e=n.getStyle("transform",!1,!0);if(e.hasValue()){const[r,i=r]=n.getStyle("transform-origin",!1,!0).split();if(r&&i){const n=[r,i];return new St(t,e.getString(),n)}}return null}apply(t){this.transforms.forEach((n=>n.apply(t)))}unapply(t){this.transforms.forEach((n=>n.unapply(t)))}applyToPoint(t){this.transforms.forEach((n=>n.applyToPoint(t)))}constructor(t,n,e){this.document=t,this.transforms=[];O(n).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/).forEach((t=>{if("none"===t)return;const[n,r]=function(t){const[n="",e=""]=t.split("(");return[n.trim(),e.trim().replace(")","")]}(t),i=St.transformTypes[n];i&&this.transforms.push(new i(this.document,r,e))}))}}St.transformTypes={translate:vt,rotate:bt,scale:xt,matrix:_t,skewX:Mt,skewY:At};class Tt{getAttribute(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const e=this.attributes[t];if(!e&&n){const n=new ut(this.document,t,"");return this.attributes[t]=n,n}return e||ut.empty(this.document)}getHrefAttribute(){let t;for(const n in this.attributes)if("href"===n||n.endsWith(":href")){t=this.attributes[n];break}return t||ut.empty(this.document)}getStyle(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.styles[t];if(r)return r;const i=this.getAttribute(t);if(i.hasValue())return this.styles[t]=i,i;if(!e){const{parent:n}=this;if(n){const e=n.getStyle(t);if(e.hasValue())return e}}if(n){const n=new ut(this.document,t,"");return this.styles[t]=n,n}return ut.empty(this.document)}render(t){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(t.save(),this.getStyle("mask").hasValue()){const n=this.getStyle("mask").getDefinition();n&&(this.applyEffects(t),n.apply(t,this))}else if("none"!==this.getStyle("filter").getValue("none")){const n=this.getStyle("filter").getDefinition();n&&(this.applyEffects(t),n.apply(t,this))}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}}setContext(t){}applyEffects(t){const n=St.fromElement(this.document,this);n&&n.apply(t);const e=this.getStyle("clip-path",!1,!0);if(e.hasValue()){const n=e.getDefinition();n&&n.apply(t)}}clearContext(t){}renderChildren(t){this.children.forEach((n=>{n.render(t)}))}addChild(t){const n=t instanceof Tt?t:this.document.createElement(t);n.parent=this,Tt.ignoreChildTypes.includes(n.type)||this.children.push(n)}matchesSelector(t){var n;const{node:e}=this;if("function"==typeof e.matches)return e.matches(t);const r=null===(n=e.getAttribute)||void 0===n?void 0:n.call(e,"class");return!(!r||""===r)&&r.split(" ").some((n=>".".concat(n)===t))}addStylesFromStyleDefinition(){const{styles:t,stylesSpecificity:n}=this.document;let e;for(const r in t)if(!r.startsWith("@")&&this.matchesSelector(r)){const i=t[r],o=n[r];if(i)for(const t in i){let n=this.stylesSpecificity[t];void 0===n&&(n="000"),o&&o>=n&&(e=i[t],e&&(this.styles[t]=e),this.stylesSpecificity[t]=o)}}}removeStyles(t,n){return n.reduce(((n,e)=>{const r=t.getStyle(e);if(!r.hasValue())return n;const i=r.getString();return r.setValue(""),[...n,[e,i]]}),[])}restoreStyles(t,n){n.forEach((n=>{let[e,r]=n;t.getStyle(e,!0).setValue(r)}))}isFirstChild(){var t;return 0===(null===(t=this.parent)||void 0===t?void 0:t.children.indexOf(this))}constructor(t,n,e=!1){if(this.document=t,this.node=n,this.captureTextNodes=e,this.type="",this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!n||1!==n.nodeType)return;if(Array.from(n.attributes).forEach((n=>{const e=L(n.nodeName);this.attributes[e]=new ut(t,e,n.value)})),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){const n=this.getAttribute("style").getString().split(";").map((t=>t.trim()));n.forEach((n=>{if(!n)return;const[e,r]=n.split(":").map((t=>t.trim()));e&&(this.styles[e]=new ut(t,e,r))}))}const{definitions:r}=t,i=this.getAttribute("id");i.hasValue()&&(r[i.getString()]||(r[i.getString()]=this)),Array.from(n.childNodes).forEach((n=>{if(1===n.nodeType)this.addChild(n);else if(e&&(3===n.nodeType||4===n.nodeType)){const e=t.createTextNode(n);e.getText().length>0&&this.addChild(e)}}))}}Tt.ignoreChildTypes=["title"];class Et extends Tt{constructor(t,n,e){super(t,n,e)}}function Nt(t){const n=t.trim();return/^('|")/.test(n)?n:'"'.concat(n,'"')}function Ct(t){if(!t)return"";const n=t.trim().toLowerCase();switch(n){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return n;default:return/^oblique\s+(-|)\d+deg$/.test(n)?n:""}}function Pt(t){if(!t)return"";const n=t.trim().toLowerCase();switch(n){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return n;default:return/^[\d.]+$/.test(n)?n:""}}class kt{static parse(){let t=arguments.length>1?arguments[1]:void 0,n="",e="",r="",i="",o="";const a=O(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().split(" "),u={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return a.forEach((t=>{switch(!0){case!u.fontStyle&&kt.styles.includes(t):"inherit"!==t&&(n=t),u.fontStyle=!0;break;case!u.fontVariant&&kt.variants.includes(t):"inherit"!==t&&(e=t),u.fontStyle=!0,u.fontVariant=!0;break;case!u.fontWeight&&kt.weights.includes(t):"inherit"!==t&&(r=t),u.fontStyle=!0,u.fontVariant=!0,u.fontWeight=!0;break;case!u.fontSize:"inherit"!==t&&(i=t.split("/")[0]||""),u.fontStyle=!0,u.fontVariant=!0,u.fontWeight=!0,u.fontSize=!0;break;default:"inherit"!==t&&(o+=t)}})),new kt(n,e,r,i,o,t)}toString(){return[Ct(this.fontStyle),this.fontVariant,Pt(this.fontWeight),this.fontSize,(t=this.fontFamily,"undefined"==typeof process?t:t.trim().split(",").map(Nt).join(","))].join(" ").trim();var t}constructor(t,n,e,r,i,o){const a=o?"string"==typeof o?kt.parse(o):o:{};this.fontFamily=i||a.fontFamily,this.fontSize=r||a.fontSize,this.fontStyle=t||a.fontStyle,this.fontWeight=e||a.fontWeight,this.fontVariant=n||a.fontVariant}}kt.styles="normal|italic|oblique|inherit",kt.variants="normal|small-caps|inherit",kt.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class Ot{get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(t,n){void 0!==t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),void 0!==n&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=n,this.y2=n),n<this.y1&&(this.y1=n),n>this.y2&&(this.y2=n))}addX(t){this.addPoint(t,0)}addY(t){this.addPoint(0,t)}addBoundingBox(t){if(!t)return;const{x1:n,y1:e,x2:r,y2:i}=t;this.addPoint(n,e),this.addPoint(r,i)}sumCubic(t,n,e,r,i){return Math.pow(1-t,3)*n+3*Math.pow(1-t,2)*t*e+3*(1-t)*Math.pow(t,2)*r+Math.pow(t,3)*i}bezierCurveAdd(t,n,e,r,i){const o=6*n-12*e+6*r,a=-3*n+9*e-9*r+3*i,u=3*e-3*n;if(0===a){if(0===o)return;const a=-u/o;return void(0<a&&a<1&&(t?this.addX(this.sumCubic(a,n,e,r,i)):this.addY(this.sumCubic(a,n,e,r,i))))}const s=Math.pow(o,2)-4*u*a;if(s<0)return;const c=(-o+Math.sqrt(s))/(2*a);0<c&&c<1&&(t?this.addX(this.sumCubic(c,n,e,r,i)):this.addY(this.sumCubic(c,n,e,r,i)));const f=(-o-Math.sqrt(s))/(2*a);0<f&&f<1&&(t?this.addX(this.sumCubic(f,n,e,r,i)):this.addY(this.sumCubic(f,n,e,r,i)))}addBezierCurve(t,n,e,r,i,o,a,u){this.addPoint(t,n),this.addPoint(a,u),this.bezierCurveAdd(!0,t,e,i,a),this.bezierCurveAdd(!1,n,r,o,u)}addQuadraticCurve(t,n,e,r,i,o){const a=t+2/3*(e-t),u=n+2/3*(r-n),s=a+1/3*(i-t),c=u+1/3*(o-n);this.addBezierCurve(t,n,a,s,u,c,i,o)}isPointInBox(t,n){const{x1:e,y1:r,x2:i,y2:o}=this;return e<=t&&t<=i&&r<=n&&n<=o}constructor(t=Number.NaN,n=Number.NaN,e=Number.NaN,r=Number.NaN){this.x1=t,this.y1=n,this.x2=e,this.y2=r,this.addPoint(t,n),this.addPoint(e,r)}}class Rt extends Tt{calculateOpacity(){let t=1,n=this;for(;n;){const e=n.getStyle("opacity",!1,!0);e.hasValue(!0)&&(t*=e.getNumber()),n=n.parent}return t}setContext(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!n){const n=this.getStyle("fill"),e=this.getStyle("fill-opacity"),r=this.getStyle("stroke"),i=this.getStyle("stroke-opacity");if(n.isUrlDefinition()){const r=n.getFillStyleDefinition(this,e);r&&(t.fillStyle=r)}else if(n.hasValue()){"currentColor"===n.getString()&&n.setValue(this.getStyle("color").getColor());const e=n.getColor();"inherit"!==e&&(t.fillStyle="none"===e?"rgba(0,0,0,0)":e)}if(e.hasValue()){const n=new ut(this.document,"fill",t.fillStyle).addOpacity(e).getColor();t.fillStyle=n}if(r.isUrlDefinition()){const n=r.getFillStyleDefinition(this,i);n&&(t.strokeStyle=n)}else if(r.hasValue()){"currentColor"===r.getString()&&r.setValue(this.getStyle("color").getColor());const n=r.getString();"inherit"!==n&&(t.strokeStyle="none"===n?"rgba(0,0,0,0)":n)}if(i.hasValue()){const n=new ut(this.document,"stroke",t.strokeStyle).addOpacity(i).getString();t.strokeStyle=n}const o=this.getStyle("stroke-width");if(o.hasValue()){const n=o.getPixels();t.lineWidth=n||$}const a=this.getStyle("stroke-linecap"),u=this.getStyle("stroke-linejoin"),s=this.getStyle("stroke-miterlimit"),c=this.getStyle("stroke-dasharray"),f=this.getStyle("stroke-dashoffset");if(a.hasValue()&&(t.lineCap=a.getString()),u.hasValue()&&(t.lineJoin=u.getString()),s.hasValue()&&(t.miterLimit=s.getNumber()),c.hasValue()&&"none"!==c.getString()){const n=z(c.getString());void 0!==t.setLineDash?t.setLineDash(n):void 0!==t.webkitLineDash?t.webkitLineDash=n:void 0===t.mozDash||1===n.length&&0===n[0]||(t.mozDash=n);const e=f.getPixels();void 0!==t.lineDashOffset?t.lineDashOffset=e:void 0!==t.webkitLineDashOffset?t.webkitLineDashOffset=e:void 0!==t.mozDashOffset&&(t.mozDashOffset=e)}}if(this.modifiedEmSizeStack=!1,void 0!==t.font){const n=this.getStyle("font"),e=this.getStyle("font-style"),r=this.getStyle("font-variant"),i=this.getStyle("font-weight"),o=this.getStyle("font-size"),a=this.getStyle("font-family"),u=new kt(e.getString(),r.getString(),i.getString(),o.hasValue()?"".concat(o.getPixels(!0),"px"):"",a.getString(),kt.parse(n.getString(),t.font));e.setValue(u.fontStyle),r.setValue(u.fontVariant),i.setValue(u.fontWeight),o.setValue(u.fontSize),a.setValue(u.fontFamily),t.font=u.toString(),o.isPixels()&&(this.document.emSize=o.getPixels(),this.modifiedEmSizeStack=!0)}n||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}clearContext(t){super.clearContext(t),this.modifiedEmSizeStack&&this.document.popEmSize()}constructor(...t){super(...t),this.modifiedEmSizeStack=!1}}class It extends Rt{setContext(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setContext(t,n);const e=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();e&&(t.textBaseline=e)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(t){if("text"!==this.type)return this.getTElementBoundingBox(t);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t);let n=null;return this.children.forEach(((e,r)=>{const i=this.getChildBoundingBox(t,this,this,r);n?n.addBoundingBox(i):n=i})),n}getFontSize(){const{document:t,parent:n}=this,e=kt.parse(t.ctx.font).fontSize;return n.getStyle("font-size").getNumber(e)}getTElementBoundingBox(t){const n=this.getFontSize();return new Ot(this.x,this.y-n,this.x+this.measureText(t),this.y)}getGlyph(t,n,e){const r=n[e];let i;if(t.isArabic){var o;const a=n.length,u=n[e-1],s=n[e+1];let c="isolated";(0===e||" "===u)&&e<a-1&&" "!==s&&(c="terminal"),e>0&&" "!==u&&e<a-1&&" "!==s&&(c="medial"),e>0&&" "!==u&&(e===a-1||" "===s)&&(c="initial"),i=(null===(o=t.arabicGlyphs[r])||void 0===o?void 0:o[c])||t.glyphs[r]}else i=t.glyphs[r];return i||(i=t.missingGlyph),i}getText(){return""}getTextFromNode(t){const n=t||this.node,e=Array.from(n.parentNode.childNodes),r=e.indexOf(n),i=e.length-1;let o=O(n.textContent||"");return 0===r&&(o=R(o)),r===i&&(o=I(o)),o}renderChildren(t){if("text"!==this.type)return void this.renderTElementChildren(t);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t),this.children.forEach(((n,e)=>{this.renderChild(t,this,this,e)}));const{mouse:n}=this.document.screen;n.isWorking()&&n.checkBoundingBox(this,this.getBoundingBox(t))}renderTElementChildren(t){const{document:n,parent:e}=this,r=this.getText(),i=e.getStyle("font-family").getDefinition();if(i){const{unitsPerEm:o}=i.fontFace,a=kt.parse(n.ctx.font),u=e.getStyle("font-size").getNumber(a.fontSize),s=e.getStyle("font-style").getString(a.fontStyle),c=u/o,f=i.isRTL?r.split("").reverse().join(""):r,l=z(e.getAttribute("dx").getString()),h=f.length;for(let n=0;n<h;n++){const e=this.getGlyph(i,f,n);t.translate(this.x,this.y),t.scale(c,-c);const r=t.lineWidth;t.lineWidth=t.lineWidth*o/u,"italic"===s&&t.transform(1,0,.4,1,0,0),e.render(t),"italic"===s&&t.transform(1,0,-.4,1,0,0),t.lineWidth=r,t.scale(1/c,-1/c),t.translate(-this.x,-this.y),this.x+=u*(e.horizAdvX||i.horizAdvX)/o,void 0===l[n]||isNaN(l[n])||(this.x+=l[n])}return}const{x:o,y:a}=this;t.fillStyle&&t.fillText(r,o,a),t.strokeStyle&&t.strokeText(r,o,a)}applyAnchoring(){if(this.textChunkStart>=this.leafTexts.length)return;const t=this.leafTexts[this.textChunkStart],n=t.getStyle("text-anchor").getString("start");let e=0;e="start"===n?t.x-this.minX:"end"===n?t.x-this.maxX:t.x-(this.minX+this.maxX)/2;for(let t=this.textChunkStart;t<this.leafTexts.length;t++)this.leafTexts[t].x+=e;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}adjustChildCoordinatesRecursive(t){this.children.forEach(((n,e)=>{this.adjustChildCoordinatesRecursiveCore(t,this,this,e)})),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(t,n,e,r){const i=e.children[r];i.children.length>0?i.children.forEach(((e,r)=>{n.adjustChildCoordinatesRecursiveCore(t,n,i,r)})):this.adjustChildCoordinates(t,n,e,r)}adjustChildCoordinates(t,n,e,r){const i=e.children[r];if("function"!=typeof i.measureText)return i;t.save(),i.setContext(t,!0);const o=i.getAttribute("x"),a=i.getAttribute("y"),u=i.getAttribute("dx"),s=i.getAttribute("dy"),c=i.getStyle("font-family").getDefinition(),f=Boolean(null==c?void 0:c.isRTL);0===r&&(o.hasValue()||o.setValue(i.getInheritedAttribute("x")),a.hasValue()||a.setValue(i.getInheritedAttribute("y")),u.hasValue()||u.setValue(i.getInheritedAttribute("dx")),s.hasValue()||s.setValue(i.getInheritedAttribute("dy")));const l=i.measureText(t);return f&&(n.x-=l),o.hasValue()?(n.applyAnchoring(),i.x=o.getPixels("x"),u.hasValue()&&(i.x+=u.getPixels("x"))):(u.hasValue()&&(n.x+=u.getPixels("x")),i.x=n.x),n.x=i.x,f||(n.x+=l),a.hasValue()?(i.y=a.getPixels("y"),s.hasValue()&&(i.y+=s.getPixels("y"))):(s.hasValue()&&(n.y+=s.getPixels("y")),i.y=n.y),n.y=i.y,n.leafTexts.push(i),n.minX=Math.min(n.minX,i.x,i.x+l),n.maxX=Math.max(n.maxX,i.x,i.x+l),i.clearContext(t),t.restore(),i}getChildBoundingBox(t,n,e,r){const i=e.children[r];if("function"!=typeof i.getBoundingBox)return null;const o=i.getBoundingBox(t);return o&&i.children.forEach(((e,r)=>{const a=n.getChildBoundingBox(t,n,i,r);o.addBoundingBox(a)})),o}renderChild(t,n,e,r){const i=e.children[r];i.render(t),i.children.forEach(((e,r)=>{n.renderChild(t,n,i,r)}))}measureText(t){const{measureCache:n}=this;if(~n)return n;const e=this.getText(),r=this.measureTargetText(t,e);return this.measureCache=r,r}measureTargetText(t,n){if(!n.length)return 0;const{parent:e}=this,r=e.getStyle("font-family").getDefinition();if(r){const t=this.getFontSize(),i=r.isRTL?n.split("").reverse().join(""):n,o=z(e.getAttribute("dx").getString()),a=i.length;let u=0;for(let n=0;n<a;n++){u+=(this.getGlyph(r,i,n).horizAdvX||r.horizAdvX)*t/r.fontFace.unitsPerEm,void 0===o[n]||isNaN(o[n])||(u+=o[n])}return u}if(!t.measureText)return 10*n.length;t.save(),this.setContext(t,!0);const{width:i}=t.measureText(n);return this.clearContext(t),t.restore(),i}getInheritedAttribute(t){let n=this;for(;n instanceof It&&n.isFirstChild()&&n.parent;){const e=n.parent.getAttribute(t);if(e.hasValue(!0))return e.getString("0");n=n.parent}return null}constructor(t,n,e){super(t,n,new.target===It||e),this.type="text",this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.measureCache=-1}}class zt extends It{getText(){return this.text}constructor(t,n,e){super(t,n,new.target===zt||e),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}}class Vt extends zt{constructor(...t){super(...t),this.type="textNode"}}class Dt extends M{reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new ft(0,0),this.control=new ft(0,0),this.current=new ft(0,0),this.points=[],this.angles=[]}isEnd(){const{i:t,commands:n}=this;return t>=n.length-1}next(){const t=this.commands[++this.i];return this.previousCommand=this.command,this.command=t,t}getPoint(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";const e=new ft(this.command[t],this.command[n]);return this.makeAbsolute(e)}getAsControlPoint(t,n){const e=this.getPoint(t,n);return this.control=e,e}getAsCurrentPoint(t,n){const e=this.getPoint(t,n);return this.current=e,e}getReflectedControlPoint(){const t=this.previousCommand.type;if(t!==M.CURVE_TO&&t!==M.SMOOTH_CURVE_TO&&t!==M.QUAD_TO&&t!==M.SMOOTH_QUAD_TO)return this.current;const{current:{x:n,y:e},control:{x:r,y:i}}=this;return new ft(2*n-r,2*e-i)}makeAbsolute(t){if(this.command.relative){const{x:n,y:e}=this.current;t.x+=n,t.y+=e}return t}addMarker(t,n,e){const{points:r,angles:i}=this;e&&i.length>0&&!i[i.length-1]&&(i[i.length-1]=r[r.length-1].angleTo(e)),this.addMarkerAngle(t,n?n.angleTo(t):null)}addMarkerAngle(t,n){this.points.push(t),this.angles.push(n)}getMarkerPoints(){return this.points}getMarkerAngles(){const{angles:t}=this,n=t.length;for(let e=0;e<n;e++)if(!t[e])for(let r=e+1;r<n;r++)if(t[r]){t[e]=t[r];break}return t}constructor(t){super(t.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=new ft(0,0),this.start=new ft(0,0),this.current=new ft(0,0),this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}}class Lt extends Rt{path(t){const{pathParser:n}=this,e=new Ot;for(n.reset(),t&&t.beginPath();!n.isEnd();)switch(n.next().type){case Dt.MOVE_TO:this.pathM(t,e);break;case Dt.LINE_TO:this.pathL(t,e);break;case Dt.HORIZ_LINE_TO:this.pathH(t,e);break;case Dt.VERT_LINE_TO:this.pathV(t,e);break;case Dt.CURVE_TO:this.pathC(t,e);break;case Dt.SMOOTH_CURVE_TO:this.pathS(t,e);break;case Dt.QUAD_TO:this.pathQ(t,e);break;case Dt.SMOOTH_QUAD_TO:this.pathT(t,e);break;case Dt.ARC:this.pathA(t,e);break;case Dt.CLOSE_PATH:this.pathZ(t,e)}return e}getBoundingBox(t){return this.path()}getMarkers(){const{pathParser:t}=this,n=t.getMarkerPoints(),e=t.getMarkerAngles(),r=n.map(((t,n)=>[t,e[n]]));return r}renderChildren(t){this.path(t),this.document.screen.mouse.checkPath(this,t);const n=this.getStyle("fill-rule");""!==t.fillStyle&&("inherit"!==n.getString("inherit")?t.fill(n.getString()):t.fill()),""!==t.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(t.save(),t.setTransform(1,0,0,1,0,0),t.stroke(),t.restore()):t.stroke());const e=this.getMarkers();if(e){const n=e.length-1,r=this.getStyle("marker-start"),i=this.getStyle("marker-mid"),o=this.getStyle("marker-end");if(r.isUrlDefinition()){const n=r.getDefinition(),[i,o]=e[0];n.render(t,i,o)}if(i.isUrlDefinition()){const r=i.getDefinition();for(let i=1;i<n;i++){const[n,o]=e[i];r.render(t,n,o)}}if(o.isUrlDefinition()){const r=o.getDefinition(),[i,a]=e[n];r.render(t,i,a)}}}static pathM(t){const n=t.getAsCurrentPoint();return t.start=t.current,{point:n}}pathM(t,n){const{pathParser:e}=this,{point:r}=Lt.pathM(e),{x:i,y:o}=r;e.addMarker(r),n.addPoint(i,o),t&&t.moveTo(i,o)}static pathL(t){const{current:n}=t;return{current:n,point:t.getAsCurrentPoint()}}pathL(t,n){const{pathParser:e}=this,{current:r,point:i}=Lt.pathL(e),{x:o,y:a}=i;e.addMarker(i,r),n.addPoint(o,a),t&&t.lineTo(o,a)}static pathH(t){const{current:n,command:e}=t,r=new ft((e.relative?n.x:0)+e.x,n.y);return t.current=r,{current:n,point:r}}pathH(t,n){const{pathParser:e}=this,{current:r,point:i}=Lt.pathH(e),{x:o,y:a}=i;e.addMarker(i,r),n.addPoint(o,a),t&&t.lineTo(o,a)}static pathV(t){const{current:n,command:e}=t,r=new ft(n.x,(e.relative?n.y:0)+e.y);return t.current=r,{current:n,point:r}}pathV(t,n){const{pathParser:e}=this,{current:r,point:i}=Lt.pathV(e),{x:o,y:a}=i;e.addMarker(i,r),n.addPoint(o,a),t&&t.lineTo(o,a)}static pathC(t){const{current:n}=t;return{current:n,point:t.getPoint("x1","y1"),controlPoint:t.getAsControlPoint("x2","y2"),currentPoint:t.getAsCurrentPoint()}}pathC(t,n){const{pathParser:e}=this,{current:r,point:i,controlPoint:o,currentPoint:a}=Lt.pathC(e);e.addMarker(a,o,i),n.addBezierCurve(r.x,r.y,i.x,i.y,o.x,o.y,a.x,a.y),t&&t.bezierCurveTo(i.x,i.y,o.x,o.y,a.x,a.y)}static pathS(t){const{current:n}=t;return{current:n,point:t.getReflectedControlPoint(),controlPoint:t.getAsControlPoint("x2","y2"),currentPoint:t.getAsCurrentPoint()}}pathS(t,n){const{pathParser:e}=this,{current:r,point:i,controlPoint:o,currentPoint:a}=Lt.pathS(e);e.addMarker(a,o,i),n.addBezierCurve(r.x,r.y,i.x,i.y,o.x,o.y,a.x,a.y),t&&t.bezierCurveTo(i.x,i.y,o.x,o.y,a.x,a.y)}static pathQ(t){const{current:n}=t;return{current:n,controlPoint:t.getAsControlPoint("x1","y1"),currentPoint:t.getAsCurrentPoint()}}pathQ(t,n){const{pathParser:e}=this,{current:r,controlPoint:i,currentPoint:o}=Lt.pathQ(e);e.addMarker(o,i,i),n.addQuadraticCurve(r.x,r.y,i.x,i.y,o.x,o.y),t&&t.quadraticCurveTo(i.x,i.y,o.x,o.y)}static pathT(t){const{current:n}=t,e=t.getReflectedControlPoint();t.control=e;return{current:n,controlPoint:e,currentPoint:t.getAsCurrentPoint()}}pathT(t,n){const{pathParser:e}=this,{current:r,controlPoint:i,currentPoint:o}=Lt.pathT(e);e.addMarker(o,i,i),n.addQuadraticCurve(r.x,r.y,i.x,i.y,o.x,o.y),t&&t.quadraticCurveTo(i.x,i.y,o.x,o.y)}static pathA(t){const{current:n,command:e}=t;let{rX:r,rY:i,xRot:o,lArcFlag:a,sweepFlag:u}=e;const s=o*(Math.PI/180),c=t.getAsCurrentPoint(),f=new ft(Math.cos(s)*(n.x-c.x)/2+Math.sin(s)*(n.y-c.y)/2,-Math.sin(s)*(n.x-c.x)/2+Math.cos(s)*(n.y-c.y)/2),l=Math.pow(f.x,2)/Math.pow(r,2)+Math.pow(f.y,2)/Math.pow(i,2);l>1&&(r*=Math.sqrt(l),i*=Math.sqrt(l));let h=(a===u?-1:1)*Math.sqrt((Math.pow(r,2)*Math.pow(i,2)-Math.pow(r,2)*Math.pow(f.y,2)-Math.pow(i,2)*Math.pow(f.x,2))/(Math.pow(r,2)*Math.pow(f.y,2)+Math.pow(i,2)*Math.pow(f.x,2)));isNaN(h)&&(h=0);const d=new ft(h*r*f.y/i,h*-i*f.x/r),p=new ft((n.x+c.x)/2+Math.cos(s)*d.x-Math.sin(s)*d.y,(n.y+c.y)/2+Math.sin(s)*d.x+Math.cos(s)*d.y),g=J([1,0],[(f.x-d.x)/r,(f.y-d.y)/i]),y=[(f.x-d.x)/r,(f.y-d.y)/i],m=[(-f.x-d.x)/r,(-f.y-d.y)/i];let v=J(y,m);return K(y,m)<=-1&&(v=Math.PI),K(y,m)>=1&&(v=0),{currentPoint:c,rX:r,rY:i,sweepFlag:u,xAxisRotation:s,centp:p,a1:g,ad:v}}pathA(t,n){const{pathParser:e}=this,{currentPoint:r,rX:i,rY:o,sweepFlag:a,xAxisRotation:u,centp:s,a1:c,ad:f}=Lt.pathA(e),l=1-a?1:-1,h=c+l*(f/2),d=new ft(s.x+i*Math.cos(h),s.y+o*Math.sin(h));if(e.addMarkerAngle(d,h-l*Math.PI/2),e.addMarkerAngle(r,h-l*Math.PI),n.addPoint(r.x,r.y),t&&!isNaN(c)&&!isNaN(f)){const n=i>o?i:o,e=i>o?1:i/o,r=i>o?o/i:1;t.translate(s.x,s.y),t.rotate(u),t.scale(e,r),t.arc(0,0,n,c,c+f,Boolean(1-a)),t.scale(1/e,1/r),t.rotate(-u),t.translate(-s.x,-s.y)}}static pathZ(t){t.current=t.start}pathZ(t,n){Lt.pathZ(this.pathParser),t&&n.x1!==n.x2&&n.y1!==n.y2&&t.closePath()}constructor(t,n,e){super(t,n,e),this.type="path",this.pathParser=new Dt(this.getAttribute("d").getString())}}class Bt extends Rt{setContext(t){var n;const{document:e}=this,{screen:r,window:i}=e,o=t.canvas;if(r.setDefaults(t),"style"in o&&void 0!==t.font&&i&&void 0!==i.getComputedStyle){t.font=i.getComputedStyle(o).getPropertyValue("font");const n=new ut(e,"fontSize",kt.parse(t.font).fontSize);n.hasValue()&&(e.rootEmSize=n.getPixels("y"),e.emSize=e.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);let{width:a,height:u}=r.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");const s=this.getAttribute("refX"),c=this.getAttribute("refY"),f=this.getAttribute("viewBox"),l=f.hasValue()?z(f.getString()):null,h=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden");let d=0,p=0,g=0,y=0;l&&(d=l[0],p=l[1]),this.root||(a=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y"),"marker"===this.type&&(g=d,y=p,d=0,p=0)),r.viewPort.setCurrent(a,u),!this.node||this.parent&&"foreignObject"!==(null===(n=this.node.parentNode)||void 0===n?void 0:n.nodeName)||!this.getStyle("transform",!1,!0).hasValue()||this.getStyle("transform-origin",!1,!0).hasValue()||this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(t),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),l&&(a=l[2],u=l[3]),e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:r.viewPort.width,desiredWidth:a,height:r.viewPort.height,desiredHeight:u,minX:d,minY:p,refX:s.getValue(),refY:c.getValue(),clip:h,clipX:g,clipY:y}),l&&(r.viewPort.removeCurrent(),r.viewPort.setCurrent(a,u))}clearContext(t){super.clearContext(t),this.document.screen.viewPort.removeCurrent()}resize(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.getAttribute("width",!0),i=this.getAttribute("height",!0),o=this.getAttribute("viewBox"),a=this.getAttribute("style"),u=r.getNumber(0),s=i.getNumber(0);if(e)if("string"==typeof e)this.getAttribute("preserveAspectRatio",!0).setValue(e);else{const t=this.getAttribute("preserveAspectRatio");t.hasValue()&&t.setValue(t.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(r.setValue(t),i.setValue(n),o.hasValue()||o.setValue("0 0 ".concat(u||t," ").concat(s||n)),a.hasValue()){const e=this.getStyle("width"),r=this.getStyle("height");e.hasValue()&&e.setValue("".concat(t,"px")),r.hasValue()&&r.setValue("".concat(n,"px"))}}constructor(...t){super(...t),this.type="svg",this.root=!1}}class Ft extends Lt{path(t){const n=this.getAttribute("x").getPixels("x"),e=this.getAttribute("y").getPixels("y"),r=this.getStyle("width",!1,!0).getPixels("x"),i=this.getStyle("height",!1,!0).getPixels("y"),o=this.getAttribute("rx"),a=this.getAttribute("ry");let u=o.getPixels("x"),s=a.getPixels("y");if(o.hasValue()&&!a.hasValue()&&(s=u),a.hasValue()&&!o.hasValue()&&(u=s),u=Math.min(u,r/2),s=Math.min(s,i/2),t){const o=(Math.sqrt(2)-1)/3*4;t.beginPath(),i>0&&r>0&&(t.moveTo(n+u,e),t.lineTo(n+r-u,e),t.bezierCurveTo(n+r-u+o*u,e,n+r,e+s-o*s,n+r,e+s),t.lineTo(n+r,e+i-s),t.bezierCurveTo(n+r,e+i-s+o*s,n+r-u+o*u,e+i,n+r-u,e+i),t.lineTo(n+u,e+i),t.bezierCurveTo(n+u-o*u,e+i,n,e+i-s+o*s,n,e+i-s),t.lineTo(n,e+s),t.bezierCurveTo(n,e+s-o*s,n+u-o*u,e,n+u,e),t.closePath())}return new Ot(n,e,n+r,e+i)}getMarkers(){return null}constructor(...t){super(...t),this.type="rect"}}class Ut extends Lt{path(t){const n=this.getAttribute("cx").getPixels("x"),e=this.getAttribute("cy").getPixels("y"),r=this.getAttribute("r").getPixels();return t&&r>0&&(t.beginPath(),t.arc(n,e,r,0,2*Math.PI,!1),t.closePath()),new Ot(n-r,e-r,n+r,e+r)}getMarkers(){return null}constructor(...t){super(...t),this.type="circle"}}class qt extends Lt{path(t){const n=(Math.sqrt(2)-1)/3*4,e=this.getAttribute("rx").getPixels("x"),r=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),o=this.getAttribute("cy").getPixels("y");return t&&e>0&&r>0&&(t.beginPath(),t.moveTo(i+e,o),t.bezierCurveTo(i+e,o+n*r,i+n*e,o+r,i,o+r),t.bezierCurveTo(i-n*e,o+r,i-e,o+n*r,i-e,o),t.bezierCurveTo(i-e,o-n*r,i-n*e,o-r,i,o-r),t.bezierCurveTo(i+n*e,o-r,i+e,o-n*r,i+e,o),t.closePath()),new Ot(i-e,o-r,i+e,o+r)}getMarkers(){return null}constructor(...t){super(...t),this.type="ellipse"}}class Ht extends Lt{getPoints(){return[new ft(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new ft(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(t){const[{x:n,y:e},{x:r,y:i}]=this.getPoints();return t&&(t.beginPath(),t.moveTo(n,e),t.lineTo(r,i)),new Ot(n,e,r,i)}getMarkers(){const[t,n]=this.getPoints(),e=t.angleTo(n);return[[t,e],[n,e]]}constructor(...t){super(...t),this.type="line"}}class Yt extends Lt{path(t){const{points:n}=this,[{x:e,y:r}]=n,i=new Ot(e,r);return t&&(t.beginPath(),t.moveTo(e,r)),n.forEach((n=>{let{x:e,y:r}=n;i.addPoint(e,r),t&&t.lineTo(e,r)})),i}getMarkers(){const{points:t}=this,n=t.length-1,e=[];return t.forEach(((r,i)=>{i!==n&&e.push([r,r.angleTo(t[i+1])])})),e.length>0&&e.push([t[t.length-1],e[e.length-1][1]]),e}constructor(t,n,e){super(t,n,e),this.type="polyline",this.points=[],this.points=ft.parsePath(this.getAttribute("points").getString())}}class Xt extends Yt{path(t){const n=super.path(t),[{x:e,y:r}]=this.points;return t&&(t.lineTo(e,r),t.closePath()),n}constructor(...t){super(...t),this.type="polygon"}}class jt extends Tt{createPattern(t,n,e){const r=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),o=new Bt(this.document,null);o.attributes.viewBox=new ut(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.width=new ut(this.document,"width","".concat(r,"px")),o.attributes.height=new ut(this.document,"height","".concat(i,"px")),o.attributes.transform=new ut(this.document,"transform",this.getAttribute("patternTransform").getValue()),o.children=this.children;const a=this.document.createCanvas(r,i),u=a.getContext("2d"),s=this.getAttribute("x"),c=this.getAttribute("y");s.hasValue()&&c.hasValue()&&u.translate(s.getPixels("x",!0),c.getPixels("y",!0)),e.hasValue()?this.styles["fill-opacity"]=e:Reflect.deleteProperty(this.styles,"fill-opacity");for(let t=-1;t<=1;t++)for(let n=-1;n<=1;n++)u.save(),o.attributes.x=new ut(this.document,"x",t*a.width),o.attributes.y=new ut(this.document,"y",n*a.height),o.render(u),u.restore();return t.createPattern(a,"repeat")}constructor(...t){super(...t),this.type="pattern"}}class Wt extends Tt{render(t,n,e){if(!n)return;const{x:r,y:i}=n,o=this.getAttribute("orient").getString("auto"),a=this.getAttribute("markerUnits").getString("strokeWidth");t.translate(r,i),"auto"===o&&t.rotate(e),"strokeWidth"===a&&t.scale(t.lineWidth,t.lineWidth),t.save();const u=new Bt(this.document);u.type=this.type,u.attributes.viewBox=new ut(this.document,"viewBox",this.getAttribute("viewBox").getValue()),u.attributes.refX=new ut(this.document,"refX",this.getAttribute("refX").getValue()),u.attributes.refY=new ut(this.document,"refY",this.getAttribute("refY").getValue()),u.attributes.width=new ut(this.document,"width",this.getAttribute("markerWidth").getValue()),u.attributes.height=new ut(this.document,"height",this.getAttribute("markerHeight").getValue()),u.attributes.overflow=new ut(this.document,"overflow",this.getAttribute("overflow").getValue()),u.attributes.fill=new ut(this.document,"fill",this.getAttribute("fill").getColor("black")),u.attributes.stroke=new ut(this.document,"stroke",this.getAttribute("stroke").getValue("none")),u.children=this.children,u.render(t),t.restore(),"strokeWidth"===a&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"===o&&t.rotate(-e),t.translate(-r,-i)}constructor(...t){super(...t),this.type="marker"}}class Gt extends Tt{render(){}constructor(...t){super(...t),this.type="defs"}}class Qt extends Rt{getBoundingBox(t){const n=new Ot;return this.children.forEach((e=>{n.addBoundingBox(e.getBoundingBox(t))})),n}constructor(...t){super(...t),this.type="g"}}class $t extends Tt{getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(t,n,e){let r=this;this.getHrefAttribute().hasValue()&&(r=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(r));const{stops:i}=r,o=this.getGradient(t,n);if(!o)return this.addParentOpacity(e,i[i.length-1].color);if(i.forEach((t=>{o.addColorStop(t.offset,this.addParentOpacity(e,t.color))})),this.getAttribute("gradientTransform").hasValue()){const{document:t}=this,{MAX_VIRTUAL_PIXELS:n}=pt,{viewPort:e}=t.screen,r=e.getRoot(),i=new Ft(t);i.attributes.x=new ut(t,"x",-n/3),i.attributes.y=new ut(t,"y",-n/3),i.attributes.width=new ut(t,"width",n),i.attributes.height=new ut(t,"height",n);const a=new Qt(t);a.attributes.transform=new ut(t,"transform",this.getAttribute("gradientTransform").getValue()),a.children=[i];const u=new Bt(t);u.attributes.x=new ut(t,"x",0),u.attributes.y=new ut(t,"y",0),u.attributes.width=new ut(t,"width",r.width),u.attributes.height=new ut(t,"height",r.height),u.children=[a];const s=t.createCanvas(r.width,r.height),c=s.getContext("2d");return c.fillStyle=o,u.render(c),c.createPattern(s,"no-repeat")}return o}inheritStopContainer(t){this.attributesToInherit.forEach((n=>{!this.getAttribute(n).hasValue()&&t.getAttribute(n).hasValue()&&this.getAttribute(n,!0).setValue(t.getAttribute(n).getValue())}))}addParentOpacity(t,n){if(t.hasValue()){return new ut(this.document,"color",n).addOpacity(t).getColor()}return n}constructor(t,n,e){super(t,n,e),this.attributesToInherit=["gradientUnits"],this.stops=[];const{stops:r,children:i}=this;i.forEach((t=>{"stop"===t.type&&r.push(t)}))}}class Zt extends $t{getGradient(t,n){const e="objectBoundingBox"===this.getGradientUnits(),r=e?n.getBoundingBox(t):null;if(e&&!r)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));const i=e?r.x+r.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),o=e?r.y+r.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),a=e?r.x+r.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),u=e?r.y+r.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return i===a&&o===u?null:t.createLinearGradient(i,o,a,u)}constructor(t,n,e){super(t,n,e),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}}class Kt extends $t{getGradient(t,n){const e="objectBoundingBox"===this.getGradientUnits(),r=n.getBoundingBox(t);if(e&&!r)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");const i=e?r.x+r.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),o=e?r.y+r.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y");let a=i,u=o;this.getAttribute("fx").hasValue()&&(a=e?r.x+r.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(u=e?r.y+r.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));const s=e?(r.width+r.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),c=this.getAttribute("fr").getPixels();return t.createRadialGradient(a,u,c,i,o,s)}constructor(t,n,e){super(t,n,e),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}}class Jt extends Tt{constructor(t,n,e){super(t,n,e),this.type="stop";const r=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),i=this.getStyle("stop-opacity");let o=this.getStyle("stop-color",!0);""===o.getString()&&o.setValue("#000"),i.hasValue()&&(o=o.addOpacity(i)),this.offset=r,this.color=o.getColor()}}class tn extends Tt{getProperty(){const t=this.getAttribute("attributeType").getString(),n=this.getAttribute("attributeName").getString();return"CSS"===t?this.parent.getStyle(n,!0):this.parent.getAttribute(n,!0)}calcValue(){const{initialUnits:t}=this,{progress:n,from:e,to:r}=this.getProgress();let i=e.getNumber()+(r.getNumber()-e.getNumber())*n;return"%"===t&&(i*=100),"".concat(i).concat(t)}update(t){const{parent:n}=this,e=this.getProperty();if(this.initialValue||(this.initialValue=e.getString(),this.initialUnits=e.getUnits()),this.duration>this.maxDuration){const t=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==t||this.frozen){if("remove"===t&&!this.removed)return this.removed=!0,n&&e&&e.setValue(n.animationFrozen?n.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,n&&e&&(n.animationFrozen=!0,n.animationFrozenValue=e.getString());return!1}this.duration+=t;let r=!1;if(this.begin<this.duration){let t=this.calcValue();const n=this.getAttribute("type");if(n.hasValue()){const e=n.getString();t="".concat(e,"(").concat(t,")")}e.setValue(t),r=!0}return r}getProgress(){const{document:t,values:n}=this;let e,r,i=(this.duration-this.begin)/(this.maxDuration-this.begin);if(n.hasValue()){const o=i*(n.getValue().length-1),a=Math.floor(o),u=Math.ceil(o);let s;s=n.getValue()[a],e=new ut(t,"from",s?parseFloat(s):0),s=n.getValue()[u],r=new ut(t,"to",s?parseFloat(s):0),i=(o-a)/(u-a)}else e=this.from,r=this.to;return{progress:i,from:e,to:r}}constructor(t,n,e){super(t,n,e),this.type="animate",this.duration=0,this.initialUnits="",this.removed=!1,this.frozen=!1,t.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new ut(t,"values",null);const r=this.getAttribute("values");r.hasValue()&&this.values.setValue(r.getString().split(";"))}}class nn extends tn{calcValue(){const{progress:t,from:n,to:e}=this.getProgress(),r=new i(n.getColor()),o=new i(e.getColor());if(r.ok&&o.ok){const n=r.r+(o.r-r.r)*t,e=r.g+(o.g-r.g)*t,i=r.b+(o.b-r.b)*t;return"rgb(".concat(Math.floor(n),", ").concat(Math.floor(e),", ").concat(Math.floor(i),")")}return this.getAttribute("from").getColor()}constructor(...t){super(...t),this.type="animateColor"}}class en extends tn{calcValue(){const{progress:t,from:n,to:e}=this.getProgress(),r=z(n.getString()),i=z(e.getString()),o=r.map(((n,e)=>n+(i[e]-n)*t)).join(" ");return o}constructor(...t){super(...t),this.type="animateTransform"}}class rn extends Tt{constructor(t,n,e){super(t,n,e),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class on extends Lt{constructor(t,n,e){super(t,n,e),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class an extends on{constructor(...t){super(...t),this.type="missing-glyph",this.horizAdvX=0}}class un extends Tt{render(){}constructor(t,n,e){super(t,n,e),this.type="font",this.isArabic=!1,this.glyphs={},this.arabicGlyphs={},this.isRTL=!1,this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();const{definitions:r}=t,{children:i}=this;for(const t of i)if(t instanceof rn){this.fontFace=t;const n=t.getStyle("font-family");n.hasValue()&&(r[n.getString()]=this)}else if(t instanceof an)this.missingGlyph=t;else if(t instanceof on)if(t.arabicForm){this.isRTL=!0,this.isArabic=!0;const n=this.arabicGlyphs[t.unicode];void 0===n?this.arabicGlyphs[t.unicode]={[t.arabicForm]:t}:n[t.arabicForm]=t}else this.glyphs[t.unicode]=t}}class sn extends It{getText(){const t=this.getHrefAttribute().getDefinition();if(t){const n=t.children[0];if(n)return n.getText()}return""}constructor(...t){super(...t),this.type="tref"}}class cn extends It{getText(){return this.text}renderChildren(t){if(this.hasText){super.renderChildren(t);const{document:n,x:e,y:r}=this,{mouse:i}=n.screen,o=new ut(n,"fontSize",kt.parse(n.ctx.font).fontSize);i.isWorking()&&i.checkBoundingBox(this,new Ot(e,r-o.getPixels("y"),e+this.measureText(t),r))}else if(this.children.length>0){const n=new Qt(this.document);n.children=this.children,n.parent=this,n.render(t)}}onClick(){const{window:t}=this.document;t&&t.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}constructor(t,n,e){super(t,n,e),this.type="a";const{childNodes:r}=n,i=r[0],o=r.length>0&&Array.from(r).every((t=>3===t.nodeType));this.hasText=o,this.text=o?this.getTextFromNode(i):""}}class fn extends It{getText(){return this.text}path(t){const{dataArray:n}=this;t&&t.beginPath(),n.forEach((n=>{let{type:e,points:r}=n;switch(e){case Dt.LINE_TO:t&&t.lineTo(r[0],r[1]);break;case Dt.MOVE_TO:t&&t.moveTo(r[0],r[1]);break;case Dt.CURVE_TO:t&&t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case Dt.QUAD_TO:t&&t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case Dt.ARC:{const[n,e,i,o,a,u,s,c]=r,f=i>o?i:o,l=i>o?1:i/o,h=i>o?o/i:1;t&&(t.translate(n,e),t.rotate(s),t.scale(l,h),t.arc(0,0,f,a,a+u,Boolean(1-c)),t.scale(1/l,1/h),t.rotate(-s),t.translate(-n,-e));break}case Dt.CLOSE_PATH:t&&t.closePath()}}))}renderChildren(t){this.setTextData(t),t.save();const n=this.parent.getStyle("text-decoration").getString(),e=this.getFontSize(),{glyphInfo:r}=this,i=t.fillStyle;"underline"===n&&t.beginPath(),r.forEach(((r,i)=>{const{p0:o,p1:a,rotation:u,text:s}=r;t.save(),t.translate(o.x,o.y),t.rotate(u),t.fillStyle&&t.fillText(s,0,0),t.strokeStyle&&t.strokeText(s,0,0),t.restore(),"underline"===n&&(0===i&&t.moveTo(o.x,o.y+e/8),t.lineTo(a.x,a.y+e/5))})),"underline"===n&&(t.lineWidth=e/20,t.strokeStyle=i,t.stroke(),t.closePath()),t.restore()}getLetterSpacingAt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[t]||0}findSegmentToFitChar(t,n,e,r,i,o,a,u,s){let c=o,f=this.measureText(t,u);" "===u&&"justify"===n&&e<r&&(f+=(r-e)/i),s>-1&&(c+=this.getLetterSpacingAt(s));const l=this.textHeight/20,h=this.getEquidistantPointOnPath(c,l,0),d=this.getEquidistantPointOnPath(c+f,l,0),p={p0:h,p1:d},g=h&&d?Math.atan2(d.y-h.y,d.x-h.x):0;if(a){const t=Math.cos(Math.PI/2+g)*a,n=Math.cos(-g)*a;p.p0={...h,x:h.x+t,y:h.y+n},p.p1={...d,x:d.x+t,y:d.y+n}}return c+=f,{offset:c,segment:p,rotation:g}}measureText(t,n){const{measuresCache:e}=this,r=n||this.getText();if(e.has(r))return e.get(r);const i=this.measureTargetText(t,r);return e.set(r,i),i}setTextData(t){if(this.glyphInfo)return;const n=this.getText(),e=n.split(""),r=n.split(" ").length-1,i=this.parent.getAttribute("dx").split().map((t=>t.getPixels("x"))),o=this.parent.getAttribute("dy").getPixels("y"),a=this.parent.getStyle("text-anchor").getString("start"),u=this.getStyle("letter-spacing"),s=this.parent.getStyle("letter-spacing");let c=0;u.hasValue()&&"inherit"!==u.getValue()?u.hasValue()&&"initial"!==u.getValue()&&"unset"!==u.getValue()&&(c=u.getPixels()):c=s.getPixels();const f=[],l=n.length;this.letterSpacingCache=f;for(let t=0;t<l;t++)f.push(void 0!==i[t]?i[t]:c);const h=f.reduce(((t,n,e)=>0===e?0:t+n||0),0),d=this.measureText(t),p=Math.max(d+h,0);this.textWidth=d,this.textHeight=this.getFontSize(),this.glyphInfo=[];const g=this.getPathLength(),y=this.getStyle("startOffset").getNumber(0)*g;let m=0;"middle"!==a&&"center"!==a||(m=-p/2),"end"!==a&&"right"!==a||(m=-p),m+=y,e.forEach(((n,i)=>{const{offset:u,segment:s,rotation:c}=this.findSegmentToFitChar(t,a,p,g,r,m,o,n,i);m=u,s.p0&&s.p1&&this.glyphInfo.push({text:e[i],p0:s.p0,p1:s.p1,rotation:c})}))}parsePathData(t){if(this.pathLength=-1,!t)return[];const n=[],{pathParser:e}=t;for(e.reset();!e.isEnd();){const{current:t}=e,r=t?t.x:0,i=t?t.y:0,o=e.next();let a=o.type,u=[];switch(o.type){case Dt.MOVE_TO:this.pathM(e,u);break;case Dt.LINE_TO:a=this.pathL(e,u);break;case Dt.HORIZ_LINE_TO:a=this.pathH(e,u);break;case Dt.VERT_LINE_TO:a=this.pathV(e,u);break;case Dt.CURVE_TO:this.pathC(e,u);break;case Dt.SMOOTH_CURVE_TO:a=this.pathS(e,u);break;case Dt.QUAD_TO:this.pathQ(e,u);break;case Dt.SMOOTH_QUAD_TO:a=this.pathT(e,u);break;case Dt.ARC:u=this.pathA(e);break;case Dt.CLOSE_PATH:Lt.pathZ(e)}o.type!==Dt.CLOSE_PATH?n.push({type:a,points:u,start:{x:r,y:i},pathLength:this.calcLength(r,i,a,u)}):n.push({type:Dt.CLOSE_PATH,points:[],pathLength:0})}return n}pathM(t,n){const{x:e,y:r}=Lt.pathM(t).point;n.push(e,r)}pathL(t,n){const{x:e,y:r}=Lt.pathL(t).point;return n.push(e,r),Dt.LINE_TO}pathH(t,n){const{x:e,y:r}=Lt.pathH(t).point;return n.push(e,r),Dt.LINE_TO}pathV(t,n){const{x:e,y:r}=Lt.pathV(t).point;return n.push(e,r),Dt.LINE_TO}pathC(t,n){const{point:e,controlPoint:r,currentPoint:i}=Lt.pathC(t);n.push(e.x,e.y,r.x,r.y,i.x,i.y)}pathS(t,n){const{point:e,controlPoint:r,currentPoint:i}=Lt.pathS(t);return n.push(e.x,e.y,r.x,r.y,i.x,i.y),Dt.CURVE_TO}pathQ(t,n){const{controlPoint:e,currentPoint:r}=Lt.pathQ(t);n.push(e.x,e.y,r.x,r.y)}pathT(t,n){const{controlPoint:e,currentPoint:r}=Lt.pathT(t);return n.push(e.x,e.y,r.x,r.y),Dt.QUAD_TO}pathA(t){let{rX:n,rY:e,sweepFlag:r,xAxisRotation:i,centp:o,a1:a,ad:u}=Lt.pathA(t);return 0===r&&u>0&&(u-=2*Math.PI),1===r&&u<0&&(u+=2*Math.PI),[o.x,o.y,n,e,a,u,i,r]}calcLength(t,n,e,r){let i=0,o=null,a=null,u=0;switch(e){case Dt.LINE_TO:return this.getLineLength(t,n,r[0],r[1]);case Dt.CURVE_TO:for(i=0,o=this.getPointOnCubicBezier(0,t,n,r[0],r[1],r[2],r[3],r[4],r[5]),u=.01;u<=1;u+=.01)a=this.getPointOnCubicBezier(u,t,n,r[0],r[1],r[2],r[3],r[4],r[5]),i+=this.getLineLength(o.x,o.y,a.x,a.y),o=a;return i;case Dt.QUAD_TO:for(i=0,o=this.getPointOnQuadraticBezier(0,t,n,r[0],r[1],r[2],r[3]),u=.01;u<=1;u+=.01)a=this.getPointOnQuadraticBezier(u,t,n,r[0],r[1],r[2],r[3]),i+=this.getLineLength(o.x,o.y,a.x,a.y),o=a;return i;case Dt.ARC:{i=0;const t=r[4],n=r[5],e=r[4]+n;let s=Math.PI/180;if(Math.abs(t-e)<s&&(s=Math.abs(t-e)),o=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],t,0),n<0)for(u=t-s;u>e;u-=s)a=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),i+=this.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(u=t+s;u<e;u+=s)a=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),i+=this.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],e,0),i+=this.getLineLength(o.x,o.y,a.x,a.y),i}}return 0}getPointOnLine(t,n,e,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;const u=(i-e)/(r-n+$);let s=Math.sqrt(t*t/(1+u*u));r<n&&(s*=-1);let c=u*s,f=null;if(r===n)f={x:o,y:a+c};else if((a-e)/(o-n+$)===u)f={x:o+s,y:a+c};else{let l=0,h=0;const d=this.getLineLength(n,e,r,i);if(d<$)return null;let p=(o-n)*(r-n)+(a-e)*(i-e);p/=d*d,l=n+p*(r-n),h=e+p*(i-e);const g=this.getLineLength(o,a,l,h),y=Math.sqrt(t*t-g*g);s=Math.sqrt(y*y/(1+u*u)),r<n&&(s*=-1),c=u*s,f={x:l+s,y:h+c}}return f}getPointOnPath(t){const n=this.getPathLength();let e=0,r=null;if(t<-5e-5||t-5e-5>n)return null;const{dataArray:i}=this;for(const n of i){if(n&&(n.pathLength<5e-5||e+n.pathLength+5e-5<t)){e+=n.pathLength;continue}const i=t-e;let o=0;switch(n.type){case Dt.LINE_TO:r=this.getPointOnLine(i,n.start.x,n.start.y,n.points[0],n.points[1],n.start.x,n.start.y);break;case Dt.ARC:{const t=n.points[4],e=n.points[5],a=n.points[4]+e;if(o=t+i/n.pathLength*e,e<0&&o<a||e>=0&&o>a)break;r=this.getPointOnEllipticalArc(n.points[0],n.points[1],n.points[2],n.points[3],o,n.points[6]);break}case Dt.CURVE_TO:o=i/n.pathLength,o>1&&(o=1),r=this.getPointOnCubicBezier(o,n.start.x,n.start.y,n.points[0],n.points[1],n.points[2],n.points[3],n.points[4],n.points[5]);break;case Dt.QUAD_TO:o=i/n.pathLength,o>1&&(o=1),r=this.getPointOnQuadraticBezier(o,n.start.x,n.start.y,n.points[0],n.points[1],n.points[2],n.points[3])}if(r)return r;break}return null}getLineLength(t,n,e,r){return Math.sqrt((e-t)*(e-t)+(r-n)*(r-n))}getPathLength(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce(((t,n)=>n.pathLength>0?t+n.pathLength:t),0)),this.pathLength}getPointOnCubicBezier(t,n,e,r,i,o,a,u,s){return{x:u*tt(t)+o*nt(t)+r*et(t)+n*rt(t),y:s*tt(t)+a*nt(t)+i*et(t)+e*rt(t)}}getPointOnQuadraticBezier(t,n,e,r,i,o,a){return{x:o*it(t)+r*ot(t)+n*at(t),y:a*it(t)+i*ot(t)+e*at(t)}}getPointOnEllipticalArc(t,n,e,r,i,o){const a=Math.cos(o),u=Math.sin(o),s=e*Math.cos(i),c=r*Math.sin(i);return{x:t+(s*a-c*u),y:n+(s*u+c*a)}}buildEquidistantCache(t,n){const e=this.getPathLength(),r=n||.25,i=t||e/100;if(!this.equidistantCache||this.equidistantCache.step!==i||this.equidistantCache.precision!==r){this.equidistantCache={step:i,precision:r,points:[]};let t=0;for(let n=0;n<=e;n+=r){const e=this.getPointOnPath(n),o=this.getPointOnPath(n+r);e&&o&&(t+=this.getLineLength(e.x,e.y,o.x,o.y),t>=i&&(this.equidistantCache.points.push({x:e.x,y:e.y,distance:n}),t-=i))}}}getEquidistantPointOnPath(t,n,e){if(this.buildEquidistantCache(n,e),t<0||t-this.getPathLength()>5e-5)return null;const r=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[r]||null}constructor(t,n,e){super(t,n,e),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);const r=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(r)}}const ln=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class hn extends Rt{async loadImage(t){try{const n=await this.document.createImage(t);this.image=n}catch(t){}this.loaded=!0}async loadSvg(t){const n=ln.exec(t);if(n){const t=n[5];t&&("base64"===n[4]?this.image=atob(t):this.image=decodeURIComponent(t))}else try{const n=await this.document.fetch(t),e=await n.text();this.image=e}catch(t){}this.loaded=!0}renderChildren(t){const{document:n,image:e,loaded:r}=this,i=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y");if(r&&e&&a&&u){if(t.save(),t.translate(i,o),"string"==typeof e){const r=n.canvg.forkString(t,e,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:a,scaleHeight:u}),{documentElement:i}=r.document;i&&(i.parent=this),r.render()}else n.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:a,desiredWidth:e.width,height:u,desiredHeight:e.height}),this.loaded&&("complete"in e&&!e.complete||t.drawImage(e,0,0));t.restore()}}getBoundingBox(){const t=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),e=this.getStyle("width").getPixels("x"),r=this.getStyle("height").getPixels("y");return new Ot(t,n,t+e,n+r)}constructor(t,n,e){super(t,n,e),this.type="image",this.loaded=!1;const r=this.getHrefAttribute().getString();if(!r)return;const i=r.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(r);t.images.push(this),i?this.loadSvg(r):this.loadImage(r)}}class dn extends Rt{render(t){}constructor(...t){super(...t),this.type="symbol"}}class pn{async load(t,n){try{const{document:e}=this,r=(await e.canvg.parser.load(n)).getElementsByTagName("font");Array.from(r).forEach((n=>{const r=e.createElement(n);e.definitions[t]=r}))}catch(t){}this.loaded=!0}constructor(t){this.document=t,this.loaded=!1,t.fonts.push(this)}}class gn extends Tt{constructor(t,n,e){super(t,n,e),this.type="style";const r=O(Array.from(n.childNodes).map((t=>t.textContent)).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,""));r.split("}").forEach((n=>{const e=n.trim();if(!e)return;const r=e.split("{"),i=r[0].split(","),o=r[1].split(";");i.forEach((n=>{const e=n.trim();if(!e)return;const r=t.styles[e]||{};if(o.forEach((n=>{const e=n.indexOf(":"),i=n.substr(0,e).trim(),o=n.substr(e+1,n.length-e).trim();i&&o&&(r[i]=new ut(t,i,o))})),t.styles[e]=r,t.stylesSpecificity[e]=Q(e),"@font-face"===e){const n=r["font-family"].getString().replace(/"|'/g,"");r.src.getString().split(",").forEach((e=>{if(e.indexOf('format("svg")')>0){const r=B(e);r&&new pn(t).load(n,r)}}))}}))}))}}gn.parseExternalUrl=B;class yn extends Rt{setContext(t){super.setContext(t);const n=this.getAttribute("x"),e=this.getAttribute("y");n.hasValue()&&t.translate(n.getPixels("x"),0),e.hasValue()&&t.translate(0,e.getPixels("y"))}path(t){const{element:n}=this;n&&n.path(t)}renderChildren(t){const{document:n,element:e}=this;if(e){let r=e;if("symbol"===e.type&&(r=new Bt(n),r.attributes.viewBox=new ut(n,"viewBox",e.getAttribute("viewBox").getString()),r.attributes.preserveAspectRatio=new ut(n,"preserveAspectRatio",e.getAttribute("preserveAspectRatio").getString()),r.attributes.overflow=new ut(n,"overflow",e.getAttribute("overflow").getString()),r.children=e.children,e.styles.opacity=new ut(n,"opacity",this.calculateOpacity())),"svg"===r.type){const t=this.getStyle("width",!1,!0),e=this.getStyle("height",!1,!0);t.hasValue()&&(r.attributes.width=new ut(n,"width",t.getString())),e.hasValue()&&(r.attributes.height=new ut(n,"height",e.getString()))}const i=r.parent;r.parent=this,r.render(t),r.parent=i}}getBoundingBox(t){const{element:n}=this;return n?n.getBoundingBox(t):null}elementTransform(){const{document:t,element:n}=this;return n?St.fromElement(t,n):null}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}constructor(...t){super(...t),this.type="use"}}function mn(t,n,e,r,i,o){return t[e*r*4+4*n+o]}function vn(t,n,e,r,i,o,a){t[e*r*4+4*n+o]=a}function bn(t,n,e){return t[n]*e}function xn(t,n,e,r){return n+Math.cos(t)*e+Math.sin(t)*r}class _n extends Tt{apply(t,n,e,r,i){const{includeOpacity:o,matrix:a}=this,u=t.getImageData(0,0,r,i);for(let t=0;t<i;t++)for(let n=0;n<r;n++){const e=mn(u.data,n,t,r,0,0),i=mn(u.data,n,t,r,0,1),s=mn(u.data,n,t,r,0,2),c=mn(u.data,n,t,r,0,3);let f=bn(a,0,e)+bn(a,1,i)+bn(a,2,s)+bn(a,3,c)+bn(a,4,1),l=bn(a,5,e)+bn(a,6,i)+bn(a,7,s)+bn(a,8,c)+bn(a,9,1),h=bn(a,10,e)+bn(a,11,i)+bn(a,12,s)+bn(a,13,c)+bn(a,14,1),d=bn(a,15,e)+bn(a,16,i)+bn(a,17,s)+bn(a,18,c)+bn(a,19,1);o&&(f=0,l=0,h=0,d*=c/255),vn(u.data,n,t,r,0,0,f),vn(u.data,n,t,r,0,1,l),vn(u.data,n,t,r,0,2,h),vn(u.data,n,t,r,0,3,d)}t.clearRect(0,0,r,i),t.putImageData(u,0,0)}constructor(t,n,e){super(t,n,e),this.type="feColorMatrix";let r=z(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{const t=r[0];r=[.213+.787*t,.715-.715*t,.072-.072*t,0,0,.213-.213*t,.715+.285*t,.072-.072*t,0,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{const t=r[0]*Math.PI/180;r=[xn(t,.213,.787,-.213),xn(t,.715,-.715,-.715),xn(t,.072,-.072,.928),0,0,xn(t,.213,-.213,.143),xn(t,.715,.285,.14),xn(t,.072,-.072,-.283),0,0,xn(t,.213,-.213,-.787),xn(t,.715,-.715,.715),xn(t,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=r,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}}class wn extends Tt{apply(t,n){const{document:e}=this;let r=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),a=this.getStyle("height").getPixels("y");if(!o&&!a){const n=new Ot;this.children.forEach((e=>{n.addBoundingBox(e.getBoundingBox(t))})),r=Math.floor(n.x1),i=Math.floor(n.y1),o=Math.floor(n.width),a=Math.floor(n.height)}const u=this.removeStyles(n,wn.ignoreStyles),s=e.createCanvas(r+o,i+a),c=s.getContext("2d");e.screen.setDefaults(c),this.renderChildren(c),new _n(e,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(c,0,0,r+o,i+a);const f=e.createCanvas(r+o,i+a),l=f.getContext("2d");e.screen.setDefaults(l),n.render(l),l.globalCompositeOperation="destination-in",l.fillStyle=c.createPattern(s,"no-repeat"),l.fillRect(0,0,r+o,i+a),t.fillStyle=l.createPattern(f,"no-repeat"),t.fillRect(0,0,r+o,i+a),this.restoreStyles(n,u)}render(t){}constructor(...t){super(...t),this.type="mask"}}wn.ignoreStyles=["mask","transform","clip-path"];const Mn=()=>{};class An extends Tt{apply(t){const{document:n}=this,e=Reflect.getPrototypeOf(t),{beginPath:r,closePath:i}=t;e&&(e.beginPath=Mn,e.closePath=Mn),Reflect.apply(r,t,[]),this.children.forEach((r=>{if(!("path"in r))return;let o="elementTransform"in r?r.elementTransform():null;o||(o=St.fromElement(n,r)),o&&o.apply(t),r.path(t),e&&(e.closePath=i),o&&o.unapply(t)})),Reflect.apply(i,t,[]),t.clip(),e&&(e.beginPath=r,e.closePath=i)}render(t){}constructor(...t){super(...t),this.type="clipPath"}}class Sn extends Tt{apply(t,n){const{document:e,children:r}=this,i="getBoundingBox"in n?n.getBoundingBox(t):null;if(!i)return;let o=0,a=0;r.forEach((t=>{const n=t.extraFilterDistance||0;o=Math.max(o,n),a=Math.max(a,n)}));const u=Math.floor(i.width),s=Math.floor(i.height),c=u+2*o,f=s+2*a;if(c<1||f<1)return;const l=Math.floor(i.x),h=Math.floor(i.y),d=this.removeStyles(n,Sn.ignoreStyles),p=e.createCanvas(c,f),g=p.getContext("2d");e.screen.setDefaults(g),g.translate(-l+o,-h+a),n.render(g),r.forEach((t=>{"function"==typeof t.apply&&t.apply(g,0,0,c,f)})),t.drawImage(p,0,0,c,f,l-o,h-a,c,f),this.restoreStyles(n,d)}render(t){}constructor(...t){super(...t),this.type="filter"}}Sn.ignoreStyles=["filter","transform","clip-path"];class Tn extends Tt{apply(t,n,e,r,i){}constructor(t,n,e){super(t,n,e),this.type="feDropShadow",this.addStylesFromStyleDefinition()}}class En extends Tt{apply(t,n,e,r,i){}constructor(...t){super(...t),this.type="feMorphology"}}class Nn extends Tt{apply(t,n,e,r,i){}constructor(...t){super(...t),this.type="feComposite"}}class Cn extends Tt{apply(t,n,e,r,i){const{document:o,blurRadius:a}=this,u=o.window?o.window.document.body:null,s=t.canvas;s.id=o.getUniqueId(),u&&(s.style.display="none",u.appendChild(s)),C(s,n,e,r,i,a),u&&u.removeChild(s)}constructor(t,n,e){super(t,n,e),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}}class Pn extends Tt{constructor(...t){super(...t),this.type="title"}}class kn extends Tt{constructor(...t){super(...t),this.type="desc"}}const On={svg:Bt,rect:Ft,circle:Ut,ellipse:qt,line:Ht,polyline:Yt,polygon:Xt,path:Lt,pattern:jt,marker:Wt,defs:Gt,linearGradient:Zt,radialGradient:Kt,stop:Jt,animate:tn,animateColor:nn,animateTransform:en,font:un,"font-face":rn,"missing-glyph":an,glyph:on,text:It,tspan:zt,tref:sn,a:cn,textPath:fn,image:hn,g:Qt,symbol:dn,style:gn,use:yn,mask:wn,clipPath:An,filter:Sn,feDropShadow:Tn,feMorphology:En,feComposite:Nn,feColorMatrix:_n,feGaussianBlur:Cn,title:Pn,desc:kn};class Rn{bindCreateImage(t,n){return"boolean"==typeof n?(e,r)=>t(e,"boolean"==typeof r?r:n):t}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){const{emSizeStack:t}=this;return t[t.length-1]||12}set emSize(t){const{emSizeStack:n}=this;n.push(t)}popEmSize(){const{emSizeStack:t}=this;t.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every((t=>t.loaded))}isFontsLoaded(){return this.fonts.every((t=>t.loaded))}createDocumentElement(t){const n=this.createElement(t.documentElement);return n.root=!0,n.addStylesFromStyleDefinition(),this.documentElement=n,n}createElement(t){const n=t.nodeName.replace(/^[^:]+:/,""),e=Rn.elementTypes[n];return e?new e(this,t):new Et(this,t)}createTextNode(t){return new Vt(this,t)}setViewBox(t){this.screen.setViewBox({document:this,...t})}constructor(t,{rootEmSize:n=12,emSize:e=12,createCanvas:r=Rn.createCanvas,createImage:i=Rn.createImage,anonymousCrossOrigin:o}={}){this.canvg=t,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=t.screen,this.rootEmSize=n,this.emSize=e,this.createCanvas=r,this.createImage=this.bindCreateImage(i,o),this.screen.wait((()=>this.isImagesLoaded())),this.screen.wait((()=>this.isFontsLoaded()))}}Rn.createCanvas=function(t,n){const e=document.createElement("canvas");return e.width=t,e.height=n,e},Rn.createImage=async function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const e=document.createElement("img");return n&&(e.crossOrigin="Anonymous"),new Promise(((n,r)=>{e.onload=()=>{n(e)},e.onerror=(t,n,e,i,o)=>{r(o)},e.src=t}))},Rn.elementTypes=On;class In{static async from(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new mt(e),i=await r.parse(n);return new In(t,i,e)}static fromString(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new mt(e).parseFromString(n);return new In(t,r,e)}fork(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return In.from(t,n,{...this.options,...e})}forkString(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return In.fromString(t,n,{...this.options,...e})}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}async render(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.start({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0,...t}),await this.ready(),this.stop()}start(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{documentElement:n,screen:e,options:r}=this;e.start(n,{enableRedraw:!0,...r,...t})}stop(){this.screen.stop()}resize(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(t,n,e)}constructor(t,n,e={}){this.parser=new mt(e),this.screen=new pt(t,e),this.options=e;const r=new Rn(this,e),i=r.createDocumentElement(n);this.document=r,this.documentElement=i}}},93102:function(t,n,e){"use strict";function r(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function i(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function o(t){let n,e,o;function u(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length?(n=r,e=(n,e)=>r(t(n),e),o=(n,e)=>t(n)-e):(n=t===r||t===i?t:a,e=t,o=t),{left:u,center:function(t,n,e=0,r=t.length){const i=u(t,n,e,r-1);return i>e&&o(t[i-1],n)>-o(t[i],n)?i-1:i},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<=0?i=n+1:o=n}while(i<o)}return i}}}function a(){return 0}function u(t){return null===t?NaN:+t}function*s(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}e.r(n),e.d(n,{Adder:function(){return P},Delaunay:function(){return Xu},FormatSpecifier:function(){return $c},InternMap:function(){return R},InternSet:function(){return I},Node:function(){return yg},Voronoi:function(){return Bu},ZoomTransform:function(){return bS},active:function(){return ho},arc:function(){return lM},area:function(){return bM},areaRadial:function(){return NM},ascending:function(){return r},autoType:function(){return ws},axisBottom:function(){return yn},axisLeft:function(){return mn},axisRight:function(){return gn},axisTop:function(){return pn},bin:function(){return dt},bisect:function(){return d},bisectCenter:function(){return h},bisectLeft:function(){return l},bisectRight:function(){return f},bisector:function(){return o},blob:function(){return rc},blur:function(){return p},blur2:function(){return g},blurImage:function(){return y},brush:function(){return Yo},brushSelection:function(){return Uo},brushX:function(){return qo},brushY:function(){return Ho},buffer:function(){return oc},chord:function(){return ea},chordDirected:function(){return ia},chordTranspose:function(){return ra},cluster:function(){return cg},color:function(){return lr},contourDensity:function(){return pu},contours:function(){return fu},count:function(){return _},create:function(){return Lw},creator:function(){return Se},cross:function(){return S},csv:function(){return fc},csvFormat:function(){return cs},csvFormatBody:function(){return fs},csvFormatRow:function(){return hs},csvFormatRows:function(){return ls},csvFormatValue:function(){return ds},csvParse:function(){return us},csvParseRows:function(){return ss},cubehelix:function(){return tu},cumsum:function(){return T},curveBasis:function(){return uA},curveBasisClosed:function(){return cA},curveBasisOpen:function(){return lA},curveBumpX:function(){return dA},curveBumpY:function(){return pA},curveBundle:function(){return yA},curveCardinal:function(){return bA},curveCardinalClosed:function(){return _A},curveCardinalOpen:function(){return MA},curveCatmullRom:function(){return TA},curveCatmullRomClosed:function(){return NA},curveCatmullRomOpen:function(){return PA},curveLinear:function(){return gM},curveLinearClosed:function(){return OA},curveMonotoneX:function(){return FA},curveMonotoneY:function(){return UA},curveNatural:function(){return YA},curveStep:function(){return jA},curveStepAfter:function(){return GA},curveStepBefore:function(){return WA},descending:function(){return i},deviation:function(){return N},difference:function(){return Zt},disjoint:function(){return Kt},dispatch:function(){return An},drag:function(){return Ku},dragDisable:function(){return Xe},dragEnable:function(){return je},dsv:function(){return cc},dsvFormat:function(){return os},easeBack:function(){return Zs},easeBackIn:function(){return Qs},easeBackInOut:function(){return Zs},easeBackOut:function(){return $s},easeBounce:function(){return js},easeBounceIn:function(){return Xs},easeBounceInOut:function(){return Ws},easeBounceOut:function(){return js},easeCircle:function(){return qs},easeCircleIn:function(){return Fs},easeCircleInOut:function(){return qs},easeCircleOut:function(){return Us},easeCubic:function(){return so},easeCubicIn:function(){return ao},easeCubicInOut:function(){return so},easeCubicOut:function(){return uo},easeElastic:function(){return tc},easeElasticIn:function(){return Js},easeElasticInOut:function(){return nc},easeElasticOut:function(){return tc},easeExp:function(){return Bs},easeExpIn:function(){return Ds},easeExpInOut:function(){return Bs},easeExpOut:function(){return Ls},easeLinear:function(){return As},easePoly:function(){return Ps},easePolyIn:function(){return Ns},easePolyInOut:function(){return Ps},easePolyOut:function(){return Cs},easeQuad:function(){return Es},easeQuadIn:function(){return Ss},easeQuadInOut:function(){return Es},easeQuadOut:function(){return Ts},easeSin:function(){return zs},easeSinIn:function(){return Rs},easeSinInOut:function(){return zs},easeSinOut:function(){return Is},every:function(){return Xt},extent:function(){return C},fcumsum:function(){return O},filter:function(){return Wt},flatGroup:function(){return H},flatRollup:function(){return Y},forceCenter:function(){return bc},forceCollide:function(){return Oc},forceLink:function(){return zc},forceManyBody:function(){return Uc},forceRadial:function(){return qc},forceSimulation:function(){return Fc},forceX:function(){return Hc},forceY:function(){return Yc},format:function(){return nf},formatDefaultLocale:function(){return uf},formatLocale:function(){return af},formatPrefix:function(){return ef},formatSpecifier:function(){return Qc},fsum:function(){return k},geoAlbers:function(){return Ap},geoAlbersUsa:function(){return Sp},geoArea:function(){return ll},geoAzimuthalEqualArea:function(){return Cp},geoAzimuthalEqualAreaRaw:function(){return Np},geoAzimuthalEquidistant:function(){return kp},geoAzimuthalEquidistantRaw:function(){return Pp},geoBounds:function(){return jl},geoCentroid:function(){return ih},geoCircle:function(){return gh},geoClipAntimeridian:function(){return Th},geoClipCircle:function(){return Eh},geoClipExtent:function(){return zh},geoClipRectangle:function(){return Ih},geoConicConformal:function(){return Dp},geoConicConformalRaw:function(){return Vp},geoConicEqualArea:function(){return Mp},geoConicEqualAreaRaw:function(){return wp},geoConicEquidistant:function(){return Up},geoConicEquidistantRaw:function(){return Fp},geoContains:function(){return Kh},geoDistance:function(){return Hh},geoEqualEarth:function(){return Gp},geoEqualEarthRaw:function(){return Wp},geoEquirectangular:function(){return Bp},geoEquirectangularRaw:function(){return Lp},geoGnomonic:function(){return $p},geoGnomonicRaw:function(){return Qp},geoGraticule:function(){return nd},geoGraticule10:function(){return ed},geoIdentity:function(){return Zp},geoInterpolate:function(){return rd},geoLength:function(){return Fh},geoMercator:function(){return Rp},geoMercatorRaw:function(){return Op},geoNaturalEarth1:function(){return Jp},geoNaturalEarth1Raw:function(){return Kp},geoOrthographic:function(){return ng},geoOrthographicRaw:function(){return tg},geoPath:function(){return ap},geoProjection:function(){return bp},geoProjectionMutator:function(){return xp},geoRotation:function(){return hh},geoStereographic:function(){return rg},geoStereographicRaw:function(){return eg},geoStream:function(){return Uf},geoTransform:function(){return up},geoTransverseMercator:function(){return og},geoTransverseMercatorRaw:function(){return ig},gray:function(){return Ra},greatest:function(){return xt},greatestIndex:function(){return Dt},group:function(){return F},groupSort:function(){return nt},groups:function(){return U},hcl:function(){return qa},hierarchy:function(){return lg},histogram:function(){return dt},hsl:function(){return wr},html:function(){return mc},image:function(){return hc},index:function(){return W},indexes:function(){return G},interpolate:function(){return Wr},interpolateArray:function(){return Br},interpolateBasis:function(){return Tr},interpolateBasisClosed:function(){return Er},interpolateBlues:function(){return lw},interpolateBrBG:function(){return M_},interpolateBuGn:function(){return U_},interpolateBuPu:function(){return H_},interpolateCividis:function(){return ww},interpolateCool:function(){return Sw},interpolateCubehelix:function(){return wy},interpolateCubehelixDefault:function(){return Mw},interpolateCubehelixLong:function(){return My},interpolateDate:function(){return Ur},interpolateDiscrete:function(){return cy},interpolateGnBu:function(){return X_},interpolateGreens:function(){return dw},interpolateGreys:function(){return gw},interpolateHcl:function(){return by},interpolateHclLong:function(){return xy},interpolateHsl:function(){return gy},interpolateHslLong:function(){return yy},interpolateHue:function(){return fy},interpolateInferno:function(){return Vw},interpolateLab:function(){return my},interpolateMagma:function(){return zw},interpolateNumber:function(){return qr},interpolateNumberArray:function(){return Dr},interpolateObject:function(){return Hr},interpolateOrRd:function(){return W_},interpolateOranges:function(){return _w},interpolatePRGn:function(){return S_},interpolatePiYG:function(){return E_},interpolatePlasma:function(){return Dw},interpolatePuBu:function(){return Z_},interpolatePuBuGn:function(){return Q_},interpolatePuOr:function(){return C_},interpolatePuRd:function(){return J_},interpolatePurples:function(){return mw},interpolateRainbow:function(){return Ew},interpolateRdBu:function(){return k_},interpolateRdGy:function(){return R_},interpolateRdPu:function(){return nw},interpolateRdYlBu:function(){return z_},interpolateRdYlGn:function(){return D_},interpolateReds:function(){return bw},interpolateRgb:function(){return Rr},interpolateRgbBasis:function(){return zr},interpolateRgbBasisClosed:function(){return Vr},interpolateRound:function(){return ly},interpolateSinebow:function(){return kw},interpolateSpectral:function(){return B_},interpolateString:function(){return jr},interpolateTransformCss:function(){return Ei},interpolateTransformSvg:function(){return Ni},interpolateTurbo:function(){return Ow},interpolateViridis:function(){return Iw},interpolateWarm:function(){return Aw},interpolateYlGn:function(){return ow},interpolateYlGnBu:function(){return rw},interpolateYlOrBr:function(){return uw},interpolateYlOrRd:function(){return cw},interpolateZoom:function(){return dy},interrupt:function(){return _i},intersection:function(){return Jt},interval:function(){return yS},isoFormat:function(){return dS},isoParse:function(){return gS},json:function(){return pc},lab:function(){return Ia},lch:function(){return Ua},least:function(){return zt},leastIndex:function(){return Vt},line:function(){return vM},lineRadial:function(){return EM},linkHorizontal:function(){return VM},linkRadial:function(){return LM},linkVertical:function(){return DM},local:function(){return Fw},map:function(){return Gt},matcher:function(){return Pn},max:function(){return pt},maxIndex:function(){return gt},mean:function(){return Tt},median:function(){return Et},medianIndex:function(){return Nt},merge:function(){return Ct},min:function(){return yt},minIndex:function(){return mt},mode:function(){return Pt},namespace:function(){return jn},namespaces:function(){return Xn},nice:function(){return lt},now:function(){return ai},pack:function(){return Vg},packEnclose:function(){return mg},packSiblings:function(){return Pg},pairs:function(){return kt},partition:function(){return qg},path:function(){return ha},permute:function(){return Z},pie:function(){return wM},piecewise:function(){return Ay},pointRadial:function(){return CM},pointer:function(){return Qr},pointers:function(){return qw},polygonArea:function(){return Ty},polygonCentroid:function(){return Ey},polygonContains:function(){return Oy},polygonHull:function(){return ky},polygonLength:function(){return Ry},precisionFixed:function(){return sf},precisionPrefix:function(){return cf},precisionRound:function(){return ff},quadtree:function(){return Ac},quantile:function(){return _t},quantileIndex:function(){return Mt},quantileSorted:function(){return wt},quantize:function(){return Sy},quickselect:function(){return vt},radialArea:function(){return NM},radialLine:function(){return EM},randomBates:function(){return Fy},randomBernoulli:function(){return Hy},randomBeta:function(){return jy},randomBinomial:function(){return Wy},randomCauchy:function(){return Qy},randomExponential:function(){return Uy},randomGamma:function(){return Xy},randomGeometric:function(){return Yy},randomInt:function(){return Vy},randomIrwinHall:function(){return By},randomLcg:function(){return Jy},randomLogNormal:function(){return Ly},randomLogistic:function(){return $y},randomNormal:function(){return Dy},randomPareto:function(){return qy},randomPoisson:function(){return Zy},randomUniform:function(){return zy},randomWeibull:function(){return Gy},range:function(){return Rt},rank:function(){return It},reduce:function(){return Qt},reverse:function(){return $t},rgb:function(){return gr},ribbon:function(){return Ma},ribbonArrow:function(){return Aa},rollup:function(){return X},rollups:function(){return j},scaleBand:function(){return im},scaleDiverging:function(){return o_},scaleDivergingLog:function(){return a_},scaleDivergingPow:function(){return s_},scaleDivergingSqrt:function(){return c_},scaleDivergingSymlog:function(){return u_},scaleIdentity:function(){return bm},scaleImplicit:function(){return em},scaleLinear:function(){return vm},scaleLog:function(){return Nm},scaleOrdinal:function(){return rm},scalePoint:function(){return am},scalePow:function(){return Dm},scaleQuantile:function(){return qm},scaleQuantize:function(){return Hm},scaleRadial:function(){return Um},scaleSequential:function(){return Kx},scaleSequentialLog:function(){return Jx},scaleSequentialPow:function(){return n_},scaleSequentialQuantile:function(){return r_},scaleSequentialSqrt:function(){return e_},scaleSequentialSymlog:function(){return t_},scaleSqrt:function(){return Lm},scaleSymlog:function(){return Om},scaleThreshold:function(){return Ym},scaleTime:function(){return Gx},scaleUtc:function(){return Qx},scan:function(){return Lt},schemeAccent:function(){return h_},schemeBlues:function(){return fw},schemeBrBG:function(){return w_},schemeBuGn:function(){return F_},schemeBuPu:function(){return q_},schemeCategory10:function(){return l_},schemeDark2:function(){return d_},schemeGnBu:function(){return Y_},schemeGreens:function(){return hw},schemeGreys:function(){return pw},schemeOrRd:function(){return j_},schemeOranges:function(){return xw},schemePRGn:function(){return A_},schemePaired:function(){return p_},schemePastel1:function(){return g_},schemePastel2:function(){return y_},schemePiYG:function(){return T_},schemePuBu:function(){return $_},schemePuBuGn:function(){return G_},schemePuOr:function(){return N_},schemePuRd:function(){return K_},schemePurples:function(){return yw},schemeRdBu:function(){return P_},schemeRdGy:function(){return O_},schemeRdPu:function(){return tw},schemeRdYlBu:function(){return I_},schemeRdYlGn:function(){return V_},schemeReds:function(){return vw},schemeSet1:function(){return m_},schemeSet2:function(){return v_},schemeSet3:function(){return b_},schemeSpectral:function(){return L_},schemeTableau10:function(){return x_},schemeYlGn:function(){return iw},schemeYlGnBu:function(){return ew},schemeYlOrBr:function(){return aw},schemeYlOrRd:function(){return sw},select:function(){return Fe},selectAll:function(){return Hw},selection:function(){return Be},selector:function(){return Tn},selectorAll:function(){return Cn},shuffle:function(){return Bt},shuffler:function(){return Ft},some:function(){return jt},sort:function(){return K},stack:function(){return JA},stackOffsetDiverging:function(){return nS},stackOffsetExpand:function(){return tS},stackOffsetNone:function(){return QA},stackOffsetSilhouette:function(){return eS},stackOffsetWiggle:function(){return rS},stackOrderAppearance:function(){return iS},stackOrderAscending:function(){return aS},stackOrderDescending:function(){return sS},stackOrderInsideOut:function(){return cS},stackOrderNone:function(){return $A},stackOrderReverse:function(){return fS},stratify:function(){return Wg},style:function(){return re},subset:function(){return rn},sum:function(){return Ut},superset:function(){return nn},svg:function(){return vc},symbol:function(){return rA},symbolCircle:function(){return BM},symbolCross:function(){return FM},symbolDiamond:function(){return HM},symbolSquare:function(){return GM},symbolStar:function(){return WM},symbolTriangle:function(){return $M},symbolWye:function(){return nA},symbols:function(){return eA},text:function(){return uc},thresholdFreedmanDiaconis:function(){return At},thresholdScott:function(){return St},thresholdSturges:function(){return ht},tickFormat:function(){return ym},tickIncrement:function(){return ct},tickStep:function(){return ft},ticks:function(){return st},timeDay:function(){return pv},timeDays:function(){return gv},timeFormat:function(){return Mb},timeFormatDefaultLocale:function(){return Yx},timeFormatLocale:function(){return _b},timeFriday:function(){return wv},timeFridays:function(){return Cv},timeHour:function(){return lv},timeHours:function(){return hv},timeInterval:function(){return tv},timeMillisecond:function(){return ev},timeMilliseconds:function(){return rv},timeMinute:function(){return sv},timeMinutes:function(){return cv},timeMonday:function(){return vv},timeMondays:function(){return Sv},timeMonth:function(){return Ov},timeMonths:function(){return Rv},timeParse:function(){return Ab},timeSaturday:function(){return Mv},timeSaturdays:function(){return Pv},timeSecond:function(){return ov},timeSeconds:function(){return av},timeSunday:function(){return mv},timeSundays:function(){return Av},timeThursday:function(){return _v},timeThursdays:function(){return Nv},timeTickInterval:function(){return mb},timeTicks:function(){return yb},timeTuesday:function(){return bv},timeTuesdays:function(){return Tv},timeWednesday:function(){return xv},timeWednesdays:function(){return Ev},timeWeek:function(){return mv},timeWeeks:function(){return Av},timeYear:function(){return zv},timeYears:function(){return Vv},timeout:function(){return pi},timer:function(){return ci},timerFlush:function(){return fi},transition:function(){return ro},transpose:function(){return qt},tree:function(){return ty},treemap:function(){return oy},treemapBinary:function(){return ay},treemapDice:function(){return Ug},treemapResquarify:function(){return sy},treemapSlice:function(){return ny},treemapSliceDice:function(){return uy},treemapSquarify:function(){return iy},tsv:function(){return lc},tsvFormat:function(){return ms},tsvFormatBody:function(){return vs},tsvFormatRow:function(){return xs},tsvFormatRows:function(){return bs},tsvFormatValue:function(){return _s},tsvParse:function(){return gs},tsvParseRows:function(){return ys},union:function(){return on},utcDay:function(){return Yv},utcDays:function(){return Xv},utcFormat:function(){return Sb},utcFriday:function(){return Kv},utcFridays:function(){return ob},utcHour:function(){return Uv},utcHours:function(){return qv},utcMillisecond:function(){return ev},utcMilliseconds:function(){return rv},utcMinute:function(){return Lv},utcMinutes:function(){return Bv},utcMonday:function(){return Gv},utcMondays:function(){return nb},utcMonth:function(){return sb},utcMonths:function(){return cb},utcParse:function(){return Tb},utcSaturday:function(){return Jv},utcSaturdays:function(){return ab},utcSecond:function(){return ov},utcSeconds:function(){return av},utcSunday:function(){return Wv},utcSundays:function(){return tb},utcThursday:function(){return Zv},utcThursdays:function(){return ib},utcTickInterval:function(){return gb},utcTicks:function(){return pb},utcTuesday:function(){return Qv},utcTuesdays:function(){return eb},utcWednesday:function(){return $v},utcWednesdays:function(){return rb},utcWeek:function(){return Wv},utcWeeks:function(){return tb},utcYear:function(){return lb},utcYears:function(){return hb},variance:function(){return E},window:function(){return Jn},xml:function(){return yc},zip:function(){return Yt},zoom:function(){return PS},zoomIdentity:function(){return xS},zoomTransform:function(){return _S}});const c=o(r),f=c.right,l=c.left,h=o(u).center;var d=f;function p(t,n){if(!((n=+n)>=0))throw new RangeError("invalid r");let e=t.length;if(!((e=Math.floor(e))>=0))throw new RangeError("invalid length");if(!e||!n)return t;const r=x(n),i=t.slice();return r(t,i,0,e,1),r(i,t,0,e,1),r(t,i,0,e,1),t}const g=m(x),y=m((function(t){const n=x(t);return(t,e,r,i,o)=>{n(t,e,(r<<=2)+0,(i<<=2)+0,o<<=2),n(t,e,r+1,i+1,o),n(t,e,r+2,i+2,o),n(t,e,r+3,i+3,o)}}));function m(t){return function(n,e,r=e){if(!((e=+e)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:a}=n;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(void 0!==a?a:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!a||!e&&!r)return n;const u=e&&t(e),s=r&&t(r),c=i.slice();return u&&s?(v(u,c,i,o,a),v(u,i,c,o,a),v(u,c,i,o,a),b(s,i,c,o,a),b(s,c,i,o,a),b(s,i,c,o,a)):u?(v(u,i,c,o,a),v(u,c,i,o,a),v(u,i,c,o,a)):s&&(b(s,i,c,o,a),b(s,c,i,o,a),b(s,i,c,o,a)),n}}function v(t,n,e,r,i){for(let o=0,a=r*i;o<a;)t(n,e,o,o+=r,1)}function b(t,n,e,r,i){for(let o=0,a=r*i;o<r;++o)t(n,e,o,o+a,r)}function x(t){const n=Math.floor(t);if(n===t)return function(t){const n=2*t+1;return(e,r,i,o,a)=>{if(!((o-=a)>=i))return;let u=t*r[i];const s=a*t;for(let t=i,n=i+s;t<n;t+=a)u+=r[Math.min(o,t)];for(let t=i,c=o;t<=c;t+=a)u+=r[Math.min(o,t+s)],e[t]=u/n,u-=r[Math.max(i,t-s)]}}(t);const e=t-n,r=2*t+1;return(t,i,o,a,u)=>{if(!((a-=u)>=o))return;let s=n*i[o];const c=u*n,f=c+u;for(let t=o,n=o+c;t<n;t+=u)s+=i[Math.min(a,t)];for(let n=o,l=a;n<=l;n+=u)s+=i[Math.min(a,n+c)],t[n]=(s+e*(i[Math.max(o,n-f)]+i[Math.min(a,n+f)]))/r,s-=i[Math.max(o,n-c)]}}function _(t,n){let e=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&++e;else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(i=+i)>=i&&++e}return e}function w(t){return 0|t.length}function M(t){return!(t>0)}function A(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function S(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),e=(t=t.map(A)).map(w),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(M))return o;for(;;){o.push(i.map(((n,e)=>t[e][n])));let a=r;for(;++i[a]===e[a];){if(0===a)return n?o.map(n):o;i[a--]=0}}}function T(t,n){var e=0,r=0;return Float64Array.from(t,void 0===n?t=>e+=+t||0:i=>e+=+n(i,r++,t)||0)}function E(t,n){let e,r=0,i=0,o=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(e=n-i,i+=e/++r,o+=e*(n-i));else{let a=-1;for(let u of t)null!=(u=n(u,++a,t))&&(u=+u)>=u&&(e=u-i,i+=e/++r,o+=e*(u-i))}if(r>1)return o/(r-1)}function N(t,n){const e=E(t,n);return e?Math.sqrt(e):e}function C(t,n){let e,r;if(void 0===n)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class P{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}function k(t,n){const e=new P;if(void 0===n)for(let n of t)(n=+n)&&e.add(n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&e.add(i)}return+e}function O(t,n){const e=new P;let r=-1;return Float64Array.from(t,void 0===n?t=>e.add(+t||0):i=>e.add(+n(i,++r,t)||0))}class R extends Map{constructor(t,n=L){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[n,e]of t)this.set(n,e)}get(t){return super.get(z(this,t))}has(t){return super.has(z(this,t))}set(t,n){return super.set(V(this,t),n)}delete(t){return super.delete(D(this,t))}}class I extends Set{constructor(t,n=L){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const n of t)this.add(n)}has(t){return super.has(z(this,t))}add(t){return super.add(V(this,t))}delete(t){return super.delete(D(this,t))}}function z({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function V({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function D({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(e),t.delete(r)),e}function L(t){return null!==t&&"object"==typeof t?t.valueOf():t}function B(t){return t}function F(t,...n){return $(t,B,B,n)}function U(t,...n){return $(t,Array.from,B,n)}function q(t,n){for(let e=1,r=n.length;e<r;++e)t=t.flatMap((t=>t.pop().map((([n,e])=>[...t,n,e]))));return t}function H(t,...n){return q(U(t,...n),n)}function Y(t,n,...e){return q(j(t,n,...e),e)}function X(t,n,...e){return $(t,B,n,e)}function j(t,n,...e){return $(t,Array.from,n,e)}function W(t,...n){return $(t,B,Q,n)}function G(t,...n){return $(t,Array.from,Q,n)}function Q(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function $(t,n,e,r){return function t(i,o){if(o>=r.length)return e(i);const a=new R,u=r[o++];let s=-1;for(const t of i){const n=u(t,++s,i),e=a.get(n);e?e.push(t):a.set(n,[t])}for(const[n,e]of a)a.set(n,t(e,o));return n(a)}(t,0)}function Z(t,n){return Array.from(n,(n=>t[n]))}function K(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&2!==e.length||n.length>1){const r=Uint32Array.from(t,((t,n)=>n));return n.length>1?(n=n.map((n=>t.map(n))),r.sort(((t,e)=>{for(const r of n){const n=tt(r[t],r[e]);if(n)return n}}))):(e=t.map(e),r.sort(((t,n)=>tt(e[t],e[n])))),Z(t,r)}return t.sort(J(e))}function J(t=r){if(t===r)return tt;if("function"!=typeof t)throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||0===r?r:(0===t(e,e))-(0===t(n,n))}}function tt(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}function nt(t,n,e){return(2!==n.length?K(X(t,n,e),(([t,n],[e,i])=>r(n,i)||r(t,e))):K(F(t,e),(([t,e],[i,o])=>n(e,o)||r(t,i)))).map((([t])=>t))}var et=Array.prototype,rt=et.slice;et.map;function it(t){return()=>t}var ot=Math.sqrt(50),at=Math.sqrt(10),ut=Math.sqrt(2);function st(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=ct(t,n,e))||!isFinite(a))return[];if(a>0){let e=Math.round(t/a),r=Math.round(n/a);for(e*a<t&&++e,r*a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)*a}else{a=-a;let e=Math.round(t*a),r=Math.round(n*a);for(e/a<t&&++e,r/a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)/a}return r&&o.reverse(),o}function ct(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ot?10:o>=at?5:o>=ut?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ot?10:o>=at?5:o>=ut?2:1)}function ft(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ot?i*=10:o>=at?i*=5:o>=ut&&(i*=2),n<t?-i:i}function lt(t,n,e){let r;for(;;){const i=ct(t,n,e);if(i===r||0===i||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function ht(t){return Math.ceil(Math.log(_(t))/Math.LN2)+1}function dt(){var t=B,n=C,e=ht;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,a,u=r.length,s=new Array(u);for(i=0;i<u;++i)s[i]=t(r[i],i,r);var c=n(s),f=c[0],l=c[1],h=e(s,f,l);if(!Array.isArray(h)){const t=l,e=+h;if(n===C&&([f,l]=lt(f,l,e)),(h=st(f,l,e))[0]<=f&&(a=ct(f,l,e)),h[h.length-1]>=l)if(t>=l&&n===C){const t=ct(f,l,e);isFinite(t)&&(t>0?l=(Math.floor(l/t)+1)*t:t<0&&(l=(Math.ceil(l*-t)+1)/-t))}else h.pop()}for(var p=h.length;h[0]<=f;)h.shift(),--p;for(;h[p-1]>l;)h.pop(),--p;var g,y=new Array(p+1);for(i=0;i<=p;++i)(g=y[i]=[]).x0=i>0?h[i-1]:f,g.x1=i<p?h[i]:l;if(isFinite(a)){if(a>0)for(i=0;i<u;++i)null!=(o=s[i])&&f<=o&&o<=l&&y[Math.min(p,Math.floor((o-f)/a))].push(r[i]);else if(a<0)for(i=0;i<u;++i)if(null!=(o=s[i])&&f<=o&&o<=l){const t=Math.floor((f-o)*a);y[Math.min(p,t+(h[t]<=o))].push(r[i])}}else for(i=0;i<u;++i)null!=(o=s[i])&&f<=o&&o<=l&&y[d(h,o,0,p)].push(r[i]);return y}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:it(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:it([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?it(rt.call(t)):it(t),r):e},r}function pt(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function gt(t,n){let e,r=-1,i=-1;if(void 0===n)for(const n of t)++i,null!=n&&(e<n||void 0===e&&n>=n)&&(e=n,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);return r}function yt(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e>n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function mt(t,n){let e,r=-1,i=-1;if(void 0===n)for(const n of t)++i,null!=n&&(e>n||void 0===e&&n>=n)&&(e=n,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);return r}function vt(t,n,e=0,r=t.length-1,i){for(i=void 0===i?tt:J(i);r>e;){if(r-e>600){const o=r-e+1,a=n-e+1,u=Math.log(o),s=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*s*(o-s)/o)*(a-o/2<0?-1:1);vt(t,n,Math.max(e,Math.floor(n-a*s/o+c)),Math.min(r,Math.floor(n+(o-a)*s/o+c)),i)}const o=t[n];let a=e,u=r;for(bt(t,e,n),i(t[r],o)>0&&bt(t,e,r);a<u;){for(bt(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}0===i(t[e],o)?bt(t,e,u):(++u,bt(t,u,r)),u<=n&&(e=u+1),n<=u&&(r=u-1)}return t}function bt(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function xt(t,n=r){let e,i=!1;if(1===n.length){let o;for(const a of t){const t=n(a);(i?r(t,o)>0:0===r(t,t))&&(e=a,o=t,i=!0)}}else for(const r of t)(i?n(r,e)>0:0===n(r,r))&&(e=r,i=!0);return e}function _t(t,n,e){if(r=(t=Float64Array.from(s(t,e))).length){if((n=+n)<=0||r<2)return yt(t);if(n>=1)return pt(t);var r,i=(r-1)*n,o=Math.floor(i),a=pt(vt(t,o).subarray(0,o+1));return a+(yt(t.subarray(o+1))-a)*(i-o)}}function wt(t,n,e=u){if(r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}function Mt(t,n,e){if(r=(t=Float64Array.from(s(t,e))).length){if((n=+n)<=0||r<2)return mt(t);if(n>=1)return gt(t);var r,i=Math.floor((r-1)*n),o=vt(Uint32Array.from(t,((t,n)=>n)),i,0,r-1,((n,e)=>tt(t[n],t[e])));return xt(o.subarray(0,i+1),(n=>t[n]))}}function At(t,n,e){return Math.ceil((e-n)/(2*(_t(t,.75)-_t(t,.25))*Math.pow(_(t),-1/3)))}function St(t,n,e){return Math.ceil((e-n)*Math.cbrt(_(t))/(3.49*N(t)))}function Tt(t,n){let e=0,r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++e,r+=n);else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function Et(t,n){return _t(t,.5,n)}function Nt(t,n){return Mt(t,.5,n)}function Ct(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function Pt(t,n){const e=new R;if(void 0===n)for(let n of t)null!=n&&n>=n&&e.set(n,(e.get(n)||0)+1);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&e.set(i,(e.get(i)||0)+1)}let r,i=0;for(const[t,n]of e)n>i&&(i=n,r=t);return r}function kt(t,n=Ot){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function Ot(t,n){return[t,n]}function Rt(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function It(t,n=r){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let e=Array.from(t);const i=new Float64Array(e.length);2!==n.length&&(e=e.map(n),n=r);const o=(t,r)=>n(e[t],e[r]);let a,u;return Uint32Array.from(e,((t,n)=>n)).sort(n===r?(t,n)=>tt(e[t],e[n]):J(o)).forEach(((t,n)=>{const e=o(t,void 0===a?t:a);e>=0?((void 0===a||e>0)&&(a=t,u=n),i[t]=u):i[t]=NaN})),i}function zt(t,n=r){let e,i=!1;if(1===n.length){let o;for(const a of t){const t=n(a);(i?r(t,o)<0:0===r(t,t))&&(e=a,o=t,i=!0)}}else for(const r of t)(i?n(r,e)<0:0===n(r,r))&&(e=r,i=!0);return e}function Vt(t,n=r){if(1===n.length)return mt(t,n);let e,i=-1,o=-1;for(const r of t)++o,(i<0?0===n(r,r):n(r,e)<0)&&(e=r,i=o);return i}function Dt(t,n=r){if(1===n.length)return gt(t,n);let e,i=-1,o=-1;for(const r of t)++o,(i<0?0===n(r,r):n(r,e)>0)&&(e=r,i=o);return i}function Lt(t,n){const e=Vt(t,n);return e<0?void 0:e}var Bt=Ft(Math.random);function Ft(t){return function(n,e=0,r=n.length){let i=r-(e=+e);for(;i;){const r=t()*i--|0,o=n[i+e];n[i+e]=n[r+e],n[r+e]=o}return n}}function Ut(t,n){let e=0;if(void 0===n)for(let n of t)(n=+n)&&(e+=n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function qt(t){if(!(i=t.length))return[];for(var n=-1,e=yt(t,Ht),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r}function Ht(t){return t.length}function Yt(){return qt(arguments)}function Xt(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let e=-1;for(const r of t)if(!n(r,++e,t))return!1;return!0}function jt(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let e=-1;for(const r of t)if(n(r,++e,t))return!0;return!1}function Wt(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");const e=[];let r=-1;for(const i of t)n(i,++r,t)&&e.push(i);return e}function Gt(t,n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof n)throw new TypeError("mapper is not a function");return Array.from(t,((e,r)=>n(e,r,t)))}function Qt(t,n,e){if("function"!=typeof n)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if(({done:i,value:e}=r.next()),i)return;++a}for(;({done:i,value:o}=r.next()),!i;)e=n(e,o,++a,t);return e}function $t(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Zt(t,...n){t=new I(t);for(const e of n)for(const n of e)t.delete(n);return t}function Kt(t,n){const e=n[Symbol.iterator](),r=new I;for(const n of t){if(r.has(n))return!1;let t,i;for(;({value:t,done:i}=e.next())&&!i;){if(Object.is(n,t))return!1;r.add(t)}}return!0}function Jt(t,...n){t=new I(t),n=n.map(tn);t:for(const e of t)for(const r of n)if(!r.has(e)){t.delete(e);continue t}return t}function tn(t){return t instanceof I?t:new I(t)}function nn(t,n){const e=t[Symbol.iterator](),r=new Set;for(const t of n){const n=en(t);if(r.has(n))continue;let i,o;for(;({value:i,done:o}=e.next());){if(o)return!1;const t=en(i);if(r.add(t),Object.is(n,t))break}}return!0}function en(t){return null!==t&&"object"==typeof t?t.valueOf():t}function rn(t,n){return nn(n,t)}function on(...t){const n=new I;for(const e of t)for(const t of e)n.add(t);return n}function an(t){return t}var un=1e-6;function sn(t){return"translate("+t+",0)"}function cn(t){return"translate(0,"+t+")"}function fn(t){return n=>+t(n)}function ln(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function hn(){return!this.__axis}function dn(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,s="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===t||4===t?-1:1,f=4===t||2===t?"x":"y",l=1===t||3===t?sn:cn;function h(h){var d=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,p=null==i?n.tickFormat?n.tickFormat.apply(n,e):an:i,g=Math.max(o,0)+u,y=n.range(),m=+y[0]+s,v=+y[y.length-1]+s,b=(n.bandwidth?ln:fn)(n.copy(),s),x=h.selection?h.selection():h,_=x.selectAll(".domain").data([null]),w=x.selectAll(".tick").data(d,n).order(),M=w.exit(),A=w.enter().append("g").attr("class","tick"),S=w.select("line"),T=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(A),S=S.merge(A.append("line").attr("stroke","currentColor").attr(f+"2",c*o)),T=T.merge(A.append("text").attr("fill","currentColor").attr(f,c*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==x&&(_=_.transition(h),w=w.transition(h),S=S.transition(h),T=T.transition(h),M=M.transition(h).attr("opacity",un).attr("transform",(function(t){return isFinite(t=b(t))?l(t+s):this.getAttribute("transform")})),A.attr("opacity",un).attr("transform",(function(t){var n=this.parentNode.__axis;return l((n&&isFinite(n=n(t))?n:b(t))+s)}))),M.remove(),_.attr("d",4===t||2===t?a?"M"+c*a+","+m+"H"+s+"V"+v+"H"+c*a:"M"+s+","+m+"V"+v:a?"M"+m+","+c*a+"V"+s+"H"+v+"V"+c*a:"M"+m+","+s+"H"+v),w.attr("opacity",1).attr("transform",(function(t){return l(b(t)+s)})),S.attr(f+"2",c*o),T.attr(f,c*g).text(p),x.filter(hn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),x.each((function(){this.__axis=b}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(u=+t,h):u},h.offset=function(t){return arguments.length?(s=+t,h):s},h}function pn(t){return dn(1,t)}function gn(t){return dn(2,t)}function yn(t){return dn(3,t)}function mn(t){return dn(4,t)}var vn={value:()=>{}};function bn(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new xn(r)}function xn(t){this._=t}function _n(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function wn(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Mn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=vn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}xn.prototype=bn.prototype={constructor:xn,on:function(t,n){var e,r=this._,i=_n(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=Mn(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Mn(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=wn(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new xn(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var An=bn;function Sn(){}function Tn(t){return null==t?Sn:function(){return this.querySelector(t)}}function En(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Nn(){return[]}function Cn(t){return null==t?Nn:function(){return this.querySelectorAll(t)}}function Pn(t){return function(){return this.matches(t)}}function kn(t){return function(n){return n.matches(t)}}var On=Array.prototype.find;function Rn(){return this.firstElementChild}var In=Array.prototype.filter;function zn(){return Array.from(this.children)}function Vn(t){return new Array(t.length)}function Dn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Ln(t){return function(){return t}}function Bn(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new Dn(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function Fn(t,n,e,r,i,o,a){var u,s,c,f=new Map,l=n.length,h=o.length,d=new Array(l);for(u=0;u<l;++u)(s=n[u])&&(d[u]=c=a.call(s,s.__data__,u,n)+"",f.has(c)?i[u]=s:f.set(c,s));for(u=0;u<h;++u)c=a.call(t,o[u],u,o)+"",(s=f.get(c))?(r[u]=s,s.__data__=o[u],f.delete(c)):e[u]=new Dn(t,o[u]);for(u=0;u<l;++u)(s=n[u])&&f.get(d[u])===s&&(i[u]=s)}function Un(t){return t.__data__}function qn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Hn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}Dn.prototype={constructor:Dn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Yn="http://www.w3.org/1999/xhtml",Xn={svg:"http://www.w3.org/2000/svg",xhtml:Yn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jn(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Xn.hasOwnProperty(n)?{space:Xn[n],local:t}:t}function Wn(t){return function(){this.removeAttribute(t)}}function Gn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qn(t,n){return function(){this.setAttribute(t,n)}}function $n(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Zn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Kn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Jn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function te(t){return function(){this.style.removeProperty(t)}}function ne(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ee(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function re(t,n){return t.style.getPropertyValue(n)||Jn(t).getComputedStyle(t,null).getPropertyValue(n)}function ie(t){return function(){delete this[t]}}function oe(t,n){return function(){this[t]=n}}function ae(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function ue(t){return t.trim().split(/^|\s+/)}function se(t){return t.classList||new ce(t)}function ce(t){this._node=t,this._names=ue(t.getAttribute("class")||"")}function fe(t,n){for(var e=se(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function le(t,n){for(var e=se(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function he(t){return function(){fe(this,t)}}function de(t){return function(){le(this,t)}}function pe(t,n){return function(){(n.apply(this,arguments)?fe:le)(this,t)}}function ge(){this.textContent=""}function ye(t){return function(){this.textContent=t}}function me(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function ve(){this.innerHTML=""}function be(t){return function(){this.innerHTML=t}}function xe(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function _e(){this.nextSibling&&this.parentNode.appendChild(this)}function we(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Me(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Yn&&n.documentElement.namespaceURI===Yn?n.createElement(t):n.createElementNS(e,t)}}function Ae(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Se(t){var n=jn(t);return(n.local?Ae:Me)(n)}function Te(){return null}function Ee(){var t=this.parentNode;t&&t.removeChild(this)}function Ne(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ce(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Pe(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function ke(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function Oe(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Re(t,n,e){var r=Jn(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Ie(t,n){return function(){return Re(this,t,n)}}function ze(t,n){return function(){return Re(this,t,n.apply(this,arguments))}}ce.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ve=[null];function De(t,n){this._groups=t,this._parents=n}function Le(){return new De([[document.documentElement]],Ve)}De.prototype=Le.prototype={constructor:De,select:function(t){"function"!=typeof t&&(t=Tn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),f=0;f<s;++f)(o=u[f])&&(a=t.call(o,o.__data__,f,u))&&("__data__"in o&&(a.__data__=o.__data__),c[f]=a);return new De(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return En(t.apply(this,arguments))}}(t):Cn(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new De(r,i)},selectChild:function(t){return this.select(null==t?Rn:function(t){return function(){return On.call(this.children,t)}}("function"==typeof t?t:kn(t)))},selectChildren:function(t){return this.selectAll(null==t?zn:function(t){return function(){return In.call(this.children,t)}}("function"==typeof t?t:kn(t)))},filter:function(t){"function"!=typeof t&&(t=Pn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new De(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,Un);var e=n?Fn:Bn,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Ln(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var f=r[c],l=i[c],h=l.length,d=qn(t.call(f,f&&f.__data__,c,r)),p=d.length,g=u[c]=new Array(p),y=a[c]=new Array(p),m=s[c]=new Array(h);e(f,l,g,y,m,d,n);for(var v,b,x=0,_=0;x<p;++x)if(v=g[x]){for(x>=_&&(_=x+1);!(b=y[_])&&++_<p;);v._next=b||null}}return(a=new De(a,r))._enter=u,a._exit=s,a},enter:function(){return new De(this._enter||this._groups.map(Vn),this._parents)},exit:function(){return new De(this._exit||this._groups.map(Vn),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),s=0;s<a;++s)for(var c,f=e[s],l=r[s],h=f.length,d=u[s]=new Array(h),p=0;p<h;++p)(c=f[p]||l[p])&&(d[p]=c);for(;s<i;++s)u[s]=e[s];return new De(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Hn);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),f=0;f<s;++f)(a=u[f])&&(c[f]=a);c.sort(n)}return new De(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=jn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Gn:Wn:"function"==typeof n?e.local?Kn:Zn:e.local?$n:Qn)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?te:"function"==typeof n?ee:ne)(t,n,null==e?"":e)):re(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?ie:"function"==typeof n?ae:oe)(t,n)):this.node()[t]},classed:function(t,n){var e=ue(t+"");if(arguments.length<2){for(var r=se(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?pe:n?he:de)(e,n))},text:function(t){return arguments.length?this.each(null==t?ge:("function"==typeof t?me:ye)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ve:("function"==typeof t?xe:be)(t)):this.node().innerHTML},raise:function(){return this.each(_e)},lower:function(){return this.each(we)},append:function(t){var n="function"==typeof t?t:Se(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Se(t),r=null==n?Te:"function"==typeof n?n:Tn(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ee)},clone:function(t){return this.select(t?Ce:Ne)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Pe(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?Oe:ke,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,f=u.length;c<f;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?ze:Ie)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var Be=Le;function Fe(t){return"string"==typeof t?new De([[document.querySelector(t)]],[document.documentElement]):new De([[t]],Ve)}const Ue={passive:!1},qe={capture:!0,passive:!1};function He(t){t.stopImmediatePropagation()}function Ye(t){t.preventDefault(),t.stopImmediatePropagation()}function Xe(t){var n=t.document.documentElement,e=Fe(t).on("dragstart.drag",Ye,qe);"onselectstart"in n?e.on("selectstart.drag",Ye,qe):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function je(t,n){var e=t.document.documentElement,r=Fe(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ye,qe),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function We(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Ge(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Qe(){}var $e=.7,Ze=1/$e,Ke="\\s*([+-]?\\d+)\\s*",Je="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nr=/^#([0-9a-f]{3,8})$/,er=new RegExp("^rgb\\("+[Ke,Ke,Ke]+"\\)$"),rr=new RegExp("^rgb\\("+[tr,tr,tr]+"\\)$"),ir=new RegExp("^rgba\\("+[Ke,Ke,Ke,Je]+"\\)$"),or=new RegExp("^rgba\\("+[tr,tr,tr,Je]+"\\)$"),ar=new RegExp("^hsl\\("+[Je,tr,tr]+"\\)$"),ur=new RegExp("^hsla\\("+[Je,tr,tr,Je]+"\\)$"),sr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cr(){return this.rgb().formatHex()}function fr(){return this.rgb().formatRgb()}function lr(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=nr.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?hr(n):3===e?new yr(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?dr(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?dr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=er.exec(t))?new yr(n[1],n[2],n[3],1):(n=rr.exec(t))?new yr(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=ir.exec(t))?dr(n[1],n[2],n[3],n[4]):(n=or.exec(t))?dr(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ar.exec(t))?xr(n[1],n[2]/100,n[3]/100,1):(n=ur.exec(t))?xr(n[1],n[2]/100,n[3]/100,n[4]):sr.hasOwnProperty(t)?hr(sr[t]):"transparent"===t?new yr(NaN,NaN,NaN,0):null}function hr(t){return new yr(t>>16&255,t>>8&255,255&t,1)}function dr(t,n,e,r){return r<=0&&(t=n=e=NaN),new yr(t,n,e,r)}function pr(t){return t instanceof Qe||(t=lr(t)),t?new yr((t=t.rgb()).r,t.g,t.b,t.opacity):new yr}function gr(t,n,e,r){return 1===arguments.length?pr(t):new yr(t,n,e,null==r?1:r)}function yr(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function mr(){return"#"+br(this.r)+br(this.g)+br(this.b)}function vr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function br(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function xr(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Mr(t,n,e,r)}function _r(t){if(t instanceof Mr)return new Mr(t.h,t.s,t.l,t.opacity);if(t instanceof Qe||(t=lr(t)),!t)return new Mr;if(t instanceof Mr)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Mr(a,u,s,t.opacity)}function wr(t,n,e,r){return 1===arguments.length?_r(t):new Mr(t,n,e,null==r?1:r)}function Mr(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ar(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Sr(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Tr(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return Sr((e-r/n)*n,a,i,o,u)}}function Er(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return Sr((e-r/n)*n,i,o,a,u)}}We(Qe,lr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:cr,formatHex:cr,formatHsl:function(){return _r(this).formatHsl()},formatRgb:fr,toString:fr}),We(yr,gr,Ge(Qe,{brighter:function(t){return t=null==t?Ze:Math.pow(Ze,t),new yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?$e:Math.pow($e,t),new yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mr,formatHex:mr,formatRgb:vr,toString:vr})),We(Mr,wr,Ge(Qe,{brighter:function(t){return t=null==t?Ze:Math.pow(Ze,t),new Mr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?$e:Math.pow($e,t),new Mr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new yr(Ar(t>=240?t-240:t+120,i,r),Ar(t,i,r),Ar(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Nr=t=>()=>t;function Cr(t,n){return function(e){return t+e*n}}function Pr(t,n){var e=n-t;return e?Cr(t,e>180||e<-180?e-360*Math.round(e/360):e):Nr(isNaN(t)?n:t)}function kr(t){return 1==(t=+t)?Or:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Nr(isNaN(n)?e:n)}}function Or(t,n){var e=n-t;return e?Cr(t,e):Nr(isNaN(t)?n:t)}var Rr=function t(n){var e=kr(n);function r(t,n){var r=e((t=gr(t)).r,(n=gr(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=Or(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Ir(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=gr(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var zr=Ir(Tr),Vr=Ir(Er);function Dr(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Lr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Br(t,n){return(Lr(n)?Dr:Fr)(t,n)}function Fr(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Wr(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Ur(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function qr(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Hr(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Wr(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var Yr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xr=new RegExp(Yr.source,"g");function jr(t,n){var e,r,i,o=Yr.lastIndex=Xr.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=Yr.exec(t))&&(r=Xr.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:qr(e,r)})),o=Xr.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function Wr(t,n){var e,r=typeof n;return null==n||"boolean"===r?Nr(n):("number"===r?qr:"string"===r?(e=lr(n))?(n=e,Rr):jr:n instanceof lr?Rr:n instanceof Date?Ur:Lr(n)?Dr:Array.isArray(n)?Fr:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Hr:qr)(t,n)}function Gr(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Qr(t,n){if(t=Gr(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}var $r,Zr,Kr=0,Jr=0,ti=0,ni=0,ei=0,ri=0,ii="object"==typeof performance&&performance.now?performance:Date,oi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ai(){return ei||(oi(ui),ei=ii.now()+ri)}function ui(){ei=0}function si(){this._call=this._time=this._next=null}function ci(t,n,e){var r=new si;return r.restart(t,n,e),r}function fi(){ai(),++Kr;for(var t,n=$r;n;)(t=ei-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Kr}function li(){ei=(ni=ii.now())+ri,Kr=Jr=0;try{fi()}finally{Kr=0,function(){var t,n,e=$r,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:$r=n);Zr=t,di(r)}(),ei=0}}function hi(){var t=ii.now(),n=t-ni;n>1e3&&(ri-=n,ni=t)}function di(t){Kr||(Jr&&(Jr=clearTimeout(Jr)),t-ei>24?(t<1/0&&(Jr=setTimeout(li,t-ii.now()-ri)),ti&&(ti=clearInterval(ti))):(ti||(ni=ii.now(),ti=setInterval(hi,1e3)),Kr=1,oi(li)))}function pi(t,n,e){var r=new si;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}si.prototype=ci.prototype={constructor:si,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?ai():+e)+(null==n?0:+n),this._next||Zr===this||(Zr?Zr._next=this:$r=this,Zr=this),this._call=t,this._time=e,di()},stop:function(){this._call&&(this._call=null,this._time=1/0,di())}};var gi=An("start","end","cancel","interrupt"),yi=[];function mi(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var c,f,l,h;if(1!==e.state)return s();for(c in i)if((h=i[c]).name===e.name){if(3===h.state)return pi(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(pi((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(o))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),c=0,f=-1;c<l;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++f]=h);r.length=f+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=ci(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:gi,tween:yi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function vi(t,n){var e=xi(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function bi(t,n){var e=xi(t,n);if(e.state>3)throw new Error("too late; already running");return e}function xi(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function _i(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}var wi,Mi=180/Math.PI,Ai={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Si(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Mi,skewX:Math.atan(s)*Mi,scaleX:a,scaleY:u}}function Ti(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:qr(t,i)},{i:s-2,x:qr(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:qr(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:qr(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:qr(t,e)},{i:u-2,x:qr(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var Ei=Ti((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Ai:Si(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),Ni=Ti((function(t){return null==t?Ai:(wi||(wi=document.createElementNS("http://www.w3.org/2000/svg","g")),wi.setAttribute("transform",t),(t=wi.transform.baseVal.consolidate())?Si((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ai)}),", ",")",")");function Ci(t,n){var e,r;return function(){var i=bi(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function Pi(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=bi(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}}function ki(t,n,e){var r=t._id;return t.each((function(){var t=bi(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return xi(t,r).value[n]}}function Oi(t,n){var e;return("number"==typeof n?qr:n instanceof lr?Rr:(e=lr(n))?(n=e,Rr):jr)(t,n)}function Ri(t){return function(){this.removeAttribute(t)}}function Ii(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zi(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Vi(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function Di(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function Li(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function Bi(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Fi(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Ui(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Fi(t,i)),e}return i._value=n,i}function qi(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Bi(t,i)),e}return i._value=n,i}function Hi(t,n){return function(){vi(this,t).delay=+n.apply(this,arguments)}}function Yi(t,n){return n=+n,function(){vi(this,t).delay=n}}function Xi(t,n){return function(){bi(this,t).duration=+n.apply(this,arguments)}}function ji(t,n){return n=+n,function(){bi(this,t).duration=n}}function Wi(t,n){if("function"!=typeof n)throw new Error;return function(){bi(this,t).ease=n}}function Gi(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?vi:bi;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Qi=Be.prototype.constructor;function $i(t){return function(){this.style.removeProperty(t)}}function Zi(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Ki(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Zi(t,o,e)),r}return o._value=n,o}function Ji(t){return function(n){this.textContent=t.call(this,n)}}function to(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Ji(r)),n}return r._value=t,r}var no=0;function eo(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ro(t){return Be().transition(t)}function io(){return++no}var oo=Be.prototype;function ao(t){return t*t*t}function uo(t){return--t*t*t+1}function so(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}eo.prototype=ro.prototype={constructor:eo,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Tn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],f=c.length,l=o[a]=new Array(f),h=0;h<f;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),l[h]=s,mi(l[h],n,e,h,l,xi(u,e)));return new eo(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Cn(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],f=c.length,l=0;l<f;++l)if(s=c[l]){for(var h,d=t.call(s,s.__data__,l,c),p=xi(s,e),g=0,y=d.length;g<y;++g)(h=d[g])&&mi(h,n,e,g,d,p);o.push(d),a.push(s)}return new eo(o,a,n,e)},selectChild:oo.selectChild,selectChildren:oo.selectChildren,filter:function(t){"function"!=typeof t&&(t=Pn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new eo(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],f=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(s=c[d]||f[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new eo(a,this._parents,this._name,this._id)},selection:function(){return new Qi(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=io(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var f=xi(a,n);mi(a,t,e,c,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new eo(r,this._parents,t,e)},call:oo.call,nodes:oo.nodes,node:oo.node,size:oo.size,empty:oo.empty,each:oo.each,on:function(t,n){var e=this._id;return arguments.length<2?xi(this.node(),e).on.on(t):this.each(Gi(e,t,n))},attr:function(t,n){var e=jn(t),r="transform"===e?Ni:Oi;return this.attrTween(t,"function"==typeof n?(e.local?Li:Di)(e,r,ki(this,"attr."+t,n)):null==n?(e.local?Ii:Ri)(e):(e.local?Vi:zi)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=jn(t);return this.tween(e,(r.local?Ui:qi)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Ei:Oi;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=re(this,t),a=(this.style.removeProperty(t),re(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,$i(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=re(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=re(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,ki(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=bi(this,t),c=s.on,f=null==s.value[a]?o||(o=$i(n)):void 0;c===e&&i===f||(r=(e=c).copy()).on(u,i=f),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=re(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Ki(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(ki(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,to(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=xi(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Ci:Pi)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Hi:Yi)(n,t)):xi(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Xi:ji)(n,t)):xi(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Wi(n,t)):xi(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;bi(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};e.each((function(){var e=bi(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:oo[Symbol.iterator]};var co={time:null,delay:0,duration:250,ease:so};function fo(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}Be.prototype.interrupt=function(t){return this.each((function(){_i(this,t)}))},Be.prototype.transition=function(t){var n,e;t instanceof eo?(n=t._id,t=t._name):(n=io(),(e=co).time=ai(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&mi(a,t,n,c,u,e||fo(a,n));return new eo(r,this._parents,t,n)};var lo=[null];function ho(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>1&&e.name===n)return new eo([[t]],lo,n,+r);return null}var po=t=>()=>t;function go(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function yo(t){t.stopImmediatePropagation()}function mo(t){t.preventDefault(),t.stopImmediatePropagation()}var vo={name:"drag"},bo={name:"space"},xo={name:"handle"},_o={name:"center"};const{abs:wo,max:Mo,min:Ao}=Math;function So(t){return[+t[0],+t[1]]}function To(t){return[So(t[0]),So(t[1])]}var Eo={name:"x",handles:["w","e"].map(zo),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},No={name:"y",handles:["n","s"].map(zo),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Co={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(zo),input:function(t){return null==t?null:To(t)},output:function(t){return t}},Po={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ko={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Oo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ro={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Io={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function zo(t){return{type:t}}function Vo(t){return!t.ctrlKey&&!t.button}function Do(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Lo(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bo(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Fo(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Uo(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function qo(){return Xo(Eo)}function Ho(){return Xo(No)}function Yo(){return Xo(Co)}function Xo(t){var n,e=Do,r=Vo,i=Lo,o=!0,a=An("start","brush","end"),u=6;function s(n){var e=n.property("__brush",g).selectAll(".overlay").data([zo("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Po.overlay).merge(e).each((function(){var t=Bo(this).extent;Fe(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([zo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Po.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Po[t.type]})),n.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=Fe(this),n=Bo(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-u/2:n[0][0]-u/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-u/2:n[0][1]-u/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+u:u})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+u:u}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(t,n,e){var r=t.__brush.emitter;return!r||e&&r.clean?new l(t,n,e):r}function l(t,n,e){this.that=t,this.args=n,this.state=t.__brush,this.active=0,this.clean=e}function h(e){if((!n||e.touches)&&r.apply(this,arguments)){var i,a,u,s,l,h,d,p,g,y,m,v=this,b=e.target.__data__.type,x="selection"===(o&&e.metaKey?b="overlay":b)?vo:o&&e.altKey?_o:xo,_=t===No?null:Ro[b],w=t===Eo?null:Io[b],M=Bo(v),A=M.extent,S=M.selection,T=A[0][0],E=A[0][1],N=A[1][0],C=A[1][1],P=0,k=0,O=_&&w&&o&&e.shiftKey,R=Array.from(e.touches||[e],(t=>{const n=t.identifier;return(t=Qr(t,v)).point0=t.slice(),t.identifier=n,t}));_i(v);var I=f(v,arguments,!0).beforestart();if("overlay"===b){S&&(g=!0);const n=[R[0],R[1]||R[0]];M.selection=S=[[i=t===No?T:Ao(n[0][0],n[1][0]),u=t===Eo?E:Ao(n[0][1],n[1][1])],[l=t===No?N:Mo(n[0][0],n[1][0]),d=t===Eo?C:Mo(n[0][1],n[1][1])]],R.length>1&&B(e)}else i=S[0][0],u=S[0][1],l=S[1][0],d=S[1][1];a=i,s=u,h=l,p=d;var z=Fe(v).attr("pointer-events","none"),V=z.selectAll(".overlay").attr("cursor",Po[b]);if(e.touches)I.moved=L,I.ended=F;else{var D=Fe(e.view).on("mousemove.brush",L,!0).on("mouseup.brush",F,!0);o&&D.on("keydown.brush",U,!0).on("keyup.brush",q,!0),Xe(e.view)}c.call(v),I.start(e,x.name)}function L(t){for(const n of t.changedTouches||[t])for(const t of R)t.identifier===n.identifier&&(t.cur=Qr(n,v));if(O&&!y&&!m&&1===R.length){const t=R[0];wo(t.cur[0]-t[0])>wo(t.cur[1]-t[1])?m=!0:y=!0}for(const t of R)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);g=!0,mo(t),B(t)}function B(t){const n=R[0],e=n.point0;var r;switch(P=n[0]-e[0],k=n[1]-e[1],x){case bo:case vo:_&&(P=Mo(T-i,Ao(N-l,P)),a=i+P,h=l+P),w&&(k=Mo(E-u,Ao(C-d,k)),s=u+k,p=d+k);break;case xo:R[1]?(_&&(a=Mo(T,Ao(N,R[0][0])),h=Mo(T,Ao(N,R[1][0])),_=1),w&&(s=Mo(E,Ao(C,R[0][1])),p=Mo(E,Ao(C,R[1][1])),w=1)):(_<0?(P=Mo(T-i,Ao(N-i,P)),a=i+P,h=l):_>0&&(P=Mo(T-l,Ao(N-l,P)),a=i,h=l+P),w<0?(k=Mo(E-u,Ao(C-u,k)),s=u+k,p=d):w>0&&(k=Mo(E-d,Ao(C-d,k)),s=u,p=d+k));break;case _o:_&&(a=Mo(T,Ao(N,i-P*_)),h=Mo(T,Ao(N,l+P*_))),w&&(s=Mo(E,Ao(C,u-k*w)),p=Mo(E,Ao(C,d+k*w)))}h<a&&(_*=-1,r=i,i=l,l=r,r=a,a=h,h=r,b in ko&&V.attr("cursor",Po[b=ko[b]])),p<s&&(w*=-1,r=u,u=d,d=r,r=s,s=p,p=r,b in Oo&&V.attr("cursor",Po[b=Oo[b]])),M.selection&&(S=M.selection),y&&(a=S[0][0],h=S[1][0]),m&&(s=S[0][1],p=S[1][1]),S[0][0]===a&&S[0][1]===s&&S[1][0]===h&&S[1][1]===p||(M.selection=[[a,s],[h,p]],c.call(v),I.brush(t,x.name))}function F(t){if(yo(t),t.touches){if(t.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else je(t.view,g),D.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);z.attr("pointer-events","all"),V.attr("cursor",Po.overlay),M.selection&&(S=M.selection),Fo(S)&&(M.selection=null,c.call(v)),I.end(t,x.name)}function U(t){switch(t.keyCode){case 16:O=_&&w;break;case 18:x===xo&&(_&&(l=h-P*_,i=a+P*_),w&&(d=p-k*w,u=s+k*w),x=_o,B(t));break;case 32:x!==xo&&x!==_o||(_<0?l=h-P:_>0&&(i=a-P),w<0?d=p-k:w>0&&(u=s-k),x=bo,V.attr("cursor",Po.selection),B(t));break;default:return}mo(t)}function q(t){switch(t.keyCode){case 16:O&&(y=m=O=!1,B(t));break;case 18:x===_o&&(_<0?l=h:_>0&&(i=a),w<0?d=p:w>0&&(u=s),x=xo,B(t));break;case 32:x===bo&&(t.altKey?(_&&(l=h-P*_,i=a+P*_),w&&(d=p-k*w,u=s+k*w),x=_o):(_<0?l=h:_>0&&(i=a),w<0?d=p:w>0&&(u=s),x=xo),V.attr("cursor",Po[b]),B(t));break;default:return}mo(t)}}function d(t){f(this,arguments).moved(t)}function p(t){f(this,arguments).ended(t)}function g(){var n=this.__brush||{selection:null};return n.extent=To(e.apply(this,arguments)),n.dim=t,n}return s.move=function(n,e,r){n.tween?n.on("start.brush",(function(t){f(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){f(this,arguments).end(t)})).tween("brush",(function(){var n=this,r=n.__brush,i=f(n,arguments),o=r.selection,a=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),u=Wr(o,a);function s(t){r.selection=1===t&&null===a?null:u(t),c.call(n),i.brush()}return null!==o&&null!==a?s:s(1)})):n.each((function(){var n=this,i=arguments,o=n.__brush,a=t.input("function"==typeof e?e.apply(n,i):e,o.extent),u=f(n,i).beforestart();_i(n),o.selection=null===a?null:a,c.call(n),u.start(r).brush(r).end(r)}))},s.clear=function(t,n){s.move(t,null,n)},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,n){return this.starting?(this.starting=!1,this.emit("start",t,n)):this.emit("brush",t),this},brush:function(t,n){return this.emit("brush",t,n),this},end:function(t,n){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,n)),this},emit:function(n,e,r){var i=Fe(this.that).datum();a.call(n,this.that,new go(n,{sourceEvent:e,target:s,selection:t.output(this.state.selection),mode:r,dispatch:a}),i)}},s.extent=function(t){return arguments.length?(e="function"==typeof t?t:po(To(t)),s):e},s.filter=function(t){return arguments.length?(r="function"==typeof t?t:po(!!t),s):r},s.touchable=function(t){return arguments.length?(i="function"==typeof t?t:po(!!t),s):i},s.handleSize=function(t){return arguments.length?(u=+t,s):u},s.keyModifiers=function(t){return arguments.length?(o=!!t,s):o},s.on=function(){var t=a.on.apply(a,arguments);return t===a?s:t},s}var jo=Math.abs,Wo=Math.cos,Go=Math.sin,Qo=Math.PI,$o=Qo/2,Zo=2*Qo,Ko=Math.max,Jo=1e-12;function ta(t,n){return Array.from({length:n-t},((n,e)=>t+e))}function na(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}function ea(){return oa(!1,!1)}function ra(){return oa(!1,!0)}function ia(){return oa(!0,!1)}function oa(t,n){var e=0,r=null,i=null,o=null;function a(a){var u,s=a.length,c=new Array(s),f=ta(0,s),l=new Array(s*s),h=new Array(s),d=0;a=Float64Array.from({length:s*s},n?(t,n)=>a[n%s][n/s|0]:(t,n)=>a[n/s|0][n%s]);for(let n=0;n<s;++n){let e=0;for(let r=0;r<s;++r)e+=a[n*s+r]+t*a[r*s+n];d+=c[n]=e}u=(d=Ko(0,Zo-e*s)/d)?e:Zo/s;{let n=0;r&&f.sort(((t,n)=>r(c[t],c[n])));for(const e of f){const r=n;if(t){const t=ta(1+~s,s).filter((t=>t<0?a[~t*s+e]:a[e*s+t]));i&&t.sort(((t,n)=>i(t<0?-a[~t*s+e]:a[e*s+t],n<0?-a[~n*s+e]:a[e*s+n])));for(const r of t)if(r<0){(l[~r*s+e]||(l[~r*s+e]={source:null,target:null})).target={index:e,startAngle:n,endAngle:n+=a[~r*s+e]*d,value:a[~r*s+e]}}else{(l[e*s+r]||(l[e*s+r]={source:null,target:null})).source={index:e,startAngle:n,endAngle:n+=a[e*s+r]*d,value:a[e*s+r]}}h[e]={index:e,startAngle:r,endAngle:n,value:c[e]}}else{const t=ta(0,s).filter((t=>a[e*s+t]||a[t*s+e]));i&&t.sort(((t,n)=>i(a[e*s+t],a[e*s+n])));for(const r of t){let t;if(e<r?(t=l[e*s+r]||(l[e*s+r]={source:null,target:null}),t.source={index:e,startAngle:n,endAngle:n+=a[e*s+r]*d,value:a[e*s+r]}):(t=l[r*s+e]||(l[r*s+e]={source:null,target:null}),t.target={index:e,startAngle:n,endAngle:n+=a[e*s+r]*d,value:a[e*s+r]},e===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const n=t.source;t.source=t.target,t.target=n}}h[e]={index:e,startAngle:r,endAngle:n,value:c[e]}}n+=u}}return(l=Object.values(l)).groups=h,o?l.sort(o):l}return a.padAngle=function(t){return arguments.length?(e=Ko(0,t),a):e},a.sortGroups=function(t){return arguments.length?(r=t,a):r},a.sortSubgroups=function(t){return arguments.length?(i=t,a):i},a.sortChords=function(t){return arguments.length?(null==t?o=null:(o=na(t))._=t,a):o&&o._},a}const aa=Math.PI,ua=2*aa,sa=1e-6,ca=ua-sa;function fa(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function la(){return new fa}fa.prototype=la.prototype={constructor:fa,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,s=r-n,c=o-t,f=a-n,l=c*c+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>sa)if(Math.abs(f*u-s*c)>sa&&i){var h=e-o,d=r-a,p=u*u+s*s,g=h*h+d*d,y=Math.sqrt(p),m=Math.sqrt(l),v=i*Math.tan((aa-Math.acos((p+l-g)/(2*y*m)))/2),b=v/m,x=v/y;Math.abs(b-1)>sa&&(this._+="L"+(t+b*c)+","+(n+b*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>c*d)+","+(this._x1=t+x*u)+","+(this._y1=n+x*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),s=t+a,c=n+u,f=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>sa||Math.abs(this._y1-c)>sa)&&(this._+="L"+s+","+c),e&&(l<0&&(l=l%ua+ua),l>ca?this._+="A"+e+","+e+",0,1,"+f+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+f+","+(this._x1=s)+","+(this._y1=c):l>sa&&(this._+="A"+e+","+e+",0,"+ +(l>=aa)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var ha=la,da=Array.prototype.slice;function pa(t){return function(){return t}}function ga(t){return t.source}function ya(t){return t.target}function ma(t){return t.radius}function va(t){return t.startAngle}function ba(t){return t.endAngle}function xa(){return 0}function _a(){return 10}function wa(t){var n=ga,e=ya,r=ma,i=ma,o=va,a=ba,u=xa,s=null;function c(){var c,f=n.apply(this,arguments),l=e.apply(this,arguments),h=u.apply(this,arguments)/2,d=da.call(arguments),p=+r.apply(this,(d[0]=f,d)),g=o.apply(this,d)-$o,y=a.apply(this,d)-$o,m=+i.apply(this,(d[0]=l,d)),v=o.apply(this,d)-$o,b=a.apply(this,d)-$o;if(s||(s=c=ha()),h>Jo&&(jo(y-g)>2*h+Jo?y>g?(g+=h,y-=h):(g-=h,y+=h):g=y=(g+y)/2,jo(b-v)>2*h+Jo?b>v?(v+=h,b-=h):(v-=h,b+=h):v=b=(v+b)/2),s.moveTo(p*Wo(g),p*Go(g)),s.arc(0,0,p,g,y),g!==v||y!==b)if(t){var x=+t.apply(this,arguments),_=m-x,w=(v+b)/2;s.quadraticCurveTo(0,0,_*Wo(v),_*Go(v)),s.lineTo(m*Wo(w),m*Go(w)),s.lineTo(_*Wo(b),_*Go(b))}else s.quadraticCurveTo(0,0,m*Wo(v),m*Go(v)),s.arc(0,0,m,v,b);if(s.quadraticCurveTo(0,0,p*Wo(g),p*Go(g)),s.closePath(),c)return s=null,c+""||null}return t&&(c.headRadius=function(n){return arguments.length?(t="function"==typeof n?n:pa(+n),c):t}),c.radius=function(t){return arguments.length?(r=i="function"==typeof t?t:pa(+t),c):r},c.sourceRadius=function(t){return arguments.length?(r="function"==typeof t?t:pa(+t),c):r},c.targetRadius=function(t){return arguments.length?(i="function"==typeof t?t:pa(+t),c):i},c.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:pa(+t),c):o},c.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:pa(+t),c):a},c.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:pa(+t),c):u},c.source=function(t){return arguments.length?(n=t,c):n},c.target=function(t){return arguments.length?(e=t,c):e},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}function Ma(){return wa()}function Aa(){return wa(_a)}const Sa=Math.PI/180,Ta=180/Math.PI,Ea=.96422,Na=.82521,Ca=4/29,Pa=6/29,ka=3*Pa*Pa;function Oa(t){if(t instanceof za)return new za(t.l,t.a,t.b,t.opacity);if(t instanceof Ha)return Ya(t);t instanceof yr||(t=pr(t));var n,e,r=Ba(t.r),i=Ba(t.g),o=Ba(t.b),a=Va((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?n=e=a:(n=Va((.4360747*r+.3850649*i+.1430804*o)/Ea),e=Va((.0139322*r+.0971045*i+.7141733*o)/Na)),new za(116*a-16,500*(n-a),200*(a-e),t.opacity)}function Ra(t,n){return new za(t,0,0,null==n?1:n)}function Ia(t,n,e,r){return 1===arguments.length?Oa(t):new za(t,n,e,null==r?1:r)}function za(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Va(t){return t>.008856451679035631?Math.pow(t,1/3):t/ka+Ca}function Da(t){return t>Pa?t*t*t:ka*(t-Ca)}function La(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ba(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Fa(t){if(t instanceof Ha)return new Ha(t.h,t.c,t.l,t.opacity);if(t instanceof za||(t=Oa(t)),0===t.a&&0===t.b)return new Ha(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Ta;return new Ha(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ua(t,n,e,r){return 1===arguments.length?Fa(t):new Ha(e,n,t,null==r?1:r)}function qa(t,n,e,r){return 1===arguments.length?Fa(t):new Ha(t,n,e,null==r?1:r)}function Ha(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Ya(t){if(isNaN(t.h))return new za(t.l,0,0,t.opacity);var n=t.h*Sa;return new za(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}We(za,Ia,Ge(Qe,{brighter:function(t){return new za(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new za(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new yr(La(3.1338561*(n=Ea*Da(n))-1.6168667*(t=1*Da(t))-.4906146*(e=Na*Da(e))),La(-.9787684*n+1.9161415*t+.033454*e),La(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),We(Ha,qa,Ge(Qe,{brighter:function(t){return new Ha(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ha(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ya(this).rgb()}}));var Xa=-.14861,ja=1.78277,Wa=-.29227,Ga=-.90649,Qa=1.97294,$a=Qa*Ga,Za=Qa*ja,Ka=ja*Wa-Ga*Xa;function Ja(t){if(t instanceof nu)return new nu(t.h,t.s,t.l,t.opacity);t instanceof yr||(t=pr(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Ka*r+$a*n-Za*e)/(Ka+$a-Za),o=r-i,a=(Qa*(e-i)-Wa*o)/Ga,u=Math.sqrt(a*a+o*o)/(Qa*i*(1-i)),s=u?Math.atan2(a,o)*Ta-120:NaN;return new nu(s<0?s+360:s,u,i,t.opacity)}function tu(t,n,e,r){return 1===arguments.length?Ja(t):new nu(t,n,e,null==r?1:r)}function nu(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}We(nu,tu,Ge(Qe,{brighter:function(t){return t=null==t?Ze:Math.pow(Ze,t),new nu(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?$e:Math.pow($e,t),new nu(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Sa,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new yr(255*(n+e*(Xa*r+ja*i)),255*(n+e*(Wa*r+Ga*i)),255*(n+e*(Qa*r)),this.opacity)}}));var eu=Array.prototype.slice;function ru(t,n){return t-n}var iu=t=>()=>t;function ou(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=au(t,n[r]))return e;return 0}function au(t,n){for(var e=n[0],r=n[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var s=t[o],c=s[0],f=s[1],l=t[u],h=l[0],d=l[1];if(uu(s,l,n))return 0;f>r!=d>r&&e<(h-c)*(r-f)/(d-f)+c&&(i=-i)}return i}function uu(t,n,e){var r,i,o,a;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],o=e[r],a=n[r],i<=o&&o<=a||a<=o&&o<=i)}function su(){}var cu=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function fu(){var t=1,n=1,e=ht,r=u;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(ru);else{const e=C(t),r=ft(e[0],e[1],n);n=st(Math.floor(e[0]/r)*r,Math.floor(e[1]/r-1)*r,n)}return n.map((n=>o(t,n)))}function o(e,i){var o=[],u=[];return function(e,r,i){var o,u,s,c,f,l,h=new Array,d=new Array;o=u=-1,c=e[0]>=r,cu[c<<1].forEach(p);for(;++o<t-1;)s=c,c=e[o+1]>=r,cu[s|c<<1].forEach(p);cu[c<<0].forEach(p);for(;++u<n-1;){for(o=-1,c=e[u*t+t]>=r,f=e[u*t]>=r,cu[c<<1|f<<2].forEach(p);++o<t-1;)s=c,c=e[u*t+t+o+1]>=r,l=f,f=e[u*t+o+1]>=r,cu[s|c<<1|f<<2|l<<3].forEach(p);cu[c|f<<3].forEach(p)}o=-1,f=e[u*t]>=r,cu[f<<2].forEach(p);for(;++o<t-1;)l=f,f=e[u*t+o+1]>=r,cu[f<<2|l<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+o,t[0][1]+u],s=[t[1][0]+o,t[1][1]+u],c=a(r),f=a(s);(n=d[c])?(e=h[f])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(s),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(s),d[n.end=f]=n):(n=h[f])?(e=d[c])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(s),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=c]=n):h[c]=d[f]={start:c,end:f,ring:[r,s]}}cu[f<<3].forEach(p)}(e,i,(function(t){r(t,e,i),function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)>0?o.push([t]):u.push(t)})),u.forEach((function(t){for(var n,e=0,r=o.length;e<r;++e)if(-1!==ou((n=o[e])[0],t))return void n.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(n){return 2*n[0]+n[1]*(t+1)*4}function u(e,r,i){e.forEach((function(e){var o,a=e[0],u=e[1],s=0|a,c=0|u,f=r[c*t+s];a>0&&a<t&&s===a&&(o=r[c*t+s-1],e[0]=a+(i-o)/(f-o)-.5),u>0&&u<n&&c===u&&(o=r[(c-1)*t+s],e[1]=u+(i-o)/(f-o)-.5)}))}return i.contour=o,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.floor(e[0]),o=Math.floor(e[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return t=r,n=o,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?iu(eu.call(t)):iu(t),i):e},i.smooth=function(t){return arguments.length?(r=t?u:su,i):r===u},i}function lu(t){return t[0]}function hu(t){return t[1]}function du(){return 1}function pu(){var t=lu,n=hu,e=du,r=960,i=500,o=20,a=2,u=3*o,s=r+2*u>>a,c=i+2*u>>a,f=iu(20);function l(r){var i=new Float32Array(s*c),f=Math.pow(2,-a),l=-1;for(const o of r){var h=(t(o,++l,r)+u)*f,d=(n(o,l,r)+u)*f,p=+e(o,l,r);if(h>=0&&h<s&&d>=0&&d<c){var y=Math.floor(h),m=Math.floor(d),v=h-y-.5,b=d-m-.5;i[y+m*s]+=(1-v)*(1-b)*p,i[y+1+m*s]+=v*(1-b)*p,i[y+1+(m+1)*s]+=v*b*p,i[y+(m+1)*s]+=(1-v)*b*p}}return g({data:i,width:s,height:c},o*f),i}function h(t){var n=l(t),e=f(n),r=Math.pow(2,2*a);return Array.isArray(e)||(e=st(Number.MIN_VALUE,pt(n)/r,e)),fu().size([s,c]).thresholds(e.map((t=>t*r)))(n).map(((t,n)=>(t.value=+e[n],d(t))))}function d(t){return t.coordinates.forEach(p),t}function p(t){t.forEach(y)}function y(t){t.forEach(m)}function m(t){t[0]=t[0]*Math.pow(2,a)-u,t[1]=t[1]*Math.pow(2,a)-u}function v(){return s=r+2*(u=3*o)>>a,c=i+2*u>>a,h}return h.contours=function(t){var n=l(t),e=fu().size([s,c]),r=Math.pow(2,2*a),i=t=>{t=+t;var i=d(e.contour(n,t*r));return i.value=t,i};return Object.defineProperty(i,"max",{get:()=>pt(n)/r}),i},h.x=function(n){return arguments.length?(t="function"==typeof n?n:iu(+n),h):t},h.y=function(t){return arguments.length?(n="function"==typeof t?t:iu(+t),h):n},h.weight=function(t){return arguments.length?(e="function"==typeof t?t:iu(+t),h):e},h.size=function(t){if(!arguments.length)return[r,i];var n=+t[0],e=+t[1];if(!(n>=0&&e>=0))throw new Error("invalid size");return r=n,i=e,v()},h.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),v()},h.thresholds=function(t){return arguments.length?(f="function"==typeof t?t:Array.isArray(t)?iu(eu.call(t)):iu(t),h):f},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*t*t+1)-1)/2,v()},h}const gu=134217729,yu=33306690738754706e-32;function mu(t,n,e,r,i){let o,a,u,s,c=n[0],f=r[0],l=0,h=0;f>c==f>-c?(o=c,c=n[++l]):(o=f,f=r[++h]);let d=0;if(l<t&&h<e)for(f>c==f>-c?(a=c+o,u=o-(a-c),c=n[++l]):(a=f+o,u=o-(a-f),f=r[++h]),o=a,0!==u&&(i[d++]=u);l<t&&h<e;)f>c==f>-c?(a=o+c,s=a-o,u=o-(a-s)+(c-s),c=n[++l]):(a=o+f,s=a-o,u=o-(a-s)+(f-s),f=r[++h]),o=a,0!==u&&(i[d++]=u);for(;l<t;)a=o+c,s=a-o,u=o-(a-s)+(c-s),c=n[++l],o=a,0!==u&&(i[d++]=u);for(;h<e;)a=o+f,s=a-o,u=o-(a-s)+(f-s),f=r[++h],o=a,0!==u&&(i[d++]=u);return 0===o&&0!==d||(i[d++]=o),d}function vu(t,n){let e=n[0];for(let r=1;r<t;r++)e+=n[r];return e}function bu(t){return new Float64Array(t)}const xu=bu(4),_u=bu(8),wu=bu(12),Mu=bu(16),Au=bu(4);function Su(t,n,e,r,i,o){const a=(n-o)*(e-i),u=(t-i)*(r-o),s=a-u;if(0===a||0===u||a>0!=u>0)return s;const c=Math.abs(a+u);return Math.abs(s)>=33306690738754716e-32*c?s:-function(t,n,e,r,i,o,a){let u,s,c,f,l,h,d,p,g,y,m,v,b,x,_,w,M,A;const S=t-i,T=e-i,E=n-o,N=r-o;x=S*N,h=gu*S,d=h-(h-S),p=S-d,h=gu*N,g=h-(h-N),y=N-g,_=p*y-(x-d*g-p*g-d*y),w=E*T,h=gu*E,d=h-(h-E),p=E-d,h=gu*T,g=h-(h-T),y=T-g,M=p*y-(w-d*g-p*g-d*y),m=_-M,l=_-m,xu[0]=_-(m+l)+(l-M),v=x+m,l=v-x,b=x-(v-l)+(m-l),m=b-w,l=b-m,xu[1]=b-(m+l)+(l-w),A=v+m,l=A-v,xu[2]=v-(A-l)+(m-l),xu[3]=A;let C=vu(4,xu),P=22204460492503146e-32*a;if(C>=P||-C>=P)return C;if(l=t-S,u=t-(S+l)+(l-i),l=e-T,c=e-(T+l)+(l-i),l=n-E,s=n-(E+l)+(l-o),l=r-N,f=r-(N+l)+(l-o),0===u&&0===s&&0===c&&0===f)return C;if(P=11093356479670487e-47*a+yu*Math.abs(C),C+=S*f+N*u-(E*c+T*s),C>=P||-C>=P)return C;x=u*N,h=gu*u,d=h-(h-u),p=u-d,h=gu*N,g=h-(h-N),y=N-g,_=p*y-(x-d*g-p*g-d*y),w=s*T,h=gu*s,d=h-(h-s),p=s-d,h=gu*T,g=h-(h-T),y=T-g,M=p*y-(w-d*g-p*g-d*y),m=_-M,l=_-m,Au[0]=_-(m+l)+(l-M),v=x+m,l=v-x,b=x-(v-l)+(m-l),m=b-w,l=b-m,Au[1]=b-(m+l)+(l-w),A=v+m,l=A-v,Au[2]=v-(A-l)+(m-l),Au[3]=A;const k=mu(4,xu,4,Au,_u);x=S*f,h=gu*S,d=h-(h-S),p=S-d,h=gu*f,g=h-(h-f),y=f-g,_=p*y-(x-d*g-p*g-d*y),w=E*c,h=gu*E,d=h-(h-E),p=E-d,h=gu*c,g=h-(h-c),y=c-g,M=p*y-(w-d*g-p*g-d*y),m=_-M,l=_-m,Au[0]=_-(m+l)+(l-M),v=x+m,l=v-x,b=x-(v-l)+(m-l),m=b-w,l=b-m,Au[1]=b-(m+l)+(l-w),A=v+m,l=A-v,Au[2]=v-(A-l)+(m-l),Au[3]=A;const O=mu(k,_u,4,Au,wu);x=u*f,h=gu*u,d=h-(h-u),p=u-d,h=gu*f,g=h-(h-f),y=f-g,_=p*y-(x-d*g-p*g-d*y),w=s*c,h=gu*s,d=h-(h-s),p=s-d,h=gu*c,g=h-(h-c),y=c-g,M=p*y-(w-d*g-p*g-d*y),m=_-M,l=_-m,Au[0]=_-(m+l)+(l-M),v=x+m,l=v-x,b=x-(v-l)+(m-l),m=b-w,l=b-m,Au[1]=b-(m+l)+(l-w),A=v+m,l=A-v,Au[2]=v-(A-l)+(m-l),Au[3]=A;const R=mu(O,wu,4,Au,Mu);return Mu[R-1]}(t,n,e,r,i,o,c)}bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(8),bu(8),bu(8),bu(4),bu(8),bu(8),bu(8),bu(12);bu(192),bu(192);bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(8),bu(8),bu(8),bu(8),bu(8),bu(8),bu(8),bu(8),bu(8),bu(4),bu(4),bu(4),bu(8),bu(16),bu(16),bu(16),bu(32),bu(32),bu(48),bu(64);bu(1152),bu(1152);bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(4),bu(24),bu(24),bu(24),bu(24),bu(24),bu(24),bu(24),bu(24),bu(24),bu(24),bu(1152),bu(1152),bu(1152),bu(1152),bu(1152),bu(2304),bu(2304),bu(3456),bu(5760),bu(8),bu(8),bu(8),bu(16),bu(24),bu(48),bu(48),bu(96),bu(192),bu(384),bu(384),bu(384),bu(768);bu(96),bu(96),bu(96),bu(1152);const Tu=Math.pow(2,-52),Eu=new Uint32Array(512);class Nu{static from(t,n=Iu,e=zu){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=n(r),i[2*o+1]=e(r)}return new Nu(i)}constructor(t){const n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const e=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*e),this._halfedges=new Int32Array(3*e),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:e,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,u=1/0,s=-1/0,c=-1/0;for(let n=0;n<o;n++){const e=t[2*n],r=t[2*n+1];e<a&&(a=e),r<u&&(u=r),e>s&&(s=e),r>c&&(c=r),this._ids[n]=n}const f=(a+s)/2,l=(u+c)/2;let h,d,p,g=1/0;for(let n=0;n<o;n++){const e=Cu(f,l,t[2*n],t[2*n+1]);e<g&&(h=n,g=e)}const y=t[2*h],m=t[2*h+1];g=1/0;for(let n=0;n<o;n++){if(n===h)continue;const e=Cu(y,m,t[2*n],t[2*n+1]);e<g&&e>0&&(d=n,g=e)}let v=t[2*d],b=t[2*d+1],x=1/0;for(let n=0;n<o;n++){if(n===h||n===d)continue;const e=ku(y,m,v,b,t[2*n],t[2*n+1]);e<x&&(p=n,x=e)}let _=t[2*p],w=t[2*p+1];if(x===1/0){for(let n=0;n<o;n++)this._dists[n]=t[2*n]-t[0]||t[2*n+1]-t[1];Ou(this._ids,this._dists,0,o-1);const n=new Uint32Array(o);let e=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(n[e++]=i,r=this._dists[i])}return this.hull=n.subarray(0,e),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Su(y,m,v,b,_,w)<0){const t=d,n=v,e=b;d=p,v=_,b=w,p=t,_=n,w=e}const M=function(t,n,e,r,i,o){const a=e-t,u=r-n,s=i-t,c=o-n,f=a*a+u*u,l=s*s+c*c,h=.5/(a*c-u*s);return{x:t+(c*f-u*l)*h,y:n+(a*l-s*f)*h}}(y,m,v,b,_,w);this._cx=M.x,this._cy=M.y;for(let n=0;n<o;n++)this._dists[n]=Cu(t[2*n],t[2*n+1],M.x,M.y);Ou(this._ids,this._dists,0,o-1),this._hullStart=h;let A=3;e[h]=n[p]=d,e[d]=n[h]=p,e[p]=n[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(y,m)]=h,i[this._hashKey(v,b)]=d,i[this._hashKey(_,w)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let o,a,u=0;u<this._ids.length;u++){const s=this._ids[u],c=t[2*s],f=t[2*s+1];if(u>0&&Math.abs(c-o)<=Tu&&Math.abs(f-a)<=Tu)continue;if(o=c,a=f,s===h||s===d||s===p)continue;let l=0;for(let t=0,n=this._hashKey(c,f);t<this._hashSize&&(l=i[(n+t)%this._hashSize],-1===l||l===e[l]);t++);l=n[l];let g,y=l;for(;g=e[y],Su(c,f,t[2*y],t[2*y+1],t[2*g],t[2*g+1])>=0;)if(y=g,y===l){y=-1;break}if(-1===y)continue;let m=this._addTriangle(y,s,e[y],-1,-1,r[y]);r[s]=this._legalize(m+2),r[y]=m,A++;let v=e[y];for(;g=e[v],Su(c,f,t[2*v],t[2*v+1],t[2*g],t[2*g+1])<0;)m=this._addTriangle(v,s,g,r[s],-1,r[v]),r[s]=this._legalize(m+2),e[v]=v,A--,v=g;if(y===l)for(;g=n[y],Su(c,f,t[2*g],t[2*g+1],t[2*y],t[2*y+1])<0;)m=this._addTriangle(g,s,y,-1,r[y],r[g]),this._legalize(m+2),r[g]=m,e[y]=y,A--,y=g;this._hullStart=n[s]=y,e[y]=n[v]=s,e[s]=v,i[this._hashKey(c,f)]=s,i[this._hashKey(t[2*y],t[2*y+1])]=y}this.hull=new Uint32Array(A);for(let t=0,n=this._hullStart;t<A;t++)this.hull[t]=n,n=e[n];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:e,coords:r}=this;let i=0,o=0;for(;;){const a=e[t],u=t-t%3;if(o=u+(t+2)%3,-1===a){if(0===i)break;t=Eu[--i];continue}const s=a-a%3,c=u+(t+1)%3,f=s+(a+2)%3,l=n[o],h=n[t],d=n[c],p=n[f];if(Pu(r[2*l],r[2*l+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){n[t]=p,n[a]=l;const r=e[f];if(-1===r){let n=this._hullStart;do{if(this._hullTri[n]===f){this._hullTri[n]=t;break}n=this._hullPrev[n]}while(n!==this._hullStart)}this._link(t,r),this._link(a,e[o]),this._link(o,f);const u=s+(a+1)%3;i<Eu.length&&(Eu[i++]=u)}else{if(0===i)break;t=Eu[--i]}}return o}_link(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}_addTriangle(t,n,e,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=e,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function Cu(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}function Pu(t,n,e,r,i,o,a,u){const s=t-a,c=n-u,f=e-a,l=r-u,h=i-a,d=o-u,p=f*f+l*l,g=h*h+d*d;return s*(l*g-p*d)-c*(f*g-p*h)+(s*s+c*c)*(f*d-l*h)<0}function ku(t,n,e,r,i,o){const a=e-t,u=r-n,s=i-t,c=o-n,f=a*a+u*u,l=s*s+c*c,h=.5/(a*c-u*s),d=(c*f-u*l)*h,p=(a*l-s*f)*h;return d*d+p*p}function Ou(t,n,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const r=t[i],o=n[r];let a=i-1;for(;a>=e&&n[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=e+1,o=r;Ru(t,e+r>>1,i),n[t[e]]>n[t[r]]&&Ru(t,e,r),n[t[i]]>n[t[r]]&&Ru(t,i,r),n[t[e]]>n[t[i]]&&Ru(t,e,i);const a=t[i],u=n[a];for(;;){do{i++}while(n[t[i]]<u);do{o--}while(n[t[o]]>u);if(o<i)break;Ru(t,i,o)}t[e+1]=t[o],t[o]=a,r-i+1>=o-e?(Ou(t,n,i,r),Ou(t,n,e,o-1)):(Ou(t,n,e,o-1),Ou(t,n,i,r))}}function Ru(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Iu(t){return t[0]}function zu(t){return t[1]}const Vu=1e-6;class Du{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,e){const r=(t=+t)+(e=+e),i=n=+n;if(e<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>Vu||Math.abs(this._y1-i)>Vu)&&(this._+="L"+r+","+i),e&&(this._+=`A${e},${e},0,1,1,${t-e},${n}A${e},${e},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,n,e,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+e}v${+r}h${-e}Z`}value(){return this._||null}}class Lu{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class Bu{constructor(t,[n,e,r,i]=[0,0,960,500]){if(!((r=+r)>=(n=+n)&&(i=+i)>=(e=+e)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=n,this.ymax=i,this.ymin=e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:e},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,e.length/3*2);for(let n,r,o=0,a=0,u=e.length;o<u;o+=3,a+=2){const u=2*e[o],s=2*e[o+1],c=2*e[o+2],f=t[u],l=t[u+1],h=t[s],d=t[s+1],p=t[c],g=t[c+1],y=h-f,m=d-l,v=p-f,b=g-l,x=2*(y*b-m*v);if(Math.abs(x)<1e-9){let i=1e9;const o=2*e[0];i*=Math.sign((t[o]-f)*b-(t[o+1]-l)*v),n=(f+p)/2-i*b,r=(l+g)/2+i*v}else{const t=1/x,e=y*y+m*m,i=v*v+b*b;n=f+(b*e-m*i)*t,r=l+(y*i-v*e)*t}i[a]=n,i[a+1]=r}let o,a,u,s=n[n.length-1],c=4*s,f=t[2*s],l=t[2*s+1];r.fill(0);for(let e=0;e<n.length;++e)s=n[e],o=c,a=f,u=l,c=4*s,f=t[2*s],l=t[2*s+1],r[o+2]=r[c]=u-l,r[o+3]=r[c+1]=f-a}render(t){const n=null==t?t=new Du:void 0,{delaunay:{halfedges:e,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let n=0,r=e.length;n<r;++n){const r=e[n];if(r<n)continue;const i=2*Math.floor(n/3),a=2*Math.floor(r/3),u=o[i],s=o[i+1],c=o[a],f=o[a+1];this._renderSegment(u,s,c,f,t)}let u,s=i[i.length-1];for(let n=0;n<i.length;++n){u=s,s=i[n];const e=2*Math.floor(r[s]/3),c=o[e],f=o[e+1],l=4*u,h=this._project(c,f,a[l+2],a[l+3]);h&&this._renderSegment(c,f,h[0],h[1],t)}return n&&n.value()}renderBounds(t){const n=null==t?t=new Du:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const e=null==n?n=new Du:void 0,r=this._clip(t);if(null===r||!r.length)return;n.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||n.lineTo(r[t],r[t+1]);return n.closePath(),e&&e.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,e=t.length/2;n<e;++n){const t=this.cellPolygon(n);t&&(t.index=n,yield t)}}cellPolygon(t){const n=new Lu;return this.renderCell(t,n),n.value()}_renderSegment(t,n,e,r,i){let o;const a=this._regioncode(t,n),u=this._regioncode(e,r);0===a&&0===u?(i.moveTo(t,n),i.lineTo(e,r)):(o=this._clipSegment(t,n,e,r,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,n,e){return(n=+n)==n&&(e=+e)==e&&this.delaunay._step(t,n,e)===t}*neighbors(t){const n=this._clip(t);if(n)for(const e of this.delaunay.neighbors(t)){const t=this._clip(e);if(t)t:for(let r=0,i=n.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(n[r]==t[o]&&n[r+1]==t[o+1]&&n[(r+2)%i]==t[(o+a-2)%a]&&n[(r+3)%i]==t[(o+a-1)%a]){yield e;break t}}}_cell(t){const{circumcenters:n,delaunay:{inedges:e,halfedges:r,triangles:i}}=this,o=e[t];if(-1===o)return null;const a=[];let u=o;do{const e=Math.floor(u/3);if(a.push(n[2*e],n[2*e+1]),u=u%3==2?u-2:u+1,i[u]!==t)break;u=r[u]}while(u!==o&&-1!==u);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(null===n)return null;const{vectors:e}=this,r=4*t;return e[r]||e[r+1]?this._clipInfinite(t,n,e[r],e[r+1],e[r+2],e[r+3]):this._clipFinite(t,n)}_clipFinite(t,n){const e=n.length;let r,i,o,a,u=null,s=n[e-2],c=n[e-1],f=this._regioncode(s,c),l=0;for(let h=0;h<e;h+=2)if(r=s,i=c,s=n[h],c=n[h+1],o=f,f=this._regioncode(s,c),0===o&&0===f)a=l,l=0,u?u.push(s,c):u=[s,c];else{let n,e,h,d,p;if(0===o){if(null===(n=this._clipSegment(r,i,s,c,o,f)))continue;[e,h,d,p]=n}else{if(null===(n=this._clipSegment(s,c,r,i,f,o)))continue;[d,p,e,h]=n,a=l,l=this._edgecode(e,h),a&&l&&this._edge(t,a,l,u,u.length),u?u.push(e,h):u=[e,h]}a=l,l=this._edgecode(d,p),a&&l&&this._edge(t,a,l,u,u.length),u?u.push(d,p):u=[d,p]}if(u)a=l,l=this._edgecode(u[0],u[1]),a&&l&&this._edge(t,a,l,u,u.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}_clipSegment(t,n,e,r,i,o){for(;;){if(0===i&&0===o)return[t,n,e,r];if(i&o)return null;let a,u,s=i||o;8&s?(a=t+(e-t)*(this.ymax-n)/(r-n),u=this.ymax):4&s?(a=t+(e-t)*(this.ymin-n)/(r-n),u=this.ymin):2&s?(u=n+(r-n)*(this.xmax-t)/(e-t),a=this.xmax):(u=n+(r-n)*(this.xmin-t)/(e-t),a=this.xmin),i?(t=a,n=u,i=this._regioncode(t,n)):(e=a,r=u,o=this._regioncode(e,r))}}_clipInfinite(t,n,e,r,i,o){let a,u=Array.from(n);if((a=this._project(u[0],u[1],e,r))&&u.unshift(a[0],a[1]),(a=this._project(u[u.length-2],u[u.length-1],i,o))&&u.push(a[0],a[1]),u=this._clipFinite(t,u))for(let n,e=0,r=u.length,i=this._edgecode(u[r-2],u[r-1]);e<r;e+=2)n=i,i=this._edgecode(u[e],u[e+1]),n&&i&&(e=this._edge(t,n,i,u,e),r=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(t,n,e,r,i){for(;n!==e;){let e,o;switch(n){case 5:n=4;continue;case 4:n=6,e=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,e=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,e=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,e=this.xmin,o=this.ymin}r[i]===e&&r[i+1]===o||!this.contains(t,e,o)||(r.splice(i,0,e,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const n=(t+2)%r.length,e=(t+4)%r.length;(r[t]===r[n]&&r[n]===r[e]||r[t+1]===r[n+1]&&r[n+1]===r[e+1])&&(r.splice(n,2),t-=2)}return i}_project(t,n,e,r){let i,o,a,u=1/0;if(r<0){if(n<=this.ymin)return null;(i=(this.ymin-n)/r)<u&&(a=this.ymin,o=t+(u=i)*e)}else if(r>0){if(n>=this.ymax)return null;(i=(this.ymax-n)/r)<u&&(a=this.ymax,o=t+(u=i)*e)}if(e>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/e)<u&&(o=this.xmax,a=n+(u=i)*r)}else if(e<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/e)<u&&(o=this.xmin,a=n+(u=i)*r)}return[o,a]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}const Fu=2*Math.PI,Uu=Math.pow;function qu(t){return t[0]}function Hu(t){return t[1]}function Yu(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class Xu{static from(t,n=qu,e=Hu,r){return new Xu("length"in t?function(t,n,e,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=n.call(r,i,a,t),o[2*a+1]=e.call(r,i,a,t)}return o}(t,n,e,r):Float64Array.from(function*(t,n,e,r){let i=0;for(const o of t)yield n.call(r,o,i,t),yield e.call(r,o,i,t),++i}(t,n,e,r)))}constructor(t){this._delaunator=new Nu(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:n,coords:e}=t;for(let t=0;t<n.length;t+=3){const r=2*n[t],i=2*n[t+1],o=2*n[t+2];if((e[o]-e[r])*(e[i+1]-e[r+1])-(e[i]-e[r])*(e[o+1]-e[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},((t,n)=>n)).sort(((t,e)=>n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]));const t=this.collinear[0],e=this.collinear[this.collinear.length-1],r=[n[2*t],n[2*t+1],n[2*e],n[2*e+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,e=n.length/2;t<e;++t){const e=Yu(n[2*t],n[2*t+1],i);n[2*t]=e[0],n[2*t+1]=e[1]}this._delaunator=new Nu(n)}else delete this.collinear;const e=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,n=e.length;t<n;++t){const n=i[t%3==2?t-2:t+1];-1!==e[t]&&-1!==o[n]||(o[n]=t)}for(let t=0,n=r.length;t<n;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Bu(this,t)}*neighbors(t){const{inedges:n,hull:e,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const n=a.indexOf(t);return n>0&&(yield a[n-1]),void(n<a.length-1&&(yield a[n+1]))}const u=n[t];if(-1===u)return;let s=u,c=-1;do{if(yield c=o[s],s=s%3==2?s-2:s+1,o[s]!==t)return;if(s=i[s],-1===s){const n=e[(r[t]+1)%e.length];return void(n!==c&&(yield n))}}while(s!==u)}find(t,n,e=0){if((t=+t)!=t||(n=+n)!=n)return-1;const r=e;let i;for(;(i=this._step(e,t,n))>=0&&i!==e&&i!==r;)e=i;return i}_step(t,n,e){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:u,points:s}=this;if(-1===r[t]||!s.length)return(t+1)%(s.length>>1);let c=t,f=Uu(n-s[2*t],2)+Uu(e-s[2*t+1],2);const l=r[t];let h=l;do{let r=u[h];const l=Uu(n-s[2*r],2)+Uu(e-s[2*r+1],2);if(l<f&&(f=l,c=r),h=h%3==2?h-2:h+1,u[h]!==t)break;if(h=a[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&Uu(n-s[2*h],2)+Uu(e-s[2*h+1],2)<f)return h;break}}while(h!==l);return c}render(t){const n=null==t?t=new Du:void 0,{points:e,halfedges:r,triangles:i}=this;for(let n=0,o=r.length;n<o;++n){const o=r[n];if(o<n)continue;const a=2*i[n],u=2*i[o];t.moveTo(e[a],e[a+1]),t.lineTo(e[u],e[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){void 0!==n||t&&"function"==typeof t.moveTo||(n=t,t=null),n=null==n?2:+n;const e=null==t?t=new Du:void 0,{points:r}=this;for(let e=0,i=r.length;e<i;e+=2){const i=r[e],o=r[e+1];t.moveTo(i+n,o),t.arc(i,o,n,0,Fu)}return e&&e.value()}renderHull(t){const n=null==t?t=new Du:void 0,{hull:e,points:r}=this,i=2*e[0],o=e.length;t.moveTo(r[i],r[i+1]);for(let n=1;n<o;++n){const i=2*e[n];t.lineTo(r[i],r[i+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Lu;return this.renderHull(t),t.value()}renderTriangle(t,n){const e=null==n?n=new Du:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],u=2*i[t+2];return n.moveTo(r[o],r[o+1]),n.lineTo(r[a],r[a+1]),n.lineTo(r[u],r[u+1]),n.closePath(),e&&e.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,e=t.length/3;n<e;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Lu;return this.renderTriangle(t,n),n.value()}}var ju=t=>()=>t;function Wu(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:a,y:u,dx:s,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}function Gu(t){return!t.ctrlKey&&!t.button}function Qu(){return this.parentNode}function $u(t,n){return null==n?{x:t.x,y:t.y}:n}function Zu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ku(){var t,n,e,r,i=Gu,o=Qu,a=$u,u=Zu,s={},c=An("start","drag","end"),f=0,l=0;function h(t){t.on("mousedown.drag",d).filter(u).on("touchstart.drag",y).on("touchmove.drag",m,Ue).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(a,u){if(!r&&i.call(this,a,u)){var s=b(this,o.call(this,a,u),a,u,"mouse");s&&(Fe(a.view).on("mousemove.drag",p,qe).on("mouseup.drag",g,qe),Xe(a.view),He(a),e=!1,t=a.clientX,n=a.clientY,s("start",a))}}function p(r){if(Ye(r),!e){var i=r.clientX-t,o=r.clientY-n;e=i*i+o*o>l}s.mouse("drag",r)}function g(t){Fe(t.view).on("mousemove.drag mouseup.drag",null),je(t.view,e),Ye(t),s.mouse("end",t)}function y(t,n){if(i.call(this,t,n)){var e,r,a=t.changedTouches,u=o.call(this,t,n),s=a.length;for(e=0;e<s;++e)(r=b(this,u,t,n,a[e].identifier,a[e]))&&(He(t),r("start",t,a[e]))}}function m(t){var n,e,r=t.changedTouches,i=r.length;for(n=0;n<i;++n)(e=s[r[n].identifier])&&(Ye(t),e("drag",t,r[n]))}function v(t){var n,e,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),n=0;n<o;++n)(e=s[i[n].identifier])&&(He(t),e("end",t,i[n]))}function b(t,n,e,r,i,o){var u,l,d,p=c.copy(),g=Qr(o||e,n);if(null!=(d=a.call(t,new Wu("beforestart",{sourceEvent:e,target:h,identifier:i,active:f,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return u=d.x-g[0]||0,l=d.y-g[1]||0,function e(o,a,c){var y,m=g;switch(o){case"start":s[i]=e,y=f++;break;case"end":delete s[i],--f;case"drag":g=Qr(c||a,n),y=f}p.call(o,t,new Wu(o,{sourceEvent:a,subject:d,target:h,identifier:i,active:y,x:g[0]+u,y:g[1]+l,dx:g[0]-m[0],dy:g[1]-m[1],dispatch:p}),r)}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:ju(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:ju(t),h):o},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:ju(t),h):a},h.touchable=function(t){return arguments.length?(u="function"==typeof t?t:ju(!!t),h):u},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,h):Math.sqrt(l)},h}Wu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ju={},ts={};function ns(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function es(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function rs(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function is(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+rs(-t,6):t>9999?"+"+rs(t,6):rs(t,4)}(t.getUTCFullYear())+"-"+rs(t.getUTCMonth()+1,2)+"-"+rs(t.getUTCDate(),2)+(i?"T"+rs(n,2)+":"+rs(e,2)+":"+rs(r,2)+"."+rs(i,3)+"Z":r?"T"+rs(n,2)+":"+rs(e,2)+":"+rs(r,2)+"Z":e||n?"T"+rs(n,2)+":"+rs(e,2)+"Z":"")}function os(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,s=o<=0,c=!1;function f(){if(s)return ts;if(c)return c=!1,Ju;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=f())!==ts;){for(var l=[];r!==Ju&&r!==ts;)l.push(r),r=f();n&&null==(l=n(l,u++))||i.push(l)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?is(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=ns(t);return function(r,i){return n(e(r),i,t)}}(t,n):ns(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=es(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=es(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var as=os(","),us=as.parse,ss=as.parseRows,cs=as.format,fs=as.formatBody,ls=as.formatRows,hs=as.formatRow,ds=as.formatValue,ps=os("\t"),gs=ps.parse,ys=ps.parseRows,ms=ps.format,vs=ps.formatBody,bs=ps.formatRows,xs=ps.formatRow,_s=ps.formatValue;function ws(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Ms&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t}const Ms=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),As=t=>+t;function Ss(t){return t*t}function Ts(t){return t*(2-t)}function Es(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Ns=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Cs=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Ps=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),ks=Math.PI,Os=ks/2;function Rs(t){return 1==+t?1:1-Math.cos(t*Os)}function Is(t){return Math.sin(t*Os)}function zs(t){return(1-Math.cos(ks*t))/2}function Vs(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Ds(t){return Vs(1-+t)}function Ls(t){return 1-Vs(t)}function Bs(t){return((t*=2)<=1?Vs(1-t):2-Vs(t-1))/2}function Fs(t){return 1-Math.sqrt(1-t*t)}function Us(t){return Math.sqrt(1- --t*t)}function qs(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Hs=4/11,Ys=7.5625;function Xs(t){return 1-js(1-t)}function js(t){return(t=+t)<Hs?Ys*t*t:t<.7272727272727273?Ys*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Ys*(t-=.8181818181818182)*t+.9375:Ys*(t-=.9545454545454546)*t+.984375}function Ws(t){return((t*=2)<=1?1-js(1-t):js(t-1)+1)/2}var Gs=1.70158,Qs=function t(n){function e(t){return(t=+t)*t*(n*(t-1)+t)}return n=+n,e.overshoot=t,e}(Gs),$s=function t(n){function e(t){return--t*t*((t+1)*n+t)+1}return n=+n,e.overshoot=t,e}(Gs),Zs=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(Gs),Ks=2*Math.PI,Js=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Ks);function i(t){return n*Vs(- --t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*Ks)},i.period=function(e){return t(n,e)},i}(1,.3),tc=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Ks);function i(t){return 1-n*Vs(t=+t)*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*Ks)},i.period=function(e){return t(n,e)},i}(1,.3),nc=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Ks);function i(t){return((t=2*t-1)<0?n*Vs(-t)*Math.sin((r-t)/e):2-n*Vs(t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*Ks)},i.period=function(e){return t(n,e)},i}(1,.3);function ec(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function rc(t,n){return fetch(t,n).then(ec)}function ic(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function oc(t,n){return fetch(t,n).then(ic)}function ac(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function uc(t,n){return fetch(t,n).then(ac)}function sc(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),uc(n,e).then((function(n){return t(n,r)}))}}function cc(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=os(t);return uc(n,e).then((function(t){return i.parse(t,r)}))}var fc=sc(us),lc=sc(gs);function hc(t,n){return new Promise((function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t}))}function dc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function pc(t,n){return fetch(t,n).then(dc)}function gc(t){return(n,e)=>uc(n,e).then((n=>(new DOMParser).parseFromString(n,t)))}var yc=gc("application/xml"),mc=gc("text/html"),vc=gc("image/svg+xml");function bc(t,n){var e,r=1;function i(){var i,o,a=e.length,u=0,s=0;for(i=0;i<a;++i)u+=(o=e[i]).x,s+=o.y;for(u=(u/a-t)*r,s=(s/a-n)*r,i=0;i<a;++i)(o=e[i]).x-=u,o.y-=s}return null==t&&(t=0),null==n&&(n=0),i.initialize=function(t){e=t},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(t){return arguments.length?(n=+t,i):n},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function xc(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,s,c,f,l,h,d=t._root,p={data:r},g=t._x0,y=t._y0,m=t._x1,v=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=n>=(o=(g+m)/2))?g=o:m=o,(f=e>=(a=(y+v)/2))?y=a:v=a,i=d,!(d=d[l=f<<1|c]))return i[l]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===u&&e===s)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(c=n>=(o=(g+m)/2))?g=o:m=o,(f=e>=(a=(y+v)/2))?y=a:v=a}while((l=f<<1|c)==(h=(s>=a)<<1|u>=o));return i[h]=d,i[l]=p,t}function _c(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function wc(t){return t[0]}function Mc(t){return t[1]}function Ac(t,n,e){var r=new Sc(null==n?wc:n,null==e?Mc:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Sc(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Tc(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Ec=Ac.prototype=Sc.prototype;function Nc(t){return function(){return t}}function Cc(t){return 1e-6*(t()-.5)}function Pc(t){return t.x+t.vx}function kc(t){return t.y+t.vy}function Oc(t){var n,e,r,i=1,o=1;function a(){for(var t,a,s,c,f,l,h,d=n.length,p=0;p<o;++p)for(a=Ac(n,Pc,kc).visitAfter(u),t=0;t<d;++t)s=n[t],l=e[s.index],h=l*l,c=s.x+s.vx,f=s.y+s.vy,a.visit(g);function g(t,n,e,o,a){var u=t.data,d=t.r,p=l+d;if(!u)return n>c+p||o<c-p||e>f+p||a<f-p;if(u.index>s.index){var g=c-u.x-u.vx,y=f-u.y-u.vy,m=g*g+y*y;m<p*p&&(0===g&&(m+=(g=Cc(r))*g),0===y&&(m+=(y=Cc(r))*y),m=(p-(m=Math.sqrt(m)))/m*i,s.vx+=(g*=m)*(p=(d*=d)/(h+d)),s.vy+=(y*=m)*p,u.vx-=g*(p=1-p),u.vy-=y*p)}}}function u(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function s(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=Nc(null==t?1:+t)),a.initialize=function(t,e){n=t,r=e,s()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:Nc(+n),s(),a):t},a}function Rc(t){return t.index}function Ic(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function zc(t){var n,e,r,i,o,a,u=Rc,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=Nc(30),f=1;function l(r){for(var i=0,u=t.length;i<f;++i)for(var s,c,l,h,d,p,g,y=0;y<u;++y)c=(s=t[y]).source,h=(l=s.target).x+l.vx-c.x-c.vx||Cc(a),d=l.y+l.vy-c.y-c.vy||Cc(a),h*=p=((p=Math.sqrt(h*h+d*d))-e[y])/p*r*n[y],d*=p,l.vx-=h*(g=o[y]),l.vy-=d*g,c.vx+=h*(g=1-g),c.vy+=d*g}function h(){if(r){var a,s,c=r.length,f=t.length,l=new Map(r.map(((t,n)=>[u(t,n,r),t])));for(a=0,i=new Array(c);a<f;++a)(s=t[a]).index=a,"object"!=typeof s.source&&(s.source=Ic(l,s.source)),"object"!=typeof s.target&&(s.target=Ic(l,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(a=0,o=new Array(f);a<f;++a)s=t[a],o[a]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);n=new Array(f),d(),e=new Array(f),p()}}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+s(t[e],e,t)}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+c(t[n],n,t)}return null==t&&(t=[]),l.initialize=function(t,n){r=t,a=n,h()},l.links=function(n){return arguments.length?(t=n,h(),l):t},l.id=function(t){return arguments.length?(u=t,l):u},l.iterations=function(t){return arguments.length?(f=+t,l):f},l.strength=function(t){return arguments.length?(s="function"==typeof t?t:Nc(+t),d(),l):s},l.distance=function(t){return arguments.length?(c="function"==typeof t?t:Nc(+t),p(),l):c},l}Ec.copy=function(){var t,n,e=new Sc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Tc(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Tc(n));return e},Ec.add=function(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return xc(this.cover(n,e),n,e,t)},Ec.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,c=1/0,f=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<s&&(s=r),r>f&&(f=r),i<c&&(c=i),i>l&&(l=i));if(s>f||c>l)return this;for(this.cover(s,c).cover(f,l),e=0;e<o;++e)xc(this,a[e],u[e],t[e]);return this},Ec.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,s=i-e||1,c=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=c,c=a,s*=2,u){case 0:i=e+s,o=r+s;break;case 1:e=i-s,o=r+s;break;case 2:i=e+s,r=o-s;break;case 3:e=i-s,r=o-s}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Ec.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Ec.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ec.find=function(t,n,e){var r,i,o,a,u,s,c,f=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new _c(g,f,l,h,d)),null==e?e=1/0:(f=t-e,l=n-e,h=t+e,d=n+e,e*=e);s=p.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(o=s.y0)>d||(a=s.x1)<f||(u=s.y1)<l))if(g.length){var y=(i+a)/2,m=(o+u)/2;p.push(new _c(g[3],y,m,a,u),new _c(g[2],i,m,y,u),new _c(g[1],y,o,a,m),new _c(g[0],i,o,y,m)),(c=(n>=m)<<1|t>=y)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var v=t-+this._x.call(null,g.data),b=n-+this._y.call(null,g.data),x=v*v+b*b;if(x<e){var _=Math.sqrt(e=x);f=t-_,l=n-_,h=t+_,d=n+_,r=g.data}}return r},Ec.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,s,c,f,l,h,d=this._root,p=this._x0,g=this._y0,y=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(u=(p+y)/2))?p=u:y=u,(f=a>=(s=(g+m)/2))?g=s:m=s,n=d,!(d=d[l=f<<1|c]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},Ec.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Ec.root=function(){return this._root},Ec.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Ec.visit=function(t){var n,e,r,i,o,a,u=[],s=this._root;for(s&&u.push(new _c(s,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&s.length){var c=(r+o)/2,f=(i+a)/2;(e=s[3])&&u.push(new _c(e,c,f,o,a)),(e=s[2])&&u.push(new _c(e,r,f,c,a)),(e=s[1])&&u.push(new _c(e,c,i,o,f)),(e=s[0])&&u.push(new _c(e,r,i,c,f))}return this},Ec.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new _c(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,s=n.x1,c=n.y1,f=(a+s)/2,l=(u+c)/2;(o=i[0])&&e.push(new _c(o,a,u,f,l)),(o=i[1])&&e.push(new _c(o,f,u,s,l)),(o=i[2])&&e.push(new _c(o,a,l,f,c)),(o=i[3])&&e.push(new _c(o,f,l,s,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Ec.x=function(t){return arguments.length?(this._x=t,this):this._x},Ec.y=function(t){return arguments.length?(this._y=t,this):this._y};const Vc=4294967296;function Dc(t){return t.x}function Lc(t){return t.y}var Bc=Math.PI*(3-Math.sqrt(5));function Fc(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=new Map,s=ci(l),c=An("tick","end"),f=function(){let t=1;return()=>(t=(1664525*t+1013904223)%Vc)/Vc}();function l(){h(),c.call("tick",n),e<r&&(s.stop(),c.call("end",n))}function h(r){var s,c,f=t.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(e+=(o-e)*i,u.forEach((function(t){t(e)})),s=0;s<f;++s)null==(c=t[s]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return n}function d(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(.5+e),o=e*Bc;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function p(n){return n.initialize&&n.initialize(t,f),n}return null==t&&(t=[]),d(),n={tick:h,restart:function(){return s.restart(l),n},stop:function(){return s.stop(),n},nodes:function(e){return arguments.length?(t=e,d(),u.forEach(p),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},randomSource:function(t){return arguments.length?(f=t,u.forEach(p),n):f},force:function(t,e){return arguments.length>1?(null==e?u.delete(t):u.set(t,p(e)),n):u.get(t)},find:function(n,e,r){var i,o,a,u,s,c=0,f=t.length;for(null==r?r=1/0:r*=r,c=0;c<f;++c)(a=(i=n-(u=t[c]).x)*i+(o=e-u.y)*o)<r&&(s=u,r=a);return s},on:function(t,e){return arguments.length>1?(c.on(t,e),n):c.on(t)}}}function Uc(){var t,n,e,r,i,o=Nc(-30),a=1,u=1/0,s=.81;function c(e){var i,o=t.length,a=Ac(t,Dc,Lc).visitAfter(l);for(r=e,i=0;i<o;++i)n=t[i],a.visit(h)}function f(){if(t){var n,e,r=t.length;for(i=new Array(r),n=0;n<r;++n)e=t[n],i[e.index]=+o(e,n,t)}}function l(t){var n,e,r,o,a,u=0,s=0;if(t.length){for(r=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(u+=n.value,s+=e,r+=e*n.x,o+=e*n.y);t.x=r/s,t.y=o/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=i[n.data.index]}while(n=n.next)}t.value=u}function h(t,o,c,f){if(!t.value)return!0;var l=t.x-n.x,h=t.y-n.y,d=f-o,p=l*l+h*h;if(d*d/s<p)return p<u&&(0===l&&(p+=(l=Cc(e))*l),0===h&&(p+=(h=Cc(e))*h),p<a&&(p=Math.sqrt(a*p)),n.vx+=l*t.value*r/p,n.vy+=h*t.value*r/p),!0;if(!(t.length||p>=u)){(t.data!==n||t.next)&&(0===l&&(p+=(l=Cc(e))*l),0===h&&(p+=(h=Cc(e))*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==n&&(d=i[t.data.index]*r/p,n.vx+=l*d,n.vy+=h*d)}while(t=t.next)}}return c.initialize=function(n,r){t=n,e=r,f()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:Nc(+t),f(),c):o},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c}function qc(t,n,e){var r,i,o,a=Nc(.1);function u(t){for(var a=0,u=r.length;a<u;++a){var s=r[a],c=s.x-n||1e-6,f=s.y-e||1e-6,l=Math.sqrt(c*c+f*f),h=(o[a]-l)*i[a]*t/l;s.vx+=c*h,s.vy+=f*h}}function s(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+a(r[n],n,r)}}return"function"!=typeof t&&(t=Nc(+t)),null==n&&(n=0),null==e&&(e=0),u.initialize=function(t){r=t,s()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:Nc(+t),s(),u):a},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:Nc(+n),s(),u):t},u.x=function(t){return arguments.length?(n=+t,u):n},u.y=function(t){return arguments.length?(e=+t,u):e},u}function Hc(t){var n,e,r,i=Nc(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=Nc(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Nc(+t),a(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:Nc(+n),a(),o):t},o}function Yc(t){var n,e,r,i=Nc(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=Nc(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Nc(+t),a(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:Nc(+n),a(),o):t},o}function Xc(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function jc(t){return(t=Xc(Math.abs(t)))?t[1]:NaN}var Wc,Gc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qc(t){if(!(n=Gc.exec(t)))throw new Error("invalid format: "+t);var n;return new $c({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function $c(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Zc(t,n){var e=Xc(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Qc.prototype=$c.prototype,$c.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Kc={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Zc(100*t,n),r:Zc,s:function(t,n){var e=Xc(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Wc=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Xc(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Jc(t){return t}var tf,nf,ef,rf=Array.prototype.map,of=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function af(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Jc:(n=rf.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Jc:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(rf.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function l(t){var n=(t=Qc(t)).fill,e=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,m=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Kc[v]||(void 0===y&&(y=12),m=!0,v="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?o:/[%p]/.test(v)?s:"",_=Kc[v],w=/[defgprs%]/.test(v);function M(t){var i,o,s,h=b,M=x;if("c"===v)M=_(t)+M,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:_(Math.abs(t),y),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),A&&0==+t&&"+"!==l&&(A=!1),h=(A?"("===l?l:c:"-"===l||"("===l?"":l)+h,M=("s"===v?of[8+Wc/3]:"")+M+(A&&"("===l?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var S=h.length+t.length+M.length,T=S<p?new Array(p-S+1).join(n):"";switch(g&&d&&(t=r(T+t,T.length?p-M.length:1/0),T=""),e){case"<":t=h+t+M+T;break;case"=":t=h+T+t+M;break;case"^":t=T.slice(0,S=T.length>>1)+h+t+M+T.slice(S);break;default:t=T+h+t+M}return u(t)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,n){var e=l(((t=Qc(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(jc(n)/3))),i=Math.pow(10,-r),o=of[8+r/3];return function(t){return e(i*t)+o}}}}function uf(t){return tf=af(t),nf=tf.format,ef=tf.formatPrefix,tf}function sf(t){return Math.max(0,-jc(Math.abs(t)))}function cf(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(jc(n)/3)))-jc(Math.abs(t)))}function ff(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,jc(n)-jc(t))+1}uf({thousands:",",grouping:[3],currency:["$",""]});var lf=1e-6,hf=1e-12,df=Math.PI,pf=df/2,gf=df/4,yf=2*df,mf=180/df,vf=df/180,bf=Math.abs,xf=Math.atan,_f=Math.atan2,wf=Math.cos,Mf=Math.ceil,Af=Math.exp,Sf=(Math.floor,Math.hypot),Tf=Math.log,Ef=Math.pow,Nf=Math.sin,Cf=Math.sign||function(t){return t>0?1:t<0?-1:0},Pf=Math.sqrt,kf=Math.tan;function Of(t){return t>1?0:t<-1?df:Math.acos(t)}function Rf(t){return t>1?pf:t<-1?-pf:Math.asin(t)}function If(t){return(t=Nf(t/2))*t}function zf(){}function Vf(t,n){t&&Lf.hasOwnProperty(t.type)&&Lf[t.type](t,n)}var Df={Feature:function(t,n){Vf(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Vf(e[r].geometry,n)}},Lf={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Bf(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Bf(e[r],n,0)},Polygon:function(t,n){Ff(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ff(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Vf(e[r],n)}};function Bf(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Ff(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Bf(t[e],n,1);n.polygonEnd()}function Uf(t,n){t&&Df.hasOwnProperty(t.type)?Df[t.type](t,n):Vf(t,n)}var qf,Hf,Yf,Xf,jf,Wf,Gf,Qf,$f,Zf,Kf,Jf,tl,nl,el,rl,il=new P,ol=new P,al={point:zf,lineStart:zf,lineEnd:zf,polygonStart:function(){il=new P,al.lineStart=ul,al.lineEnd=sl},polygonEnd:function(){var t=+il;ol.add(t<0?yf+t:t),this.lineStart=this.lineEnd=this.point=zf},sphere:function(){ol.add(yf)}};function ul(){al.point=cl}function sl(){fl(qf,Hf)}function cl(t,n){al.point=fl,qf=t,Hf=n,Yf=t*=vf,Xf=wf(n=(n*=vf)/2+gf),jf=Nf(n)}function fl(t,n){var e=(t*=vf)-Yf,r=e>=0?1:-1,i=r*e,o=wf(n=(n*=vf)/2+gf),a=Nf(n),u=jf*a,s=Xf*o+u*wf(i),c=u*r*Nf(i);il.add(_f(c,s)),Yf=t,Xf=o,jf=a}function ll(t){return ol=new P,Uf(t,al),2*ol}function hl(t){return[_f(t[1],t[0]),Rf(t[2])]}function dl(t){var n=t[0],e=t[1],r=wf(e);return[r*wf(n),r*Nf(n),Nf(e)]}function pl(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function gl(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function yl(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function ml(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function vl(t){var n=Pf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var bl,xl,_l,wl,Ml,Al,Sl,Tl,El,Nl,Cl,Pl,kl,Ol,Rl,Il,zl={point:Vl,lineStart:Ll,lineEnd:Bl,polygonStart:function(){zl.point=Fl,zl.lineStart=Ul,zl.lineEnd=ql,nl=new P,al.polygonStart()},polygonEnd:function(){al.polygonEnd(),zl.point=Vl,zl.lineStart=Ll,zl.lineEnd=Bl,il<0?(Wf=-(Qf=180),Gf=-($f=90)):nl>lf?$f=90:nl<-1e-6&&(Gf=-90),rl[0]=Wf,rl[1]=Qf},sphere:function(){Wf=-(Qf=180),Gf=-($f=90)}};function Vl(t,n){el.push(rl=[Wf=t,Qf=t]),n<Gf&&(Gf=n),n>$f&&($f=n)}function Dl(t,n){var e=dl([t*vf,n*vf]);if(tl){var r=gl(tl,e),i=gl([r[1],-r[0],0],r);vl(i),i=hl(i);var o,a=t-Zf,u=a>0?1:-1,s=i[0]*mf*u,c=bf(a)>180;c^(u*Zf<s&&s<u*t)?(o=i[1]*mf)>$f&&($f=o):c^(u*Zf<(s=(s+360)%360-180)&&s<u*t)?(o=-i[1]*mf)<Gf&&(Gf=o):(n<Gf&&(Gf=n),n>$f&&($f=n)),c?t<Zf?Hl(Wf,t)>Hl(Wf,Qf)&&(Qf=t):Hl(t,Qf)>Hl(Wf,Qf)&&(Wf=t):Qf>=Wf?(t<Wf&&(Wf=t),t>Qf&&(Qf=t)):t>Zf?Hl(Wf,t)>Hl(Wf,Qf)&&(Qf=t):Hl(t,Qf)>Hl(Wf,Qf)&&(Wf=t)}else el.push(rl=[Wf=t,Qf=t]);n<Gf&&(Gf=n),n>$f&&($f=n),tl=e,Zf=t}function Ll(){zl.point=Dl}function Bl(){rl[0]=Wf,rl[1]=Qf,zl.point=Vl,tl=null}function Fl(t,n){if(tl){var e=t-Zf;nl.add(bf(e)>180?e+(e>0?360:-360):e)}else Kf=t,Jf=n;al.point(t,n),Dl(t,n)}function Ul(){al.lineStart()}function ql(){Fl(Kf,Jf),al.lineEnd(),bf(nl)>lf&&(Wf=-(Qf=180)),rl[0]=Wf,rl[1]=Qf,tl=null}function Hl(t,n){return(n-=t)<0?n+360:n}function Yl(t,n){return t[0]-n[0]}function Xl(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function jl(t){var n,e,r,i,o,a,u;if($f=Qf=-(Wf=Gf=1/0),el=[],Uf(t,zl),e=el.length){for(el.sort(Yl),n=1,o=[r=el[0]];n<e;++n)Xl(r,(i=el[n])[0])||Xl(r,i[1])?(Hl(r[0],i[1])>Hl(r[0],r[1])&&(r[1]=i[1]),Hl(i[0],r[1])>Hl(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=Hl(r[1],i[0]))>a&&(a=u,Wf=i[0],Qf=r[1])}return el=rl=null,Wf===1/0||Gf===1/0?[[NaN,NaN],[NaN,NaN]]:[[Wf,Gf],[Qf,$f]]}var Wl={sphere:zf,point:Gl,lineStart:$l,lineEnd:Jl,polygonStart:function(){Wl.lineStart=th,Wl.lineEnd=nh},polygonEnd:function(){Wl.lineStart=$l,Wl.lineEnd=Jl}};function Gl(t,n){t*=vf;var e=wf(n*=vf);Ql(e*wf(t),e*Nf(t),Nf(n))}function Ql(t,n,e){++bl,_l+=(t-_l)/bl,wl+=(n-wl)/bl,Ml+=(e-Ml)/bl}function $l(){Wl.point=Zl}function Zl(t,n){t*=vf;var e=wf(n*=vf);Ol=e*wf(t),Rl=e*Nf(t),Il=Nf(n),Wl.point=Kl,Ql(Ol,Rl,Il)}function Kl(t,n){t*=vf;var e=wf(n*=vf),r=e*wf(t),i=e*Nf(t),o=Nf(n),a=_f(Pf((a=Rl*o-Il*i)*a+(a=Il*r-Ol*o)*a+(a=Ol*i-Rl*r)*a),Ol*r+Rl*i+Il*o);xl+=a,Al+=a*(Ol+(Ol=r)),Sl+=a*(Rl+(Rl=i)),Tl+=a*(Il+(Il=o)),Ql(Ol,Rl,Il)}function Jl(){Wl.point=Gl}function th(){Wl.point=eh}function nh(){rh(Pl,kl),Wl.point=Gl}function eh(t,n){Pl=t,kl=n,t*=vf,n*=vf,Wl.point=rh;var e=wf(n);Ol=e*wf(t),Rl=e*Nf(t),Il=Nf(n),Ql(Ol,Rl,Il)}function rh(t,n){t*=vf;var e=wf(n*=vf),r=e*wf(t),i=e*Nf(t),o=Nf(n),a=Rl*o-Il*i,u=Il*r-Ol*o,s=Ol*i-Rl*r,c=Sf(a,u,s),f=Rf(c),l=c&&-f/c;El.add(l*a),Nl.add(l*u),Cl.add(l*s),xl+=f,Al+=f*(Ol+(Ol=r)),Sl+=f*(Rl+(Rl=i)),Tl+=f*(Il+(Il=o)),Ql(Ol,Rl,Il)}function ih(t){bl=xl=_l=wl=Ml=Al=Sl=Tl=0,El=new P,Nl=new P,Cl=new P,Uf(t,Wl);var n=+El,e=+Nl,r=+Cl,i=Sf(n,e,r);return i<hf&&(n=Al,e=Sl,r=Tl,xl<lf&&(n=_l,e=wl,r=Ml),(i=Sf(n,e,r))<hf)?[NaN,NaN]:[_f(e,n)*mf,Rf(r/i)*mf]}function oh(t){return function(){return t}}function ah(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function uh(t,n){return[bf(t)>df?t+Math.round(-t/yf)*yf:t,n]}function sh(t,n,e){return(t%=yf)?n||e?ah(fh(t),lh(n,e)):fh(t):n||e?lh(n,e):uh}function ch(t){return function(n,e){return[(n+=t)>df?n-yf:n<-df?n+yf:n,e]}}function fh(t){var n=ch(t);return n.invert=ch(-t),n}function lh(t,n){var e=wf(t),r=Nf(t),i=wf(n),o=Nf(n);function a(t,n){var a=wf(n),u=wf(t)*a,s=Nf(t)*a,c=Nf(n),f=c*e+u*r;return[_f(s*i-f*o,u*e-c*r),Rf(f*i+s*o)]}return a.invert=function(t,n){var a=wf(n),u=wf(t)*a,s=Nf(t)*a,c=Nf(n),f=c*i-s*o;return[_f(s*i+c*o,u*e+f*r),Rf(f*e-u*r)]},a}function hh(t){function n(n){return(n=t(n[0]*vf,n[1]*vf))[0]*=mf,n[1]*=mf,n}return t=sh(t[0]*vf,t[1]*vf,t.length>2?t[2]*vf:0),n.invert=function(n){return(n=t.invert(n[0]*vf,n[1]*vf))[0]*=mf,n[1]*=mf,n},n}function dh(t,n,e,r,i,o){if(e){var a=wf(n),u=Nf(n),s=r*e;null==i?(i=n+r*yf,o=n-s/2):(i=ph(a,i),o=ph(a,o),(r>0?i<o:i>o)&&(i+=r*yf));for(var c,f=i;r>0?f>o:f<o;f-=s)c=hl([a,-u*wf(f),-u*Nf(f)]),t.point(c[0],c[1])}}function ph(t,n){(n=dl(n))[0]-=t,vl(n);var e=Of(-n[1]);return((-n[2]<0?-e:e)+yf-lf)%yf}function gh(){var t,n,e=oh([0,0]),r=oh(90),i=oh(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=mf,e[1]*=mf}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*vf,s=i.apply(this,arguments)*vf;return t=[],n=sh(-a[0]*vf,-a[1]*vf,0).invert,dh(o,u,s,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:oh([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:oh(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:oh(+t),a):i},a}function yh(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:zf,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function mh(t,n){return bf(t[0]-n[0])<lf&&bf(t[1]-n[1])<lf}function vh(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function bh(t,n,e,r,i){var o,a,u=[],s=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(mh(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(e=new vh(r,t,null,!0)),s.push(e.o=new vh(r,null,e,!1)),u.push(e=new vh(a,t,null,!1)),s.push(e.o=new vh(a,null,e,!0))}})),u.length){for(s.sort(n),xh(u),xh(s),o=0,a=s.length;o<a;++o)s[o].e=e=!e;for(var c,f,l=u[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((f=c[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((f=c[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function xh(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function _h(t){return bf(t[0])<=df?t[0]:Cf(t[0])*((bf(t[0])+df)%yf-df)}function wh(t,n){var e=_h(n),r=n[1],i=Nf(r),o=[Nf(e),-wf(e),0],a=0,u=0,s=new P;1===i?r=pf+lf:-1===i&&(r=-pf-lf);for(var c=0,f=t.length;c<f;++c)if(h=(l=t[c]).length)for(var l,h,d=l[h-1],p=_h(d),g=d[1]/2+gf,y=Nf(g),m=wf(g),v=0;v<h;++v,p=x,y=w,m=M,d=b){var b=l[v],x=_h(b),_=b[1]/2+gf,w=Nf(_),M=wf(_),A=x-p,S=A>=0?1:-1,T=S*A,E=T>df,N=y*w;if(s.add(_f(N*S*Nf(T),m*M+N*wf(T))),a+=E?A+S*yf:A,E^p>=e^x>=e){var C=gl(dl(d),dl(b));vl(C);var k=gl(o,C);vl(k);var O=(E^A>=0?-1:1)*Rf(k[2]);(r>O||r===O&&(C[0]||C[1]))&&(u+=E^A>=0?1:-1)}}return(a<-1e-6||a<lf&&s<-1e-12)^1&u}function Mh(t,n,e,r){return function(i){var o,a,u,s=n(i),c=yh(),f=n(c),l=!1,h={point:d,lineStart:g,lineEnd:y,polygonStart:function(){h.point=m,h.lineStart=v,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=y,a=Ct(a);var t=wh(o,r);a.length?(l||(i.polygonStart(),l=!0),bh(a,Sh,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){s.point(t,n)}function g(){h.point=p,s.lineStart()}function y(){h.point=d,s.lineEnd()}function m(t,n){u.push([t,n]),f.point(t,n)}function v(){f.lineStart(),u=[]}function b(){m(u[0][0],u[0][1]),f.lineEnd();var t,n,e,r,s=f.clean(),h=c.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&s){if((n=(e=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&s&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Ah))}return h}}function Ah(t){return t.length>1}function Sh(t,n){return((t=t.x)[0]<0?t[1]-pf-lf:pf-t[1])-((n=n.x)[0]<0?n[1]-pf-lf:pf-n[1])}uh.invert=uh;var Th=Mh((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?df:-df,s=bf(o-e);bf(s-df)<lf?(t.point(e,r=(r+a)/2>0?pf:-pf),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&s>=df&&(bf(e-i)<lf&&(e-=i*lf),bf(o-u)<lf&&(o-=u*lf),r=function(t,n,e,r){var i,o,a=Nf(t-e);return bf(a)>lf?xf((Nf(n)*(o=wf(r))*Nf(e)-Nf(r)*(i=wf(n))*Nf(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*pf,r.point(-df,i),r.point(0,i),r.point(df,i),r.point(df,0),r.point(df,-i),r.point(0,-i),r.point(-df,-i),r.point(-df,0),r.point(-df,i);else if(bf(t[0]-n[0])>lf){var o=t[0]<n[0]?df:-df;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-df,-pf]);function Eh(t){var n=wf(t),e=6*vf,r=n>0,i=bf(n)>lf;function o(t,e){return wf(t)*wf(e)>n}function a(t,e,r){var i=[1,0,0],o=gl(dl(t),dl(e)),a=pl(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var c=n*a/s,f=-n*u/s,l=gl(i,o),h=ml(i,c);yl(h,ml(o,f));var d=l,p=pl(h,d),g=pl(d,d),y=p*p-g*(pl(h,h)-1);if(!(y<0)){var m=Pf(y),v=ml(d,(-p-m)/g);if(yl(v,h),v=hl(v),!r)return v;var b,x=t[0],_=e[0],w=t[1],M=e[1];_<x&&(b=x,x=_,_=b);var A=_-x,S=bf(A-df)<lf;if(!S&&M<w&&(b=w,w=M,M=b),S||A<lf?S?w+M>0^v[1]<(bf(v[0]-x)<lf?w:M):w<=v[1]&&v[1]<=M:A>df^(x<=v[0]&&v[0]<=_)){var T=ml(d,(-p+m)/g);return yl(T,h),[v,hl(T)]}}}function u(n,e){var i=r?t:df-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Mh(o,(function(t){var n,e,s,c,f;return{lineStart:function(){c=s=!1,f=1},point:function(l,h){var d,p=[l,h],g=o(l,h),y=r?g?0:u(l,h):g?u(l+(l<0?df:-df),h):0;if(!n&&(c=s=g)&&t.lineStart(),g!==s&&(!(d=a(n,p))||mh(n,d)||mh(p,d))&&(p[2]=1),g!==s)f=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^g){var m;y&e||!(m=a(p,n,!0))||(f=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!g||n&&mh(n,p)||t.point(p[0],p[1]),n=p,s=g,e=y},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return f|(c&&s)<<1}}}),(function(n,r,i,o){dh(o,t,e,i,n,r)}),r?[0,-t]:[-df,t-df])}var Nh,Ch,Ph,kh,Oh=1e9,Rh=-Oh;function Ih(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,c){var f=0,l=0;if(null==i||(f=a(i,u))!==(l=a(o,u))||s(i,o)<0^u>0)do{c.point(0===f||3===f?t:e,f>1?r:n)}while((f=(f+u+4)%4)!==l);else c.point(o[0],o[1])}function a(r,i){return bf(r[0]-t)<lf?i>0?0:3:bf(r[0]-e)<lf?i>0?2:1:bf(r[1]-n)<lf?i>0?1:0:i>0?3:2}function u(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var s,c,f,l,h,d,p,g,y,m,v,b=a,x=yh(),_={point:w,lineStart:function(){_.point=M,c&&c.push(f=[]);m=!0,y=!1,p=g=NaN},lineEnd:function(){s&&(M(l,h),d&&y&&x.rejoin(),s.push(x.result()));_.point=w,y&&b.lineEnd()},polygonStart:function(){b=x,s=[],c=[],v=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=c.length;e<i;++e)for(var o,a,u=c[e],s=1,f=u.length,l=u[0],h=l[0],d=l[1];s<f;++s)o=h,a=d,h=(l=u[s])[0],d=l[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=v&&n,i=(s=Ct(s)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&bh(s,u,n,o,a),a.polygonEnd());b=a,s=c=f=null}};function w(t,n){i(t,n)&&b.point(t,n)}function M(o,a){var u=i(o,a);if(c&&f.push([o,a]),m)l=o,h=a,d=u,m=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&y)b.point(o,a);else{var s=[p=Math.max(Rh,Math.min(Oh,p)),g=Math.max(Rh,Math.min(Oh,g))],x=[o=Math.max(Rh,Math.min(Oh,o)),a=Math.max(Rh,Math.min(Oh,a))];!function(t,n,e,r,i,o){var a,u=t[0],s=t[1],c=0,f=1,l=n[0]-u,h=n[1]-s;if(a=e-u,l||!(a>0)){if(a/=l,l<0){if(a<c)return;a<f&&(f=a)}else if(l>0){if(a>f)return;a>c&&(c=a)}if(a=i-u,l||!(a<0)){if(a/=l,l<0){if(a>f)return;a>c&&(c=a)}else if(l>0){if(a<c)return;a<f&&(f=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>c&&(c=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<f&&(f=a)}return c>0&&(t[0]=u+c*l,t[1]=s+c*h),f<1&&(n[0]=u+f*l,n[1]=s+f*h),!0}}}}}(s,x,t,n,e,r)?u&&(b.lineStart(),b.point(o,a),v=!1):(y||(b.lineStart(),b.point(s[0],s[1])),b.point(x[0],x[1]),u||b.lineEnd(),v=!1)}p=o,g=a,y=u}return _}}function zh(){var t,n,e,r=0,i=0,o=960,a=500;return e={stream:function(e){return t&&n===e?t:t=Ih(r,i,o,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=n=null,e):[[r,i],[o,a]]}}}var Vh={sphere:zf,point:zf,lineStart:function(){Vh.point=Lh,Vh.lineEnd=Dh},lineEnd:zf,polygonStart:zf,polygonEnd:zf};function Dh(){Vh.point=Vh.lineEnd=zf}function Lh(t,n){Ch=t*=vf,Ph=Nf(n*=vf),kh=wf(n),Vh.point=Bh}function Bh(t,n){t*=vf;var e=Nf(n*=vf),r=wf(n),i=bf(t-Ch),o=wf(i),a=r*Nf(i),u=kh*e-Ph*r*o,s=Ph*e+kh*r*o;Nh.add(_f(Pf(a*a+u*u),s)),Ch=t,Ph=e,kh=r}function Fh(t){return Nh=new P,Uf(t,Vh),+Nh}var Uh=[null,null],qh={type:"LineString",coordinates:Uh};function Hh(t,n){return Uh[0]=t,Uh[1]=n,Fh(qh)}var Yh={Feature:function(t,n){return jh(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(jh(e[r].geometry,n))return!0;return!1}},Xh={Sphere:function(){return!0},Point:function(t,n){return Wh(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Wh(e[r],n))return!0;return!1},LineString:function(t,n){return Gh(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Gh(e[r],n))return!0;return!1},Polygon:function(t,n){return Qh(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Qh(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(jh(e[r],n))return!0;return!1}};function jh(t,n){return!(!t||!Xh.hasOwnProperty(t.type))&&Xh[t.type](t,n)}function Wh(t,n){return 0===Hh(t,n)}function Gh(t,n){for(var e,r,i,o=0,a=t.length;o<a;o++){if(0===(r=Hh(t[o],n)))return!0;if(o>0&&(i=Hh(t[o],t[o-1]))>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<hf*i)return!0;e=r}return!1}function Qh(t,n){return!!wh(t.map($h),Zh(n))}function $h(t){return(t=t.map(Zh)).pop(),t}function Zh(t){return[t[0]*vf,t[1]*vf]}function Kh(t,n){return(t&&Yh.hasOwnProperty(t.type)?Yh[t.type]:jh)(t,n)}function Jh(t,n,e){var r=Rt(t,n-lf,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function td(t,n,e){var r=Rt(t,n-lf,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function nd(){var t,n,e,r,i,o,a,u,s,c,f,l,h=10,d=h,p=90,g=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:v()}}function v(){return Rt(Mf(r/p)*p,e,p).map(f).concat(Rt(Mf(u/g)*g,a,g).map(l)).concat(Rt(Mf(n/h)*h,t,h).filter((function(t){return bf(t%p)>lf})).map(s)).concat(Rt(Mf(o/d)*d,i,d).filter((function(t){return bf(t%g)>lf})).map(c))}return m.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(l(a).slice(1),f(e).reverse().slice(1),l(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],u=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),u>a&&(t=u,u=a,a=t),m.precision(y)):[[r,u],[e,a]]},m.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),m.precision(y)):[[n,o],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],m):[p,g]},m.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],m):[h,d]},m.precision=function(h){return arguments.length?(y=+h,s=Jh(o,i,90),c=td(n,t,y),f=Jh(u,a,90),l=td(r,e,y),m):y},m.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function ed(){return nd()()}function rd(t,n){var e=t[0]*vf,r=t[1]*vf,i=n[0]*vf,o=n[1]*vf,a=wf(r),u=Nf(r),s=wf(o),c=Nf(o),f=a*wf(e),l=a*Nf(e),h=s*wf(i),d=s*Nf(i),p=2*Rf(Pf(If(o-r)+a*s*If(i-e))),g=Nf(p),y=p?function(t){var n=Nf(t*=p)/g,e=Nf(p-t)/g,r=e*f+n*h,i=e*l+n*d,o=e*u+n*c;return[_f(i,r)*mf,_f(o,Pf(r*r+i*i))*mf]}:function(){return[e*mf,r*mf]};return y.distance=p,y}var id,od,ad,ud,sd=t=>t,cd=new P,fd=new P,ld={point:zf,lineStart:zf,lineEnd:zf,polygonStart:function(){ld.lineStart=hd,ld.lineEnd=gd},polygonEnd:function(){ld.lineStart=ld.lineEnd=ld.point=zf,cd.add(bf(fd)),fd=new P},result:function(){var t=cd/2;return cd=new P,t}};function hd(){ld.point=dd}function dd(t,n){ld.point=pd,id=ad=t,od=ud=n}function pd(t,n){fd.add(ud*t-ad*n),ad=t,ud=n}function gd(){pd(id,od)}var yd=ld,md=1/0,vd=md,bd=-md,xd=bd,_d={point:function(t,n){t<md&&(md=t);t>bd&&(bd=t);n<vd&&(vd=n);n>xd&&(xd=n)},lineStart:zf,lineEnd:zf,polygonStart:zf,polygonEnd:zf,result:function(){var t=[[md,vd],[bd,xd]];return bd=xd=-(vd=md=1/0),t}};var wd,Md,Ad,Sd,Td=_d,Ed=0,Nd=0,Cd=0,Pd=0,kd=0,Od=0,Rd=0,Id=0,zd=0,Vd={point:Dd,lineStart:Ld,lineEnd:Ud,polygonStart:function(){Vd.lineStart=qd,Vd.lineEnd=Hd},polygonEnd:function(){Vd.point=Dd,Vd.lineStart=Ld,Vd.lineEnd=Ud},result:function(){var t=zd?[Rd/zd,Id/zd]:Od?[Pd/Od,kd/Od]:Cd?[Ed/Cd,Nd/Cd]:[NaN,NaN];return Ed=Nd=Cd=Pd=kd=Od=Rd=Id=zd=0,t}};function Dd(t,n){Ed+=t,Nd+=n,++Cd}function Ld(){Vd.point=Bd}function Bd(t,n){Vd.point=Fd,Dd(Ad=t,Sd=n)}function Fd(t,n){var e=t-Ad,r=n-Sd,i=Pf(e*e+r*r);Pd+=i*(Ad+t)/2,kd+=i*(Sd+n)/2,Od+=i,Dd(Ad=t,Sd=n)}function Ud(){Vd.point=Dd}function qd(){Vd.point=Yd}function Hd(){Xd(wd,Md)}function Yd(t,n){Vd.point=Xd,Dd(wd=Ad=t,Md=Sd=n)}function Xd(t,n){var e=t-Ad,r=n-Sd,i=Pf(e*e+r*r);Pd+=i*(Ad+t)/2,kd+=i*(Sd+n)/2,Od+=i,Rd+=(i=Sd*t-Ad*n)*(Ad+t),Id+=i*(Sd+n),zd+=3*i,Dd(Ad=t,Sd=n)}var jd=Vd;function Wd(t){this._context=t}Wd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,yf)}},result:zf};var Gd,Qd,$d,Zd,Kd,Jd=new P,tp={point:zf,lineStart:function(){tp.point=np},lineEnd:function(){Gd&&ep(Qd,$d),tp.point=zf},polygonStart:function(){Gd=!0},polygonEnd:function(){Gd=null},result:function(){var t=+Jd;return Jd=new P,t}};function np(t,n){tp.point=ep,Qd=Zd=t,$d=Kd=n}function ep(t,n){Zd-=t,Kd-=n,Jd.add(Pf(Zd*Zd+Kd*Kd)),Zd=t,Kd=n}var rp=tp;function ip(){this._string=[]}function op(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ap(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Uf(t,e(r))),r.result()}return o.area=function(t){return Uf(t,e(yd)),yd.result()},o.measure=function(t){return Uf(t,e(rp)),rp.result()},o.bounds=function(t){return Uf(t,e(Td)),Td.result()},o.centroid=function(t){return Uf(t,e(jd)),jd.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,sd):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new ip):new Wd(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)}function up(t){return{stream:sp(t)}}function sp(t){return function(n){var e=new cp;for(var r in t)e[r]=t[r];return e.stream=n,e}}function cp(){}function fp(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Uf(e,t.stream(Td)),n(Td.result()),null!=r&&t.clipExtent(r),t}function lp(t,n,e){return fp(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}function hp(t,n,e){return lp(t,[[0,0],n],e)}function dp(t,n,e){return fp(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}function pp(t,n,e){return fp(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}ip.prototype={_radius:4.5,_circle:op(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=op(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},cp.prototype={constructor:cp,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var gp=wf(30*vf);function yp(t,n){return+n?function(t,n){function e(r,i,o,a,u,s,c,f,l,h,d,p,g,y){var m=c-r,v=f-i,b=m*m+v*v;if(b>4*n&&g--){var x=a+h,_=u+d,w=s+p,M=Pf(x*x+_*_+w*w),A=Rf(w/=M),S=bf(bf(w)-1)<lf||bf(o-l)<lf?(o+l)/2:_f(_,x),T=t(S,A),E=T[0],N=T[1],C=E-r,P=N-i,k=v*C-m*P;(k*k/b>n||bf((m*C+v*P)/b-.5)>.3||a*h+u*d+s*p<gp)&&(e(r,i,o,a,u,s,E,N,S,x/=M,_/=M,w,g,y),y.point(E,N),e(E,N,S,x,_,w,c,f,l,h,d,p,g,y))}}return function(n){var r,i,o,a,u,s,c,f,l,h,d,p,g={point:y,lineStart:m,lineEnd:b,polygonStart:function(){n.polygonStart(),g.lineStart=x},polygonEnd:function(){n.polygonEnd(),g.lineStart=m}};function y(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){f=NaN,g.point=v,n.lineStart()}function v(r,i){var o=dl([r,i]),a=t(r,i);e(f,l,c,h,d,p,f=a[0],l=a[1],c=r,h=o[0],d=o[1],p=o[2],16,n),n.point(f,l)}function b(){g.point=y,n.lineEnd()}function x(){m(),g.point=_,g.lineEnd=w}function _(t,n){v(r=t,n),i=f,o=l,a=h,u=d,s=p,g.point=v}function w(){e(f,l,c,h,d,p,i,o,r,a,u,s,16,n),g.lineEnd=b,b()}return g}}(t,n):function(t){return sp({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var mp=sp({point:function(t,n){this.stream.point(t*vf,n*vf)}});function vp(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=wf(o),u=Nf(o),s=a*t,c=u*t,f=a/t,l=u/t,h=(u*e-a*n)/t,d=(u*n+a*e)/t;function p(t,o){return[s*(t*=r)-c*(o*=i)+n,e-c*t-s*o]}return p.invert=function(t,n){return[r*(f*t-l*n+h),i*(d-l*t-f*n)]},p}function bp(t){return xp((function(){return t}))()}function xp(t){var n,e,r,i,o,a,u,s,c,f,l=150,h=480,d=250,p=0,g=0,y=0,m=0,v=0,b=0,x=1,_=1,w=null,M=Th,A=null,S=sd,T=.5;function E(t){return s(t[0]*vf,t[1]*vf)}function N(t){return(t=s.invert(t[0],t[1]))&&[t[0]*mf,t[1]*mf]}function C(){var t=vp(l,0,0,x,_,b).apply(null,n(p,g)),r=vp(l,h-t[0],d-t[1],x,_,b);return e=sh(y,m,v),u=ah(n,r),s=ah(e,u),a=yp(u,T),P()}function P(){return c=f=null,E}return E.stream=function(t){return c&&f===t?c:c=mp(function(t){return sp({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(a(S(f=t)))))},E.preclip=function(t){return arguments.length?(M=t,w=void 0,P()):M},E.postclip=function(t){return arguments.length?(S=t,A=r=i=o=null,P()):S},E.clipAngle=function(t){return arguments.length?(M=+t?Eh(w=t*vf):(w=null,Th),P()):w*mf},E.clipExtent=function(t){return arguments.length?(S=null==t?(A=r=i=o=null,sd):Ih(A=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),P()):null==A?null:[[A,r],[i,o]]},E.scale=function(t){return arguments.length?(l=+t,C()):l},E.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],C()):[h,d]},E.center=function(t){return arguments.length?(p=t[0]%360*vf,g=t[1]%360*vf,C()):[p*mf,g*mf]},E.rotate=function(t){return arguments.length?(y=t[0]%360*vf,m=t[1]%360*vf,v=t.length>2?t[2]%360*vf:0,C()):[y*mf,m*mf,v*mf]},E.angle=function(t){return arguments.length?(b=t%360*vf,C()):b*mf},E.reflectX=function(t){return arguments.length?(x=t?-1:1,C()):x<0},E.reflectY=function(t){return arguments.length?(_=t?-1:1,C()):_<0},E.precision=function(t){return arguments.length?(a=yp(u,T=t*t),P()):Pf(T)},E.fitExtent=function(t,n){return lp(E,t,n)},E.fitSize=function(t,n){return hp(E,t,n)},E.fitWidth=function(t,n){return dp(E,t,n)},E.fitHeight=function(t,n){return pp(E,t,n)},function(){return n=t.apply(this,arguments),E.invert=n.invert&&N,C()}}function _p(t){var n=0,e=df/3,r=xp(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*vf,e=t[1]*vf):[n*mf,e*mf]},i}function wp(t,n){var e=Nf(t),r=(e+Nf(n))/2;if(bf(r)<lf)return function(t){var n=wf(t);function e(t,e){return[t*n,Nf(e)/n]}return e.invert=function(t,e){return[t/n,Rf(e*n)]},e}(t);var i=1+e*(2*r-e),o=Pf(i)/r;function a(t,n){var e=Pf(i-2*r*Nf(n))/r;return[e*Nf(t*=r),o-e*wf(t)]}return a.invert=function(t,n){var e=o-n,a=_f(t,bf(e))*Cf(e);return e*r<0&&(a-=df*Cf(t)*Cf(e)),[a/r,Rf((i-(t*t+e*e)*r*r)/(2*r))]},a}function Mp(){return _p(wp).scale(155.424).center([0,33.6442])}function Ap(){return Mp().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Sp(){var t,n,e,r,i,o,a=Ap(),u=Mp().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Mp().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,n){o=[t,n]}};function f(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function l(){return t=n=null,f}return f.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(t)},f.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),u.stream(e),s.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},f.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),s.precision(t),l()):a.precision()},f.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),s.scale(t),f.translate(a.translate())):a.scale()},f.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],f=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,f-.238*n],[o+.455*n,f+.238*n]]).stream(c),r=u.translate([o-.307*n,f+.201*n]).clipExtent([[o-.425*n+lf,f+.12*n+lf],[o-.214*n-lf,f+.234*n-lf]]).stream(c),i=s.translate([o-.205*n,f+.212*n]).clipExtent([[o-.214*n+lf,f+.166*n+lf],[o-.115*n-lf,f+.234*n-lf]]).stream(c),l()},f.fitExtent=function(t,n){return lp(f,t,n)},f.fitSize=function(t,n){return hp(f,t,n)},f.fitWidth=function(t,n){return dp(f,t,n)},f.fitHeight=function(t,n){return pp(f,t,n)},f.scale(1070)}function Tp(t){return function(n,e){var r=wf(n),i=wf(e),o=t(r*i);return o===1/0?[2,0]:[o*i*Nf(n),o*Nf(e)]}}function Ep(t){return function(n,e){var r=Pf(n*n+e*e),i=t(r),o=Nf(i),a=wf(i);return[_f(n*o,r*a),Rf(r&&e*o/r)]}}var Np=Tp((function(t){return Pf(2/(1+t))}));function Cp(){return bp(Np).scale(124.75).clipAngle(179.999)}Np.invert=Ep((function(t){return 2*Rf(t/2)}));var Pp=Tp((function(t){return(t=Of(t))&&t/Nf(t)}));function kp(){return bp(Pp).scale(79.4188).clipAngle(179.999)}function Op(t,n){return[t,Tf(kf((pf+n)/2))]}function Rp(){return Ip(Op).scale(961/yf)}function Ip(t){var n,e,r,i=bp(t),o=i.center,a=i.scale,u=i.translate,s=i.clipExtent,c=null;function f(){var o=df*a(),u=i(hh(i.rotate()).invert([0,0]));return s(null==c?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Op?[[Math.max(u[0]-o,c),n],[Math.min(u[0]+o,e),r]]:[[c,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),f()):a()},i.translate=function(t){return arguments.length?(u(t),f()):u()},i.center=function(t){return arguments.length?(o(t),f()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),f()):null==c?null:[[c,n],[e,r]]},f()}function zp(t){return kf((pf+t)/2)}function Vp(t,n){var e=wf(t),r=t===n?Nf(t):Tf(e/wf(n))/Tf(zp(n)/zp(t)),i=e*Ef(zp(t),r)/r;if(!r)return Op;function o(t,n){i>0?n<-pf+lf&&(n=-pf+lf):n>pf-lf&&(n=pf-lf);var e=i/Ef(zp(n),r);return[e*Nf(r*t),i-e*wf(r*t)]}return o.invert=function(t,n){var e=i-n,o=Cf(r)*Pf(t*t+e*e),a=_f(t,bf(e))*Cf(e);return e*r<0&&(a-=df*Cf(t)*Cf(e)),[a/r,2*xf(Ef(i/o,1/r))-pf]},o}function Dp(){return _p(Vp).scale(109.5).parallels([30,30])}function Lp(t,n){return[t,n]}function Bp(){return bp(Lp).scale(152.63)}function Fp(t,n){var e=wf(t),r=t===n?Nf(t):(e-wf(n))/(n-t),i=e/r+t;if(bf(r)<lf)return Lp;function o(t,n){var e=i-n,o=r*t;return[e*Nf(o),i-e*wf(o)]}return o.invert=function(t,n){var e=i-n,o=_f(t,bf(e))*Cf(e);return e*r<0&&(o-=df*Cf(t)*Cf(e)),[o/r,i-Cf(r)*Pf(t*t+e*e)]},o}function Up(){return _p(Fp).scale(131.154).center([0,13.9389])}Pp.invert=Ep((function(t){return t})),Op.invert=function(t,n){return[t,2*xf(Af(n))-pf]},Lp.invert=Lp;var qp=1.340264,Hp=-.081106,Yp=893e-6,Xp=.003796,jp=Pf(3)/2;function Wp(t,n){var e=Rf(jp*Nf(n)),r=e*e,i=r*r*r;return[t*wf(e)/(jp*(qp+3*Hp*r+i*(7*Yp+9*Xp*r))),e*(qp+Hp*r+i*(Yp+Xp*r))]}function Gp(){return bp(Wp).scale(177.158)}function Qp(t,n){var e=wf(n),r=wf(t)*e;return[e*Nf(t)/r,Nf(n)/r]}function $p(){return bp(Qp).scale(144.049).clipAngle(60)}function Zp(){var t,n,e,r,i,o,a,u=1,s=0,c=0,f=1,l=1,h=0,d=null,p=1,g=1,y=sp({point:function(t,n){var e=b([t,n]);this.stream.point(e[0],e[1])}}),m=sd;function v(){return p=u*f,g=u*l,o=a=null,b}function b(e){var r=e[0]*p,i=e[1]*g;if(h){var o=i*t-r*n;r=r*t+i*n,i=o}return[r+s,i+c]}return b.invert=function(e){var r=e[0]-s,i=e[1]-c;if(h){var o=i*t+r*n;r=r*t-i*n,i=o}return[r/p,i/g]},b.stream=function(t){return o&&a===t?o:o=y(m(a=t))},b.postclip=function(t){return arguments.length?(m=t,d=e=r=i=null,v()):m},b.clipExtent=function(t){return arguments.length?(m=null==t?(d=e=r=i=null,sd):Ih(d=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),v()):null==d?null:[[d,e],[r,i]]},b.scale=function(t){return arguments.length?(u=+t,v()):u},b.translate=function(t){return arguments.length?(s=+t[0],c=+t[1],v()):[s,c]},b.angle=function(e){return arguments.length?(n=Nf(h=e%360*vf),t=wf(h),v()):h*mf},b.reflectX=function(t){return arguments.length?(f=t?-1:1,v()):f<0},b.reflectY=function(t){return arguments.length?(l=t?-1:1,v()):l<0},b.fitExtent=function(t,n){return lp(b,t,n)},b.fitSize=function(t,n){return hp(b,t,n)},b.fitWidth=function(t,n){return dp(b,t,n)},b.fitHeight=function(t,n){return pp(b,t,n)},b}function Kp(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function Jp(){return bp(Kp).scale(175.295)}function tg(t,n){return[wf(n)*Nf(t),Nf(n)]}function ng(){return bp(tg).scale(249.5).clipAngle(90.000001)}function eg(t,n){var e=wf(n),r=1+wf(t)*e;return[e*Nf(t)/r,Nf(n)/r]}function rg(){return bp(eg).scale(250).clipAngle(142)}function ig(t,n){return[Tf(kf((pf+n)/2)),-t]}function og(){var t=Ip(ig),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}function ag(t,n){return t.parent===n.parent?1:2}function ug(t,n){return t+n.x}function sg(t,n){return Math.max(t,n.y)}function cg(){var t=ag,n=1,e=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(n){var e=n.children;e?(n.x=function(t){return t.reduce(ug,0)/t.length}(e),n.y=function(t){return 1+t.reduce(sg,0)}(e)):(n.x=o?a+=t(n,o):0,n.y=0,o=n)}));var u=function(t){for(var n;n=t.children;)t=n[0];return t}(i),s=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),c=u.x-t(u,s)/2,f=s.x+t(s,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-c)/(f-c)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}function fg(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function lg(t,n){t instanceof Map?(t=[void 0,t],void 0===n&&(n=dg)):void 0===n&&(n=hg);for(var e,r,i,o,a,u=new yg(t),s=[u];e=s.pop();)if((i=n(e.data))&&(a=(i=Array.from(i)).length))for(e.children=i,o=a-1;o>=0;--o)s.push(r=i[o]=new yg(i[o])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(gg)}function hg(t){return t.children}function dg(t){return Array.isArray(t)?t[1]:null}function pg(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function gg(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function yg(t){this.data=t,this.depth=this.height=0,this.parent=null}function mg(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Array.from(t))).length,o=[];r<i;)n=t[r],e&&xg(e,n)?++r:(e=wg(o=vg(o,n)),r=0);return e}function vg(t,n){var e,r;if(_g(n,t))return[n];for(e=0;e<t.length;++e)if(bg(n,t[e])&&_g(Mg(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(bg(Mg(t[e],t[r]),n)&&bg(Mg(t[e],n),t[r])&&bg(Mg(t[r],n),t[e])&&_g(Ag(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function bg(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function xg(t,n){var e=t.r-n.r+1e-9*Math.max(t.r,n.r,1),r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function _g(t,n){for(var e=0;e<n.length;++e)if(!xg(t,n[e]))return!1;return!0}function wg(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Mg(t[0],t[1]);case 3:return Ag(t[0],t[1],t[2])}}function Mg(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,s=o-e,c=a-r,f=u-i,l=Math.sqrt(s*s+c*c);return{x:(e+o+s/l*f)/2,y:(r+a+c/l*f)/2,r:(l+i+u)/2}}function Ag(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,s=n.r,c=e.x,f=e.y,l=e.r,h=r-a,d=r-c,p=i-u,g=i-f,y=s-o,m=l-o,v=r*r+i*i-o*o,b=v-a*a-u*u+s*s,x=v-c*c-f*f+l*l,_=d*p-h*g,w=(p*x-g*b)/(2*_)-r,M=(g*y-p*m)/_,A=(d*b-h*x)/(2*_)-i,S=(h*m-d*y)/_,T=M*M+S*S-1,E=2*(o+w*M+A*S),N=w*w+A*A-o*o,C=-(T?(E+Math.sqrt(E*E-4*T*N))/(2*T):N/E);return{x:r+w+M*C,y:i+A+S*C,r:C}}function Sg(t,n,e){var r,i,o,a,u=t.x-n.x,s=t.y-n.y,c=u*u+s*s;c?(i=n.r+e.r,i*=i,a=t.r+e.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),e.x=t.x-r*u-o*s,e.y=t.y-r*s+o*u):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),e.x=n.x+r*u-o*s,e.y=n.y+r*s+o*u)):(e.x=n.x+e.r,e.y=n.y)}function Tg(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Eg(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function Ng(t){this._=t,this.next=null,this.previous=null}function Cg(t){if(!(i=(t=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var n,e,r,i,o,a,u,s,c,f,l;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;Sg(e,n,r=t[2]),n=new Ng(n),e=new Ng(e),r=new Ng(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(u=3;u<i;++u){Sg(n._,e._,r=t[u]),r=new Ng(r),s=e.next,c=n.previous,f=e._.r,l=n._.r;do{if(f<=l){if(Tg(s._,r._)){e=s,n.next=e,e.previous=n,--u;continue t}f+=s._.r,s=s.next}else{if(Tg(c._,r._)){(n=c).next=e,e.previous=n,--u;continue t}l+=c._.r,c=c.previous}}while(s!==c.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=Eg(n);(r=r.next)!==e;)(a=Eg(r))<o&&(n=r,o=a);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=mg(n),u=0;u<i;++u)(n=t[u]).x-=r.x,n.y-=r.y;return r.r}function Pg(t){return Cg(t),t}function kg(t){return null==t?null:Og(t)}function Og(t){if("function"!=typeof t)throw new Error;return t}function Rg(){return 0}function Ig(t){return function(){return t}}function zg(t){return Math.sqrt(t.value)}function Vg(){var t=null,n=1,e=1,r=Rg;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(Dg(t)).eachAfter(Lg(r,.5)).eachBefore(Bg(1)):i.eachBefore(Dg(zg)).eachAfter(Lg(Rg,1)).eachAfter(Lg(r,i.r/Math.min(n,e))).eachBefore(Bg(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=kg(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:Ig(+t),i):r},i}function Dg(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function Lg(t,n){return function(e){if(r=e.children){var r,i,o,a=r.length,u=t(e)*n||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=Cg(r),u)for(i=0;i<a;++i)r[i].r-=u;e.r=o+u}}}function Bg(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Fg(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Ug(t,n,e,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(r-n)/t.value;++u<s;)(o=a[u]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*c}function qg(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(function(t,n){return function(r){r.children&&Ug(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,a=r.x1-e,u=r.y1-e;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(n,o)),r&&i.eachBefore(Fg),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i}Wp.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(qp+Hp*i+o*(Yp+Xp*i))-n)/(qp+3*Hp*i+o*(7*Yp+9*Xp*i)))*r)*i*i,!(bf(e)<hf));++a);return[jp*t*(qp+3*Hp*i+o*(7*Yp+9*Xp*i))/wf(r),Rf(Nf(r)/jp)]},Qp.invert=Ep(xf),Kp.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(bf(e)>lf&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},tg.invert=Ep(Rf),eg.invert=Ep((function(t){return 2*xf(t)})),ig.invert=function(t,n){return[-n,2*xf(Af(t))-pf]},yg.prototype=lg.prototype={constructor:yg,count:function(){return this.eachAfter(fg)},each:function(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this},eachAfter:function(t,n){for(var e,r,i,o=this,a=[o],u=[],s=-1;o=a.pop();)if(u.push(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r]);for(;o=u.pop();)t.call(n,o,++s,this);return this},eachBefore:function(t,n){for(var e,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(n,i,++a,this),e=i.children)for(r=e.length-1;r>=0;--r)o.push(e[r]);return this},find:function(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();for(;t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return lg(this).eachBefore(pg)},[Symbol.iterator]:function*(){var t,n,e,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e])}while(o.length)}};var Hg={depth:-1},Yg={};function Xg(t){return t.id}function jg(t){return t.parentId}function Wg(){var t=Xg,n=jg;function e(e){var r,i,o,a,u,s,c,f=Array.from(e),l=f.length,h=new Map;for(i=0;i<l;++i)r=f[i],u=f[i]=new yg(r),null!=(s=t(r,i,e))&&(s+="")&&(c=u.id=s,h.set(c,h.has(c)?Yg:u)),null!=(s=n(r,i,e))&&(s+="")&&(u.parent=s);for(i=0;i<l;++i)if(s=(u=f[i]).parent){if(!(a=h.get(s)))throw new Error("missing: "+s);if(a===Yg)throw new Error("ambiguous: "+s);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=Hg,o.eachBefore((function(t){t.depth=t.parent.depth+1,--l})).eachBefore(gg),o.parent=null,l>0)throw new Error("cycle");return o}return e.id=function(n){return arguments.length?(t=Og(n),e):t},e.parentId=function(t){return arguments.length?(n=Og(t),e):n},e}function Gg(t,n){return t.parent===n.parent?1:2}function Qg(t){var n=t.children;return n?n[0]:t.t}function $g(t){var n=t.children;return n?n[n.length-1]:t.t}function Zg(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Kg(t,n,e){return t.a.parent===n.parent?t.a:e}function Jg(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function ty(){var t=Gg,n=1,e=1,r=null;function i(i){var s=function(t){for(var n,e,r,i,o,a=new Jg(t,0),u=[a];n=u.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(e=n.children[i]=new Jg(r[i],i)),e.parent=n;return(a.parent=new Jg(null,0)).children=[a],a}(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(u);else{var c=i,f=i,l=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)}));var h=c===f?1:t(c,f)/2,d=h-c.x,p=n/(f.x+h+d),g=e/(l.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*g}))}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,o=n,a=n,u=e,s=o.parent.children[0],c=o.m,f=a.m,l=u.m,h=s.m;u=$g(u),o=Qg(o),u&&o;)s=Qg(s),(a=$g(a)).a=n,(i=u.z+l-o.z-c+t(u._,o._))>0&&(Zg(Kg(u,n,r),n,i),c+=i,f+=i),l+=u.m,c+=o.m,h+=s.m,f+=a.m;u&&!$g(a)&&(a.t=u,a.m+=l-f),o&&!Qg(s)&&(s.t=o,s.m+=c-h,r=n)}return r}(n,i,n.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}function ny(t,n,e,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(i-e)/t.value;++u<s;)(o=a[u]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*c}Jg.prototype=Object.create(yg.prototype);var ey=(1+Math.sqrt(5))/2;function ry(t,n,e,r,i,o){for(var a,u,s,c,f,l,h,d,p,g,y,m=[],v=n.children,b=0,x=0,_=v.length,w=n.value;b<_;){s=i-e,c=o-r;do{f=v[x++].value}while(!f&&x<_);for(l=h=f,y=f*f*(g=Math.max(c/s,s/c)/(w*t)),p=Math.max(h/y,y/l);x<_;++x){if(f+=u=v[x].value,u<l&&(l=u),u>h&&(h=u),y=f*f*g,(d=Math.max(h/y,y/l))>p){f-=u;break}p=d}m.push(a={value:f,dice:s<c,children:v.slice(b,x)}),a.dice?Ug(a,e,r,i,w?r+=c*f/w:o):ny(a,e,r,w?e+=s*f/w:i,o),w-=f,b=x}return m}var iy=function t(n){function e(t,e,r,i,o){ry(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(ey);function oy(){var t=iy,n=!1,e=1,r=1,i=[0],o=Rg,a=Rg,u=Rg,s=Rg,c=Rg;function f(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(l),i=[0],n&&t.eachBefore(Fg),t}function l(n){var e=i[n.depth],r=n.x0+e,f=n.y0+e,l=n.x1-e,h=n.y1-e;l<r&&(r=l=(r+l)/2),h<f&&(f=h=(f+h)/2),n.x0=r,n.y0=f,n.x1=l,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=c(n)-e,f+=a(n)-e,(l-=u(n)-e)<r&&(r=l=(r+l)/2),(h-=s(n)-e)<f&&(f=h=(f+h)/2),t(n,r,f,l,h))}return f.round=function(t){return arguments.length?(n=!!t,f):n},f.size=function(t){return arguments.length?(e=+t[0],r=+t[1],f):[e,r]},f.tile=function(n){return arguments.length?(t=Og(n),f):t},f.padding=function(t){return arguments.length?f.paddingInner(t).paddingOuter(t):f.paddingInner()},f.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Ig(+t),f):o},f.paddingOuter=function(t){return arguments.length?f.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):f.paddingTop()},f.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:Ig(+t),f):a},f.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:Ig(+t),f):u},f.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:Ig(+t),f):s},f.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:Ig(+t),f):c},f}function ay(t,n,e,r,i){var o,a,u=t.children,s=u.length,c=new Array(s+1);for(c[0]=a=o=0;o<s;++o)c[o+1]=a+=u[o].value;!function t(n,e,r,i,o,a,s){if(n>=e-1){var f=u[n];return f.x0=i,f.y0=o,f.x1=a,void(f.y1=s)}var l=c[n],h=r/2+l,d=n+1,p=e-1;for(;d<p;){var g=d+p>>>1;c[g]<h?d=g+1:p=g}h-c[d-1]<c[d]-h&&n+1<d&&--d;var y=c[d]-l,m=r-y;if(a-i>s-o){var v=r?(i*m+a*y)/r:a;t(n,d,y,i,o,v,s),t(d,e,m,v,o,a,s)}else{var b=r?(o*m+s*y)/r:s;t(n,d,y,i,o,a,b),t(d,e,m,i,b,a,s)}}(0,s,t.value,n,e,r,i)}function uy(t,n,e,r,i){(1&t.depth?ny:Ug)(t,n,e,r,i)}var sy=function t(n){function e(t,e,r,i,o){if((a=t._squarify)&&a.ratio===n)for(var a,u,s,c,f,l=-1,h=a.length,d=t.value;++l<h;){for(s=(u=a[l]).children,c=u.value=0,f=s.length;c<f;++c)u.value+=s[c].value;u.dice?Ug(u,e,r,i,d?r+=(o-r)*u.value/d:o):ny(u,e,r,d?e+=(i-e)*u.value/d:i,o),d-=u.value}else t._squarify=a=ry(n,t,e,r,i,o),a.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(ey);function cy(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function fy(t,n){var e=Pr(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}}function ly(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function hy(t){return((t=Math.exp(t))+1/t)/2}var dy=function t(n,e,r){function i(t,i){var o,a,u=t[0],s=t[1],c=t[2],f=i[0],l=i[1],h=i[2],d=f-u,p=l-s,g=d*d+p*p;if(g<1e-12)a=Math.log(h/c)/n,o=function(t){return[u+t*d,s+t*p,c*Math.exp(n*t*a)]};else{var y=Math.sqrt(g),m=(h*h-c*c+r*g)/(2*c*e*y),v=(h*h-c*c-r*g)/(2*h*e*y),b=Math.log(Math.sqrt(m*m+1)-m),x=Math.log(Math.sqrt(v*v+1)-v);a=(x-b)/n,o=function(t){var r=t*a,i=hy(b),o=c/(e*y)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(n*r+b)-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[u+o*d,s+o*p,c*i/hy(n*r+b)]}}return o.duration=1e3*a*n/Math.SQRT2,o}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i}(Math.SQRT2,2,4);function py(t){return function(n,e){var r=t((n=wr(n)).h,(e=wr(e)).h),i=Or(n.s,e.s),o=Or(n.l,e.l),a=Or(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=a(t),n+""}}}var gy=py(Pr),yy=py(Or);function my(t,n){var e=Or((t=Ia(t)).l,(n=Ia(n)).l),r=Or(t.a,n.a),i=Or(t.b,n.b),o=Or(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}function vy(t){return function(n,e){var r=t((n=qa(n)).h,(e=qa(e)).h),i=Or(n.c,e.c),o=Or(n.l,e.l),a=Or(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}var by=vy(Pr),xy=vy(Or);function _y(t){return function n(e){function r(n,r){var i=t((n=tu(n)).h,(r=tu(r)).h),o=Or(n.s,r.s),a=Or(n.l,r.l),u=Or(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}var wy=_y(Pr),My=_y(Or);function Ay(t,n){void 0===n&&(n=t,t=Wr);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}function Sy(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}function Ty(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2}function Ey(t){for(var n,e,r=-1,i=t.length,o=0,a=0,u=t[i-1],s=0;++r<i;)n=u,u=t[r],s+=e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o/(s*=3),a/s]}function Ny(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function Cy(t,n){return t[0]-n[0]||t[1]-n[1]}function Py(t){const n=t.length,e=[0,1];let r,i=2;for(r=2;r<n;++r){for(;i>1&&Ny(t[e[i-2]],t[e[i-1]],t[r])<=0;)--i;e[i++]=r}return e.slice(0,i)}function ky(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(Cy),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Py(r),a=Py(i),u=a[0]===o[0],s=a[a.length-1]===o[o.length-1],c=[];for(n=o.length-1;n>=0;--n)c.push(t[r[o[n]][2]]);for(n=+u;n<a.length-s;++n)c.push(t[r[a[n]][2]]);return c}function Oy(t,n){for(var e,r,i=t.length,o=t[i-1],a=n[0],u=n[1],s=o[0],c=o[1],f=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>u!=c>u&&a<(s-e)*(u-r)/(c-r)+e&&(f=!f),s=e,c=r;return f}function Ry(t){for(var n,e,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],s=0;++r<i;)n=a,e=u,n-=a=(o=t[r])[0],e-=u=o[1],s+=Math.hypot(n,e);return s}var Iy=Math.random,zy=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Iy),Vy=function t(n){function e(t,e){return arguments.length<2&&(e=t,t=0),t=Math.floor(t),e=Math.floor(e)-t,function(){return Math.floor(n()*e+t)}}return e.source=t,e}(Iy),Dy=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(Iy),Ly=function t(n){var e=Dy.source(n);function r(){var t=e.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(Iy),By=function t(n){function e(t){return(t=+t)<=0?()=>0:function(){for(var e=0,r=t;r>1;--r)e+=n();return e+r*n()}}return e.source=t,e}(Iy),Fy=function t(n){var e=By.source(n);function r(t){if(0==(t=+t))return n;var r=e(t);return function(){return r()/t}}return r.source=t,r}(Iy),Uy=function t(n){function e(t){return function(){return-Math.log1p(-n())/t}}return e.source=t,e}(Iy),qy=function t(n){function e(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-n(),t)}}return e.source=t,e}(Iy),Hy=function t(n){function e(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(n()+t)}}return e.source=t,e}(Iy),Yy=function t(n){function e(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-n())/t)})}return e.source=t,e}(Iy),Xy=function t(n){var e=Dy.source(n)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-n())*r;var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),a=t<1?()=>Math.pow(n(),1/t):()=>1;return function(){do{do{var t=e(),u=1+o*t}while(u<=0);u*=u*u;var s=1-n()}while(s>=1-.0331*t*t*t*t&&Math.log(s)>=.5*t*t+i*(1-u+Math.log(u)));return i*u*a()*r}}return r.source=t,r}(Iy),jy=function t(n){var e=Xy.source(n);function r(t,n){var r=e(t),i=e(n);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(Iy),Wy=function t(n){var e=Yy.source(n),r=jy.source(n);function i(t,n){return t=+t,(n=+n)>=1?()=>t:n<=0?()=>0:function(){for(var i=0,o=t,a=n;o*a>16&&o*(1-a)>16;){var u=Math.floor((o+1)*a),s=r(u,o-u+1)();s<=a?(i+=u,o-=u,a=(a-s)/(1-s)):(o=u-1,a/=s)}for(var c=a<.5,f=e(c?a:1-a),l=f(),h=0;l<=o;++h)l+=f();return i+(c?h:o-h)}}return i.source=t,i}(Iy),Gy=function t(n){function e(t,e,r){var i;return 0==(t=+t)?i=t=>-Math.log(t):(t=1/t,i=n=>Math.pow(n,t)),e=null==e?0:+e,r=null==r?1:+r,function(){return e+r*i(-Math.log1p(-n()))}}return e.source=t,e}(Iy),Qy=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,function(){return t+e*Math.tan(Math.PI*n())}}return e.source=t,e}(Iy),$y=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,function(){var r=n();return t+e*Math.log(r/(1-r))}}return e.source=t,e}(Iy),Zy=function t(n){var e=Xy.source(n),r=Wy.source(n);function i(t){return function(){for(var i=0,o=t;o>16;){var a=Math.floor(.875*o),u=e(a)();if(u>o)return i+r(a-1,o/u)();i+=a,o-=u}for(var s=-Math.log1p(-n()),c=0;s<=o;++c)s-=Math.log1p(-n());return i+c}}return i.source=t,i}(Iy);const Ky=1/4294967296;function Jy(t=Math.random()){let n=0|(0<=t&&t<1?t/Ky:Math.abs(t));return()=>(n=1664525*n+1013904223|0,Ky*(n>>>0))}function tm(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function nm(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}const em=Symbol("implicit");function rm(){var t=new R,n=[],e=[],r=em;function i(i){let o=t.get(i);if(void 0===o){if(r!==em)return r;t.set(i,o=n.push(i)-1)}return e[o%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new R;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return rm(n,e).unknown(r)},tm.apply(i,arguments),i}function im(){var t,n,e=rm().unknown(void 0),r=e.domain,i=e.range,o=0,a=1,u=!1,s=0,c=0,f=.5;function l(){var e=r().length,l=a<o,h=l?a:o,d=l?o:a;t=(d-h)/Math.max(1,e-s+2*c),u&&(t=Math.floor(t)),h+=(d-h-t*(e-s))*f,n=t*(1-s),u&&(h=Math.round(h),n=Math.round(n));var p=Rt(e).map((function(n){return h+t*n}));return i(l?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),l()):r()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,l()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,u=!0,l()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(u=!!t,l()):u},e.padding=function(t){return arguments.length?(s=Math.min(1,c=+t),l()):s},e.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),l()):s},e.paddingOuter=function(t){return arguments.length?(c=+t,l()):c},e.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),l()):f},e.copy=function(){return im(r(),[o,a]).round(u).paddingInner(s).paddingOuter(c).align(f)},tm.apply(l(),arguments)}function om(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return om(n())},t}function am(){return om(im.apply(null,arguments).paddingInner(1))}function um(t){return+t}var sm=[0,1];function cm(t){return t}function fm(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function lm(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=fm(i,r),o=e(a,o)):(r=fm(r,i),o=e(o,a)),function(t){return o(r(t))}}function hm(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=fm(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=d(t,n,1,r)-1;return o[e](i[e](n))}}function dm(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pm(){var t,n,e,r,i,o,a=sm,u=sm,s=Wr,c=cm;function f(){var t=Math.min(a.length,u.length);return c!==cm&&(c=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?hm:lm,i=o=null,l}function l(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(c(n)))}return l.invert=function(e){return c(n((o||(o=r(u,a.map(t),qr)))(e)))},l.domain=function(t){return arguments.length?(a=Array.from(t,um),f()):a.slice()},l.range=function(t){return arguments.length?(u=Array.from(t),f()):u.slice()},l.rangeRound=function(t){return u=Array.from(t),s=ly,f()},l.clamp=function(t){return arguments.length?(c=!!t||cm,f()):c!==cm},l.interpolate=function(t){return arguments.length?(s=t,f()):s},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,f()}}function gm(){return pm()(cm,cm)}function ym(t,n,e,r){var i,o=ft(t,n,e);switch((r=Qc(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=cf(o,a))||(r.precision=i),ef(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=ff(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=sf(o))||(r.precision=i-2*("%"===r.type))}return nf(r)}function mm(t){var n=t.domain;return t.ticks=function(t){var e=n();return st(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return ym(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,s=o[a],c=o[u],f=10;for(c<s&&(i=s,s=c,c=i,i=a,a=u,u=i);f-- >0;){if((i=ct(s,c,e))===r)return o[a]=s,o[u]=c,n(o);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function vm(){var t=gm();return t.copy=function(){return dm(t,vm())},tm.apply(t,arguments),mm(t)}function bm(t){var n;function e(t){return null==t||isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Array.from(n,um),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return bm(t).unknown(n)},t=arguments.length?Array.from(t,um):[0,1],mm(e)}function xm(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function _m(t){return Math.log(t)}function wm(t){return Math.exp(t)}function Mm(t){return-Math.log(-t)}function Am(t){return-Math.exp(-t)}function Sm(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Tm(t){return function(n){return-t(-n)}}function Em(t){var n,e,r=t(_m,wm),i=r.domain,o=10;function a(){return n=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}(o),e=function(t){return 10===t?Sm:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}(o),i()[0]<0?(n=Tm(n),e=Tm(e),t(Mm,Am)):t(_m,wm),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),u=a[0],s=a[a.length-1];(r=s<u)&&(h=u,u=s,s=h);var c,f,l,h=n(u),d=n(s),p=null==t?10:+t,g=[];if(!(o%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(f=1,c=e(h);f<o;++f)if(!((l=c*f)<u)){if(l>s)break;g.push(l)}}else for(;h<=d;++h)for(f=o-1,c=e(h);f>=1;--f)if(!((l=c*f)<u)){if(l>s)break;g.push(l)}2*g.length<p&&(g=st(u,s,p))}else g=st(h,d,Math.min(d-h,p)).map(e);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=nf(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/e(Math.round(n(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(xm(i(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},r}function Nm(){var t=Em(pm()).domain([1,10]);return t.copy=function(){return dm(t,Nm()).base(t.base())},tm.apply(t,arguments),t}function Cm(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Pm(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function km(t){var n=1,e=t(Cm(n),Pm(n));return e.constant=function(e){return arguments.length?t(Cm(n=+e),Pm(n)):n},mm(e)}function Om(){var t=km(pm());return t.copy=function(){return dm(t,Om()).constant(t.constant())},tm.apply(t,arguments)}function Rm(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Im(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zm(t){return t<0?-t*t:t*t}function Vm(t){var n=t(cm,cm),e=1;function r(){return 1===e?t(cm,cm):.5===e?t(Im,zm):t(Rm(e),Rm(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},mm(n)}function Dm(){var t=Vm(pm());return t.copy=function(){return dm(t,Dm()).exponent(t.exponent())},tm.apply(t,arguments),t}function Lm(){return Dm.apply(null,arguments).exponent(.5)}function Bm(t){return Math.sign(t)*t*t}function Fm(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Um(){var t,n=gm(),e=[0,1],r=!1;function i(e){var i=Fm(n(e));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return n.invert(Bm(t))},i.domain=function(t){return arguments.length?(n.domain(t),i):n.domain()},i.range=function(t){return arguments.length?(n.range((e=Array.from(t,um)).map(Bm)),i):e.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(n.clamp(t),i):n.clamp()},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return Um(n.domain(),e).round(r).clamp(n.clamp()).unknown(t)},tm.apply(i,arguments),mm(i)}function qm(){var t,n=[],e=[],i=[];function o(){var t=0,r=Math.max(1,e.length);for(i=new Array(r-1);++t<r;)i[t-1]=wt(n,t/r);return a}function a(n){return null==n||isNaN(n=+n)?t:e[d(i,n)]}return a.invertExtent=function(t){var r=e.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:n[0],r<i.length?i[r]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(r),o()},a.range=function(t){return arguments.length?(e=Array.from(t),o()):e.slice()},a.unknown=function(n){return arguments.length?(t=n,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return qm().domain(n).range(e).unknown(t)},tm.apply(a,arguments)}function Hm(){var t,n=0,e=1,r=1,i=[.5],o=[0,1];function a(n){return null!=n&&n<=n?o[d(i,n,0,r)]:t}function u(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*e-(t-r)*n)/(r+1);return a}return a.domain=function(t){return arguments.length?([n,e]=t,n=+n,e=+e,u()):[n,e]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,u()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[n,i[0]]:a>=r?[i[r-1],e]:[i[a-1],i[a]]},a.unknown=function(n){return arguments.length?(t=n,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Hm().domain([n,e]).range(o).unknown(t)},tm.apply(mm(a),arguments)}function Ym(){var t,n=[.5],e=[0,1],r=1;function i(i){return null!=i&&i<=i?e[d(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return Ym().domain(n).range(e).unknown(t)},tm.apply(i,arguments)}const Xm=1e3,jm=6e4,Wm=36e5,Gm=864e5,Qm=6048e5,$m=2592e6,Zm=31536e6;var Km=new Date,Jm=new Date;function tv(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=function(e){return tv((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return Km.setTime(+n),Jm.setTime(+r),t(Km),t(Jm),Math.floor(e(Km,Jm))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var nv=tv((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));nv.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?tv((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):nv:null};var ev=nv,rv=nv.range,iv=tv((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+n*Xm)}),(function(t,n){return(n-t)/Xm}),(function(t){return t.getUTCSeconds()})),ov=iv,av=iv.range,uv=tv((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xm)}),(function(t,n){t.setTime(+t+n*jm)}),(function(t,n){return(n-t)/jm}),(function(t){return t.getMinutes()})),sv=uv,cv=uv.range,fv=tv((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xm-t.getMinutes()*jm)}),(function(t,n){t.setTime(+t+n*Wm)}),(function(t,n){return(n-t)/Wm}),(function(t){return t.getHours()})),lv=fv,hv=fv.range,dv=tv((t=>t.setHours(0,0,0,0)),((t,n)=>t.setDate(t.getDate()+n)),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*jm)/Gm),(t=>t.getDate()-1)),pv=dv,gv=dv.range;function yv(t){return tv((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*jm)/Qm}))}var mv=yv(0),vv=yv(1),bv=yv(2),xv=yv(3),_v=yv(4),wv=yv(5),Mv=yv(6),Av=mv.range,Sv=vv.range,Tv=bv.range,Ev=xv.range,Nv=_v.range,Cv=wv.range,Pv=Mv.range,kv=tv((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Ov=kv,Rv=kv.range,Iv=tv((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Iv.every=function(t){return isFinite(t=Math.floor(t))&&t>0?tv((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var zv=Iv,Vv=Iv.range,Dv=tv((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*jm)}),(function(t,n){return(n-t)/jm}),(function(t){return t.getUTCMinutes()})),Lv=Dv,Bv=Dv.range,Fv=tv((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+n*Wm)}),(function(t,n){return(n-t)/Wm}),(function(t){return t.getUTCHours()})),Uv=Fv,qv=Fv.range,Hv=tv((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/Gm}),(function(t){return t.getUTCDate()-1})),Yv=Hv,Xv=Hv.range;function jv(t){return tv((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/Qm}))}var Wv=jv(0),Gv=jv(1),Qv=jv(2),$v=jv(3),Zv=jv(4),Kv=jv(5),Jv=jv(6),tb=Wv.range,nb=Gv.range,eb=Qv.range,rb=$v.range,ib=Zv.range,ob=Kv.range,ab=Jv.range,ub=tv((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),sb=ub,cb=ub.range,fb=tv((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));fb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?tv((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var lb=fb,hb=fb.range;function db(t,n,e,r,i,a){const u=[[ov,1,Xm],[ov,5,5e3],[ov,15,15e3],[ov,30,3e4],[a,1,jm],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Wm],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Gm],[r,2,1728e5],[e,1,Qm],[n,1,$m],[n,3,7776e6],[t,1,Zm]];function s(n,e,r){const i=Math.abs(e-n)/r,a=o((([,,t])=>t)).right(u,i);if(a===u.length)return t.every(ft(n/Zm,e/Zm,r));if(0===a)return ev.every(Math.max(ft(n,e,r),1));const[s,c]=u[i/u[a-1][2]<u[a][2]/i?a-1:a];return s.every(c)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:s(t,n,e),o=i?i.range(t,+n+1):[];return r?o.reverse():o},s]}const[pb,gb]=db(lb,sb,Wv,Yv,Uv,Lv),[yb,mb]=db(zv,Ov,mv,pv,lv,sv);function vb(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function bb(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xb(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function _b(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,c=Rb(i),f=Ib(i),l=Rb(o),h=Ib(o),d=Rb(a),p=Ib(a),g=Rb(u),y=Ib(u),m=Rb(s),v=Ib(s),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:nx,e:nx,f:ax,g:mx,G:bx,H:ex,I:rx,j:ix,L:ox,m:ux,M:sx,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:qx,s:Hx,S:cx,u:fx,U:lx,V:dx,w:px,W:gx,x:null,X:null,y:yx,Y:vx,Z:xx,"%":Ux},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:_x,e:_x,f:Tx,g:Dx,G:Bx,H:wx,I:Mx,j:Ax,L:Sx,m:Ex,M:Nx,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:qx,s:Hx,S:Cx,u:Px,U:kx,V:Rx,w:Ix,W:zx,x:null,X:null,y:Vx,Y:Lx,Z:Fx,"%":Ux},_={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=v.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return A(t,n,e,r)},d:Xb,e:Xb,f:Zb,g:Ub,G:Fb,H:Wb,I:Wb,j:jb,L:$b,m:Yb,M:Gb,p:function(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=f.get(r[0].toLowerCase()),e+r[0].length):-1},q:Hb,Q:Jb,s:tx,S:Qb,u:Vb,U:Db,V:Lb,w:zb,W:Bb,x:function(t,n,r){return A(t,e,n,r)},X:function(t,n,e){return A(t,r,n,e)},y:Ub,Y:Fb,Z:qb,"%":Kb};function w(t,n){return function(e){var r,i,o,a=[],u=-1,s=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=Eb[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=xb(1900,void 0,1);if(A(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=bb(xb(o.y,0,1))).getUTCDay(),r=i>4||0===i?Gv.ceil(r):Gv(r),r=Yv.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=vb(xb(o.y,0,1))).getDay(),r=i>4||0===i?vv.ceil(r):vv(r),r=pv.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?bb(xb(o.y,0,1)).getUTCDay():vb(xb(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,bb(o)):vb(o)}}function A(t,n,e,r){for(var i,o,a=0,u=n.length,s=e.length;a<u;){if(r>=s)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=_[i in Eb?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),x.x=w(e,x),x.X=w(r,x),x.c=w(n,x),{format:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",x);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}var wb,Mb,Ab,Sb,Tb,Eb={"-":"",_:" ",0:"0"},Nb=/^\s*\d+/,Cb=/^%/,Pb=/[\\^$*+?|[\]().{}]/g;function kb(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Ob(t){return t.replace(Pb,"\\$&")}function Rb(t){return new RegExp("^(?:"+t.map(Ob).join("|")+")","i")}function Ib(t){return new Map(t.map(((t,n)=>[t.toLowerCase(),n])))}function zb(t,n,e){var r=Nb.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Vb(t,n,e){var r=Nb.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Db(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Lb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Bb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Fb(t,n,e){var r=Nb.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Ub(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function qb(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Hb(t,n,e){var r=Nb.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Yb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Xb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function jb(t,n,e){var r=Nb.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Wb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Gb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Qb(t,n,e){var r=Nb.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function $b(t,n,e){var r=Nb.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Zb(t,n,e){var r=Nb.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Kb(t,n,e){var r=Cb.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Jb(t,n,e){var r=Nb.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function tx(t,n,e){var r=Nb.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function nx(t,n){return kb(t.getDate(),n,2)}function ex(t,n){return kb(t.getHours(),n,2)}function rx(t,n){return kb(t.getHours()%12||12,n,2)}function ix(t,n){return kb(1+pv.count(zv(t),t),n,3)}function ox(t,n){return kb(t.getMilliseconds(),n,3)}function ax(t,n){return ox(t,n)+"000"}function ux(t,n){return kb(t.getMonth()+1,n,2)}function sx(t,n){return kb(t.getMinutes(),n,2)}function cx(t,n){return kb(t.getSeconds(),n,2)}function fx(t){var n=t.getDay();return 0===n?7:n}function lx(t,n){return kb(mv.count(zv(t)-1,t),n,2)}function hx(t){var n=t.getDay();return n>=4||0===n?_v(t):_v.ceil(t)}function dx(t,n){return t=hx(t),kb(_v.count(zv(t),t)+(4===zv(t).getDay()),n,2)}function px(t){return t.getDay()}function gx(t,n){return kb(vv.count(zv(t)-1,t),n,2)}function yx(t,n){return kb(t.getFullYear()%100,n,2)}function mx(t,n){return kb((t=hx(t)).getFullYear()%100,n,2)}function vx(t,n){return kb(t.getFullYear()%1e4,n,4)}function bx(t,n){var e=t.getDay();return kb((t=e>=4||0===e?_v(t):_v.ceil(t)).getFullYear()%1e4,n,4)}function xx(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+kb(n/60|0,"0",2)+kb(n%60,"0",2)}function _x(t,n){return kb(t.getUTCDate(),n,2)}function wx(t,n){return kb(t.getUTCHours(),n,2)}function Mx(t,n){return kb(t.getUTCHours()%12||12,n,2)}function Ax(t,n){return kb(1+Yv.count(lb(t),t),n,3)}function Sx(t,n){return kb(t.getUTCMilliseconds(),n,3)}function Tx(t,n){return Sx(t,n)+"000"}function Ex(t,n){return kb(t.getUTCMonth()+1,n,2)}function Nx(t,n){return kb(t.getUTCMinutes(),n,2)}function Cx(t,n){return kb(t.getUTCSeconds(),n,2)}function Px(t){var n=t.getUTCDay();return 0===n?7:n}function kx(t,n){return kb(Wv.count(lb(t)-1,t),n,2)}function Ox(t){var n=t.getUTCDay();return n>=4||0===n?Zv(t):Zv.ceil(t)}function Rx(t,n){return t=Ox(t),kb(Zv.count(lb(t),t)+(4===lb(t).getUTCDay()),n,2)}function Ix(t){return t.getUTCDay()}function zx(t,n){return kb(Gv.count(lb(t)-1,t),n,2)}function Vx(t,n){return kb(t.getUTCFullYear()%100,n,2)}function Dx(t,n){return kb((t=Ox(t)).getUTCFullYear()%100,n,2)}function Lx(t,n){return kb(t.getUTCFullYear()%1e4,n,4)}function Bx(t,n){var e=t.getUTCDay();return kb((t=e>=4||0===e?Zv(t):Zv.ceil(t)).getUTCFullYear()%1e4,n,4)}function Fx(){return"+0000"}function Ux(){return"%"}function qx(t){return+t}function Hx(t){return Math.floor(+t/1e3)}function Yx(t){return wb=_b(t),Mb=wb.format,Ab=wb.parse,Sb=wb.utcFormat,Tb=wb.utcParse,wb}function Xx(t){return new Date(t)}function jx(t){return t instanceof Date?+t:+new Date(+t)}function Wx(t,n,e,r,i,o,a,u,s,c){var f=gm(),l=f.invert,h=f.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),m=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function _(t){return(s(t)<t?d:u(t)<t?p:a(t)<t?g:o(t)<t?y:r(t)<t?i(t)<t?m:v:e(t)<t?b:x)(t)}return f.invert=function(t){return new Date(l(t))},f.domain=function(t){return arguments.length?h(Array.from(t,jx)):h().map(Xx)},f.ticks=function(n){var e=h();return t(e[0],e[e.length-1],null==n?10:n)},f.tickFormat=function(t,n){return null==n?_:c(n)},f.nice=function(t){var e=h();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?h(xm(e,t)):f},f.copy=function(){return dm(f,Wx(t,n,e,r,i,o,a,u,s,c))},f}function Gx(){return tm.apply(Wx(yb,mb,zv,Ov,mv,pv,lv,sv,ov,Mb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qx(){return tm.apply(Wx(pb,gb,lb,sb,Wv,Yv,Uv,Lv,ov,Sb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $x(){var t,n,e,r,i,o=0,a=1,u=cm,s=!1;function c(n){return null==n||isNaN(n=+n)?i:u(0===e?.5:(n=(r(n)-t)*e,s?Math.max(0,Math.min(1,n)):n))}function f(t){return function(n){var e,r;return arguments.length?([e,r]=n,u=t(e,r),c):[u(0),u(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),n=r(a=+a),e=t===n?0:1/(n-t),c):[o,a]},c.clamp=function(t){return arguments.length?(s=!!t,c):s},c.interpolator=function(t){return arguments.length?(u=t,c):u},c.range=f(Wr),c.rangeRound=f(ly),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),n=i(a),e=t===n?0:1/(n-t),c}}function Zx(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Kx(){var t=mm($x()(cm));return t.copy=function(){return Zx(t,Kx())},nm.apply(t,arguments)}function Jx(){var t=Em($x()).domain([1,10]);return t.copy=function(){return Zx(t,Jx()).base(t.base())},nm.apply(t,arguments)}function t_(){var t=km($x());return t.copy=function(){return Zx(t,t_()).constant(t.constant())},nm.apply(t,arguments)}function n_(){var t=Vm($x());return t.copy=function(){return Zx(t,n_()).exponent(t.exponent())},nm.apply(t,arguments)}function e_(){return n_.apply(null,arguments).exponent(.5)}function r_(){var t=[],n=cm;function e(e){if(null!=e&&!isNaN(e=+e))return n((d(t,e,1)-1)/(t.length-1))}return e.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let e of n)null==e||isNaN(e=+e)||t.push(e);return t.sort(r),e},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.range=function(){return t.map(((e,r)=>n(r/(t.length-1))))},e.quantiles=function(n){return Array.from({length:n+1},((e,r)=>_t(t,r/n)))},e.copy=function(){return r_(n).domain(t)},nm.apply(e,arguments)}function i_(){var t,n,e,r,i,o,a,u=0,s=.5,c=1,f=1,l=cm,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-n)*(f*t<f*n?r:i),l(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(n){var e,r,i;return arguments.length?([e,r,i]=n,l=Ay(t,[e,r,i]),d):[l(0),l(.5),l(1)]}}return d.domain=function(a){return arguments.length?([u,s,c]=a,t=o(u=+u),n=o(s=+s),e=o(c=+c),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),f=n<t?-1:1,d):[u,s,c]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(l=t,d):l},d.range=p(Wr),d.rangeRound=p(ly),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(u),n=a(s),e=a(c),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),f=n<t?-1:1,d}}function o_(){var t=mm(i_()(cm));return t.copy=function(){return Zx(t,o_())},nm.apply(t,arguments)}function a_(){var t=Em(i_()).domain([.1,1,10]);return t.copy=function(){return Zx(t,a_()).base(t.base())},nm.apply(t,arguments)}function u_(){var t=km(i_());return t.copy=function(){return Zx(t,u_()).constant(t.constant())},nm.apply(t,arguments)}function s_(){var t=Vm(i_());return t.copy=function(){return Zx(t,s_()).exponent(t.exponent())},nm.apply(t,arguments)}function c_(){return s_.apply(null,arguments).exponent(.5)}function f_(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}Yx({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var l_=f_("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),h_=f_("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),d_=f_("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),p_=f_("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),g_=f_("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),y_=f_("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),m_=f_("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),v_=f_("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),b_=f_("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),x_=f_("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),__=t=>zr(t[t.length-1]),w_=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(f_),M_=__(w_),A_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(f_),S_=__(A_),T_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(f_),E_=__(T_),N_=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(f_),C_=__(N_),P_=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(f_),k_=__(P_),O_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(f_),R_=__(O_),I_=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(f_),z_=__(I_),V_=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(f_),D_=__(V_),L_=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(f_),B_=__(L_),F_=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(f_),U_=__(F_),q_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(f_),H_=__(q_),Y_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(f_),X_=__(Y_),j_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(f_),W_=__(j_),G_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(f_),Q_=__(G_),$_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(f_),Z_=__($_),K_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(f_),J_=__(K_),tw=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(f_),nw=__(tw),ew=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(f_),rw=__(ew),iw=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(f_),ow=__(iw),aw=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(f_),uw=__(aw),sw=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(f_),cw=__(sw),fw=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(f_),lw=__(fw),hw=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(f_),dw=__(hw),pw=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(f_),gw=__(pw),yw=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(f_),mw=__(yw),vw=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(f_),bw=__(vw),xw=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(f_),_w=__(xw);function ww(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var Mw=My(tu(300,.5,0),tu(-240,.5,1)),Aw=My(tu(-100,.75,.35),tu(80,1.5,.8)),Sw=My(tu(260,.75,.35),tu(80,1.5,.8)),Tw=tu();function Ew(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Tw.h=360*t-100,Tw.s=1.5-1.5*n,Tw.l=.8-.9*n,Tw+""}var Nw=gr(),Cw=Math.PI/3,Pw=2*Math.PI/3;function kw(t){var n;return t=(.5-t)*Math.PI,Nw.r=255*(n=Math.sin(t))*n,Nw.g=255*(n=Math.sin(t+Cw))*n,Nw.b=255*(n=Math.sin(t+Pw))*n,Nw+""}function Ow(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Rw(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var Iw=Rw(f_("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),zw=Rw(f_("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Vw=Rw(f_("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Dw=Rw(f_("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Lw(t){return Fe(Se(t).call(document.documentElement))}var Bw=0;function Fw(){return new Uw}function Uw(){this._="@"+(++Bw).toString(36)}function qw(t,n){return t.target&&(t=Gr(t),void 0===n&&(n=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>Qr(t,n)))}function Hw(t){return"string"==typeof t?new De([document.querySelectorAll(t)],[document.documentElement]):new De([En(t)],Ve)}function Yw(t){return function(){return t}}Uw.prototype=Fw.prototype={constructor:Uw,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Xw=Math.abs,jw=Math.atan2,Ww=Math.cos,Gw=Math.max,Qw=Math.min,$w=Math.sin,Zw=Math.sqrt,Kw=1e-12,Jw=Math.PI,tM=Jw/2,nM=2*Jw;function eM(t){return t>1?0:t<-1?Jw:Math.acos(t)}function rM(t){return t>=1?tM:t<=-1?-tM:Math.asin(t)}function iM(t){return t.innerRadius}function oM(t){return t.outerRadius}function aM(t){return t.startAngle}function uM(t){return t.endAngle}function sM(t){return t&&t.padAngle}function cM(t,n,e,r,i,o,a,u){var s=e-t,c=r-n,f=a-i,l=u-o,h=l*s-f*c;if(!(h*h<Kw))return[t+(h=(f*(n-o)-l*(t-i))/h)*s,n+h*c]}function fM(t,n,e,r,i,o,a){var u=t-e,s=n-r,c=(a?o:-o)/Zw(u*u+s*s),f=c*s,l=-c*u,h=t+f,d=n+l,p=e+f,g=r+l,y=(h+p)/2,m=(d+g)/2,v=p-h,b=g-d,x=v*v+b*b,_=i-o,w=h*g-p*d,M=(b<0?-1:1)*Zw(Gw(0,_*_*x-w*w)),A=(w*b-v*M)/x,S=(-w*v-b*M)/x,T=(w*b+v*M)/x,E=(-w*v+b*M)/x,N=A-y,C=S-m,P=T-y,k=E-m;return N*N+C*C>P*P+k*k&&(A=T,S=E),{cx:A,cy:S,x01:-f,y01:-l,x11:A*(i/_-1),y11:S*(i/_-1)}}function lM(){var t=iM,n=oM,e=Yw(0),r=null,i=aM,o=uM,a=sM,u=null;function s(){var s,c,f=+t.apply(this,arguments),l=+n.apply(this,arguments),h=i.apply(this,arguments)-tM,d=o.apply(this,arguments)-tM,p=Xw(d-h),g=d>h;if(u||(u=s=ha()),l<f&&(c=l,l=f,f=c),l>Kw)if(p>nM-Kw)u.moveTo(l*Ww(h),l*$w(h)),u.arc(0,0,l,h,d,!g),f>Kw&&(u.moveTo(f*Ww(d),f*$w(d)),u.arc(0,0,f,d,h,g));else{var y,m,v=h,b=d,x=h,_=d,w=p,M=p,A=a.apply(this,arguments)/2,S=A>Kw&&(r?+r.apply(this,arguments):Zw(f*f+l*l)),T=Qw(Xw(l-f)/2,+e.apply(this,arguments)),E=T,N=T;if(S>Kw){var C=rM(S/f*$w(A)),P=rM(S/l*$w(A));(w-=2*C)>Kw?(x+=C*=g?1:-1,_-=C):(w=0,x=_=(h+d)/2),(M-=2*P)>Kw?(v+=P*=g?1:-1,b-=P):(M=0,v=b=(h+d)/2)}var k=l*Ww(v),O=l*$w(v),R=f*Ww(_),I=f*$w(_);if(T>Kw){var z,V=l*Ww(b),D=l*$w(b),L=f*Ww(x),B=f*$w(x);if(p<Jw&&(z=cM(k,O,L,B,V,D,R,I))){var F=k-z[0],U=O-z[1],q=V-z[0],H=D-z[1],Y=1/$w(eM((F*q+U*H)/(Zw(F*F+U*U)*Zw(q*q+H*H)))/2),X=Zw(z[0]*z[0]+z[1]*z[1]);E=Qw(T,(f-X)/(Y-1)),N=Qw(T,(l-X)/(Y+1))}}M>Kw?N>Kw?(y=fM(L,B,k,O,l,N,g),m=fM(V,D,R,I,l,N,g),u.moveTo(y.cx+y.x01,y.cy+y.y01),N<T?u.arc(y.cx,y.cy,N,jw(y.y01,y.x01),jw(m.y01,m.x01),!g):(u.arc(y.cx,y.cy,N,jw(y.y01,y.x01),jw(y.y11,y.x11),!g),u.arc(0,0,l,jw(y.cy+y.y11,y.cx+y.x11),jw(m.cy+m.y11,m.cx+m.x11),!g),u.arc(m.cx,m.cy,N,jw(m.y11,m.x11),jw(m.y01,m.x01),!g))):(u.moveTo(k,O),u.arc(0,0,l,v,b,!g)):u.moveTo(k,O),f>Kw&&w>Kw?E>Kw?(y=fM(R,I,V,D,f,-E,g),m=fM(k,O,L,B,f,-E,g),u.lineTo(y.cx+y.x01,y.cy+y.y01),E<T?u.arc(y.cx,y.cy,E,jw(y.y01,y.x01),jw(m.y01,m.x01),!g):(u.arc(y.cx,y.cy,E,jw(y.y01,y.x01),jw(y.y11,y.x11),!g),u.arc(0,0,f,jw(y.cy+y.y11,y.cx+y.x11),jw(m.cy+m.y11,m.cx+m.x11),g),u.arc(m.cx,m.cy,E,jw(m.y11,m.x11),jw(m.y01,m.x01),!g))):u.arc(0,0,f,_,x,g):u.lineTo(R,I)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Jw/2;return[Ww(r)*e,$w(r)*e]},s.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:Yw(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Yw(+t),s):n},s.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Yw(+t),s):e},s.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Yw(+t),s):r},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Yw(+t),s):i},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Yw(+t),s):o},s.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Yw(+t),s):a},s.context=function(t){return arguments.length?(u=null==t?null:t,s):u},s}var hM=Array.prototype.slice;function dM(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function pM(t){this._context=t}function gM(t){return new pM(t)}function yM(t){return t[0]}function mM(t){return t[1]}function vM(t,n){var e=Yw(!0),r=null,i=gM,o=null;function a(a){var u,s,c,f=(a=dM(a)).length,l=!1;for(null==r&&(o=i(c=ha())),u=0;u<=f;++u)!(u<f&&e(s=a[u],u,a))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(s,u,a),+n(s,u,a));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?yM:Yw(t),n="function"==typeof n?n:void 0===n?mM:Yw(n),a.x=function(n){return arguments.length?(t="function"==typeof n?n:Yw(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:Yw(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:Yw(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function bM(t,n,e){var r=null,i=Yw(!0),o=null,a=gM,u=null;function s(s){var c,f,l,h,d,p=(s=dM(s)).length,g=!1,y=new Array(p),m=new Array(p);for(null==o&&(u=a(d=ha())),c=0;c<=p;++c){if(!(c<p&&i(h=s[c],c,s))===g)if(g=!g)f=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),l=c-1;l>=f;--l)u.point(y[l],m[l]);u.lineEnd(),u.areaEnd()}g&&(y[c]=+t(h,c,s),m[c]=+n(h,c,s),u.point(r?+r(h,c,s):y[c],e?+e(h,c,s):m[c]))}if(d)return u=null,d+""||null}function c(){return vM().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?yM:Yw(+t),n="function"==typeof n?n:Yw(void 0===n?0:+n),e="function"==typeof e?e:void 0===e?mM:Yw(+e),s.x=function(n){return arguments.length?(t="function"==typeof n?n:Yw(+n),r=null,s):t},s.x0=function(n){return arguments.length?(t="function"==typeof n?n:Yw(+n),s):t},s.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Yw(+t),s):r},s.y=function(t){return arguments.length?(n="function"==typeof t?t:Yw(+t),e=null,s):n},s.y0=function(t){return arguments.length?(n="function"==typeof t?t:Yw(+t),s):n},s.y1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Yw(+t),s):e},s.lineX0=s.lineY0=function(){return c().x(t).y(n)},s.lineY1=function(){return c().x(t).y(e)},s.lineX1=function(){return c().x(r).y(n)},s.defined=function(t){return arguments.length?(i="function"==typeof t?t:Yw(!!t),s):i},s.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),s):a},s.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),s):o},s}function xM(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function _M(t){return t}function wM(){var t=_M,n=xM,e=null,r=Yw(0),i=Yw(nM),o=Yw(0);function a(a){var u,s,c,f,l,h=(a=dM(a)).length,d=0,p=new Array(h),g=new Array(h),y=+r.apply(this,arguments),m=Math.min(nM,Math.max(-nM,i.apply(this,arguments)-y)),v=Math.min(Math.abs(m)/h,o.apply(this,arguments)),b=v*(m<0?-1:1);for(u=0;u<h;++u)(l=g[p[u]=u]=+t(a[u],u,a))>0&&(d+=l);for(null!=n?p.sort((function(t,e){return n(g[t],g[e])})):null!=e&&p.sort((function(t,n){return e(a[t],a[n])})),u=0,c=d?(m-h*b)/d:0;u<h;++u,y=f)s=p[u],f=y+((l=g[s])>0?l*c:0)+b,g[s]={data:a[s],index:u,value:l,startAngle:y,endAngle:f,padAngle:v};return g}return a.value=function(n){return arguments.length?(t="function"==typeof n?n:Yw(+n),a):t},a.sortValues=function(t){return arguments.length?(n=t,e=null,a):n},a.sort=function(t){return arguments.length?(e=t,n=null,a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Yw(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Yw(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Yw(+t),a):o},a}pM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var MM=SM(gM);function AM(t){this._curve=t}function SM(t){function n(n){return new AM(t(n))}return n._curve=t,n}function TM(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(SM(t)):n()._curve},t}function EM(){return TM(vM().curve(MM))}function NM(){var t=bM().curve(MM),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return TM(e())},delete t.lineX0,t.lineEndAngle=function(){return TM(r())},delete t.lineX1,t.lineInnerRadius=function(){return TM(i())},delete t.lineY0,t.lineOuterRadius=function(){return TM(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(SM(t)):n()._curve},t}function CM(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}function PM(t){return t.source}function kM(t){return t.target}function OM(t){var n=PM,e=kM,r=yM,i=mM,o=null;function a(){var a,u=hM.call(arguments),s=n.apply(this,u),c=e.apply(this,u);if(o||(o=a=ha()),t(o,+r.apply(this,(u[0]=s,u)),+i.apply(this,u),+r.apply(this,(u[0]=c,u)),+i.apply(this,u)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(n=t,a):n},a.target=function(t){return arguments.length?(e=t,a):e},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Yw(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Yw(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function RM(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function IM(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function zM(t,n,e,r,i){var o=CM(n,e),a=CM(n,e=(e+i)/2),u=CM(r,e),s=CM(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],s[0],s[1])}function VM(){return OM(RM)}function DM(){return OM(IM)}function LM(){var t=OM(zM);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}AM.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var BM={draw:function(t,n){var e=Math.sqrt(n/Jw);t.moveTo(e,0),t.arc(0,0,e,0,nM)}},FM={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},UM=Math.sqrt(1/3),qM=2*UM,HM={draw:function(t,n){var e=Math.sqrt(n/qM),r=e*UM;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},YM=Math.sin(Jw/10)/Math.sin(7*Jw/10),XM=Math.sin(nM/10)*YM,jM=-Math.cos(nM/10)*YM,WM={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=XM*e,i=jM*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var a=nM*o/5,u=Math.cos(a),s=Math.sin(a);t.lineTo(s*e,-u*e),t.lineTo(u*r-s*i,s*r+u*i)}t.closePath()}},GM={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},QM=Math.sqrt(3),$M={draw:function(t,n){var e=-Math.sqrt(n/(3*QM));t.moveTo(0,2*e),t.lineTo(-QM*e,-e),t.lineTo(QM*e,-e),t.closePath()}},ZM=-.5,KM=Math.sqrt(3)/2,JM=1/Math.sqrt(12),tA=3*(JM/2+1),nA={draw:function(t,n){var e=Math.sqrt(n/tA),r=e/2,i=e*JM,o=r,a=e*JM+e,u=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,s),t.lineTo(ZM*r-KM*i,KM*r+ZM*i),t.lineTo(ZM*o-KM*a,KM*o+ZM*a),t.lineTo(ZM*u-KM*s,KM*u+ZM*s),t.lineTo(ZM*r+KM*i,ZM*i-KM*r),t.lineTo(ZM*o+KM*a,ZM*a-KM*o),t.lineTo(ZM*u+KM*s,ZM*s-KM*u),t.closePath()}},eA=[BM,FM,HM,GM,WM,$M,nA];function rA(t,n){var e=null;function r(){var r;if(e||(e=r=ha()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return t="function"==typeof t?t:Yw(t||BM),n="function"==typeof n?n:Yw(void 0===n?64:+n),r.type=function(n){return arguments.length?(t="function"==typeof n?n:Yw(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:Yw(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r}function iA(){}function oA(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function aA(t){this._context=t}function uA(t){return new aA(t)}function sA(t){this._context=t}function cA(t){return new sA(t)}function fA(t){this._context=t}function lA(t){return new fA(t)}aA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oA(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oA(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},sA.prototype={areaStart:iA,areaEnd:iA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:oA(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},fA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:oA(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};class hA{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n)}this._x0=t,this._y0=n}}function dA(t){return new hA(t,!0)}function pA(t){return new hA(t,!1)}function gA(t,n){this._basis=new aA(t),this._beta=n}gA.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,s=-1;++s<=e;)r=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*n[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var yA=function t(n){function e(t){return 1===n?new aA(t):new gA(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function mA(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function vA(t,n){this._context=t,this._k=(1-n)/6}vA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:mA(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:mA(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var bA=function t(n){function e(t){return new vA(t,n)}return e.tension=function(n){return t(+n)},e}(0);function xA(t,n){this._context=t,this._k=(1-n)/6}xA.prototype={areaStart:iA,areaEnd:iA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:mA(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var _A=function t(n){function e(t){return new xA(t,n)}return e.tension=function(n){return t(+n)},e}(0);function wA(t,n){this._context=t,this._k=(1-n)/6}wA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:mA(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var MA=function t(n){function e(t){return new wA(t,n)}return e.tension=function(n){return t(+n)},e}(0);function AA(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Kw){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>Kw){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/f,a=(a*c+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function SA(t,n){this._context=t,this._alpha=n}SA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:AA(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var TA=function t(n){function e(t){return n?new SA(t,n):new vA(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function EA(t,n){this._context=t,this._alpha=n}EA.prototype={areaStart:iA,areaEnd:iA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:AA(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var NA=function t(n){function e(t){return n?new EA(t,n):new xA(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function CA(t,n){this._context=t,this._alpha=n}CA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:AA(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var PA=function t(n){function e(t){return n?new CA(t,n):new wA(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function kA(t){this._context=t}function OA(t){return new kA(t)}function RA(t){return t<0?-1:1}function IA(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(RA(o)+RA(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function zA(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function VA(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function DA(t){this._context=t}function LA(t){this._context=new BA(t)}function BA(t){this._context=t}function FA(t){return new DA(t)}function UA(t){return new LA(t)}function qA(t){this._context=t}function HA(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function YA(t){return new qA(t)}function XA(t,n){this._context=t,this._t=n}function jA(t){return new XA(t,.5)}function WA(t){return new XA(t,0)}function GA(t){return new XA(t,1)}function QA(t,n){if((i=t.length)>1)for(var e,r,i,o=1,a=t[n[0]],u=a.length;o<i;++o)for(r=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function $A(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function ZA(t,n){return t[n]}function KA(t){const n=[];return n.key=t,n}function JA(){var t=Yw([]),n=$A,e=QA,r=ZA;function i(i){var o,a,u=Array.from(t.apply(this,arguments),KA),s=u.length,c=-1;for(const t of i)for(o=0,++c;o<s;++o)(u[o][c]=[0,+r(t,u[o].key,c,i)]).data=t;for(o=0,a=dM(n(u));o<s;++o)u[a[o]].index=o;return e(u,a),u}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:Yw(Array.from(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Yw(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?$A:"function"==typeof t?t:Yw(Array.from(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?QA:t,i):e},i}function tS(t,n){if((r=t.length)>0){for(var e,r,i,o=0,a=t[0].length;o<a;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}QA(t,n)}}function nS(t,n){if((u=t.length)>0)for(var e,r,i,o,a,u,s=0,c=t[n[0]].length;s<c;++s)for(o=a=0,e=0;e<u;++e)(i=(r=t[n[e]][s])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function eS(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<e;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}QA(t,n)}}function rS(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,a=1;a<r;++a){for(var u=0,s=0,c=0;u<i;++u){for(var f=t[n[u]],l=f[a][1]||0,h=(l-(f[a-1][1]||0))/2,d=0;d<u;++d){var p=t[n[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}s+=l,c+=h*l}e[a-1][1]+=e[a-1][0]=o,s&&(o-=c/s)}e[a-1][1]+=e[a-1][0]=o,QA(t,n)}}function iS(t){var n=t.map(oS);return $A(t).sort((function(t,e){return n[t]-n[e]}))}function oS(t){for(var n,e=-1,r=0,i=t.length,o=-1/0;++e<i;)(n=+t[e][1])>o&&(o=n,r=e);return r}function aS(t){var n=t.map(uS);return $A(t).sort((function(t,e){return n[t]-n[e]}))}function uS(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function sS(t){return aS(t).reverse()}function cS(t){var n,e,r=t.length,i=t.map(uS),o=iS(t),a=0,u=0,s=[],c=[];for(n=0;n<r;++n)e=o[n],a<u?(a+=i[e],s.push(e)):(u+=i[e],c.push(e));return c.reverse().concat(s)}function fS(t){return $A(t).reverse()}kA.prototype={areaStart:iA,areaEnd:iA,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},DA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:VA(this,this._t0,zA(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,VA(this,zA(this,e=IA(this,t,n)),e);break;default:VA(this,this._t0,e=IA(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(LA.prototype=Object.create(DA.prototype)).point=function(t,n){DA.prototype.point.call(this,n,t)},BA.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},qA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=HA(t),i=HA(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},XA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var lS="%Y-%m-%dT%H:%M:%S.%LZ";var hS=Date.prototype.toISOString?function(t){return t.toISOString()}:Sb(lS),dS=hS;var pS=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:Tb(lS),gS=pS;function yS(t,n,e){var r=new si,i=n;return null==n?(r.restart(t,n,e),r):(r._restart=r.restart,r.restart=function(t,n,e){n=+n,e=null==e?ai():+e,r._restart((function o(a){a+=i,r._restart(o,i+=n,e),t(a)}),n,e)},r.restart(t,n,e),r)}var mS=t=>()=>t;function vS(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function bS(t,n,e){this.k=t,this.x=n,this.y=e}bS.prototype={constructor:bS,scale:function(t){return 1===t?this:new bS(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new bS(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xS=new bS(1,0,0);function _S(t){for(;!t.__zoom;)if(!(t=t.parentNode))return xS;return t.__zoom}function wS(t){t.stopImmediatePropagation()}function MS(t){t.preventDefault(),t.stopImmediatePropagation()}function AS(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function SS(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function TS(){return this.__zoom||xS}function ES(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function NS(){return navigator.maxTouchPoints||"ontouchstart"in this}function CS(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function PS(){var t,n,e,r=AS,i=SS,o=CS,a=ES,u=NS,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,l=dy,h=An("start","zoom","end"),d=500,p=0,g=10;function y(t){t.property("__zoom",TS).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",S).filter(u).on("touchstart.zoom",T).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,n){return(n=Math.max(s[0],Math.min(s[1],n)))===t.k?t:new bS(n,t.x,t.y)}function v(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new bS(t.k,r,i)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,n,e,r){t.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=_(t,o).event(r),u=i.apply(t,o),s=null==e?b(u):"function"==typeof e?e.apply(t,o):e,c=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),f=t.__zoom,h="function"==typeof n?n.apply(t,o):n,d=l(f.invert(s).concat(c/f.k),h.invert(s).concat(c/h.k));return function(t){if(1===t)t=h;else{var n=d(t),e=c/n[2];t=new bS(e,s[0]-n[0]*e,s[1]-n[1]*e)}a.zoom(null,t)}}))}function _(t,n,e){return!e&&t.__zooming||new w(t,n)}function w(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,n),this.taps=0}function M(t,...n){if(r.apply(this,arguments)){var e=_(this,n).event(t),i=this.__zoom,u=Math.max(s[0],Math.min(s[1],i.k*Math.pow(2,a.apply(this,arguments)))),f=Qr(t);if(e.wheel)e.mouse[0][0]===f[0]&&e.mouse[0][1]===f[1]||(e.mouse[1]=i.invert(e.mouse[0]=f)),clearTimeout(e.wheel);else{if(i.k===u)return;e.mouse=[f,i.invert(f)],_i(this),e.start()}MS(t),e.wheel=setTimeout(l,150),e.zoom("mouse",o(v(m(i,u),e.mouse[0],e.mouse[1]),e.extent,c))}function l(){e.wheel=null,e.end()}}function A(t,...n){if(!e&&r.apply(this,arguments)){var i=t.currentTarget,a=_(this,n,!0).event(t),u=Fe(t.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",d,!0),s=Qr(t,i),f=t.clientX,l=t.clientY;Xe(t.view),wS(t),a.mouse=[s,this.__zoom.invert(s)],_i(this),a.start()}function h(t){if(MS(t),!a.moved){var n=t.clientX-f,e=t.clientY-l;a.moved=n*n+e*e>p}a.event(t).zoom("mouse",o(v(a.that.__zoom,a.mouse[0]=Qr(t,i),a.mouse[1]),a.extent,c))}function d(t){u.on("mousemove.zoom mouseup.zoom",null),je(t.view,a.moved),MS(t),a.event(t).end()}}function S(t,...n){if(r.apply(this,arguments)){var e=this.__zoom,a=Qr(t.changedTouches?t.changedTouches[0]:t,this),u=e.invert(a),s=e.k*(t.shiftKey?.5:2),l=o(v(m(e,s),a,u),i.apply(this,n),c);MS(t),f>0?Fe(this).transition().duration(f).call(x,l,a,t):Fe(this).call(y.transform,l,a,t)}}function T(e,...i){if(r.apply(this,arguments)){var o,a,u,s,c=e.touches,f=c.length,l=_(this,i,e.changedTouches.length===f).event(e);for(wS(e),a=0;a<f;++a)s=[s=Qr(u=c[a],this),this.__zoom.invert(s),u.identifier],l.touch0?l.touch1||l.touch0[2]===s[2]||(l.touch1=s,l.taps=0):(l.touch0=s,o=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(l.taps<2&&(n=s[0],t=setTimeout((function(){t=null}),d)),_i(this),l.start())}}function E(t,...n){if(this.__zooming){var e,r,i,a,u=_(this,n).event(t),s=t.changedTouches,f=s.length;for(MS(t),e=0;e<f;++e)i=Qr(r=s[e],this),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=i);if(r=u.that.__zoom,u.touch1){var l=u.touch0[0],h=u.touch0[1],d=u.touch1[0],p=u.touch1[1],g=(g=d[0]-l[0])*g+(g=d[1]-l[1])*g,y=(y=p[0]-h[0])*y+(y=p[1]-h[1])*y;r=m(r,Math.sqrt(g/y)),i=[(l[0]+d[0])/2,(l[1]+d[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],a=u.touch0[1]}u.zoom("touch",o(v(r,i,a),u.extent,c))}}function N(t,...r){if(this.__zooming){var i,o,a=_(this,r).event(t),u=t.changedTouches,s=u.length;for(wS(t),e&&clearTimeout(e),e=setTimeout((function(){e=null}),d),i=0;i<s;++i)o=u[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Qr(o,this),Math.hypot(n[0]-o[0],n[1]-o[1])<g)){var c=Fe(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return y.transform=function(t,n,e,r){var i=t.selection?t.selection():t;i.property("__zoom",TS),t!==i?x(t,n,e,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},y.scaleBy=function(t,n,e,r){y.scaleTo(t,(function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e}),e,r)},y.scaleTo=function(t,n,e,r){y.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==e?b(t):"function"==typeof e?e.apply(this,arguments):e,u=r.invert(a),s="function"==typeof n?n.apply(this,arguments):n;return o(v(m(r,s),a,u),t,c)}),e,r)},y.translateBy=function(t,n,e,r){y.transform(t,(function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),i.apply(this,arguments),c)}),null,r)},y.translateTo=function(t,n,e,r,a){y.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,u=null==r?b(t):"function"==typeof r?r.apply(this,arguments):r;return o(xS.translate(u[0],u[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,c)}),r,a)},w.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=Fe(this.that).datum();h.call(t,this.that,new vS(t,{sourceEvent:this.sourceEvent,target:y,type:t,transform:this.that.__zoom,dispatch:h}),n)}},y.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:mS(+t),y):a},y.filter=function(t){return arguments.length?(r="function"==typeof t?t:mS(!!t),y):r},y.touchable=function(t){return arguments.length?(u="function"==typeof t?t:mS(!!t),y):u},y.extent=function(t){return arguments.length?(i="function"==typeof t?t:mS([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):i},y.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],y):[s[0],s[1]]},y.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],y):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},y.constrain=function(t){return arguments.length?(o=t,y):o},y.duration=function(t){return arguments.length?(f=+t,y):f},y.interpolate=function(t){return arguments.length?(l=t,y):l},y.on=function(){var t=h.on.apply(h,arguments);return t===h?y:t},y.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,y):Math.sqrt(p)},y.tapDistance=function(t){return arguments.length?(g=+t,y):g},y}_S.prototype=bS.prototype}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:ff1f3a45db3921fc36404b306fb32c91', location = 'build/2166.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[2166],{22166:function(e,t){var n,r,i;r=[],void 0===(i="function"==typeof(n=function(){"use strict";var e=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function t(e){return e.split("").reverse().join("")}function n(e,t){return e.substring(0,t.length)===t}function r(e,t){return e.slice(-1*t.length)===t}function i(e,t,n){if((e[t]||e[n])&&e[t]===e[n])throw new Error(t)}function o(e){return"number"==typeof e&&isFinite(e)}function f(e,t){return e=e.toString().split("e"),(+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]-t:-t))).toFixed(t)}function u(e,n,r,i,u,s,c,a,l,p,h,d){var g,v,m,w=d,x="",b="";return s&&(d=s(d)),!!o(d)&&(!1!==e&&0===parseFloat(d.toFixed(e))&&(d=0),d<0&&(g=!0,d=Math.abs(d)),!1!==e&&(d=f(d,e)),-1!==(d=d.toString()).indexOf(".")?(m=(v=d.split("."))[0],r&&(x=r+v[1])):m=d,n&&(m=t(m).match(/.{1,3}/g),m=t(m.join(t(n)))),g&&a&&(b+=a),i&&(b+=i),g&&l&&(b+=l),b+=m,b+=x,u&&(b+=u),p&&(b=p(b,w)),b)}function s(e,t,i,f,u,s,c,a,l,p,h,d){var g,v="";return h&&(d=h(d)),!(!d||"string"!=typeof d)&&(a&&n(d,a)&&(d=d.replace(a,""),g=!0),f&&n(d,f)&&(d=d.replace(f,"")),l&&n(d,l)&&(d=d.replace(l,""),g=!0),u&&r(d,u)&&(d=d.slice(0,-1*u.length)),t&&(d=d.split(t).join("")),i&&(d=d.replace(i,".")),g&&(v+="-"),""!==(v=(v+=d).replace(/[^0-9\.\-.]/g,""))&&(v=Number(v),c&&(v=c(v)),!!o(v)&&v))}function c(t){var n,r,o,f={};for(void 0===t.suffix&&(t.suffix=t.postfix),n=0;n<e.length;n+=1)if(void 0===(o=t[r=e[n]]))"negative"!==r||f.negativeBefore?"mark"===r&&"."!==f.thousand?f[r]=".":f[r]=!1:f[r]="-";else if("decimals"===r){if(!(o>=0&&o<8))throw new Error(r);f[r]=o}else if("encoder"===r||"decoder"===r||"edit"===r||"undo"===r){if("function"!=typeof o)throw new Error(r);f[r]=o}else{if("string"!=typeof o)throw new Error(r);f[r]=o}return i(f,"mark","thousand"),i(f,"prefix","negative"),i(f,"prefix","negativeBefore"),f}function a(t,n,r){var i,o=[];for(i=0;i<e.length;i+=1)o.push(t[e[i]]);return o.push(r),n.apply("",o)}function l(e){if(!(this instanceof l))return new l(e);"object"==typeof e&&(e=c(e),this.to=function(t){return a(e,u,t)},this.from=function(t){return a(e,s,t)})}return l})?n.apply(t,r):n)||(e.exports=i)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:7c96cac2e0ff7831cbf9d7fbe009bb35', location = 'build/8429.js' */
/*! For license information please see 8429.js.LICENSE.txt */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[8429],{2077:function(e,t,r){var n,i,o;o=function(){var e="first",t=document,r={}.hasOwnProperty;function n(){return i.apply(null,arguments)||o.apply(null,arguments)}function i(e,t,r,i,a){if(t&&!t.nodeType&&arguments.length<=2)return!1;var s,l="function"==typeof r;l&&(s=r,r=function(e,t){return s(e.text,t.startIndex)});var c=o(t,{find:e,wrap:l?null:r,replace:l?r:"$"+(i||"&"),prepMatch:function(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";if(i>0){var r=e[i];e.index+=e[0].indexOf(r),e[0]=r}return e.endIndex=e.index+e[0].length,e.startIndex=e.index,e.index=t,e},filterElements:a});return n.revert=function(){return c.revert()},!0}function o(e,t){return new a(e,t)}function a(e,t){var i=t.preset&&n.PRESETS[t.preset];if(t.portionMode=t.portionMode||"retain",i)for(var o in i)r.call(i,o)&&!r.call(t,o)&&(t[o]=i[o]);this.node=e,this.options=t,this.prepMatch=t.prepMatch||this.prepMatch,this.reverts=[],this.matches=this.search(),this.matches.length&&this.processMatches()}return n.NON_PROSE_ELEMENTS={br:1,hr:1,script:1,style:1,img:1,video:1,audio:1,canvas:1,svg:1,map:1,object:1,input:1,textarea:1,select:1,option:1,optgroup:1,button:1},n.NON_CONTIGUOUS_PROSE_ELEMENTS={address:1,article:1,aside:1,blockquote:1,dd:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,nav:1,noscript:1,ol:1,output:1,p:1,pre:1,section:1,ul:1,br:1,li:1,summary:1,dt:1,details:1,rp:1,rt:1,rtc:1,script:1,style:1,img:1,video:1,audio:1,canvas:1,svg:1,map:1,object:1,input:1,textarea:1,select:1,option:1,optgroup:1,button:1,table:1,tbody:1,thead:1,th:1,tr:1,td:1,caption:1,col:1,tfoot:1,colgroup:1},n.NON_INLINE_PROSE=function(e){return r.call(n.NON_CONTIGUOUS_PROSE_ELEMENTS,e.nodeName.toLowerCase())},n.PRESETS={prose:{forceContext:n.NON_INLINE_PROSE,filterElements:function(e){return!r.call(n.NON_PROSE_ELEMENTS,e.nodeName.toLowerCase())}}},n.Finder=a,a.prototype={search:function(){var e,t=0,r=0,n=this.options.find,i=this.getAggregateText(),o=[],a=this;return n="string"==typeof n?RegExp(String(n).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"):n,function i(s){for(var l=0,c=s.length;l<c;++l){var u=s[l];if("string"==typeof u){if(n.global)for(;e=n.exec(u);)o.push(a.prepMatch(e,t++,r));else(e=u.match(n))&&o.push(a.prepMatch(e,0,r));r+=u.length}else i(u)}}(i),o},prepMatch:function(e,t,r){if(!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return e.endIndex=r+e.index+e[0].length,e.startIndex=r+e.index,e.index=t,e},getAggregateText:function(){var e=this.options.filterElements,t=this.options.forceContext;return function r(n){if(n.nodeType===Node.TEXT_NODE)return[n.data];if(e&&!e(n))return[];var i=[""],o=0;if(n=n.firstChild)do{if(n.nodeType!==Node.TEXT_NODE){var a=r(n);t&&n.nodeType===Node.ELEMENT_NODE&&(!0===t||t(n))?(i[++o]=a,i[++o]=""):("string"==typeof a[0]&&(i[o]+=a.shift()),a.length&&(i[++o]=a,i[++o]=""))}else i[o]+=n.data}while(n=n.nextSibling);return i}(this.node)},processMatches:function(){var e,t,r,n=this.matches,i=this.node,o=this.options.filterElements,a=[],s=i,l=n.shift(),c=0,u=0,d=[i];e:for(;;){if(s.nodeType===Node.TEXT_NODE&&(!t&&s.length+c>=l.endIndex?t={node:s,index:u++,text:s.data.substring(l.startIndex-c,l.endIndex-c),indexInMatch:0===c?0:c-l.startIndex,indexInNode:l.startIndex-c,endIndexInNode:l.endIndex-c,isEnd:!0}:e&&a.push({node:s,index:u++,text:s.data,indexInMatch:c-l.startIndex,indexInNode:0}),!e&&s.length+c>l.startIndex&&(e={node:s,index:u++,indexInMatch:0,indexInNode:l.startIndex-c,endIndexInNode:l.endIndex-c,text:s.data.substring(l.startIndex-c,l.endIndex-c)}),c+=s.data.length),r=s.nodeType===Node.ELEMENT_NODE&&o&&!o(s),e&&t){if(s=this.replaceMatch(l,e,a,t),c-=t.node.data.length-t.endIndexInNode,e=null,t=null,a=[],u=0,!(l=n.shift()))break}else if(!r&&(s.firstChild||s.nextSibling)){s.firstChild?(d.push(s),s=s.firstChild):s=s.nextSibling;continue}for(;;){if(s.nextSibling){s=s.nextSibling;break}if((s=d.pop())===i)break e}}},revert:function(){for(var e=this.reverts.length;e--;)this.reverts[e]();this.reverts=[]},prepareReplacementString:function(t,r,n){var i=this.options.portionMode;return i===e&&r.indexInMatch>0?"":(t=t.replace(/\$(\d+|&|`|')/g,(function(e,t){var r;switch(t){case"&":r=n[0];break;case"`":r=n.input.substring(0,n.startIndex);break;case"'":r=n.input.substring(n.endIndex);break;default:r=n[+t]||""}return r})),i===e?t:r.isEnd?t.substring(r.indexInMatch):t.substring(r.indexInMatch,r.indexInMatch+r.text.length))},getPortionReplacementNode:function(e,r){var n=this.options.replace||"$&",i=this.options.wrap,o=this.options.wrapClass;if(i&&i.nodeType){var a=t.createElement("div");a.innerHTML=i.outerHTML||(new XMLSerializer).serializeToString(i),i=a.firstChild}if("function"==typeof n)return(n=n(e,r))&&n.nodeType?n:t.createTextNode(String(n));var s="string"==typeof i?t.createElement(i):i;return s&&o&&(s.className=o),(n=t.createTextNode(this.prepareReplacementString(n,e,r))).data&&s?(s.appendChild(n),s):n},replaceMatch:function(e,r,n,i){var o,a,s=r.node,l=i.node;if(s===l){var c=s;r.indexInNode>0&&(o=t.createTextNode(c.data.substring(0,r.indexInNode)),c.parentNode.insertBefore(o,c));var u=this.getPortionReplacementNode(i,e);return c.parentNode.insertBefore(u,c),i.endIndexInNode<c.length&&(a=t.createTextNode(c.data.substring(i.endIndexInNode)),c.parentNode.insertBefore(a,c)),c.parentNode.removeChild(c),this.reverts.push((function(){o===u.previousSibling&&o.parentNode.removeChild(o),a===u.nextSibling&&a.parentNode.removeChild(a),u.parentNode.replaceChild(c,u)})),u}o=t.createTextNode(s.data.substring(0,r.indexInNode)),a=t.createTextNode(l.data.substring(i.endIndexInNode));for(var d=this.getPortionReplacementNode(r,e),p=[],h=0,f=n.length;h<f;++h){var m=n[h],g=this.getPortionReplacementNode(m,e);m.node.parentNode.replaceChild(g,m.node),this.reverts.push(function(e,t){return function(){t.parentNode.replaceChild(e.node,t)}}(m,g)),p.push(g)}var v=this.getPortionReplacementNode(i,e);return s.parentNode.insertBefore(o,s),s.parentNode.insertBefore(d,s),s.parentNode.removeChild(s),l.parentNode.insertBefore(v,l),l.parentNode.insertBefore(a,l),l.parentNode.removeChild(l),this.reverts.push((function(){o.parentNode.removeChild(o),d.parentNode.replaceChild(s,d),a.parentNode.removeChild(a),v.parentNode.replaceChild(l,v)})),v}},n},e.exports?e.exports=o():void 0===(i="function"==typeof(n=o)?n.call(t,r,t,e):n)||(e.exports=i)},71519:function(e,t,r){!function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),r=e.Pos,n={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(e){return e&&e.bracketRegex||/[(){}[\]]/}function o(e,t,o){var s=e.getLineHandle(t.line),l=t.ch-1,c=o&&o.afterCursor;null==c&&(c=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var u=i(o),d=!c&&l>=0&&u.test(s.text.charAt(l))&&n[s.text.charAt(l)]||u.test(s.text.charAt(l+1))&&n[s.text.charAt(++l)];if(!d)return null;var p=">"==d.charAt(1)?1:-1;if(o&&o.strict&&p>0!=(l==t.ch))return null;var h=e.getTokenTypeAt(r(t.line,l+1)),f=a(e,r(t.line,l+(p>0?1:0)),p,h,o);return null==f?null:{from:r(t.line,l),to:f&&f.pos,match:f&&f.ch==d.charAt(0),forward:p>0}}function a(e,t,o,a,s){for(var l=s&&s.maxScanLineLength||1e4,c=s&&s.maxScanLines||1e3,u=[],d=i(s),p=o>0?Math.min(t.line+c,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-c),h=t.line;h!=p;h+=o){var f=e.getLine(h);if(f){var m=o>0?0:f.length-1,g=o>0?f.length:-1;if(!(f.length>l))for(h==t.line&&(m=t.ch-(o<0?1:0));m!=g;m+=o){var v=f.charAt(m);if(d.test(v)&&(void 0===a||(e.getTokenTypeAt(r(h,m+1))||"")==(a||""))){var y=n[v];if(y&&">"==y.charAt(1)==o>0)u.push(v);else{if(!u.length)return{pos:r(h,m),ch:v};u.pop()}}}}}return h-o!=(o>0?e.lastLine():e.firstLine())&&null}function s(e,n,i){for(var a=e.state.matchBrackets.maxHighlightLineLength||1e3,s=i&&i.highlightNonMatching,l=[],c=e.listSelections(),u=0;u<c.length;u++){var d=c[u].empty()&&o(e,c[u].head,i);if(d&&(d.match||!1!==s)&&e.getLine(d.from.line).length<=a){var p=d.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";l.push(e.markText(d.from,r(d.from.line,d.from.ch+1),{className:p})),d.to&&e.getLine(d.to.line).length<=a&&l.push(e.markText(d.to,r(d.to.line,d.to.ch+1),{className:p}))}}if(l.length){t&&e.state.focused&&e.focus();var h=function(){e.operation((function(){for(var e=0;e<l.length;e++)l[e].clear()}))};if(!n)return h;setTimeout(h,800)}}function l(e){e.operation((function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=s(e,!1,e.state.matchBrackets)}))}function c(e){e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)}e.defineOption("matchBrackets",!1,(function(t,r,n){n&&n!=e.Init&&(t.off("cursorActivity",l),t.off("focus",l),t.off("blur",c),c(t)),r&&(t.state.matchBrackets="object"==typeof r?r:{},t.on("cursorActivity",l),t.on("focus",l),t.on("blur",c))})),e.defineExtension("matchBrackets",(function(){s(this,!0)})),e.defineExtension("findMatchingBracket",(function(e,t,r){return(r||"boolean"==typeof t)&&(r?(r.strict=t,t=r):t=t?{strict:!0}:null),o(this,e,t)})),e.defineExtension("scanForBracket",(function(e,t,r,n){return a(this,e,t,r,n)}))}(r(27509))},16618:function(e,t,r){!function(e){"use strict";var t="CodeMirror-hint",r="CodeMirror-hint-active";function n(e,t){if(this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var r=this;e.on("cursorActivity",this.activityFunc=function(){r.cursorActivity()})}}e.showHint=function(e,t,r){if(!t)return e.showHint(r);r&&r.async&&(t.async=!0);var n={hint:t};if(r)for(var i in r)n[i]=r[i];return e.showHint(n)},e.defineExtension("showHint",(function(t){t=a(this,this.getCursor("start"),t);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!t.hint.supportsSelection)return;for(var i=0;i<r.length;i++)if(r[i].head.line!=r[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new n(this,t);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}})),e.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var i=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;function a(e,t,r){var n=e.options.hintOptions,i={};for(var o in f)i[o]=f[o];if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}function s(e){return"string"==typeof e?e:e.text}function l(e,t){var r={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close};/Mac/.test(navigator.platform)&&(r["Ctrl-P"]=function(){t.moveFocus(-1)},r["Ctrl-N"]=function(){t.moveFocus(1)});var n=e.options.customKeys,i=n?{}:r;function o(e,n){var o;o="string"!=typeof n?function(e){return n(e,t)}:r.hasOwnProperty(n)?r[n]:n,i[e]=o}if(n)for(var a in n)n.hasOwnProperty(a)&&o(a,n[a]);var s=e.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&o(a,s[a]);return i}function c(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function u(n,i){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=n,this.data=i,this.picked=!1;var o=this,a=n.cm,u=a.getInputField().ownerDocument,d=u.defaultView||u.parentWindow,p=this.hints=u.createElement("ul");p.setAttribute("role","listbox"),p.setAttribute("aria-expanded","true"),p.id=this.id;var h=n.cm.options.theme;p.className="CodeMirror-hints "+h,this.selectedHint=i.selectedHint||0;for(var f=i.list,m=0;m<f.length;++m){var g=p.appendChild(u.createElement("li")),v=f[m],y=t+(m!=this.selectedHint?"":" "+r);null!=v.className&&(y=v.className+" "+y),g.className=y,m==this.selectedHint&&g.setAttribute("aria-selected","true"),g.id=this.id+"-"+m,g.setAttribute("role","option"),v.render?v.render(g,i,v):g.appendChild(u.createTextNode(v.displayText||s(v))),g.hintId=m}var b=n.options.container||u.body,x=a.cursorCoords(n.options.alignWithWord?i.from:null),w=x.left,_=x.bottom,k=!0,C=0,S=0;if(b!==u.body){var A=-1!==["absolute","relative","fixed"].indexOf(d.getComputedStyle(b).position)?b:b.offsetParent,L=A.getBoundingClientRect(),T=u.body.getBoundingClientRect();C=L.left-T.left-A.scrollLeft,S=L.top-T.top-A.scrollTop}p.style.left=w-C+"px",p.style.top=_-S+"px";var E=d.innerWidth||Math.max(u.body.offsetWidth,u.documentElement.offsetWidth),M=d.innerHeight||Math.max(u.body.offsetHeight,u.documentElement.offsetHeight);b.appendChild(p),a.getInputField().setAttribute("aria-autocomplete","list"),a.getInputField().setAttribute("aria-owns",this.id),a.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var D,N=n.options.moveOnOverlap?p.getBoundingClientRect():new DOMRect,O=!!n.options.paddingForScrollbar&&p.scrollHeight>p.clientHeight+1;if(setTimeout((function(){D=a.getScrollInfo()})),N.bottom-M>0){var F=N.bottom-N.top;if(x.top-(x.bottom-N.top)-F>0)p.style.top=(_=x.top-F-S)+"px",k=!1;else if(F>M){p.style.height=M-5+"px",p.style.top=(_=x.bottom-N.top-S)+"px";var I=a.getCursor();i.from.ch!=I.ch&&(x=a.cursorCoords(I),p.style.left=(w=x.left-C)+"px",N=p.getBoundingClientRect())}}var z,q=N.right-E;if(O&&(q+=a.display.nativeBarWidth),q>0&&(N.right-N.left>E&&(p.style.width=E-5+"px",q-=N.right-N.left-E),p.style.left=(w=Math.max(x.left-q-C,0))+"px"),O)for(var R=p.firstChild;R;R=R.nextSibling)R.style.paddingRight=a.display.nativeBarWidth+"px";a.addKeyMap(this.keyMap=l(n,{moveFocus:function(e,t){o.changeActive(o.selectedHint+e,t)},setFocus:function(e){o.changeActive(e)},menuSize:function(){return o.screenAmount()},length:f.length,close:function(){n.close()},pick:function(){o.pick()},data:i})),n.options.closeOnUnfocus&&(a.on("blur",this.onBlur=function(){z=setTimeout((function(){n.close()}),100)}),a.on("focus",this.onFocus=function(){clearTimeout(z)})),a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),t=a.getWrapperElement().getBoundingClientRect();D||(D=a.getScrollInfo());var r=_+D.top-e.top,i=r-(d.pageYOffset||(u.documentElement||u.body).scrollTop);if(k||(i+=p.offsetHeight),i<=t.top||i>=t.bottom)return n.close();p.style.top=r+"px",p.style.left=w+D.left-e.left+"px"}),e.on(p,"dblclick",(function(e){var t=c(p,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),o.pick())})),e.on(p,"click",(function(e){var t=c(p,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),n.options.completeOnSingleClick&&o.pick())})),e.on(p,"mousedown",(function(){setTimeout((function(){a.focus()}),20)}));var H=this.getSelectedHintRange();return 0===H.from&&0===H.to||this.scrollToActive(),e.signal(i,"select",f[this.selectedHint],p.childNodes[this.selectedHint]),!0}function d(e,t){if(!e.somethingSelected())return t;for(var r=[],n=0;n<t.length;n++)t[n].supportsSelection&&r.push(t[n]);return r}function p(e,t,r,n){if(e.async)e(t,n,r);else{var i=e(t,r);i&&i.then?i.then(n):n(i)}}function h(t,r){var n,i=t.getHelpers(r,"hint");if(i.length){var o=function(e,t,r){var n=d(e,i);function o(i){if(i==n.length)return t(null);p(n[i],e,r,(function(e){e&&e.list.length>0?t(e):o(i+1)}))}o(0)};return o.async=!0,o.supportsSelection=!0,o}return(n=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:n})}:e.hint.anyword?function(t,r){return e.hint.anyword(t,r)}:function(){}}n.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,r){var n=t.list[r],i=this;this.cm.operation((function(){n.hint?n.hint(i.cm,t,n):i.cm.replaceRange(s(n),n.from||t.from,n.to||t.to,"complete"),e.signal(t,"pick",n),i.cm.scrollIntoView()})),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var e=this.startPos;this.data&&(e=this.data.from);var t=this.cm.getCursor(),r=this.cm.getLine(t.line);if(t.line!=this.startPos.line||r.length-t.ch!=this.startLen-this.startPos.ch||t.ch<e.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(r.charAt(t.ch-1)))this.close();else{var n=this;this.debounce=i((function(){n.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,r=++this.tick;p(this.options.hint,this.cm,this.options,(function(n){t.tick==r&&t.finishUpdate(n,e)}))}},finishUpdate:function(t,r){this.data&&e.signal(this.data,"update");var n=this.widget&&this.widget.picked||r&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(n&&1==t.list.length?this.pick(t,0):(this.widget=new u(this,t),e.signal(t,"shown")))}},u.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm.getInputField();e.removeAttribute("aria-activedescendant"),e.removeAttribute("aria-owns");var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:t<0&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var i=this.hints.childNodes[this.selectedHint];i&&(i.className=i.className.replace(" "+r,""),i.removeAttribute("aria-selected")),(i=this.hints.childNodes[this.selectedHint=t]).className+=" "+r,i.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",i.id),this.scrollToActive(),e.signal(this.data,"select",this.data.list[this.selectedHint],i)}},scrollToActive:function(){var e=this.getSelectedHintRange(),t=this.hints.childNodes[e.from],r=this.hints.childNodes[e.to],n=this.hints.firstChild;t.offsetTop<this.hints.scrollTop?this.hints.scrollTop=t.offsetTop-n.offsetTop:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+n.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var e=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-e),to:Math.min(this.data.list.length-1,this.selectedHint+e)}}},e.registerHelper("hint","auto",{resolve:h}),e.registerHelper("hint","fromList",(function(t,r){var n,i=t.getCursor(),o=t.getTokenAt(i),a=e.Pos(i.line,o.start),s=i;o.start<i.ch&&/\w/.test(o.string.charAt(i.ch-o.start-1))?n=o.string.substr(0,i.ch-o.start):(n="",a=i);for(var l=[],c=0;c<r.words.length;c++){var u=r.words[c];u.slice(0,n.length)==n&&l.push(u)}if(l.length)return{list:l,from:a,to:s}})),e.commands.autocomplete=e.showHint;var f={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};e.defineOption("hintOptions",null)}(r(27509))},14687:function(e,t,r){!function(e){"use strict";var t,r,n,i,o={QUERY_DIV:";",ALIAS_KEYWORD:"AS"},a=e.Pos,s=e.cmpPos;function l(e){return"[object Array]"==Object.prototype.toString.call(e)}function c(t){var r=t.doc.modeOption;return"sql"===r&&(r="text/x-sql"),e.resolveMode(r).keywords}function u(t){var r=t.doc.modeOption;return"sql"===r&&(r="text/x-sql"),e.resolveMode(r).identifierQuote||"`"}function d(e){return"string"==typeof e?e:e.text}function p(e,t){return l(t)&&(t={columns:t}),t.text||(t.text=e),t}function h(e){var t={};if(l(e))for(var r=e.length-1;r>=0;r--){var n=e[r];t[d(n).toUpperCase()]=p(d(n),n)}else if(e)for(var i in e)t[i.toUpperCase()]=p(i,e[i]);return t}function f(e){return t[e.toUpperCase()]}function m(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function g(e,t){var r=e.length,n=d(t).substr(0,r);return e.toUpperCase()===n.toUpperCase()}function v(e,t,r,n){if(l(r))for(var i=0;i<r.length;i++)g(t,r[i])&&e.push(n(r[i]));else for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];g(t,a=a&&!0!==a?a.displayText?{text:a.text,displayText:a.displayText}:a.text:o)&&e.push(n(a))}}function y(e){"."==e.charAt(0)&&(e=e.substr(1));for(var t=e.split(i+i),r=0;r<t.length;r++)t[r]=t[r].replace(new RegExp(i,"g"),"");return t.join(i)}function b(e){for(var t=d(e).split("."),r=0;r<t.length;r++)t[r]=i+t[r].replace(new RegExp(i,"g"),i+i)+i;var n=t.join(".");return"string"==typeof e?n:((e=m(e)).text=n,e)}function x(e,n,o,s){for(var l=!1,c=[],u=n.start,d=!0;d;)d="."==n.string.charAt(0),l=l||n.string.charAt(0)==i,u=n.start,c.unshift(y(n.string)),"."==(n=s.getTokenAt(a(e.line,n.start))).string&&(d=!0,n=s.getTokenAt(a(e.line,n.start)));var p=c.join(".");v(o,p,t,(function(e){return l?b(e):e})),v(o,p,r,(function(e){return l?b(e):e})),p=c.pop();var h=c.join("."),g=!1,x=h;if(!f(h)){var w=h;(h=_(h,s))!==w&&(g=!0)}var k=f(h);return k&&k.columns&&(k=k.columns),k&&v(o,p,k,(function(e){var t=h;return 1==g&&(t=x),"string"==typeof e?e=t+"."+e:(e=m(e)).text=t+"."+e.text,l?b(e):e})),u}function w(e,t){for(var r=e.split(/\s+/),n=0;n<r.length;n++)r[n]&&t(r[n].replace(/[`,;]/g,""))}function _(e,t){for(var r=t.doc,n=r.getValue(),i=e.toUpperCase(),l="",c="",u=[],d={start:a(0,0),end:a(t.lastLine(),t.getLineHandle(t.lastLine()).length)},p=n.indexOf(o.QUERY_DIV);-1!=p;)u.push(r.posFromIndex(p)),p=n.indexOf(o.QUERY_DIV,p+1);u.unshift(a(0,0)),u.push(a(t.lastLine(),t.getLineHandle(t.lastLine()).text.length));for(var h=null,m=t.getCursor(),g=0;g<u.length;g++){if((null==h||s(m,h)>0)&&s(m,u[g])<=0){d={start:h,end:u[g]};break}h=u[g]}if(d.start){var v=r.getRange(d.start,d.end,!1);for(g=0;g<v.length&&(w(v[g],(function(e){var t=e.toUpperCase();t===i&&f(l)&&(c=l),t!==o.ALIAS_KEYWORD&&(l=e)})),!c);g++);}return c}e.registerHelper("hint","sql",(function(e,o){t=h(o&&o.tables);var s=o&&o.defaultTable,l=o&&o.disableKeywords;r=s&&f(s),n=c(e),i=u(e),s&&!r&&(r=_(s,e)),(r=r||[]).columns&&(r=r.columns);var d,p,m,g=e.getCursor(),y=[],b=e.getTokenAt(g);if(b.end>g.ch&&(b.end=g.ch,b.string=b.string.slice(0,g.ch-b.start)),b.string.match(/^[.`"'\w@][\w$#]*$/g)?(m=b.string,d=b.start,p=b.end):(d=p=g.ch,m=""),"."==m.charAt(0)||m.charAt(0)==i)d=x(g,b,y,e);else{var w=function(e,t){return"object"==typeof e?e.className=t:e={text:e,className:t},e};v(y,m,r,(function(e){return w(e,"CodeMirror-hint-table CodeMirror-hint-default-table")})),v(y,m,t,(function(e){return w(e,"CodeMirror-hint-table")})),l||v(y,m,n,(function(e){return w(e.toUpperCase(),"CodeMirror-hint-keyword")}))}return{list:y,from:a(g.line,d),to:a(g.line,p)}}))}(r(27509),r(42743))},27509:function(e){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=n||i||o,s=a&&(n?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\/(\d+)/.exec(e),d=u&&+u[1],p=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),m=/PhantomJS/.test(e),g=h&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),v=/Android/.test(e),y=g||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=g||/Mac/.test(t),x=/\bCrOS\b/.test(e),w=/win/i.test(t),_=p&&e.match(/Version\/(\d*\.\d*)/);_&&(_=Number(_[1])),_&&_>=15&&(p=!1,l=!0);var k=b&&(c||p&&(null==_||_<12.11)),C=r||a&&s>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var A,L=function(e,t){var r=e.className,n=S(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function E(e,t){return T(e).appendChild(t)}function M(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function D(e,t,r,n){var i=M(e,t,r,n);return i.setAttribute("role","presentation"),i}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function O(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function F(e,t){var r=e.className;S(t).test(r)||(e.className+=(r?" ":"")+t)}function I(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!S(r[n]).test(t)&&(t+=" "+r[n]);return t}A=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var z=function(e){e.select()};function q(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function R(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function H(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=r-a%r,o=s+1}}g?z=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(z=function(e){try{e.select()}catch(e){}});var P=function(){this.id=null,this.f=null,this.time=0,this.handler=q(this.onTimeout,this)};function B(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}P.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},P.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var W=50,j={toString:function(){return"CodeMirror.Pass"}},U={scroll:!1},G={origin:"*mouse"},V={origin:"+move"};function $(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var a=o-n;if(o==e.length||i+a>=t)return n+Math.min(a,t-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=t)return n}}var Z=[""];function K(e){for(;Z.length<=e;)Z.push(Y(Z)+" ");return Z[e]}function Y(e){return e[e.length-1]}function X(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Q(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}function J(){}function ee(e,t){var r;return Object.create?r=Object.create(e):(J.prototype=e,r=new J),t&&R(t,r),r}var te=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function re(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||te.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&re(e))||t.test(e):re(e)}function ie(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var oe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ae(e){return e.charCodeAt(0)>=768&&oe.test(e)}function se(e,t,r){for(;(r<0?t>0:t<e.length)&&ae(e.charAt(t));)t+=r;return t}function le(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}function ce(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<r&&a.to>t||t==r&&a.to==t)&&(n(Math.max(a.from,t),Math.min(a.to,r),1==a.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}var ue=null;function de(e,t,r){var n;ue=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:ue=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:ue=i)}return null!=n?n:ue}var pe=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(r){return r<=247?e.charAt(r):1424<=r&&r<=1524?"R":1536<=r&&r<=1785?t.charAt(r-1536):1774<=r&&r<=2220?"r":8192<=r&&r<=8203?"w":8204==r?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,s=/[1n]/;function l(e,t,r){this.level=e,this.from=t,this.to=r}return function(e,t){var c="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!n.test(e))return!1;for(var u=e.length,d=[],p=0;p<u;++p)d.push(r(e.charCodeAt(p)));for(var h=0,f=c;h<u;++h){var m=d[h];"m"==m?d[h]=f:f=m}for(var g=0,v=c;g<u;++g){var y=d[g];"1"==y&&"r"==v?d[g]="n":o.test(y)&&(v=y,"r"==y&&(d[g]="R"))}for(var b=1,x=d[0];b<u-1;++b){var w=d[b];"+"==w&&"1"==x&&"1"==d[b+1]?d[b]="1":","!=w||x!=d[b+1]||"1"!=x&&"n"!=x||(d[b]=x),x=w}for(var _=0;_<u;++_){var k=d[_];if(","==k)d[_]="N";else if("%"==k){var C=void 0;for(C=_+1;C<u&&"%"==d[C];++C);for(var S=_&&"!"==d[_-1]||C<u&&"1"==d[C]?"1":"N",A=_;A<C;++A)d[A]=S;_=C-1}}for(var L=0,T=c;L<u;++L){var E=d[L];"L"==T&&"1"==E?d[L]="L":o.test(E)&&(T=E)}for(var M=0;M<u;++M)if(i.test(d[M])){var D=void 0;for(D=M+1;D<u&&i.test(d[D]);++D);for(var N="L"==(M?d[M-1]:c),O=N==("L"==(D<u?d[D]:c))?N?"L":"R":c,F=M;F<D;++F)d[F]=O;M=D-1}for(var I,z=[],q=0;q<u;)if(a.test(d[q])){var R=q;for(++q;q<u&&a.test(d[q]);++q);z.push(new l(0,R,q))}else{var H=q,P=z.length,B="rtl"==t?1:0;for(++q;q<u&&"L"!=d[q];++q);for(var W=H;W<q;)if(s.test(d[W])){H<W&&(z.splice(P,0,new l(1,H,W)),P+=B);var j=W;for(++W;W<q&&s.test(d[W]);++W);z.splice(P,0,new l(2,j,W)),P+=B,H=W}else++W;H<q&&z.splice(P,0,new l(1,H,q))}return"ltr"==t&&(1==z[0].level&&(I=e.match(/^\s+/))&&(z[0].from=I[0].length,z.unshift(new l(0,0,I[0].length))),1==Y(z).level&&(I=e.match(/\s+$/))&&(Y(z).to-=I[0].length,z.push(new l(0,u-I[0].length,u)))),"rtl"==t?z.reverse():z}}();function he(e,t){var r=e.order;return null==r&&(r=e.order=pe(e.text,t)),r}var fe=[],me=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||fe).concat(r)}};function ge(e,t){return e._handlers&&e._handlers[t]||fe}function ve(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=B(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function ye(e,t){var r=ge(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function be(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ye(e,r||t.type,e,t),Se(t)||t.codemirrorIgnore}function xe(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==B(r,t[n])&&r.push(t[n])}function we(e,t){return ge(e,t).length>0}function _e(e){e.prototype.on=function(e,t){me(this,e,t)},e.prototype.off=function(e,t){ve(this,e,t)}}function ke(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ce(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Se(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ae(e){ke(e),Ce(e)}function Le(e){return e.target||e.srcElement}function Te(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var Ee,Me,De=function(){if(a&&s<9)return!1;var e=M("div");return"draggable"in e||"dragDrop"in e}();function Ne(e){if(null==Ee){var t=M("span","​");E(e,M("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ee=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var r=Ee?M("span","​"):M("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Oe(e){if(null!=Me)return Me;var t=E(e,document.createTextNode("AخA")),r=A(t,0,1).getBoundingClientRect(),n=A(t,1,2).getBoundingClientRect();return T(e),!(!r||r.left==r.right)&&(Me=n.right-r.right<3)}var Fe,Ie=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),t+=a+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},ze=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},qe="oncopy"in(Fe=M("div"))||(Fe.setAttribute("oncopy","return;"),"function"==typeof Fe.oncopy),Re=null;function He(e){if(null!=Re)return Re;var t=E(e,M("span","x")),r=t.getBoundingClientRect(),n=A(t,0,1).getBoundingClientRect();return Re=Math.abs(r.left-n.left)>1}var Pe={},Be={};function We(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Pe[e]=t}function je(e,t){Be[e]=t}function Ue(e){if("string"==typeof e&&Be.hasOwnProperty(e))e=Be[e];else if(e&&"string"==typeof e.name&&Be.hasOwnProperty(e.name)){var t=Be[e.name];"string"==typeof t&&(t={name:t}),(e=ee(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ue("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ue("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ge(e,t){t=Ue(t);var r=Pe[t.name];if(!r)return Ge(e,"text/plain");var n=r(e,t);if(Ve.hasOwnProperty(t.name)){var i=Ve[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)n[a]=t.modeProps[a];return n}var Ve={};function $e(e,t){R(t,Ve.hasOwnProperty(e)?Ve[e]:Ve[e]={})}function Ze(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Ke(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Ye(e,t,r){return!e.startState||e.startState(t,r)}var Xe=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Qe(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function Je(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,(function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i})),n}function et(e,t,r){var n=[];return e.iter(t,r,(function(e){n.push(e.text)})),n}function tt(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function rt(e){if(null==e.parent)return null;for(var t=e.parent,r=B(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function nt(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return r+a}function it(e,t){return t>=e.first&&t<e.first+e.size}function ot(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function at(e,t,r){if(void 0===r&&(r=null),!(this instanceof at))return new at(e,t,r);this.line=e,this.ch=t,this.sticky=r}function st(e,t){return e.line-t.line||e.ch-t.ch}function lt(e,t){return e.sticky==t.sticky&&0==st(e,t)}function ct(e){return at(e.line,e.ch)}function ut(e,t){return st(e,t)<0?t:e}function dt(e,t){return st(e,t)<0?e:t}function pt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ht(e,t){if(t.line<e.first)return at(e.first,0);var r=e.first+e.size-1;return t.line>r?at(r,Qe(e,r).text.length):ft(t,Qe(e,t.line).text.length)}function ft(e,t){var r=e.ch;return null==r||r>t?at(e.line,t):r<0?at(e.line,0):e}function mt(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ht(e,t[n]);return r}Xe.prototype.eol=function(){return this.pos>=this.string.length},Xe.prototype.sol=function(){return this.pos==this.lineStart},Xe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xe.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Xe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Xe.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Xe.prototype.skipToEnd=function(){this.pos=this.string.length},Xe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Xe.prototype.backUp=function(e){this.pos-=e},Xe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=H(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.indentation=function(){return H(this.string,null,this.tabSize)-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Xe.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Xe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Xe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var gt=function(e,t){this.state=e,this.lookAhead=t},vt=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function yt(e,t,r,n){var i=[e.state.modeGen],o={};Lt(e,t.text,e.doc.mode,r,(function(e,t){return i.push(e,t)}),o,n);for(var a=r.state,s=function(n){r.baseTokens=i;var s=e.state.overlays[n],l=1,c=0;r.state=!0,Lt(e,t.text,s.mode,r,(function(e,t){for(var r=l;c<e;){var n=i[l];n>e&&i.splice(l,1,e,i[l+1],n),l+=2,c=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,l-r,e,"overlay "+t),l=r+2;else for(;r<l;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}}),o),r.state=a,r.baseTokens=null,r.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function bt(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=xt(e,rt(t)),i=t.text.length>e.options.maxHighlightLength&&Ze(e.doc.mode,n.state),o=yt(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function xt(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new vt(n,!0,t);var o=Tt(e,t,r),a=o>n.first&&Qe(n,o-1).stateAfter,s=a?vt.fromSaved(n,a,o):new vt(n,Ye(n.mode),o);return n.iter(o,t,(function(r){wt(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()})),r&&(n.modeFrontier=s.line),s}function wt(e,t,r,n){var i=e.doc.mode,o=new Xe(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&_t(i,r.state);!o.eol();)kt(i,o,r.state),o.start=o.pos}function _t(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Ke(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function kt(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Ke(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}vt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},vt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},vt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},vt.fromSaved=function(e,t,r){return t instanceof gt?new vt(e,Ze(e.mode,t.state),r,t.lookAhead):new vt(e,Ze(e.mode,t),r)},vt.prototype.save=function(e){var t=!1!==e?Ze(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new gt(t,this.maxLookAhead):t};var Ct=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function St(e,t,r,n){var i,o,a=e.doc,s=a.mode,l=Qe(a,(t=ht(a,t)).line),c=xt(e,t.line,r),u=new Xe(l.text,e.options.tabSize,c);for(n&&(o=[]);(n||u.pos<t.ch)&&!u.eol();)u.start=u.pos,i=kt(s,u,c.state),n&&o.push(new Ct(u,i,Ze(a.mode,c.state)));return n?o:new Ct(u,i,c.state)}function At(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function Lt(e,t,r,n,i,o,a){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new Xe(t,e.options.tabSize,n),p=e.options.addModeClass&&[null];for(""==t&&At(_t(r,n.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,a&&wt(e,t,n,d.pos),d.pos=t.length,l=null):l=At(kt(r,d,n.state,p),o),p){var h=p[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!s||u!=l){for(;c<d.start;)i(c=Math.min(d.start,c+5e3),u);u=l}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);i(f,u),c=f}}function Tt(e,t,r){for(var n,i,o=e.doc,a=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Qe(o,s-1),c=l.stateAfter;if(c&&(!r||s+(c instanceof gt?c.lookAhead:0)<=o.modeFrontier))return s;var u=H(l.text,null,e.options.tabSize);(null==i||n>u)&&(i=s-1,n=u)}return i}function Et(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=Qe(e,n).stateAfter;if(i&&(!(i instanceof gt)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}var Mt=!1,Dt=!1;function Nt(){Mt=!0}function Ot(){Dt=!0}function Ft(e,t,r){this.marker=e,this.from=t,this.to=r}function It(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function zt(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function qt(e,t,r){var n=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));n&&e.markedSpans&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}function Rt(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Ft(a,o.from,s?null:o.to))}}return n}function Ht(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Ft(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return n}function Pt(e,t){if(t.full)return null;var r=it(e,t.from.line)&&Qe(e,t.from.line).markedSpans,n=it(e,t.to.line)&&Qe(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,a=0==st(t.from,t.to),s=Rt(r,i,a),l=Ht(n,o,a),c=1==t.text.length,u=Y(t.text).length+(c?i:0);if(s)for(var d=0;d<s.length;++d){var p=s[d];if(null==p.to){var h=It(l,p.marker);h?c&&(p.to=null==h.to?null:h.to+u):p.to=i}}if(l)for(var f=0;f<l.length;++f){var m=l[f];null!=m.to&&(m.to+=u),null==m.from?It(s,m.marker)||(m.from=u,c&&(s||(s=[])).push(m)):(m.from+=u,c&&(s||(s=[])).push(m))}s&&(s=Bt(s)),l&&l!=s&&(l=Bt(l));var g=[s];if(!c){var v,y=t.text.length-2;if(y>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(v||(v=[])).push(new Ft(s[b].marker,null,null));for(var x=0;x<y;++x)g.push(v);g.push(l)}return g}function Bt(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Wt(e,t,r){var n=null;if(e.iter(t.line,r.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=B(n,r)||(n||(n=[])).push(r)}})),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var a=n[o],s=a.find(0),l=0;l<i.length;++l){var c=i[l];if(!(st(c.to,s.from)<0||st(c.from,s.to)>0)){var u=[l,1],d=st(c.from,s.from),p=st(c.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(p>0||!a.inclusiveRight&&!p)&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}function jt(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Ut(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Gt(e){return e.inclusiveLeft?-1:0}function Vt(e){return e.inclusiveRight?1:0}function $t(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=st(n.from,i.from)||Gt(e)-Gt(t);if(o)return-o;var a=st(n.to,i.to)||Vt(e)-Vt(t);return a||t.id-e.id}function Zt(e,t){var r,n=Dt&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||$t(r,i.marker)<0)&&(r=i.marker);return r}function Kt(e){return Zt(e,!0)}function Yt(e){return Zt(e,!1)}function Xt(e,t){var r,n=Dt&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||$t(r,o.marker)<0)&&(r=o.marker)}return r}function Qt(e,t,r,n,i){var o=Qe(e,t),a=Dt&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=st(c.from,r)||Gt(l.marker)-Gt(i),d=st(c.to,n)||Vt(l.marker)-Vt(i);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?st(c.to,r)>=0:st(c.to,r)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?st(c.from,n)<=0:st(c.from,n)<0)))return!0}}}function Jt(e){for(var t;t=Kt(e);)e=t.find(-1,!0).line;return e}function er(e){for(var t;t=Yt(e);)e=t.find(1,!0).line;return e}function tr(e){for(var t,r;t=Yt(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function rr(e,t){var r=Qe(e,t),n=Jt(r);return r==n?t:rt(n)}function nr(e,t){if(t>e.lastLine())return t;var r,n=Qe(e,t);if(!ir(e,n))return t;for(;r=Yt(n);)n=r.find(1,!0).line;return rt(n)+1}function ir(e,t){var r=Dt&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&or(e,t,n))return!0}}function or(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return or(e,n.line,It(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&or(e,t,i))return!0}function ar(e){for(var t=0,r=(e=Jt(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==r)break;t+=s.height}return t}function sr(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=Kt(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=Yt(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function lr(e){var t=e.display,r=e.doc;t.maxLine=Qe(r,r.first),t.maxLineLength=sr(t.maxLine),t.maxLineChanged=!0,r.iter((function(e){var r=sr(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)}))}var cr=function(e,t,r){this.text=e,Ut(this,t),this.height=r?r(this):1};function ur(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),jt(e),Ut(e,r);var i=n?n(e):1;i!=e.height&&tt(e,i)}function dr(e){e.parent=null,jt(e)}cr.prototype.lineNo=function(){return rt(this)},_e(cr);var pr={},hr={};function fr(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?hr:pr;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function mr(e,t){var r=D("span",null,null,l?"padding-right: .1px":null),n={pre:D("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;n.pos=0,n.addToken=vr,Oe(e.display.measure)&&(a=he(o,e.doc.direction))&&(n.addToken=br(n.addToken,a)),n.map=[],wr(o,n,bt(e,o,t!=e.display.externalMeasured&&rt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=I(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=I(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ne(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=n.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return ye(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=I(n.pre.className,n.textClass||"")),n}function gr(e){var t=M("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function vr(e,t,r,n,i,o,l){if(t){var c,u=e.splitSpaces?yr(t,e.trailingSpace):t,d=e.cm.state.specialChars,p=!1;if(d.test(t)){c=document.createDocumentFragment();for(var h=0;;){d.lastIndex=h;var f=d.exec(t),m=f?f.index-h:t.length-h;if(m){var g=document.createTextNode(u.slice(h,h+m));a&&s<9?c.appendChild(M("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!f)break;h+=m+1;var v=void 0;if("\t"==f[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=c.appendChild(M("span",K(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==f[0]||"\n"==f[0]?((v=c.appendChild(M("span","\r"==f[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",f[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),a&&s<9?c.appendChild(M("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),a&&s<9&&(p=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),r||n||i||p||o||l){var x=r||"";n&&(x+=n),i&&(x+=i);var w=M("span",[c],x,o);if(l)for(var _ in l)l.hasOwnProperty(_)&&"style"!=_&&"class"!=_&&w.setAttribute(_,l[_]);return e.content.appendChild(w)}e.content.appendChild(c)}}function yr(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}function br(e,t){return function(r,n,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=r.pos,u=c+n.length;;){for(var d=void 0,p=0;p<t.length&&!((d=t[p]).to>c&&d.from<=c);p++);if(d.to>=u)return e(r,n,i,o,a,s,l);e(r,n.slice(0,d.to-c),i,o,null,s,l),o=null,n=n.slice(d.to-c),c=d.to}}}function xr(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function wr(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var a,s,l,c,u,d,p,h=i.length,f=0,m=1,g="",v=0;;){if(v==f){l=c=u=s="",p=null,d=null,v=1/0;for(var y=[],b=void 0,x=0;x<n.length;++x){var w=n[x],_=w.marker;if("bookmark"==_.type&&w.from==f&&_.widgetNode)y.push(_);else if(w.from<=f&&(null==w.to||w.to>f||_.collapsed&&w.to==f&&w.from==f)){if(null!=w.to&&w.to!=f&&v>w.to&&(v=w.to,c=""),_.className&&(l+=" "+_.className),_.css&&(s=(s?s+";":"")+_.css),_.startStyle&&w.from==f&&(u+=" "+_.startStyle),_.endStyle&&w.to==v&&(b||(b=[])).push(_.endStyle,w.to),_.title&&((p||(p={})).title=_.title),_.attributes)for(var k in _.attributes)(p||(p={}))[k]=_.attributes[k];_.collapsed&&(!d||$t(d.marker,_)<0)&&(d=w)}else w.from>f&&v>w.from&&(v=w.from)}if(b)for(var C=0;C<b.length;C+=2)b[C+1]==v&&(c+=" "+b[C]);if(!d||d.from==f)for(var S=0;S<y.length;++S)xr(t,0,y[S]);if(d&&(d.from||0)==f){if(xr(t,(null==d.to?h+1:d.to)-f,d.marker,null==d.from),null==d.to)return;d.to==f&&(d=!1)}}if(f>=h)break;for(var A=Math.min(h,v);;){if(g){var L=f+g.length;if(!d){var T=L>A?g.slice(0,A-f):g;t.addToken(t,T,a?a+l:l,u,f+T.length==v?c:"",s,p)}if(L>=A){g=g.slice(A-f),f=A;break}f=L,u=""}g=i.slice(o,o=r[m++]),a=fr(r[m++],t.cm.options)}}else for(var E=1;E<r.length;E+=2)t.addToken(t,i.slice(o,o=r[E]),fr(r[E+1],t.cm.options))}function _r(e,t,r){this.line=t,this.rest=tr(t),this.size=this.rest?rt(Y(this.rest))-r+1:1,this.node=this.text=null,this.hidden=ir(e,t)}function kr(e,t,r){for(var n,i=[],o=t;o<r;o=n){var a=new _r(e.doc,Qe(e.doc,o),o);n=o+a.size,i.push(a)}return i}var Cr=null;function Sr(e){Cr?Cr.ops.push(e):e.ownsGroup=Cr={ops:[e],delayedCallbacks:[]}}function Ar(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function Lr(e,t){var r=e.ownsGroup;if(r)try{Ar(r)}finally{Cr=null,t(r)}}var Tr=null;function Er(e,t){var r=ge(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);Cr?n=Cr.delayedCallbacks:Tr?n=Tr:(n=Tr=[],setTimeout(Mr,0));for(var o=function(e){n.push((function(){return r[e].apply(null,i)}))},a=0;a<r.length;++a)o(a)}}function Mr(){var e=Tr;Tr=null;for(var t=0;t<e.length;++t)e[t]()}function Dr(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Ir(e,t):"gutter"==o?qr(e,t,r,n):"class"==o?zr(e,t):"widget"==o&&Rr(e,t,n)}t.changes=null}function Nr(e){return e.node==e.text&&(e.node=M("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function Or(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=Nr(t);t.background=n.insertBefore(M("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}function Fr(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):mr(e,t)}function Ir(e,t){var r=t.text.className,n=Fr(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,zr(e,t)):r&&(t.text.className=r)}function zr(e,t){Or(e,t),t.line.wrapClass?Nr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function qr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=Nr(t);t.gutterBackground=M("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=Nr(t),s=t.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(M("div",ot(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(M("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}}function Rr(e,t,r){t.alignable&&(t.alignable=null);for(var n=S("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,n.test(i.className)&&t.node.removeChild(i);Pr(e,t,r)}function Hr(e,t,r,n){var i=Fr(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),zr(e,t),qr(e,t,r,n),Pr(e,t,n),t.node}function Pr(e,t,r){if(Br(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)Br(e,t.rest[n],t,r,!1)}function Br(e,t,r,n,i){if(t.widgets)for(var o=Nr(r),a=0,s=t.widgets;a<s.length;++a){var l=s[a],c=M("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Wr(l,c,r,n),e.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,r.gutter||r.text):o.appendChild(c),Er(l,"redraw")}}function Wr(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function jr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),E(t.display.measure,M("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Ur(e,t){for(var r=Le(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Gr(e){return e.lineSpace.offsetTop}function Vr(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function $r(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=E(e.measure,M("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Zr(e){return W-e.display.nativeBarWidth}function Kr(e){return e.display.scroller.clientWidth-Zr(e)-e.display.barWidth}function Yr(e){return e.display.scroller.clientHeight-Zr(e)-e.display.barHeight}function Xr(e,t,r){var n=e.options.lineWrapping,i=n&&Kr(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-r.top)}}o.push(r.bottom-r.top)}}function Qr(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(rt(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}}function Jr(e,t){var r=rt(t=Jt(t)),n=e.display.externalMeasured=new _r(e.doc,t,r);n.lineN=r;var i=n.built=mr(e,n);return n.text=i.pre,E(e.display.lineMeasure,i.pre),n}function en(e,t,r,n){return nn(e,rn(e,t),r,n)}function tn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[qn(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function rn(e,t){var r=rt(t),n=tn(e,r);n&&!n.text?n=null:n&&n.changes&&(Dr(e,n,r,Nn(e)),e.curOp.forceUpdate=!0),n||(n=Jr(e,t));var i=Qr(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function nn(e,t,r,n,i){t.before&&(r=-1);var o,a=r+(n||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xr(e,t.view,t.rect),t.hasHeights=!0),(o=cn(e,t,r,n)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var on,an={left:0,right:0,top:0,bottom:0};function sn(e,t,r){for(var n,i,o,a,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(i=0,o=1,a="left"):t<l?o=1+(i=t-s):(c==e.length-3||t==l&&e[c+3]>t)&&(i=(o=l-s)-1,t>=l&&(a="right")),null!=i){if(n=e[c+2],s==l&&r==(n.insertLeft?"left":"right")&&(a=r),"left"==r&&0==i)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)n=e[2+(c-=3)],a="left";if("right"==r&&i==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)n=e[(c+=3)+2],a="right";break}return{node:n,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function ln(e,t){var r=an;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function cn(e,t,r,n){var i,o=sn(t.map,r,n),l=o.node,c=o.start,u=o.end,d=o.collapse;if(3==l.nodeType){for(var p=0;p<4;p++){for(;c&&ae(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&ae(t.line.text.charAt(o.coverStart+u));)++u;if((i=a&&s<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():ln(A(l,c,u).getClientRects(),n)).left||i.right||0==c)break;u=c,c-=1,d="right"}a&&s<11&&(i=un(e.display.measure,i))}else{var h;c>0&&(d=n="right"),i=e.options.lineWrapping&&(h=l.getClientRects()).length>1?h["right"==n?h.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!c&&(!i||!i.left&&!i.right)){var f=l.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+Dn(e.display),top:f.top,bottom:f.bottom}:an}for(var m=i.top-t.rect.top,g=i.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var x=b?y[b-1]:0,w=y[b],_={left:("right"==d?i.right:i.left)-t.rect.left,right:("left"==d?i.left:i.right)-t.rect.left,top:x,bottom:w};return i.left||i.right||(_.bogus=!0),e.options.singleCursorHeightPerLine||(_.rtop=m,_.rbottom=g),_}function un(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!He(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function dn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function pn(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)dn(e.display.view[t])}function hn(e){pn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function fn(){return u&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function mn(){return u&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function gn(e){var t=Jt(e).widgets,r=0;if(t)for(var n=0;n<t.length;++n)t[n].above&&(r+=jr(t[n]));return r}function vn(e,t,r,n,i){if(!i){var o=gn(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=ar(t);if("local"==n?a+=Gr(e.display):a-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==n?0:mn());var l=s.left+("window"==n?0:fn());r.left+=l,r.right+=l}return r.top+=a,r.bottom+=a,r}function yn(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=fn(),i-=mn();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:i-a.top}}function bn(e,t,r,n,i){return n||(n=Qe(e.doc,t.line)),vn(e,n,en(e,n,t.ch,i),r)}function xn(e,t,r,n,i,o){function a(t,a){var s=nn(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,vn(e,n,s,r)}n=n||Qe(e.doc,t.line),i||(i=rn(e,n));var s=he(n,e.doc.direction),l=t.ch,c=t.sticky;if(l>=n.text.length?(l=n.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return a("before"==c?l-1:l,"before"==c);function u(e,t,r){return a(r?e-1:e,1==s[t].level!=r)}var d=de(s,l,c),p=ue,h=u(l,d,"before"==c);return null!=p&&(h.other=u(l,p,"before"!=c)),h}function wn(e,t){var r=0;t=ht(e.doc,t),e.options.lineWrapping||(r=Dn(e.display)*t.ch);var n=Qe(e.doc,t.line),i=ar(n)+Gr(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function _n(e,t,r,n,i){var o=at(e,t,r);return o.xRel=i,n&&(o.outside=n),o}function kn(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return _n(n.first,0,null,-1,-1);var i=nt(n,r),o=n.first+n.size-1;if(i>o)return _n(n.first+n.size-1,Qe(n,o).text.length,null,1,1);t<0&&(t=0);for(var a=Qe(n,i);;){var s=Ln(e,a,i,t,r),l=Xt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==i)return c;a=Qe(n,i=c.line)}}function Cn(e,t,r,n){n-=gn(t);var i=t.text.length,o=le((function(t){return nn(e,r,t-1).bottom<=n}),i,0);return{begin:o,end:i=le((function(t){return nn(e,r,t).top>n}),o,i)}}function Sn(e,t,r,n){return r||(r=rn(e,t)),Cn(e,t,r,vn(e,t,nn(e,r,n),"line").top)}function An(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Ln(e,t,r,n,i){i-=ar(t);var o=rn(e,t),a=gn(t),s=0,l=t.text.length,c=!0,u=he(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?En:Tn)(e,t,r,o,u,n,i);s=(c=1!=d.level)?d.from:d.to-1,l=c?d.to:d.from-1}var p,h,f=null,m=null,g=le((function(t){var r=nn(e,o,t);return r.top+=a,r.bottom+=a,!!An(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(f=t,m=r),!0)}),s,l),v=!1;if(m){var y=n-m.left<m.right-n,b=y==c;g=f+(b?0:1),h=b?"after":"before",p=y?m.left:m.right}else{c||g!=l&&g!=s||g++,h=0==g?"after":g==t.text.length?"before":nn(e,o,g-(c?1:0)).bottom+a<=i==c?"after":"before";var x=xn(e,at(r,g,h),"line",t,o);p=x.left,v=i<x.top?-1:i>=x.bottom?1:0}return _n(r,g=se(t.text,g,1),h,v,n-p)}function Tn(e,t,r,n,i,o,a){var s=le((function(s){var l=i[s],c=1!=l.level;return An(xn(e,at(r,c?l.to:l.from,c?"before":"after"),"line",t,n),o,a,!0)}),0,i.length-1),l=i[s];if(s>0){var c=1!=l.level,u=xn(e,at(r,c?l.from:l.to,c?"after":"before"),"line",t,n);An(u,o,a,!0)&&u.top>a&&(l=i[s-1])}return l}function En(e,t,r,n,i,o,a){var s=Cn(e,t,n,a),l=s.begin,c=s.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,p=0;p<i.length;p++){var h=i[p];if(!(h.from>=c||h.to<=l)){var f=nn(e,n,1!=h.level?Math.min(c,h.to)-1:Math.max(l,h.from)).right,m=f<o?o-f+1e9:f-o;(!u||d>m)&&(u=h,d=m)}}return u||(u=i[i.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function Mn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==on){on=M("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)on.appendChild(document.createTextNode("x")),on.appendChild(M("br"));on.appendChild(document.createTextNode("x"))}E(e.measure,on);var r=on.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),T(e.measure),r||1}function Dn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=M("span","xxxxxxxxxx"),r=M("pre",[t],"CodeMirror-line-like");E(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Nn(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;r[s]=o.offsetLeft+o.clientLeft+i,n[s]=o.clientWidth}return{fixedPos:On(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function On(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Fn(e){var t=Mn(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/Dn(e.display)-3);return function(i){if(ir(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function In(e){var t=e.doc,r=Fn(e);t.iter((function(e){var t=r(e);t!=e.height&&tt(e,t)}))}function zn(e,t,r,n){var i=e.display;if(!r&&"true"==Le(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(e){return null}var l,c=kn(e,o,a);if(n&&c.xRel>0&&(l=Qe(e.doc,c.line).text).length==c.ch){var u=H(l,l.length,e.options.tabSize)-l.length;c=at(c.line,Math.max(0,Math.round((o-$r(e.display).left)/Dn(e.display))-u))}return c}function qn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function Rn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Dt&&rr(e.doc,t)<i.viewTo&&Pn(e);else if(r<=i.viewFrom)Dt&&nr(e.doc,r+n)>i.viewFrom?Pn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)Pn(e);else if(t<=i.viewFrom){var o=Bn(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):Pn(e)}else if(r>=i.viewTo){var a=Bn(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Pn(e)}else{var s=Bn(e,t,t,-1),l=Bn(e,r,r+n,1);s&&l?(i.view=i.view.slice(0,s.index).concat(kr(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=n):Pn(e)}var c=i.externalMeasured;c&&(r<c.lineN?c.lineN+=n:t<c.lineN+c.size&&(i.externalMeasured=null))}function Hn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[qn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==B(a,r)&&a.push(r)}}}function Pn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Bn(e,t,r,n){var i,o=qn(e,t),a=e.display.view;if(!Dt||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(n>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;rr(e.doc,r)!=r;){if(o==(n<0?0:a.length-1))return null;r+=n*a[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function Wn(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=kr(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=kr(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(qn(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(kr(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,qn(e,r)))),n.viewTo=r}function jn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Un(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Gn(e,t){void 0===t&&(t=!0);var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),a=e.options.$customCursor;a&&(t=!0);for(var s=0;s<r.sel.ranges.length;s++)if(t||s!=r.sel.primIndex){var l=r.sel.ranges[s];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var c=l.empty();if(a){var u=a(e,l);u&&Vn(e,u,i)}else(c||e.options.showCursorWhenSelecting)&&Vn(e,l.head,i);c||Zn(e,l,o)}}return n}function Vn(e,t,r){var n=xn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(M("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var o=bn(e,t,"div",null,null),a=o.right-o.left;i.style.width=(a>0?a:e.defaultCharWidth())+"px"}if(n.other){var s=r.appendChild(M("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=n.other.left+"px",s.style.top=n.other.top+"px",s.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function $n(e,t){return e.top-t.top||e.left-t.left}function Zn(e,t,r){var n=e.display,i=e.doc,o=document.createDocumentFragment(),a=$r(e.display),s=a.left,l=Math.max(n.sizerWidth,Kr(e)-n.sizer.offsetLeft)-a.right,c="ltr"==i.direction;function u(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?l-e:r)+"px;\n                             height: "+(n-t)+"px"))}function d(t,r,n){var o,a,d=Qe(i,t),p=d.text.length;function h(r,n){return bn(e,at(t,r),"div",d,n)}function f(t,r,n){var i=Sn(e,d,null,t),o="ltr"==r==("after"==n)?"left":"right";return h("after"==n?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1),o)[o]}var m=he(d,i.direction);return ce(m,r||0,null==n?p:n,(function(e,t,i,d){var g="ltr"==i,v=h(e,g?"left":"right"),y=h(t-1,g?"right":"left"),b=null==r&&0==e,x=null==n&&t==p,w=0==d,_=!m||d==m.length-1;if(y.top-v.top<=3){var k=(c?x:b)&&_,C=(c?b:x)&&w?s:(g?v:y).left,S=k?l:(g?y:v).right;u(C,v.top,S-C,v.bottom)}else{var A,L,T,E;g?(A=c&&b&&w?s:v.left,L=c?l:f(e,i,"before"),T=c?s:f(t,i,"after"),E=c&&x&&_?l:y.right):(A=c?f(e,i,"before"):s,L=!c&&b&&w?l:v.right,T=!c&&x&&_?s:y.left,E=c?f(t,i,"after"):l),u(A,v.top,L-A,v.bottom),v.bottom<y.top&&u(s,v.bottom,null,y.top),u(T,y.top,E-T,y.bottom)}(!o||$n(v,o)<0)&&(o=v),$n(y,o)<0&&(o=y),(!a||$n(v,a)<0)&&(a=v),$n(y,a)<0&&(a=y)})),{start:o,end:a}}var p=t.from(),h=t.to();if(p.line==h.line)d(p.line,p.ch,h.ch);else{var f=Qe(i,p.line),m=Qe(i,h.line),g=Jt(f)==Jt(m),v=d(p.line,p.ch,g?f.text.length+1:null).end,y=d(h.line,g?0:null,h.ch).start;g&&(v.top<y.top-2?(u(v.right,v.top,null,v.bottom),u(s,y.top,y.left,y.bottom)):u(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&u(s,v.bottom,null,y.top)}r.appendChild(o)}function Kn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Jn(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Yn(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Qn(e))}function Xn(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Jn(e))}),100)}function Qn(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ye(e,"focus",e,t),e.state.focused=!0,F(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Kn(e))}function Jn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ye(e,"blur",e,t),e.state.focused=!1,L(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function ei(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,o=0,l=0;l<t.view.length;l++){var c=t.view[l],u=e.options.lineWrapping,d=void 0,p=0;if(!c.hidden){if(i+=c.line.height,a&&s<8){var h=c.node.offsetTop+c.node.offsetHeight;d=h-r,r=h}else{var f=c.node.getBoundingClientRect();d=f.bottom-f.top,!u&&c.text.firstChild&&(p=c.text.firstChild.getBoundingClientRect().right-f.left-1)}var m=c.line.height-d;if((m>.005||m<-.005)&&(i<n&&(o-=m),tt(c.line,d),ti(c.line),c.rest))for(var g=0;g<c.rest.length;g++)ti(c.rest[g]);if(p>e.display.sizerWidth){var v=Math.ceil(p/Dn(e.display));v>e.display.maxLineLength&&(e.display.maxLineLength=v,e.display.maxLine=c.line,e.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(t.scroller.scrollTop+=o)}function ti(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function ri(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Gr(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=nt(t,n),a=nt(t,i);if(r&&r.ensure){var s=r.ensure.from.line,l=r.ensure.to.line;s<o?(o=s,a=nt(t,ar(Qe(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=nt(t,ar(Qe(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function ni(e,t){if(!be(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!m){var o=M("div","​",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Gr(e.display))+"px;\n                         height: "+(t.bottom-t.top+Zr(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function ii(e,t,r,n){var i;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==t.sticky?at(t.line,t.ch+1,"before"):t,t=t.ch?at(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var a=!1,s=xn(e,t),l=r&&r!=t?xn(e,r):s,c=ai(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-n,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+n}),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(hi(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(mi(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return i}function oi(e,t){var r=ai(e,t);null!=r.scrollTop&&hi(e,r.scrollTop),null!=r.scrollLeft&&mi(e,r.scrollLeft)}function ai(e,t){var r=e.display,n=Mn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Yr(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Vr(r),l=t.top<n,c=t.bottom>s-n;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?s:t.bottom)-o);u!=i&&(a.scrollTop=u)}var d=e.options.fixedGutter?0:r.gutters.offsetWidth,p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft-d,h=Kr(e)-r.gutters.offsetWidth,f=t.right-t.left>h;return f&&(t.right=t.left+h),t.left<10?a.scrollLeft=0:t.left<p?a.scrollLeft=Math.max(0,t.left+d-(f?0:10)):t.right>h+p-3&&(a.scrollLeft=t.right+(f?0:10)-h),a}function si(e,t){null!=t&&(di(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function li(e){di(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function ci(e,t,r){null==t&&null==r||di(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function ui(e,t){di(e),e.curOp.scrollToPos=t}function di(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,pi(e,wn(e,t.from),wn(e,t.to),t.margin))}function pi(e,t,r,n){var i=ai(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});ci(e,i.scrollLeft,i.scrollTop)}function hi(e,t){Math.abs(e.doc.scrollTop-t)<2||(r||Ui(e,{top:t}),fi(e,t,!0),r&&Ui(e),zi(e,100))}function fi(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function mi(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Zi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function gi(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Vr(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Zr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var vi=function(e,t,r){this.cm=r;var n=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),me(n,"scroll",(function(){n.clientHeight&&t(n.scrollTop,"vertical")})),me(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};vi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},vi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},vi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},vi.prototype.zeroWidthHack=function(){var e=b&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new P,this.disableVert=new P},vi.prototype.enableZeroWidthBar=function(e,t,r){function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.visibility="hidden":t.set(1e3,n)}e.style.visibility="",t.set(1e3,n)},vi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var yi=function(){};function bi(e,t){t||(t=gi(e));var r=e.display.barWidth,n=e.display.barHeight;xi(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&ei(e),xi(e,gi(e)),r=e.display.barWidth,n=e.display.barHeight}function xi(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}yi.prototype.update=function(){return{bottom:0,right:0}},yi.prototype.setScrollLeft=function(){},yi.prototype.setScrollTop=function(){},yi.prototype.clear=function(){};var wi={native:vi,null:yi};function _i(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&L(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new wi[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),me(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,r){"horizontal"==r?mi(e,t):hi(e,t)}),e),e.display.scrollbars.addClass&&F(e.display.wrapper,e.display.scrollbars.addClass)}var ki=0;function Ci(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ki,markArrays:null},Sr(e.curOp)}function Si(e){var t=e.curOp;t&&Lr(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Ai(e)}))}function Ai(e){for(var t=e.ops,r=0;r<t.length;r++)Li(t[r]);for(var n=0;n<t.length;n++)Ti(t[n]);for(var i=0;i<t.length;i++)Ei(t[i]);for(var o=0;o<t.length;o++)Mi(t[o]);for(var a=0;a<t.length;a++)Di(t[a])}function Li(e){var t=e.cm,r=t.display;Hi(t),e.updateMaxLine&&lr(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ri(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ti(e){e.updatedDisplay=e.mustUpdate&&Wi(e.cm,e.update)}function Ei(e){var t=e.cm,r=t.display;e.updatedDisplay&&ei(t),e.barMeasure=gi(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=en(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Zr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Kr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Mi(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&mi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==O();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&bi(t,e.barMeasure),e.updatedDisplay&&$i(t,e.barMeasure),e.selectionChanged&&Kn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Yn(e.cm)}function Di(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&ji(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&fi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&mi(t,e.scrollLeft,!0,!0),e.scrollToPos&&ni(t,ii(t,ht(n,e.scrollToPos.from),ht(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||ye(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&ye(o[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ye(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ni(e,t){if(e.curOp)return t();Ci(e);try{return t()}finally{Si(e)}}function Oi(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ci(e);try{return t.apply(e,arguments)}finally{Si(e)}}}function Fi(e){return function(){if(this.curOp)return e.apply(this,arguments);Ci(this);try{return e.apply(this,arguments)}finally{Si(this)}}}function Ii(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ci(t);try{return e.apply(this,arguments)}finally{Si(t)}}}function zi(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,q(qi,e))}function qi(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=xt(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(n.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Ze(t.mode,n.state):null,l=yt(e,o,n,!0);s&&(n.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),p=0;!d&&p<a.length;++p)d=a[p]!=o.styles[p];d&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&wt(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return zi(e,e.options.workDelay),!0})),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&Ni(e,(function(){for(var t=0;t<i.length;t++)Hn(e,i[t],"text")}))}}var Ri=function(e,t,r){var n=e.display;this.viewport=t,this.visible=ri(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Kr(e),this.force=r,this.dims=Nn(e),this.events=[]};function Hi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Zr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Zr(e)+"px",t.scrollbarsClipped=!0)}function Pi(e){if(e.hasFocus())return null;var t=O();if(!t||!N(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&N(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function Bi(e){if(e&&e.activeElt&&e.activeElt!=O()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function Wi(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return Pn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==jn(e))return!1;Ki(e)&&(Pn(e),t.dims=Nn(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(i,r.viewTo)),Dt&&(o=rr(e.doc,o),a=nr(e.doc,a));var s=o!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;Wn(e,o,a),r.viewOffset=ar(Qe(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var l=jn(e);if(!s&&0==l&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=Pi(e);return l>4&&(r.lineDiv.style.display="none"),Gi(e,r.updateLineNumbers,t.dims),l>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Bi(c),T(r.cursorDiv),T(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,zi(e,400)),r.updateLineNumbers=null,!0}function ji(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Kr(e))n&&(t.visible=ri(e.display,e.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Vr(e.display)-Yr(e),r.top)}),t.visible=ri(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Wi(e,t))break;ei(e);var i=gi(e);Un(e),bi(e,i),$i(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Ui(e,t){var r=new Ri(e,t);if(Wi(e,r)){ei(e),ji(e,r);var n=gi(e);Un(e),bi(e,n),$i(e,n),r.finish()}}function Gi(e,t,r){var n=e.display,i=e.options.lineNumbers,o=n.lineDiv,a=o.firstChild;function s(t){var r=t.nextSibling;return l&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var c=n.view,u=n.viewFrom,d=0;d<c.length;d++){var p=c[d];if(p.hidden);else if(p.node&&p.node.parentNode==o){for(;a!=p.node;)a=s(a);var h=i&&null!=t&&t<=u&&p.lineNumber;p.changes&&(B(p.changes,"gutter")>-1&&(h=!1),Dr(e,p,u,r)),h&&(T(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(ot(e.options,u)))),a=p.node.nextSibling}else{var f=Hr(e,p,u,r);o.insertBefore(f,a)}u+=p.size}for(;a;)a=s(a)}function Vi(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Er(e,"gutterChanged",e)}function $i(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Zr(e)+"px"}function Zi(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=On(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",a=0;a<r.length;a++)if(!r[a].hidden){e.options.fixedGutter&&(r[a].gutter&&(r[a].gutter.style.left=o),r[a].gutterBackground&&(r[a].gutterBackground.style.left=o));var s=r[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Ki(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=ot(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(M("div",[M("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",Vi(e.display),!0}return!1}function Yi(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;n=!0}r.push({className:o,style:a})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function Xi(e){var t=e.gutters,r=e.gutterSpecs;T(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],o=i.className,a=i.style,s=t.appendChild(M("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",Vi(e)}function Qi(e){Xi(e.display),Rn(e),Zi(e)}function Ji(e,t,n,i){var o=this;this.input=n,o.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=D("div",null,"CodeMirror-code"),o.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=M("div",null,"CodeMirror-cursors"),o.measure=M("div",null,"CodeMirror-measure"),o.lineMeasure=M("div",null,"CodeMirror-measure"),o.lineSpace=D("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=D("div",[o.lineSpace],"CodeMirror-lines");o.mover=M("div",[c],null,"position: relative"),o.sizer=M("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=M("div",null,null,"position: absolute; height: "+W+"px; width: 1px;"),o.gutters=M("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=M("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=M("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),o.wrapper.setAttribute("translate","no"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||r&&y||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Yi(i.gutters,i.lineNumbers),Xi(o),n.init(o)}Ri.prototype.signal=function(e,t){we(e,t)&&this.events.push(arguments)},Ri.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ye.apply(null,this.events[e])};var eo=0,to=null;function ro(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function no(e){var t=ro(e);return t.x*=to,t.y*=to,t}function io(e,t){u&&d>=102&&(null==e.display.chromeScrollHack?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout((function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""}),100));var n=ro(t),i=n.x,o=n.y,a=to;0===t.deltaMode&&(i=t.deltaX,o=t.deltaY,a=1);var s=e.display,c=s.scroller,h=c.scrollWidth>c.clientWidth,f=c.scrollHeight>c.clientHeight;if(i&&h||o&&f){if(o&&b&&l)e:for(var m=t.target,g=s.view;m!=c;m=m.parentNode)for(var v=0;v<g.length;v++)if(g[v].node==m){e.display.currentWheelTarget=m;break e}if(i&&!r&&!p&&null!=a)return o&&f&&hi(e,Math.max(0,c.scrollTop+o*a)),mi(e,Math.max(0,c.scrollLeft+i*a)),(!o||o&&f)&&ke(t),void(s.wheelStartX=null);if(o&&null!=a){var y=o*a,x=e.doc.scrollTop,w=x+s.wrapper.clientHeight;y<0?x=Math.max(0,x+y-50):w=Math.min(e.doc.height,w+y+50),Ui(e,{top:x,bottom:w})}eo<20&&0!==t.deltaMode&&(null==s.wheelStartX?(s.wheelStartX=c.scrollLeft,s.wheelStartY=c.scrollTop,s.wheelDX=i,s.wheelDY=o,setTimeout((function(){if(null!=s.wheelStartX){var e=c.scrollLeft-s.wheelStartX,t=c.scrollTop-s.wheelStartY,r=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,r&&(to=(to*eo+r)/(eo+1),++eo)}}),200)):(s.wheelDX+=i,s.wheelDY+=o))}}a?to=-.53:r?to=15:u?to=-.7:h&&(to=-1/3);var oo=function(e,t){this.ranges=e,this.primIndex=t};oo.prototype.primary=function(){return this.ranges[this.primIndex]},oo.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!lt(r.anchor,n.anchor)||!lt(r.head,n.head))return!1}return!0},oo.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ao(ct(this.ranges[t].anchor),ct(this.ranges[t].head));return new oo(e,this.primIndex)},oo.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},oo.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(st(t,n.from())>=0&&st(e,n.to())<=0)return r}return-1};var ao=function(e,t){this.anchor=e,this.head=t};function so(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort((function(e,t){return st(e.from(),t.from())})),r=B(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=st(s.to(),a.from());if(n&&!a.empty()?l>0:l>=0){var c=dt(s.from(),a.from()),u=ut(s.to(),a.to()),d=s.empty()?a.from()==a.head:s.from()==s.head;o<=r&&--r,t.splice(--o,2,new ao(d?u:c,d?c:u))}}return new oo(t,r)}function lo(e,t){return new oo([new ao(e,t||e)],0)}function co(e){return e.text?at(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function uo(e,t){if(st(e,t.from)<0)return e;if(st(e,t.to)<=0)return co(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=co(t).ch-t.to.ch),at(r,n)}function po(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new ao(uo(i.anchor,t),uo(i.head,t)))}return so(e.cm,r,e.sel.primIndex)}function ho(e,t,r){return e.line==t.line?at(r.line,e.ch-t.ch+r.ch):at(r.line+(e.line-t.line),e.ch)}function fo(e,t,r){for(var n=[],i=at(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=ho(s.from,i,o),c=ho(co(s),i,o);if(i=s.to,o=c,"around"==r){var u=e.sel.ranges[a],d=st(u.head,u.anchor)<0;n[a]=new ao(d?c:l,d?l:c)}else n[a]=new ao(l,l)}return new oo(n,e.sel.primIndex)}function mo(e){e.doc.mode=Ge(e.options,e.doc.modeOption),go(e)}function go(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,zi(e,100),e.state.modeGen++,e.curOp&&Rn(e)}function vo(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function yo(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){ur(e,r,i,n),Er(e,"change",e,t)}function a(e,t){for(var r=[],o=e;o<t;++o)r.push(new cr(c[o],i(o),n));return r}var s=t.from,l=t.to,c=t.text,u=Qe(e,s.line),d=Qe(e,l.line),p=Y(c),h=i(c.length-1),f=l.line-s.line;if(t.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(vo(e,t)){var m=a(0,c.length-1);o(d,d.text,h),f&&e.remove(s.line,f),m.length&&e.insert(s.line,m)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,s.ch)+p+u.text.slice(l.ch),h);else{var g=a(1,c.length-1);g.push(new cr(p+u.text.slice(l.ch),h,n)),o(u,u.text.slice(0,s.ch)+c[0],i(0)),e.insert(s.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),i(0)),e.remove(s.line+1,f);else{o(u,u.text.slice(0,s.ch)+c[0],i(0)),o(d,p+d.text.slice(l.ch),h);var v=a(1,c.length-1);f>1&&e.remove(s.line+1,f-1),e.insert(s.line+1,v)}Er(e,"change",e,t)}function bo(e,t,r){function n(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;r&&!l||(t(s.doc,l),n(s.doc,e,l))}}}n(e,null,!0)}function xo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,In(e),mo(e),wo(e),e.options.direction=t.direction,e.options.lineWrapping||lr(e),e.options.mode=t.modeOption,Rn(e)}function wo(e){("rtl"==e.doc.direction?F:L)(e.display.lineDiv,"CodeMirror-rtl")}function _o(e){Ni(e,(function(){wo(e),Rn(e)}))}function ko(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Co(e,t){var r={from:ct(t.from),to:co(t),text:Je(e,t.from,t.to)};return Do(e,r,t.from.line,t.to.line+1),bo(e,(function(e){return Do(e,r,t.from.line,t.to.line+1)}),!0),r}function So(e){for(;e.length&&Y(e).ranges;)e.pop()}function Ao(e,t){return t?(So(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}function Lo(e,t,r,n){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=Ao(i,i.lastOp==n)))a=Y(o.changes),0==st(t.from,t.to)&&0==st(t.from,a.to)?a.to=co(t):o.changes.push(Co(e,t));else{var l=Y(i.done);for(l&&l.ranges||Mo(e.sel,i.done),o={changes:[Co(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,a||ye(e,"historyAdded")}function To(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Eo(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||To(e,o,Y(i.done),t))?i.done[i.done.length-1]=t:Mo(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&So(i.undone)}function Mo(e,t){var r=Y(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Do(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),(function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o}))}function No(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Oo(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(No(r[i]));return n}function Fo(e,t){var r=Oo(e,t),n=Pt(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(r[i]=a)}return r}function Io(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?oo.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];n.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&B(t,Number(u[1]))>-1&&(Y(s)[d]=c[d],delete c[d])}}}return n}function zo(e,t,r,n){if(n){var i=e.anchor;if(r){var o=st(t,i)<0;o!=st(r,i)<0?(i=t,t=r):o!=st(t,r)<0&&(t=r)}return new ao(i,t)}return new ao(r||t,t)}function qo(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),jo(e,new oo([zo(e.sel.primary(),t,r,i)],0),n)}function Ro(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=zo(e.sel.ranges[o],t[o],null,i);jo(e,so(e.cm,n,e.sel.primIndex),r)}function Ho(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,jo(e,so(e.cm,i,e.sel.primIndex),n)}function Po(e,t,r,n){jo(e,lo(t,r),n)}function Bo(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new ao(ht(e,t[r].anchor),ht(e,t[r].head))},origin:r&&r.origin};return ye(e,"beforeSelectionChange",e,n),e.cm&&ye(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?so(e.cm,n.ranges,n.ranges.length-1):t}function Wo(e,t,r){var n=e.history.done,i=Y(n);i&&i.ranges?(n[n.length-1]=t,Uo(e,t,r)):jo(e,t,r)}function jo(e,t,r){Uo(e,t,r),Eo(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Uo(e,t,r){(we(e,"beforeSelectionChange")||e.cm&&we(e.cm,"beforeSelectionChange"))&&(t=Bo(e,t,r));var n=r&&r.bias||(st(t.primary().head,e.sel.primary().head)<0?-1:1);Go(e,$o(e,t,n,!0)),r&&!1===r.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||li(e.cm)}function Go(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,xe(e.cm)),Er(e,"cursorActivity",e))}function Vo(e){Go(e,$o(e,e.sel,null,!1))}function $o(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Ko(e,a.anchor,s&&s.anchor,r,n),c=a.head==a.anchor?l:Ko(e,a.head,s&&s.head,r,n);(i||l!=a.anchor||c!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new ao(l,c))}return i?so(e.cm,i,t.primIndex):t}function Zo(e,t,r,n,i){var o=Qe(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u?s.to>=t.ch:s.to>t.ch))){if(i&&(ye(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(r){var d=l.find(n<0?1:-1),p=void 0;if((n<0?u:c)&&(d=Yo(e,d,-n,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(p=st(d,r))&&(n<0?p<0:p>0))return Zo(e,d,t,n,i)}var h=l.find(n<0?-1:1);return(n<0?c:u)&&(h=Yo(e,h,n,h.line==t.line?o:null)),h?Zo(e,h,t,n,i):null}}return t}function Ko(e,t,r,n,i){var o=n||1,a=Zo(e,t,r,o,i)||!i&&Zo(e,t,r,o,!0)||Zo(e,t,r,-o,i)||!i&&Zo(e,t,r,-o,!0);return a||(e.cantEdit=!0,at(e.first,0))}function Yo(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?ht(e,at(t.line-1)):null:r>0&&t.ch==(n||Qe(e,t.line)).text.length?t.line<e.first+e.size-1?at(t.line+1,0):null:new at(t.line,t.ch+r)}function Xo(e){e.setSelection(at(e.firstLine(),0),at(e.lastLine()),U)}function Qo(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=ht(e,t)),r&&(n.to=ht(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),ye(e,"beforeChange",e,n),e.cm&&ye(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Jo(e,t,r){if(e.cm){if(!e.cm.curOp)return Oi(e.cm,Jo)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"))||(t=Qo(e,t,!0))){var n=Mt&&!r&&Wt(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)ea(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else ea(e,t)}}function ea(e,t){if(1!=t.text.length||""!=t.text[0]||0!=st(t.from,t.to)){var r=po(e,t);Lo(e,t,r,e.cm?e.cm.curOp.id:NaN),na(e,t,r,Pt(e,t));var n=[];bo(e,(function(e,r){r||-1!=B(n,e.history)||(la(e.history,t),n.push(e.history)),na(e,t,null,Pt(e,t))}))}}function ta(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<s.length&&(i=s[c],r?!i.ranges||i.equals(e.sel):i.ranges);c++);if(c!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(n)return void s.push(i);break}if(Mo(i,l),r&&!i.equals(e.sel))return void jo(e,i,{clearRedo:!1});a=i}var u=[];Mo(a,l),l.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var d=we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"),p=function(r){var n=i.changes[r];if(n.origin=t,d&&!Qo(e,n,!1))return s.length=0,{};u.push(Co(e,n));var o=r?po(e,n):Y(s);na(e,n,o,Fo(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:co(n)});var a=[];bo(e,(function(e,t){t||-1!=B(a,e.history)||(la(e.history,n),a.push(e.history)),na(e,n,null,Fo(e,n))}))},h=i.changes.length-1;h>=0;--h){var f=p(h);if(f)return f.v}}}}function ra(e,t){if(0!=t&&(e.first+=t,e.sel=new oo(X(e.sel.ranges,(function(e){return new ao(at(e.anchor.line+t,e.anchor.ch),at(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Rn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Hn(e.cm,n,"gutter")}}function na(e,t,r,n){if(e.cm&&!e.cm.curOp)return Oi(e.cm,na)(e,t,r,n);if(t.to.line<e.first)ra(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ra(e,i),t={from:at(e.first,0),to:at(t.to.line+i,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:at(o,Qe(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Je(e,t.from,t.to),r||(r=po(e,t)),e.cm?ia(e.cm,t,n):yo(e,t,n),Uo(e,r,U),e.cantEdit&&Ko(e,at(e.firstLine(),0))&&(e.cantEdit=!1)}}function ia(e,t,r){var n=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=rt(Jt(Qe(n,o.line))),n.iter(l,a.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),n.sel.contains(t.from,t.to)>-1&&xe(e),yo(n,t,r,Fn(e)),e.options.lineWrapping||(n.iter(l,o.line+t.text.length,(function(e){var t=sr(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),Et(n,o.line),zi(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?Rn(e):o.line!=a.line||1!=t.text.length||vo(e.doc,t)?Rn(e,o.line,a.line+1,c):Hn(e,o.line,"text");var u=we(e,"changes"),d=we(e,"change");if(d||u){var p={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&Er(e,"change",e,p),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function oa(e,t,r,n,i){var o;n||(n=r),st(n,r)<0&&(r=(o=[n,r])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Jo(e,{from:r,to:n,text:t,origin:i})}function aa(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function sa(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)aa(o.ranges[s].anchor,t,r,n),aa(o.ranges[s].head,t,r,n)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(r<c.from.line)c.from=at(c.from.line+n,c.from.ch),c.to=at(c.to.line+n,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function la(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;sa(e.done,r,n,i),sa(e.undone,r,n,i)}function ca(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=Qe(e,pt(e,t)):i=rt(t),null==i?null:(n(o,i)&&e.cm&&Hn(e.cm,i,r),o)}function ua(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function da(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}ao.prototype.from=function(){return dt(this.anchor,this.head)},ao.prototype.to=function(){return ut(this.anchor,this.head)},ao.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ua.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,dr(i),Er(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},da.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),a=n.height;if(n.removeInner(e,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ua))){var s=[];this.collapse(s),this.children=[new ua(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new ua(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++n,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new da(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=B(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new da(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,r))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var pa=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function ha(e,t,r){ar(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&si(e,r)}function fa(e,t,r,n){var i=new pa(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),ca(e,t,"widget",(function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!ir(e,t)){var n=ar(t)<e.scrollTop;tt(t,t.height+jr(i)),n&&si(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&Er(o,"lineWidgetAdded",o,i,"number"==typeof t?t:rt(t)),i}pa.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=rt(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=jr(this);tt(r,Math.max(0,r.height-o)),e&&(Ni(e,(function(){ha(e,r,-o),Hn(e,n,"widget")})),Er(e,"lineWidgetCleared",e,this,n))}},pa.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=jr(this)-t;i&&(ir(this.doc,n)||tt(n,n.height+i),r&&Ni(r,(function(){r.curOp.forceUpdate=!0,ha(r,n,i),Er(r,"lineWidgetChanged",r,e,rt(n))})))},_e(pa);var ma=0,ga=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ma};function va(e,t,r,n,i){if(n&&n.shared)return ba(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return Oi(e.cm,va)(e,t,r,n,i);var o=new ga(e,i),a=st(t,r);if(n&&R(n,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=D("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Qt(e,t.line,t,r,o)||t.line!=r.line&&Qt(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ot()}o.addToHistory&&Lo(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,r.line+1,(function(n){c&&o.collapsed&&!c.options.lineWrapping&&Jt(n)==c.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&tt(n,0),qt(n,new Ft(o,l==t.line?t.ch:null,l==r.line?r.ch:null),e.cm&&e.cm.curOp),++l})),o.collapsed&&e.iter(t.line,r.line+1,(function(t){ir(e,t)&&tt(t,0)})),o.clearOnEnter&&me(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Nt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ma,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)Rn(c,t.line,r.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=r.line;u++)Hn(c,u,"text");o.atomic&&Vo(c.doc),Er(c,"markerAdded",c,o)}return o}ga.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ci(e),we(this,"clear")){var r=this.find();r&&Er(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=It(a.markedSpans,this);e&&!this.collapsed?Hn(e,rt(a),"text"):e&&(null!=s.to&&(i=rt(a)),null!=s.from&&(n=rt(a))),a.markedSpans=zt(a.markedSpans,s),null==s.from&&this.collapsed&&!ir(this.doc,a)&&e&&tt(a,Mn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Jt(this.lines[l]),u=sr(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Rn(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Vo(e.doc)),e&&Er(e,"markerCleared",e,this,n,i),t&&Si(e),this.parent&&this.parent.clear()}},ga.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=It(o.markedSpans,this);if(null!=a.from&&(r=at(t?o:rt(o),a.from),-1==e))return r;if(null!=a.to&&(n=at(t?o:rt(o),a.to),1==e))return n}return r&&{from:r,to:n}},ga.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&Ni(n,(function(){var i=t.line,o=rt(t.line),a=tn(n,o);if(a&&(dn(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ir(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var l=jr(r)-s;l&&tt(i,i.height+l)}Er(n,"markerChanged",n,e)}))},ga.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=B(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ga.prototype.detachLine=function(e){if(this.lines.splice(B(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},_e(ga);var ya=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function ba(e,t,r,n,i){(n=R(n)).shared=!1;var o=[va(e,t,r,n,i)],a=o[0],s=n.widgetNode;return bo(e,(function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(va(e,ht(e,t),ht(e,r),n,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=Y(o)})),new ya(o,a)}function xa(e){return e.findMarks(at(e.first,0),e.clipPos(at(e.lastLine())),(function(e){return e.parent}))}function wa(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(st(o,a)){var s=va(e,o,a,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function _a(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];bo(r.primary.doc,(function(e){return n.push(e)}));for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==B(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}ya.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Er(this,"clear")}},ya.prototype.find=function(e,t){return this.primary.find(e,t)},_e(ya);var ka=0,Ca=function(e,t,r,n,i){if(!(this instanceof Ca))return new Ca(e,t,r,n,i);null==r&&(r=0),da.call(this,[new ua([new cr("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=at(r,0);this.sel=lo(o),this.history=new ko(null),this.id=++ka,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),yo(this,{from:o,to:o,text:e}),jo(this,lo(o),U)};Ca.prototype=ee(da.prototype,{constructor:Ca,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=et(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Ii((function(e){var t=at(this.first,0),r=this.first+this.size-1;Jo(this,{from:t,to:at(r,Qe(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&ci(this.cm,0,0),jo(this,lo(t),U)})),replaceRange:function(e,t,r,n){oa(this,e,t=ht(this,t),r=r?ht(this,r):t,n)},getRange:function(e,t,r){var n=Je(this,ht(this,e),ht(this,t));return!1===r?n:""===r?n.join(""):n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(it(this,e))return Qe(this,e)},getLineNumber:function(e){return rt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Qe(this,e)),Jt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ht(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ii((function(e,t,r){Po(this,ht(this,"number"==typeof e?at(e,t||0):e),null,r)})),setSelection:Ii((function(e,t,r){Po(this,ht(this,e),ht(this,t||e),r)})),extendSelection:Ii((function(e,t,r){qo(this,ht(this,e),t&&ht(this,t),r)})),extendSelections:Ii((function(e,t){Ro(this,mt(this,e),t)})),extendSelectionsBy:Ii((function(e,t){Ro(this,mt(this,X(this.sel.ranges,e)),t)})),setSelections:Ii((function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new ao(ht(this,e[i].anchor),ht(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),jo(this,so(this.cm,n,t),r)}})),addSelection:Ii((function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new ao(ht(this,e),ht(this,t||e))),jo(this,so(this.cm,n,n.length-1),r)})),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Je(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Je(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Ii((function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:r}}for(var s=t&&"end"!=t&&fo(this,n,t),l=n.length-1;l>=0;l--)Jo(this,n[l]);s?Wo(this,s):this.cm&&li(this.cm)})),undo:Ii((function(){ta(this,"undo")})),redo:Ii((function(){ta(this,"redo")})),undoSelection:Ii((function(){ta(this,"undo",!0)})),redoSelection:Ii((function(){ta(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new ko(this.history),bo(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Io(this.history.done),undone:Io(this.history.undone)}},setHistory:function(e){var t=this.history=new ko(this.history);t.done=Io(e.done.slice(0),null,!0),t.undone=Io(e.undone.slice(0),null,!0)},setGutterMarker:Ii((function(e,t,r){return ca(this,e,"gutter",(function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&ie(n)&&(e.gutterMarkers=null),!0}))})),clearGutter:Ii((function(e){var t=this;this.iter((function(r){r.gutterMarkers&&r.gutterMarkers[e]&&ca(t,r,"gutter",(function(){return r.gutterMarkers[e]=null,ie(r.gutterMarkers)&&(r.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!it(this,e))return null;if(t=e,!(e=Qe(this,e)))return null}else if(null==(t=rt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Ii((function(e,t,r){return ca(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(S(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0}))})),removeLineClass:Ii((function(e,t,r){return ca(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(S(r));if(!o)return!1;var a=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:Ii((function(e,t,r){return fa(this,e,t,r)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return va(this,ht(this,e),ht(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return va(this,e=ht(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Qe(this,(e=ht(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ht(this,e),t=ht(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||r&&!r(l.marker)||n.push(l.marker.parent||l.marker)}++i})),n},getAllMarks:function(){var e=[];return this.iter((function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)})),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r})),ht(this,at(r,t))},indexFromPos:function(e){var t=(e=ht(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+r})),t},copy:function(e){var t=new Ca(et(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Ca(et(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],wa(n,xa(this)),n},unlinkDoc:function(e){if(e instanceof Rs&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),_a(xa(this));break}if(e.history==this.history){var r=[e.id];bo(e,(function(e){return r.push(e.id)}),!0),e.history=new ko(null),e.history.done=Io(this.history.done,r),e.history.undone=Io(this.history.undone,r)}},iterLinkedDocs:function(e){bo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ie(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Ii((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&_o(this.cm))}))}),Ca.prototype.eachLine=Ca.prototype.iter;var Sa=0;function Aa(e){var t=this;if(Ea(t),!be(t,e)&&!Ur(t.display,e)){ke(e),a&&(Sa=+new Date);var r=zn(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),s=0,l=function(){++s==i&&Oi(t,(function(){var e={from:r=ht(t.doc,r),to:r,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Jo(t.doc,e),Wo(t.doc,lo(ht(t.doc,r),ht(t.doc,co(e))))}))()},c=function(e,r){if(t.options.allowDropFileTypes&&-1==B(t.options.allowDropFileTypes,e.type))l();else{var n=new FileReader;n.onerror=function(){return l()},n.onload=function(){var e=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[r]=e),l()},n.readAsText(e)}},u=0;u<n.length;u++)c(n[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var p;if(t.state.draggingText&&!t.state.draggingText.copy&&(p=t.listSelections()),Uo(t.doc,lo(r,r)),p)for(var h=0;h<p.length;++h)oa(t.doc,"",p[h].anchor,p[h].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(e){}}}}function La(e,t){if(a&&(!e.state.draggingText||+new Date-Sa<100))Ae(t);else if(!be(e,t)&&!Ur(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var r=M("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),p&&r.parentNode.removeChild(r)}}function Ta(e,t){var r=zn(e,t);if(r){var n=document.createDocumentFragment();Vn(e,r,n),e.display.dragCursor||(e.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),E(e.display.dragCursor,n)}}function Ea(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ma(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation((function(){for(var t=0;t<r.length;t++)e(r[t])}))}}var Da=!1;function Na(){Da||(Oa(),Da=!0)}function Oa(){var e;me(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ma(Fa)}),100))})),me(window,"blur",(function(){return Ma(Jn)}))}function Fa(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ia={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},za=0;za<10;za++)Ia[za+48]=Ia[za+96]=String(za);for(var qa=65;qa<=90;qa++)Ia[qa]=String.fromCharCode(qa);for(var Ra=1;Ra<=12;Ra++)Ia[Ra+111]=Ia[Ra+63235]="F"+Ra;var Ha={};function Pa(e){var t,r,n,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Ba(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=X(r.split(" "),Pa),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=n):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[r]}for(var c in t)e[c]=t[c];return e}function Wa(e,t,r,n){var i=(t=Va(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Wa(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var a=Wa(e,t.fallthrough[o],r,n);if(a)return a}}}function ja(e){var t="string"==typeof e?e:Ia[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ua(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(k?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(k?t.ctrlKey:t.metaKey)&&"Mod"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Ga(e,t){if(p&&34==e.keyCode&&e.char)return!1;var r=Ia[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Ua(r,e,t))}function Va(e){return"string"==typeof e?Ha[e]:e}function $a(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&st(o.from,Y(n).to)<=0;){var a=n.pop();if(st(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}Ni(e,(function(){for(var t=n.length-1;t>=0;t--)oa(e.doc,"",n[t].from,n[t].to,"+delete");li(e)}))}function Za(e,t,r){var n=se(e.text,t+r,r);return n<0||n>e.text.length?null:n}function Ka(e,t,r){var n=Za(e,t.ch,r);return null==n?null:new at(t.line,n,r<0?"after":"before")}function Ya(e,t,r,n,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=he(r,t.doc.direction);if(o){var a,s=i<0?Y(o):o[0],l=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=rn(t,r);a=i<0?r.text.length-1:0;var u=nn(t,c,a).top;a=le((function(e){return nn(t,c,e).top==u}),i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=Za(r,a,1))}else a=i<0?s.to:s.from;return new at(n,a,l)}}return new at(n,i<0?r.text.length:0,i<0?"before":"after")}function Xa(e,t,r,n){var i=he(t,e.doc.direction);if(!i)return Ka(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=de(i,r.ch,r.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(n>0?a.to>r.ch:a.from<r.ch))return Ka(t,r,n);var s,l=function(e,r){return Za(t,e instanceof at?e.ch:e,r)},c=function(r){return e.options.lineWrapping?(s=s||rn(e,t),Sn(e,t,s,r)):{begin:0,end:t.text.length}},u=c("before"==r.sticky?l(r,-1):r.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==n<0,p=l(r,d?1:-1);if(null!=p&&(d?p<=a.to&&p<=u.end:p>=a.from&&p>=u.begin)){var h=d?"before":"after";return new at(r.line,p,h)}}var f=function(e,t,n){for(var o=function(e,t){return t?new at(r.line,l(e,1),"before"):new at(r.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),c=s?n.begin:l(n.end,-1);if(a.from<=c&&c<a.to)return o(c,s);if(c=s?a.from:l(a.to,-1),n.begin<=c&&c<n.end)return o(c,s)}},m=f(o+n,n,u);if(m)return m;var g=n>0?u.end:l(u.begin,-1);return null==g||n>0&&g==t.text.length||!(m=f(n>0?0:i.length-1,n,c(g)))?null:m}Ha.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ha.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ha.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ha.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ha.default=b?Ha.macDefault:Ha.pcDefault;var Qa={selectAll:Xo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),U)},killLine:function(e){return $a(e,(function(t){if(t.empty()){var r=Qe(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:at(t.head.line+1,0)}:{from:t.head,to:at(t.head.line,r)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return $a(e,(function(t){return{from:at(t.from().line,0),to:ht(e.doc,at(t.to().line+1,0))}}))},delLineLeft:function(e){return $a(e,(function(e){return{from:at(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return $a(e,(function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return $a(e,(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(at(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(at(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Ja(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return ts(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return es(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")}),V)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")}),V)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?ts(e,t.head):n}),V)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),a=H(e.getLine(o.line),o.ch,n);t.push(K(n-a%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ni(e,(function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=Qe(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new at(i.line,i.ch-1)),i.ch>0)i=new at(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),at(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Qe(e.doc,i.line-1).text;a&&(i=new at(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),at(i.line-1,a.length-1),i,"+transpose"))}r.push(new ao(i,i))}e.setSelections(r)}))},newlineAndIndent:function(e){return Ni(e,(function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);li(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ja(e,t){var r=Qe(e.doc,t),n=Jt(r);return n!=r&&(t=rt(n)),Ya(!0,e,n,t,1)}function es(e,t){var r=Qe(e.doc,t),n=er(r);return n!=r&&(t=rt(n)),Ya(!0,e,r,t,-1)}function ts(e,t){var r=Ja(e,t.line),n=Qe(e.doc,r.line),i=he(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(r.ch,n.text.search(/\S/)),a=t.line==r.line&&t.ch<=o&&t.ch;return at(r.line,a?0:o,r.sticky)}return r}function rs(e,t,r){if("string"==typeof t&&!(t=Qa[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=j}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function ns(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=Wa(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&Wa(t,e.options.extraKeys,r,e)||Wa(t,e.options.keyMap,r,e)}var is=new P;function os(e,t,r,n){var i=e.state.keySeq;if(i){if(ja(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:is.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),as(e,i+" "+t,r,n))return!0}return as(e,t,r,n)}function as(e,t,r,n){var i=ns(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&Er(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(ke(r),Kn(e)),!!i}function ss(e,t){var r=Ga(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?os(e,"Shift-"+r,t,(function(t){return rs(e,t,!0)}))||os(e,r,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return rs(e,t)})):os(e,r,t,(function(t){return rs(e,t)})))}function ls(e,t,r){return os(e,"'"+r+"'",t,(function(t){return rs(e,t,!0)}))}var cs=null;function us(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=O(),be(t,e)))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=ss(t,e);p&&(cs=i?n:null,i||88!=n||qe||!(b?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),r&&!b&&!i&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||ds(t)}}function ds(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(L(t,"CodeMirror-crosshair"),ve(document,"keyup",r),ve(document,"mouseover",r))}F(t,"CodeMirror-crosshair"),me(document,"keyup",r),me(document,"mouseover",r)}function ps(e){16==e.keyCode&&(this.doc.sel.shift=!1),be(this,e)}function hs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Ur(t.display,e)||be(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(p&&r==cs)return cs=null,void ke(e);if(!p||e.which&&!(e.which<10)||!ss(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(ls(t,e,i)||t.display.input.onKeyPress(e))}}}var fs,ms,gs=400,vs=function(e,t,r){this.time=e,this.pos=t,this.button=r};function ys(e,t){var r=+new Date;return ms&&ms.compare(r,e,t)?(fs=ms=null,"triple"):fs&&fs.compare(r,e,t)?(ms=new vs(r,e,t),fs=null,"double"):(fs=new vs(r,e,t),ms=null,"single")}function bs(e){var t=this,r=t.display;if(!(be(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,Ur(r,e))l||(r.scroller.draggable=!1,setTimeout((function(){return r.scroller.draggable=!0}),100));else if(!Ts(t,e)){var n=zn(t,e),i=Te(e),o=n?ys(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&xs(t,i,n,o,e)||(1==i?n?_s(t,n,o,e):Le(e)==r.scroller&&ke(e):2==i?(n&&qo(t.doc,n),setTimeout((function(){return r.input.focus()}),20)):3==i&&(C?t.display.input.onContextMenu(e):Xn(t)))}}function xs(e,t,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),os(e,Ua(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=Qa[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=j}finally{e.state.suppressEdits=!1}return n}))}function ws(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var o=x?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=b?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(b?r.altKey:r.ctrlKey)),i}function _s(e,t,r,n){a?setTimeout(q(Yn,e),0):e.curOp.focus=O();var i,o=ws(e,r,n),s=e.doc.sel;e.options.dragDrop&&De&&!e.isReadOnly()&&"single"==r&&(i=s.contains(t))>-1&&(st((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(st(i.to(),t)>0||t.xRel<0)?ks(e,n,t,o):Ss(e,n,t,o)}function ks(e,t,r,n){var i=e.display,o=!1,c=Oi(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Xn(e)),ve(i.wrapper.ownerDocument,"mouseup",c),ve(i.wrapper.ownerDocument,"mousemove",u),ve(i.scroller,"dragstart",d),ve(i.scroller,"drop",c),o||(ke(t),n.addNew||qo(e.doc,r,null,null,n.extend),l&&!h||a&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=c,c.copy=!n.moveOnDrag,me(i.wrapper.ownerDocument,"mouseup",c),me(i.wrapper.ownerDocument,"mousemove",u),me(i.scroller,"dragstart",d),me(i.scroller,"drop",c),e.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}function Cs(e,t,r){if("char"==r)return new ao(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new ao(at(t.line,0),ht(e.doc,at(t.line+1,0)));var n=r(e,t);return new ao(n.from,n.to)}function Ss(e,t,r,n){a&&Xn(e);var i=e.display,o=e.doc;ke(t);var s,l,c=o.sel,u=c.ranges;if(n.addNew&&!n.extend?(l=o.sel.contains(r),s=l>-1?u[l]:new ao(r,r)):(s=o.sel.primary(),l=o.sel.primIndex),"rectangle"==n.unit)n.addNew||(s=new ao(r,r)),r=zn(e,t,!0,!0),l=-1;else{var d=Cs(e,r,n.unit);s=n.extend?zo(s,d.anchor,d.head,n.extend):d}n.addNew?-1==l?(l=u.length,jo(o,so(e,u.concat([s]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==n.unit&&!n.extend?(jo(o,so(e,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):Ho(o,l,s,G):(l=0,jo(o,new oo([s],0),G),c=o.sel);var p=r;function h(t){if(0!=st(p,t))if(p=t,"rectangle"==n.unit){for(var i=[],a=e.options.tabSize,u=H(Qe(o,r.line).text,r.ch,a),d=H(Qe(o,t.line).text,t.ch,a),h=Math.min(u,d),f=Math.max(u,d),m=Math.min(r.line,t.line),g=Math.min(e.lastLine(),Math.max(r.line,t.line));m<=g;m++){var v=Qe(o,m).text,y=$(v,h,a);h==f?i.push(new ao(at(m,y),at(m,y))):v.length>y&&i.push(new ao(at(m,y),at(m,$(v,f,a))))}i.length||i.push(new ao(r,r)),jo(o,so(e,c.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,x=s,w=Cs(e,t,n.unit),_=x.anchor;st(w.anchor,_)>0?(b=w.head,_=dt(x.from(),w.anchor)):(b=w.anchor,_=ut(x.to(),w.head));var k=c.ranges.slice(0);k[l]=As(e,new ao(ht(o,_),b)),jo(o,so(e,k,l),G)}}var f=i.wrapper.getBoundingClientRect(),m=0;function g(t){var r=++m,a=zn(e,t,!0,"rectangle"==n.unit);if(a)if(0!=st(a,p)){e.curOp.focus=O(),h(a);var s=ri(i,o);(a.line>=s.to||a.line<s.from)&&setTimeout(Oi(e,(function(){m==r&&g(t)})),150)}else{var l=t.clientY<f.top?-20:t.clientY>f.bottom?20:0;l&&setTimeout(Oi(e,(function(){m==r&&(i.scroller.scrollTop+=l,g(t))})),50)}}function v(t){e.state.selectingText=!1,m=1/0,t&&(ke(t),i.input.focus()),ve(i.wrapper.ownerDocument,"mousemove",y),ve(i.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var y=Oi(e,(function(e){0!==e.buttons&&Te(e)?g(e):v(e)})),b=Oi(e,v);e.state.selectingText=b,me(i.wrapper.ownerDocument,"mousemove",y),me(i.wrapper.ownerDocument,"mouseup",b)}function As(e,t){var r=t.anchor,n=t.head,i=Qe(e.doc,r.line);if(0==st(r,n)&&r.sticky==n.sticky)return t;var o=he(i);if(!o)return t;var a=de(o,r.ch,r.sticky),s=o[a];if(s.from!=r.ch&&s.to!=r.ch)return t;var l,c=a+(s.from==r.ch==(1!=s.level)?0:1);if(0==c||c==o.length)return t;if(n.line!=r.line)l=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=de(o,n.ch,n.sticky),d=u-a||(n.ch-r.ch)*(1==s.level?-1:1);l=u==c-1||u==c?d<0:d>0}var p=o[c+(l?-1:0)],h=l==(1==p.level),f=h?p.from:p.to,m=h?"after":"before";return r.ch==f&&r.sticky==m?t:new ao(new at(r.line,f,m),n)}function Ls(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&ke(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!we(e,r))return Se(t);o-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i)return ye(e,r,e,nt(e.doc,o),e.display.gutterSpecs[l].className,t),Se(t)}}function Ts(e,t){return Ls(e,t,"gutterClick",!0)}function Es(e,t){Ur(e.display,t)||Ms(e,t)||be(e,t,"contextmenu")||C||e.display.input.onContextMenu(t)}function Ms(e,t){return!!we(e,"gutterContextMenu")&&Ls(e,t,"gutterContextMenu",!1)}function Ds(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),hn(e)}vs.prototype.compare=function(e,t,r){return this.time+gs>e&&0==st(t,this.pos)&&r==this.button};var Ns={toString:function(){return"CodeMirror.Init"}},Os={},Fs={};function Is(e){var t=e.optionHandlers;function r(r,n,i,o){e.defaults[r]=n,i&&(t[r]=o?function(e,t,r){r!=Ns&&i(e,t,r)}:i)}e.defineOption=r,e.Init=Ns,r("value","",(function(e,t){return e.setValue(t)}),!0),r("mode",null,(function(e,t){e.doc.modeOption=t,mo(e)}),!0),r("indentUnit",2,mo,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,(function(e){go(e),hn(e),Rn(e)}),!0),r("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(at(n,o))}n++}));for(var i=r.length-1;i>=0;i--)oa(e.doc,t,r[i],at(r[i].line,r[i].ch+t.length))}})),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=Ns&&e.refresh()})),r("specialCharPlaceholder",gr,(function(e){return e.refresh()}),!0),r("electricChars",!0),r("inputStyle",y?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),r("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),r("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),r("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),r("rtlMoveVisually",!w),r("wholeLineUpdateBefore",!0),r("theme","default",(function(e){Ds(e),Qi(e)}),!0),r("keyMap","default",(function(e,t,r){var n=Va(t),i=r!=Ns&&Va(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)})),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,qs,!0),r("gutters",[],(function(e,t){e.display.gutterSpecs=Yi(t,e.options.lineNumbers),Qi(e)}),!0),r("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?On(e.display)+"px":"0",e.refresh()}),!0),r("coverGutterNextToScrollbar",!1,(function(e){return bi(e)}),!0),r("scrollbarStyle","native",(function(e){_i(e),bi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),r("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Yi(e.options.gutters,t),Qi(e)}),!0),r("firstLineNumber",1,Qi,!0),r("lineNumberFormatter",(function(e){return e}),Qi,!0),r("showCursorWhenSelecting",!1,Un,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(function(e,t){"nocursor"==t&&(Jn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),r("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),r("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),r("dragDrop",!0,zs),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,Un,!0),r("singleCursorHeightPerLine",!0,Un,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,go,!0),r("addModeClass",!1,go,!0),r("pollInterval",100),r("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),r("historyEventDelay",1250),r("viewportMargin",10,(function(e){return e.refresh()}),!0),r("maxHighlightLength",1e4,go,!0),r("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),r("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),r("autofocus",null),r("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),r("phrases",null)}function zs(e,t,r){if(!t!=!(r&&r!=Ns)){var n=e.display.dragFunctions,i=t?me:ve;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function qs(e){e.options.lineWrapping?(F(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(L(e.display.wrapper,"CodeMirror-wrap"),lr(e)),In(e),Rn(e),hn(e),setTimeout((function(){return bi(e)}),100)}function Rs(e,t){var r=this;if(!(this instanceof Rs))return new Rs(e,t);this.options=t=t?R(t):{},R(Os,t,!1);var n=t.value;"string"==typeof n?n=new Ca(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new Rs.inputStyles[t.inputStyle](this),o=this.display=new Ji(e,n,i,t);for(var c in o.wrapper.CodeMirror=this,Ds(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),_i(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new P,keySeq:null,specialChars:null},t.autofocus&&!y&&o.input.focus(),a&&s<11&&setTimeout((function(){return r.display.input.reset(!0)}),20),Hs(this),Na(),Ci(this),this.curOp.forceUpdate=!0,xo(this,n),t.autofocus&&!y||this.hasFocus()?setTimeout((function(){r.hasFocus()&&!r.state.focused&&Qn(r)}),20):Jn(this),Fs)Fs.hasOwnProperty(c)&&Fs[c](this,t[c],Ns);Ki(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Ps.length;++u)Ps[u](this);Si(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Hs(e){var t=e.display;me(t.scroller,"mousedown",Oi(e,bs)),me(t.scroller,"dblclick",a&&s<11?Oi(e,(function(t){if(!be(e,t)){var r=zn(e,t);if(r&&!Ts(e,t)&&!Ur(e.display,t)){ke(t);var n=e.findWordAt(r);qo(e.doc,n.anchor,n.head)}}})):function(t){return be(e,t)||ke(t)}),me(t.scroller,"contextmenu",(function(t){return Es(e,t)})),me(t.input.getField(),"contextmenu",(function(r){t.scroller.contains(r.target)||Es(e,r)}));var r,n={end:0};function i(){t.activeTouch&&(r=setTimeout((function(){return t.activeTouch=null}),1e3),(n=t.activeTouch).end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}me(t.scroller,"touchstart",(function(i){if(!be(e,i)&&!o(i)&&!Ts(e,i)){t.input.ensurePolled(),clearTimeout(r);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-n.end<=300?n:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),me(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),me(t.scroller,"touchend",(function(r){var n=t.activeTouch;if(n&&!Ur(t,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var o,a=e.coordsChar(t.activeTouch,"page");o=!n.prev||l(n,n.prev)?new ao(a,a):!n.prev.prev||l(n,n.prev.prev)?e.findWordAt(a):new ao(at(a.line,0),ht(e.doc,at(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),ke(r)}i()})),me(t.scroller,"touchcancel",i),me(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(hi(e,t.scroller.scrollTop),mi(e,t.scroller.scrollLeft,!0),ye(e,"scroll",e))})),me(t.scroller,"mousewheel",(function(t){return io(e,t)})),me(t.scroller,"DOMMouseScroll",(function(t){return io(e,t)})),me(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){be(e,t)||Ae(t)},over:function(t){be(e,t)||(Ta(e,t),Ae(t))},start:function(t){return La(e,t)},drop:Oi(e,Aa),leave:function(t){be(e,t)||Ea(e)}};var c=t.input.getField();me(c,"keyup",(function(t){return ps.call(e,t)})),me(c,"keydown",Oi(e,us)),me(c,"keypress",Oi(e,hs)),me(c,"focus",(function(t){return Qn(e,t)})),me(c,"blur",(function(t){return Jn(e,t)}))}Rs.defaults=Os,Rs.optionHandlers=Fs;var Ps=[];function Bs(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=xt(e,t).state:r="prev");var a=e.options.tabSize,s=Qe(o,t),l=H(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((c=o.mode.indent(i,s.text.slice(u.length),s.text))==j||c>150)){if(!n)return;r="prev"}}else c=0,r="not";"prev"==r?c=t>o.first?H(Qe(o,t-1).text,null,a):0:"add"==r?c=l+e.options.indentUnit:"subtract"==r?c=l-e.options.indentUnit:"number"==typeof r&&(c=l+r),c=Math.max(0,c);var d="",p=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/a);h;--h)p+=a,d+="\t";if(p<c&&(d+=K(c-p)),d!=u)return oa(o,d,at(t,0),at(t,u.length),"+input"),s.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var m=o.sel.ranges[f];if(m.head.line==t&&m.head.ch<u.length){var g=at(t,u.length);Ho(o,f,new ao(g,g));break}}}Rs.defineInitHook=function(e){return Ps.push(e)};var Ws=null;function js(e){Ws=e}function Us(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,l=Ie(t),c=null;if(s&&n.ranges.length>1)if(Ws&&Ws.text.join("\n")==t){if(n.ranges.length%Ws.text.length==0){c=[];for(var u=0;u<Ws.text.length;u++)c.push(o.splitLines(Ws.text[u]))}}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(c=X(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,p=n.ranges.length-1;p>=0;p--){var h=n.ranges[p],f=h.from(),m=h.to();h.empty()&&(r&&r>0?f=at(f.line,f.ch-r):e.state.overwrite&&!s?m=at(m.line,Math.min(Qe(o,m.line).text.length,m.ch+Y(l).length)):s&&Ws&&Ws.lineWise&&Ws.text.join("\n")==l.join("\n")&&(f=m=at(f.line,0)));var g={from:f,to:m,text:c?c[p%c.length]:l,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};Jo(e.doc,g),Er(e,"inputRead",e,g)}t&&!s&&Vs(e,t),li(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Gs(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||!t.hasFocus()||Ni(t,(function(){return Us(t,r,0,null,"paste")})),!0}function Vs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Bs(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Qe(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Bs(e,i.head.line,"smart"));a&&Er(e,"electricInput",e,i.head.line)}}}function $s(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:at(i,0),head:at(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function Zs(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Ks(){var e=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=M("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),Zs(e),t}function Ys(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&Oi(this,t[e])(this,r,i),ye(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Va(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:Fi((function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");Q(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},(function(e){return e.priority})),this.state.modeGen++,Rn(this)})),removeOverlay:Fi((function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void Rn(this)}})),indentLine:Fi((function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),it(this.doc,e)&&Bs(this,e,t,r)})),indentSelection:Fi((function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Bs(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&li(this));else{var o=i.from(),a=i.to(),s=Math.max(r,o.line);r=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<r;++l)Bs(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[n].from().ch>0&&Ho(this.doc,n,new ao(o,c[n].to()),U)}}})),getTokenAt:function(e,t){return St(this,e,t)},getLineTokens:function(e,t){return St(this,at(e),t,!0)},getTokenTypeAt:function(e){e=ht(this.doc,e);var t,r=bt(this,Qe(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var a=n+i>>1;if((a?r[2*a-1]:0)>=o)i=a;else{if(!(r[2*a+1]<o)){t=r[2*a+2];break}n=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!r.hasOwnProperty(t))return n;var i=r[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&n.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&n.push(s)}else o.helperType&&i[o.helperType]?n.push(i[o.helperType]):i[o.name]&&n.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==B(n,c.val)&&n.push(c.val)}return n},getStateAfter:function(e,t){var r=this.doc;return xt(this,(e=pt(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return xn(this,null==e?r.head:"object"==typeof e?ht(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return bn(this,ht(this.doc,e),t||"page")},coordsChar:function(e,t){return kn(this,(e=yn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=yn(this,{top:e,left:0},t||"page").top,nt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=Qe(this.doc,e)}else n=e;return vn(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-ar(n):0)},defaultTextHeight:function(){return Mn(this.display)},defaultCharWidth:function(){return Dn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display,a=(e=xn(this,ht(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)a=e.top;else if("above"==n||"near"==n){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&oi(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Fi(us),triggerOnKeyPress:Fi(hs),triggerOnKeyUp:ps,triggerOnMouseDown:Fi(bs),execCommand:function(e){if(Qa.hasOwnProperty(e))return Qa[e].call(null,this)},triggerElectric:Fi((function(e){Vs(this,e)})),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=ht(this.doc,e),a=0;a<t&&!(o=Xs(this.doc,o,i,r,n)).hitSide;++a);return o},moveH:Fi((function(e,t){var r=this;this.extendSelectionsBy((function(n){return r.display.shift||r.doc.extend||n.empty()?Xs(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()}),V)})),deleteH:Fi((function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):$a(this,(function(r){var i=Xs(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}}))})),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var a=ht(this.doc,e),s=0;s<t;++s){var l=xn(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Qs(this,l,i,r)).hitSide)break}return a},moveV:Fi((function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var s=xn(r,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Qs(r,s,e,t);return"page"==t&&a==n.sel.primary()&&si(r,bn(r,l,"div").top-s.top),l}),V),i.length)for(var a=0;a<n.sel.ranges.length;a++)n.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=Qe(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var o=t.charAt(r),a=ne(o,i)?function(e){return ne(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};r>0&&a(t.charAt(r-1));)--r;for(;n<t.length&&a(t.charAt(n));)++n}return new ao(at(e.line,r),at(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?F(this.display.cursorDiv,"CodeMirror-overwrite"):L(this.display.cursorDiv,"CodeMirror-overwrite"),ye(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==O()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Fi((function(e,t){ci(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Zr(this)-this.display.barHeight,width:e.scrollWidth-Zr(this)-this.display.barWidth,clientHeight:Yr(this),clientWidth:Kr(this)}},scrollIntoView:Fi((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:at(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?ui(this,e):pi(this,e.from,e.to,e.margin)})),setSize:Fi((function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&pn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Hn(r,i,"widget");break}++i})),this.curOp.forceUpdate=!0,ye(this,"refresh",this)})),operation:function(e){return Ni(this,e)},startOperation:function(){return Ci(this)},endOperation:function(){return Si(this)},refresh:Fi((function(){var e=this.display.cachedTextHeight;Rn(this),this.curOp.forceUpdate=!0,hn(this),ci(this,this.doc.scrollLeft,this.doc.scrollTop),Vi(this.display),(null==e||Math.abs(e-Mn(this.display))>.5||this.options.lineWrapping)&&In(this),ye(this,"refresh",this)})),swapDoc:Fi((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),xo(this,e),hn(this),this.display.input.reset(),ci(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Er(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_e(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}function Xs(e,t,r,n,i){var o=t,a=r,s=Qe(e,t.line),l=i&&"rtl"==e.direction?-r:r;function c(){var r=t.line+l;return!(r<e.first||r>=e.first+e.size)&&(t=new at(r,t.ch,t.sticky),s=Qe(e,r))}function u(o){var a;if("codepoint"==n){var u=s.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(u))a=null;else{var d=r>0?u>=55296&&u<56320:u>=56320&&u<57343;a=new at(t.line,Math.max(0,Math.min(s.text.length,t.ch+r*(d?2:1))),-r)}}else a=i?Xa(e.cm,s,t,r):Ka(s,t,r);if(null==a){if(o||!c())return!1;t=Ya(i,e.cm,s,t.line,l)}else t=a;return!0}if("char"==n||"codepoint"==n)u();else if("column"==n)u(!0);else if("word"==n||"group"==n)for(var d=null,p="group"==n,h=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(r<0)||u(!f);f=!1){var m=s.text.charAt(t.ch)||"\n",g=ne(m,h)?"w":p&&"\n"==m?"n":!p||/\s/.test(m)?null:"p";if(!p||f||g||(g="s"),d&&d!=g){r<0&&(r=1,u(),t.sticky="after");break}if(g&&(d=g),r>0&&!u(!f))break}var v=Ko(e,t,o,a,!0);return lt(o,v)&&(v.hitSide=!0),v}function Qs(e,t,r,n){var i,o,a=e.doc,s=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*Mn(e.display),3);i=(r>0?t.bottom:t.top)+r*c}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;(o=kn(e,s,i)).outside;){if(r<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*r}return o}var Js=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new P,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function el(e,t){var r=tn(e,t.line);if(!r||r.hidden)return null;var n=Qe(e.doc,t.line),i=Qr(r,n,t.line),o=he(n,e.doc.direction),a="left";o&&(a=de(o,t.ch)%2?"right":"left");var s=sn(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function tl(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function rl(e,t){return t&&(e.bad=!0),e}function nl(e,t,r,n,i){var o="",a=!1,s=e.doc.lineSeparator(),l=!1;function c(e){return function(t){return t.id==e}}function u(){a&&(o+=s,l&&(o+=s),a=l=!1)}function d(e){e&&(u(),o+=e)}function p(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void d(r);var o,h=t.getAttribute("cm-marker");if(h){var f=e.findMarks(at(n,0),at(i+1,0),c(+h));return void(f.length&&(o=f[0].find(0))&&d(Je(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&u();for(var g=0;g<t.childNodes.length;g++)p(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),m&&(a=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;p(t),t!=r;)t=t.nextSibling,l=!1;return o}function il(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return rl(e.clipPos(at(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return ol(o,t,r)}}function ol(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!N(n,t))return rl(at(rt(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var o=e.rest?Y(e.rest):e.line;return rl(at(rt(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var l=e.measure,c=l.maps;function u(t,r,n){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==r){var u=rt(i<0?e.line:e.rest[i]),d=o[a]+n;return(n<0||s!=t)&&(d=o[a+(n?1:0)]),at(u,d)}}}var d=u(a,s,r);if(d)return rl(d,i);for(var p=s.nextSibling,h=a?a.nodeValue.length-r:0;p;p=p.nextSibling){if(d=u(p,p.firstChild,0))return rl(at(d.line,d.ch-h),i);h+=p.textContent.length}for(var f=s.previousSibling,m=r;f;f=f.previousSibling){if(d=u(f,f.firstChild,-1))return rl(at(d.line,d.ch+m),i);m+=f.textContent.length}}Js.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!be(n,e)){if(n.somethingSelected())js({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=$s(n);js({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation((function(){n.setSelections(t.ranges,0,U),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Ws.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=Ks(),l=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),l.value=Ws.text.join("\n");var c=O();z(l),setTimeout((function(){n.display.lineSpace.removeChild(s),c.focus(),c==i&&r.showPrimarySelection()}),50)}}i.contentEditable=!0,Zs(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),me(i,"paste",(function(e){!o(e)||be(n,e)||Gs(e,n)||s<=11&&setTimeout(Oi(n,(function(){return t.updateFromDOM()})),20)})),me(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),me(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),me(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),me(i,"touchstart",(function(){return r.forceCompositionEnd()})),me(i,"input",(function(){t.composing||t.readFromDOMSoon()})),me(i,"copy",a),me(i,"cut",a)},Js.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Js.prototype.prepareSelection=function(){var e=Gn(this.cm,!1);return e.focus=O()==this.div,e},Js.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Js.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Js.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),i=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=il(t,e.anchorNode,e.anchorOffset),s=il(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=st(dt(a,s),i)||0!=st(ut(a,s),o)){var l=t.display.view,c=i.line>=t.display.viewFrom&&el(t,i)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&el(t,o);if(!u){var d=l[l.length-1].measure,p=d.maps?d.maps[d.maps.length-1]:d.map;u={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(c&&u){var h,f=e.rangeCount&&e.getRangeAt(0);try{h=A(c.node,c.offset,u.offset,u.node)}catch(e){}h&&(!r&&t.state.focused?(e.collapse(c.node,c.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),f&&null==e.anchorNode?e.addRange(f):r&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Js.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Js.prototype.showMultipleSelections=function(e){E(this.cm.display.cursorDiv,e.cursors),E(this.cm.display.selectionDiv,e.selection)},Js.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Js.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},Js.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&O()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Js.prototype.blur=function(){this.div.blur()},Js.prototype.getField=function(){return this.div},Js.prototype.supportsTouch=function(){return!0},Js.prototype.receivedFocus=function(){var e=this,t=this;function r(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,r))}this.selectionInEditor()?setTimeout((function(){return e.pollSelection()}),20):Ni(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,r)},Js.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Js.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(v&&u&&this.cm.display.gutterSpecs.length&&tl(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=il(t,e.anchorNode,e.anchorOffset),n=il(t,e.focusNode,e.focusOffset);r&&n&&Ni(t,(function(){jo(t.doc,lo(r,n),U),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))}}},Js.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,o=n.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>n.firstLine()&&(a=at(a.line-1,Qe(n.doc,a.line-1).length)),s.ch==Qe(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=at(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=qn(n,a.line))?(t=rt(i.view[0].line),r=i.view[0].node):(t=rt(i.view[e].line),r=i.view[e-1].node.nextSibling);var l,c,u=qn(n,s.line);if(u==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=rt(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!r)return!1;for(var d=n.doc.splitLines(nl(n,r,c,t,l)),p=Je(n.doc,at(t,0),at(l,Qe(n.doc,l).text.length));d.length>1&&p.length>1;)if(Y(d)==Y(p))d.pop(),p.pop(),l--;else{if(d[0]!=p[0])break;d.shift(),p.shift(),t++}for(var h=0,f=0,m=d[0],g=p[0],v=Math.min(m.length,g.length);h<v&&m.charCodeAt(h)==g.charCodeAt(h);)++h;for(var y=Y(d),b=Y(p),x=Math.min(y.length-(1==d.length?h:0),b.length-(1==p.length?h:0));f<x&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)++f;if(1==d.length&&1==p.length&&t==a.line)for(;h&&h>a.ch&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)h--,f++;d[d.length-1]=y.slice(0,y.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(h).replace(/\u200b+$/,"");var w=at(t,h),_=at(l,p.length?Y(p).length-f:0);return d.length>1||d[0]||st(w,_)?(oa(n.doc,d,w,_,"+input"),!0):void 0},Js.prototype.ensurePolled=function(){this.forceCompositionEnd()},Js.prototype.reset=function(){this.forceCompositionEnd()},Js.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Js.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Js.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ni(this.cm,(function(){return Rn(e.cm)}))},Js.prototype.setUneditable=function(e){e.contentEditable="false"},Js.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Oi(this.cm,Us)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Js.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Js.prototype.onContextMenu=function(){},Js.prototype.resetPosition=function(){},Js.prototype.needsContentAttribute=!0;var al=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new P,this.hasSelection=!1,this.composing=null};function sl(e,t){if((t=t?R(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=O();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=s.getValue()}var i;if(e.form&&(me(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(r){r.save=n,r.getTextArea=function(){return e},r.toTextArea=function(){r.toTextArea=isNaN,n(),e.parentNode.removeChild(r.getWrapperElement()),e.style.display="",e.form&&(ve(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=Rs((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s}function ll(e){e.off=ve,e.on=me,e.wheelEventPixels=no,e.Doc=Ca,e.splitLines=Ie,e.countColumn=H,e.findColumn=$,e.isWordChar=re,e.Pass=j,e.signal=ye,e.Line=cr,e.changeEnd=co,e.scrollbarModel=wi,e.Pos=at,e.cmpPos=st,e.modes=Pe,e.mimeModes=Be,e.resolveMode=Ue,e.getMode=Ge,e.modeExtensions=Ve,e.extendMode=$e,e.copyState=Ze,e.startState=Ye,e.innerMode=Ke,e.commands=Qa,e.keyMap=Ha,e.keyName=Ga,e.isModifierKey=ja,e.lookupKey=Wa,e.normalizeKeyMap=Ba,e.StringStream=Xe,e.SharedTextMarker=ya,e.TextMarker=ga,e.LineWidget=pa,e.e_preventDefault=ke,e.e_stopPropagation=Ce,e.e_stop=Ae,e.addClass=F,e.contains=N,e.rmClass=L,e.keyNames=Ia}al.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!be(n,e)){if(n.somethingSelected())js({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=$s(n);js({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,U):(r.prevInput="",i.value=t.text.join("\n"),z(i))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(i.style.width="0px"),me(i,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()})),me(i,"paste",(function(e){be(n,e)||Gs(e,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())})),me(i,"cut",o),me(i,"copy",o),me(e.scroller,"paste",(function(t){if(!Ur(e,t)&&!be(n,t)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),me(e.lineSpace,"selectstart",(function(t){Ur(e,t)||ke(t)})),me(i,"compositionstart",(function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),me(i,"compositionend",(function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)}))},al.prototype.createField=function(e){this.wrapper=Ks(),this.textarea=this.wrapper.firstChild},al.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},al.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Gn(e);if(e.options.moveInputWithCursor){var i=xn(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return n},al.prototype.showSelection=function(e){var t=this.cm.display;E(t.cursorDiv,e.cursors),E(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},al.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&z(this.textarea),a&&s>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},al.prototype.getField=function(){return this.textarea},al.prototype.supportsTouch=function(){return!1},al.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!y||O()!=this.textarea))try{this.textarea.focus()}catch(e){}},al.prototype.blur=function(){this.textarea.blur()},al.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},al.prototype.receivedFocus=function(){this.slowPoll()},al.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},al.prototype.fastPoll=function(){var e=!1,t=this;function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}t.pollingFast=!0,t.polling.set(20,r)},al.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||ze(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||b&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(n.length,i.length);l<c&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return Ni(t,(function(){Us(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},al.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},al.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},al.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=zn(r,e),c=n.scroller.scrollTop;if(o&&!p){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&Oi(r,jo)(r.doc,lo(o),U);var u,d=i.style.cssText,h=t.wrapper.style.cssText,f=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),n.input.focus(),l&&window.scrollTo(null,u),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=v,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),a&&s>=9&&g(),C){Ae(e);var m=function(){ve(window,"mouseup",m),setTimeout(v,20)};me(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=i.selectionStart){var e=r.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,n.selForContextMenu=r.doc.sel}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=h,i.style.cssText=d,a&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=c),null!=i.selectionStart)){(!a||a&&s<9)&&g();var e=0,o=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?Oi(r,Xo)(r):e++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},al.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},al.prototype.setUneditable=function(){},al.prototype.needsContentAttribute=!1,Is(Rs),Ys(Rs);var cl="iter insert remove copy getEditor constructor".split(" ");for(var ul in Ca.prototype)Ca.prototype.hasOwnProperty(ul)&&B(cl,ul)<0&&(Rs.prototype[ul]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ca.prototype[ul]));return _e(Ca),Rs.inputStyles={textarea:al,contenteditable:Js},Rs.defineMode=function(e){Rs.defaults.mode||"null"==e||(Rs.defaults.mode=e),We.apply(this,arguments)},Rs.defineMIME=je,Rs.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Rs.defineMIME("text/plain","null"),Rs.defineExtension=function(e,t){Rs.prototype[e]=t},Rs.defineDocExtension=function(e,t){Ca.prototype[e]=t},Rs.fromTextArea=sl,ll(Rs),Rs.version="5.65.6",Rs}()},14161:function(e,t,r){!function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var t=0;t<e.modeInfo.length;t++){var r=e.modeInfo[t];r.mimes&&(r.mime=r.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var r=0;r<e.modeInfo.length;r++){var n=e.modeInfo[r];if(n.mime==t)return n;if(n.mimes)for(var i=0;i<n.mimes.length;i++)if(n.mimes[i]==t)return n}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){t=t.toLowerCase();for(var r=0;r<e.modeInfo.length;r++){var n=e.modeInfo[r];if(n.ext)for(var i=0;i<n.ext.length;i++)if(n.ext[i]==t)return n}},e.findModeByFileName=function(t){for(var r=0;r<e.modeInfo.length;r++){var n=e.modeInfo[r];if(n.file&&n.file.test(t))return n}var i=t.lastIndexOf("."),o=i>-1&&t.substring(i+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var r=0;r<e.modeInfo.length;r++){var n=e.modeInfo[r];if(n.name.toLowerCase()==t)return n;if(n.alias)for(var i=0;i<n.alias.length;i++)if(n.alias[i].toLowerCase()==t)return n}}}(r(27509))},42743:function(e,t,r){!function(e){"use strict";function t(e){for(var t;null!=(t=e.next());)if("`"==t&&!e.eat("`"))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function r(e){for(var t;null!=(t=e.next());)if('"'==t&&!e.eat('"'))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function n(e){return e.eat("@")&&(e.match("session."),e.match("local."),e.match("global.")),e.eat("'")?(e.match(/^.*'/),"variable-2"):e.eat('"')?(e.match(/^.*"/),"variable-2"):e.eat("`")?(e.match(/^.*`/),"variable-2"):e.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function i(e){return e.eat("N")?"atom":e.match(/^[a-zA-Z.#!?]/)?"variable-2":null}e.defineMode("sql",(function(t,r){var n=r.client||{},i=r.atoms||{false:!0,true:!0,null:!0},l=r.builtin||a(s),c=r.keywords||a(o),u=r.operatorChars||/^[*+\-%<>!=&|~^\/]/,d=r.support||{},p=r.hooks||{},h=r.dateSQL||{date:!0,time:!0,timestamp:!0},f=!1!==r.backslashStringEscapes,m=r.brackets||/^[\{}\(\)\[\]]/,g=r.punctuation||/^[;.,:]/;function v(e,t){var r=e.next();if(p[r]){var o=p[r](e,t);if(!1!==o)return o}if(d.hexNumber&&("0"==r&&e.match(/^[xX][0-9a-fA-F]+/)||("x"==r||"X"==r)&&e.match(/^'[0-9a-fA-F]+'/)))return"number";if(d.binaryNumber&&(("b"==r||"B"==r)&&e.match(/^'[01]+'/)||"0"==r&&e.match(/^b[01]+/)))return"number";if(r.charCodeAt(0)>47&&r.charCodeAt(0)<58)return e.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),d.decimallessFloat&&e.match(/^\.(?!\.)/),"number";if("?"==r&&(e.eatSpace()||e.eol()||e.eat(";")))return"variable-3";if("'"==r||'"'==r&&d.doubleQuote)return t.tokenize=y(r),t.tokenize(e,t);if((d.nCharCast&&("n"==r||"N"==r)||d.charsetCast&&"_"==r&&e.match(/[a-z][a-z0-9]*/i))&&("'"==e.peek()||'"'==e.peek()))return"keyword";if(d.escapeConstant&&("e"==r||"E"==r)&&("'"==e.peek()||'"'==e.peek()&&d.doubleQuote))return t.tokenize=function(e,t){return(t.tokenize=y(e.next(),!0))(e,t)},"keyword";if(d.commentSlashSlash&&"/"==r&&e.eat("/"))return e.skipToEnd(),"comment";if(d.commentHash&&"#"==r||"-"==r&&e.eat("-")&&(!d.commentSpaceRequired||e.eat(" ")))return e.skipToEnd(),"comment";if("/"==r&&e.eat("*"))return t.tokenize=b(1),t.tokenize(e,t);if("."!=r){if(u.test(r))return e.eatWhile(u),"operator";if(m.test(r))return"bracket";if(g.test(r))return e.eatWhile(g),"punctuation";if("{"==r&&(e.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||e.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";e.eatWhile(/^[_\w\d]/);var a=e.current().toLowerCase();return h.hasOwnProperty(a)&&(e.match(/^( )+'[^']*'/)||e.match(/^( )+"[^"]*"/))?"number":i.hasOwnProperty(a)?"atom":l.hasOwnProperty(a)?"type":c.hasOwnProperty(a)?"keyword":n.hasOwnProperty(a)?"builtin":null}return d.zerolessFloat&&e.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":e.match(/^\.+/)?null:d.ODBCdotTable&&e.match(/^[\w\d_$#]+/)?"variable-2":void 0}function y(e,t){return function(r,n){for(var i,o=!1;null!=(i=r.next());){if(i==e&&!o){n.tokenize=v;break}o=(f||t)&&!o&&"\\"==i}return"string"}}function b(e){return function(t,r){var n=t.match(/^.*?(\/\*|\*\/)/);return n?"/*"==n[1]?r.tokenize=b(e+1):r.tokenize=e>1?b(e-1):v:t.skipToEnd(),"comment"}}function x(e,t,r){t.context={prev:t.context,indent:e.indentation(),col:e.column(),type:r}}function w(e){e.indent=e.context.indent,e.context=e.context.prev}return{startState:function(){return{tokenize:v,context:null}},token:function(e,t){if(e.sol()&&t.context&&null==t.context.align&&(t.context.align=!1),t.tokenize==v&&e.eatSpace())return null;var r=t.tokenize(e,t);if("comment"==r)return r;t.context&&null==t.context.align&&(t.context.align=!0);var n=e.current();return"("==n?x(e,t,")"):"["==n?x(e,t,"]"):t.context&&t.context.type==n&&w(t),r},indent:function(r,n){var i=r.context;if(!i)return e.Pass;var o=n.charAt(0)==i.type;return i.align?i.col+(o?0:1):i.indent+(o?0:t.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:d.commentSlashSlash?"//":d.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}}));var o="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function a(e){for(var t={},r=e.split(" "),n=0;n<r.length;++n)t[r[n]]=!0;return t}var s="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";e.defineMIME("text/x-sql",{name:"sql",keywords:a(o+"begin"),builtin:a(s),atoms:a("false true null unknown"),dateSQL:a("date time timestamp"),support:a("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-mssql",{name:"sql",client:a("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:a(o+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:a("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:a("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:a("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":n}}),e.defineMIME("text/x-mysql",{name:"sql",client:a("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:a(o+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:a("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":t,"\\":i}}),e.defineMIME("text/x-mariadb",{name:"sql",client:a("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:a(o+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group group_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:a("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":t,"\\":i}}),e.defineMIME("text/x-sqlite",{name:"sql",client:a("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:a(o+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:a("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:a("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:a("date time timestamp datetime"),support:a("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":n,":":n,"?":n,$:n,'"':r,"`":t}}),e.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:a("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:a("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:a("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:a("commentSlashSlash decimallessFloat"),hooks:{}}),e.defineMIME("text/x-plsql",{name:"sql",client:a("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:a("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:a("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:a("date time timestamp"),support:a("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),e.defineMIME("text/x-hive",{name:"sql",keywords:a("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:a("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:a("date timestamp"),support:a("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-pgsql",{name:"sql",client:a("source"),keywords:a(o+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:a("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:a("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,backslashStringEscapes:!1,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")}),e.defineMIME("text/x-gql",{name:"sql",keywords:a("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:a("false true"),builtin:a("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),e.defineMIME("text/x-gpsql",{name:"sql",client:a("source"),keywords:a("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:a("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),e.defineMIME("text/x-sparksql",{name:"sql",keywords:a("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases data dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:a("abs acos acosh add_months aggregate and any approx_count_distinct approx_percentile array array_contains array_distinct array_except array_intersect array_join array_max array_min array_position array_remove array_repeat array_sort array_union arrays_overlap arrays_zip ascii asin asinh assert_true atan atan2 atanh avg base64 between bigint bin binary bit_and bit_count bit_get bit_length bit_or bit_xor bool_and bool_or boolean bround btrim cardinality case cast cbrt ceil ceiling char char_length character_length chr coalesce collect_list collect_set concat concat_ws conv corr cos cosh cot count count_if count_min_sketch covar_pop covar_samp crc32 cume_dist current_catalog current_database current_date current_timestamp current_timezone current_user date date_add date_format date_from_unix_date date_part date_sub date_trunc datediff day dayofmonth dayofweek dayofyear decimal decode degrees delimited dense_rank div double e element_at elt encode every exists exp explode explode_outer expm1 extract factorial filter find_in_set first first_value flatten float floor forall format_number format_string from_csv from_json from_unixtime from_utc_timestamp get_json_object getbit greatest grouping grouping_id hash hex hour hypot if ifnull in initcap inline inline_outer input_file_block_length input_file_block_start input_file_name inputformat instr int isnan isnotnull isnull java_method json_array_length json_object_keys json_tuple kurtosis lag last last_day last_value lcase lead least left length levenshtein like ln locate log log10 log1p log2 lower lpad ltrim make_date make_dt_interval make_interval make_timestamp make_ym_interval map map_concat map_entries map_filter map_from_arrays map_from_entries map_keys map_values map_zip_with max max_by md5 mean min min_by minute mod monotonically_increasing_id month months_between named_struct nanvl negative next_day not now nth_value ntile nullif nvl nvl2 octet_length or outputformat overlay parse_url percent_rank percentile percentile_approx pi pmod posexplode posexplode_outer position positive pow power printf quarter radians raise_error rand randn random rank rcfile reflect regexp regexp_extract regexp_extract_all regexp_like regexp_replace repeat replace reverse right rint rlike round row_number rpad rtrim schema_of_csv schema_of_json second sentences sequence sequencefile serde session_window sha sha1 sha2 shiftleft shiftright shiftrightunsigned shuffle sign signum sin sinh size skewness slice smallint some sort_array soundex space spark_partition_id split sqrt stack std stddev stddev_pop stddev_samp str_to_map string struct substr substring substring_index sum tan tanh textfile timestamp timestamp_micros timestamp_millis timestamp_seconds tinyint to_csv to_date to_json to_timestamp to_unix_timestamp to_utc_timestamp transform transform_keys transform_values translate trim trunc try_add try_divide typeof ucase unbase64 unhex uniontype unix_date unix_micros unix_millis unix_seconds unix_timestamp upper uuid var_pop var_samp variance version weekday weekofyear when width_bucket window xpath xpath_boolean xpath_double xpath_float xpath_int xpath_long xpath_number xpath_short xpath_string xxhash64 year zip_with"),atoms:a("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable doubleQuote zerolessFloat")}),e.defineMIME("text/x-esper",{name:"sql",client:a("source"),keywords:a("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:a("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:a("time"),support:a("decimallessFloat zerolessFloat binaryNumber hexNumber")})}(r(27509))},32183:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},70050:function(e,t,r){"use strict";var n,i,o,a=r(32183),s=r(11502),l=r(45001),c=r(96291),u=r(62366),d=r(78382),p=r(20486),h=r(67073),f=r(50430),m=r(75850),g=r(56462).f,v=r(66282),y=r(64320),b=r(22848),x=r(46802),w=r(41050),_=r(50684),k=_.enforce,C=_.get,S=l.Int8Array,A=S&&S.prototype,L=l.Uint8ClampedArray,T=L&&L.prototype,E=S&&y(S),M=A&&y(A),D=Object.prototype,N=l.TypeError,O=x("toStringTag"),F=w("TYPED_ARRAY_TAG"),I="TypedArrayConstructor",z=a&&!!b&&"Opera"!==p(l.opera),q=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},H={BigInt64Array:8,BigUint64Array:8},P=function(e){var t=y(e);if(u(t)){var r=C(t);return r&&d(r,I)?r.TypedArrayConstructor:P(t)}},B=function(e){if(!u(e))return!1;var t=p(e);return d(R,t)||d(H,t)};for(n in R)(o=(i=l[n])&&i.prototype)?k(o).TypedArrayConstructor=i:z=!1;for(n in H)(o=(i=l[n])&&i.prototype)&&(k(o).TypedArrayConstructor=i);if((!z||!c(E)||E===Function.prototype)&&(E=function(){throw N("Incorrect invocation")},z))for(n in R)l[n]&&b(l[n],E);if((!z||!M||M===D)&&(M=E.prototype,z))for(n in R)l[n]&&b(l[n].prototype,M);if(z&&y(T)!==M&&b(T,M),s&&!d(M,O))for(n in q=!0,g(M,O,{get:function(){return u(this)?this[F]:void 0}}),R)l[n]&&f(l[n],F,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:z,TYPED_ARRAY_TAG:q&&F,aTypedArray:function(e){if(B(e))return e;throw N("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||v(E,e)))return e;throw N(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(s){if(r)for(var i in R){var o=l[i];if(o&&d(o.prototype,e))try{delete o.prototype[e]}catch(r){try{o.prototype[e]=t}catch(e){}}}M[e]&&!r||m(M,e,r?t:z&&A[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(s){if(b){if(r)for(n in R)if((i=l[n])&&d(i,e))try{delete i[e]}catch(e){}if(E[e]&&!r)return;try{return m(E,e,r?t:z&&E[e]||t)}catch(e){}}for(n in R)!(i=l[n])||i[e]&&!r||m(i,e,t)}},getTypedArrayConstructor:P,isView:function(e){if(!u(e))return!1;var t=p(e);return"DataView"===t||d(R,t)||d(H,t)},isTypedArray:B,TypedArray:E,TypedArrayPrototype:M}},23088:function(e,t,r){"use strict";var n=r(45001),i=r(70936),o=r(11502),a=r(32183),s=r(9873),l=r(50430),c=r(36740),u=r(25061),d=r(72814),p=r(89398),h=r(74479),f=r(22861),m=r(99402),g=r(64320),v=r(22848),y=r(59219).f,b=r(56462).f,x=r(25301),w=r(33392),_=r(40606),k=r(50684),C=s.PROPER,S=s.CONFIGURABLE,A=k.get,L=k.set,T="ArrayBuffer",E="DataView",M="Wrong index",D=n.ArrayBuffer,N=D,O=N&&N.prototype,F=n.DataView,I=F&&F.prototype,z=Object.prototype,q=n.Array,R=n.RangeError,H=i(x),P=i([].reverse),B=m.pack,W=m.unpack,j=function(e){return[255&e]},U=function(e){return[255&e,e>>8&255]},G=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},V=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},$=function(e){return B(e,23,4)},Z=function(e){return B(e,52,8)},K=function(e,t){b(e.prototype,t,{get:function(){return A(this)[t]}})},Y=function(e,t,r,n){var i=f(r),o=A(e);if(i+t>o.byteLength)throw R(M);var a=A(o.buffer).bytes,s=i+o.byteOffset,l=w(a,s,s+t);return n?l:P(l)},X=function(e,t,r,n,i,o){var a=f(r),s=A(e);if(a+t>s.byteLength)throw R(M);for(var l=A(s.buffer).bytes,c=a+s.byteOffset,u=n(+i),d=0;d<t;d++)l[c+d]=u[o?d:t-d-1]};if(a){var Q=C&&D.name!==T;if(u((function(){D(1)}))&&u((function(){new D(-1)}))&&!u((function(){return new D,new D(1.5),new D(NaN),Q&&!S})))Q&&S&&l(D,"name",T);else{(N=function(e){return d(this,O),new D(f(e))}).prototype=O;for(var J,ee=y(D),te=0;ee.length>te;)(J=ee[te++])in N||l(N,J,D[J]);O.constructor=N}v&&g(I)!==z&&v(I,z);var re=new F(new N(2)),ne=i(I.setInt8);re.setInt8(0,2147483648),re.setInt8(1,2147483649),!re.getInt8(0)&&re.getInt8(1)||c(I,{setInt8:function(e,t){ne(this,e,t<<24>>24)},setUint8:function(e,t){ne(this,e,t<<24>>24)}},{unsafe:!0})}else O=(N=function(e){d(this,O);var t=f(e);L(this,{bytes:H(q(t),0),byteLength:t}),o||(this.byteLength=t)}).prototype,I=(F=function(e,t,r){d(this,I),d(e,O);var n=A(e).byteLength,i=p(t);if(i<0||i>n)throw R("Wrong offset");if(i+(r=void 0===r?n-i:h(r))>n)throw R("Wrong length");L(this,{buffer:e,byteLength:r,byteOffset:i}),o||(this.buffer=e,this.byteLength=r,this.byteOffset=i)}).prototype,o&&(K(N,"byteLength"),K(F,"buffer"),K(F,"byteLength"),K(F,"byteOffset")),c(I,{getInt8:function(e){return Y(this,1,e)[0]<<24>>24},getUint8:function(e){return Y(this,1,e)[0]},getInt16:function(e){var t=Y(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Y(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return V(Y(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return V(Y(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return W(Y(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return W(Y(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,j,t)},setUint8:function(e,t){X(this,1,e,j,t)},setInt16:function(e,t){X(this,2,e,U,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,U,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,G,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,G,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,$,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,Z,t,arguments.length>2?arguments[2]:void 0)}});_(N,T),_(F,E),e.exports={ArrayBuffer:N,DataView:F}},25301:function(e,t,r){"use strict";var n=r(87615),i=r(6971),o=r(44821);e.exports=function(e){for(var t=n(this),r=o(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),l=a>2?arguments[2]:void 0,c=void 0===l?r:i(l,r);c>s;)t[s++]=e;return t}},38043:function(e,t,r){var n=r(46802)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},82989:function(e,t,r){var n=r(77192),i=r(56462);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},7130:function(e,t,r){"use strict";var n=r(67073),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+n(t)+" of "+n(e))}},54846:function(e,t,r){var n=r(19966).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},17194:function(e,t,r){var n=r(19966);e.exports=/MSIE|Trident/.test(n)},16698:function(e,t,r){var n=r(19966).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},99402:function(e){var t=Array,r=Math.abs,n=Math.pow,i=Math.floor,o=Math.log,a=Math.LN2;e.exports={pack:function(e,s,l){var c,u,d,p=t(l),h=8*l-s-1,f=(1<<h)-1,m=f>>1,g=23===s?n(2,-24)-n(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for((e=r(e))!=e||e===1/0?(u=e!=e?1:0,c=f):(c=i(o(e)/a),e*(d=n(2,-c))<1&&(c--,d*=2),(e+=c+m>=1?g/d:g*n(2,1-m))*d>=2&&(c++,d/=2),c+m>=f?(u=0,c=f):c+m>=1?(u=(e*d-1)*n(2,s),c+=m):(u=e*n(2,m-1)*n(2,s),c=0));s>=8;)p[y++]=255&u,u/=256,s-=8;for(c=c<<s|u,h+=s;h>0;)p[y++]=255&c,c/=256,h-=8;return p[--y]|=128*v,p},unpack:function(e,t){var r,i=e.length,o=8*i-t-1,a=(1<<o)-1,s=a>>1,l=o-7,c=i-1,u=e[c--],d=127&u;for(u>>=7;l>0;)d=256*d+e[c--],l-=8;for(r=d&(1<<-l)-1,d>>=-l,l+=t;l>0;)r=256*r+e[c--],l-=8;if(0===d)d=1-s;else{if(d===a)return r?NaN:u?-1/0:1/0;r+=n(2,t),d-=s}return(u?-1:1)*r*n(2,d-t)}}},92330:function(e,t,r){var n=r(62366),i=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&i(e)===e}},8875:function(e,t,r){var n=r(17955),i=TypeError;e.exports=function(e){if(n(e))throw i("The method doesn't accept regular expressions");return e}},28635:function(e,t,r){var n=r(45001),i=r(25061),o=r(70936),a=r(89284),s=r(9522).trim,l=r(49309),c=n.parseInt,u=n.Symbol,d=u&&u.iterator,p=/^[+-]?0x/i,h=o(p.exec),f=8!==c(l+"08")||22!==c(l+"0x16")||d&&!i((function(){c(Object(d))}));e.exports=f?function(e,t){var r=s(a(e));return c(r,t>>>0||(h(p,r)?16:10))}:c},33519:function(e,t,r){var n=r(76973),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},22861:function(e,t,r){var n=r(89398),i=r(74479),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw o("Wrong length or index");return r}},62924:function(e,t,r){var n=r(60239),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw i("Wrong offset");return r}},60239:function(e,t,r){var n=r(89398),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw i("The argument can't be less than 0");return t}},75769:function(e,t,r){"use strict";var n=r(29638),i=r(45001),o=r(63927),a=r(11502),s=r(53809),l=r(70050),c=r(23088),u=r(72814),d=r(86034),p=r(50430),h=r(92330),f=r(74479),m=r(22861),g=r(62924),v=r(91030),y=r(78382),b=r(20486),x=r(62366),w=r(6448),_=r(22275),k=r(66282),C=r(22848),S=r(59219).f,A=r(22997),L=r(72758).forEach,T=r(53126),E=r(56462),M=r(8117),D=r(50684),N=r(3419),O=D.get,F=D.set,I=D.enforce,z=E.f,q=M.f,R=Math.round,H=i.RangeError,P=c.ArrayBuffer,B=P.prototype,W=c.DataView,j=l.NATIVE_ARRAY_BUFFER_VIEWS,U=l.TYPED_ARRAY_TAG,G=l.TypedArray,V=l.TypedArrayPrototype,$=l.aTypedArrayConstructor,Z=l.isTypedArray,K="BYTES_PER_ELEMENT",Y="Wrong length",X=function(e,t){$(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},Q=function(e,t){z(e,t,{get:function(){return O(this)[t]}})},J=function(e){var t;return k(B,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return Z(e)&&!w(t)&&t in e&&h(+t)&&t>=0},te=function(e,t){return t=v(t),ee(e,t)?d(2,e[t]):q(e,t)},re=function(e,t,r){return t=v(t),!(ee(e,t)&&x(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?z(e,t,r):(e[t]=r.value,e)};a?(j||(M.f=te,E.f=re,Q(V,"buffer"),Q(V,"byteOffset"),Q(V,"byteLength"),Q(V,"length")),n({target:"Object",stat:!0,forced:!j},{getOwnPropertyDescriptor:te,defineProperty:re}),e.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,l=e+(r?"Clamped":"")+"Array",c="get"+e,d="set"+e,h=i[l],v=h,y=v&&v.prototype,b={},w=function(e,t){z(e,t,{get:function(){return function(e,t){var r=O(e);return r.view[c](t*a+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=O(e);r&&(n=(n=R(n))<0?0:n>255?255:255&n),i.view[d](t*a+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};j?s&&(v=t((function(e,t,r,n){return u(e,y),N(x(t)?J(t)?void 0!==n?new h(t,g(r,a),n):void 0!==r?new h(t,g(r,a)):new h(t):Z(t)?X(v,t):o(A,v,t):new h(m(t)),e,v)})),C&&C(v,G),L(S(h),(function(e){e in v||p(v,e,h[e])})),v.prototype=y):(v=t((function(e,t,r,n){u(e,y);var i,s,l,c=0,d=0;if(x(t)){if(!J(t))return Z(t)?X(v,t):o(A,v,t);i=t,d=g(r,a);var p=t.byteLength;if(void 0===n){if(p%a)throw H(Y);if((s=p-d)<0)throw H(Y)}else if((s=f(n)*a)+d>p)throw H(Y);l=s/a}else l=m(t),i=new P(s=l*a);for(F(e,{buffer:i,byteOffset:d,byteLength:s,length:l,view:new W(i)});c<l;)w(e,c++)})),C&&C(v,G),y=v.prototype=_(V)),y.constructor!==v&&p(y,"constructor",v),I(y).TypedArrayConstructor=v,U&&p(y,U,l);var k=v!=h;b[l]=v,n({global:!0,constructor:!0,forced:k,sham:!j},b),K in v||p(v,K,a),K in y||p(y,K,a),T(l)}):e.exports=function(){}},53809:function(e,t,r){var n=r(45001),i=r(25061),o=r(13165),a=r(70050).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,l=n.Int8Array;e.exports=!a||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!o((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},22997:function(e,t,r){var n=r(99918),i=r(63927),o=r(18209),a=r(87615),s=r(44821),l=r(48437),c=r(26354),u=r(55557),d=r(70050).aTypedArrayConstructor;e.exports=function(e){var t,r,p,h,f,m,g=o(this),v=a(e),y=arguments.length,b=y>1?arguments[1]:void 0,x=void 0!==b,w=c(v);if(w&&!u(w))for(m=(f=l(v,w)).next,v=[];!(h=i(m,f)).done;)v.push(h.value);for(x&&y>2&&(b=n(b,arguments[2])),r=s(v),p=new(d(g))(r),t=0;r>t;t++)p[t]=x?b(v[t],t):v[t];return p}},31209:function(e,t,r){"use strict";var n=r(29638),i=r(70936),o=r(25061),a=r(23088),s=r(4905),l=r(6971),c=r(74479),u=r(63571),d=a.ArrayBuffer,p=a.DataView,h=p.prototype,f=i(d.prototype.slice),m=i(h.getUint8),g=i(h.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(f&&void 0===t)return f(s(this),e);for(var r=s(this).byteLength,n=l(e,r),i=l(void 0===t?r:t,r),o=new(u(this,d))(c(i-n)),a=new p(this),h=new p(o),v=0;n<i;)g(h,v++,m(a,n++));return o}})},75093:function(e,t,r){"use strict";var n=r(29638),i=r(5029).includes,o=r(25061),a=r(5822);n({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},8547:function(e,t,r){"use strict";var n=r(29638),i=r(70936),o=r(20119),a=i([].reverse),s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},67285:function(e,t,r){"use strict";var n=r(29638),i=r(70936),o=r(84933),a=r(87615),s=r(44821),l=r(7130),c=r(89284),u=r(25061),d=r(34144),p=r(79020),h=r(54846),f=r(17194),m=r(42821),g=r(16698),v=[],y=i(v.sort),b=i(v.push),x=u((function(){v.sort(void 0)})),w=u((function(){v.sort(null)})),_=p("sort"),k=!u((function(){if(m)return m<70;if(!(h&&h>3)){if(f)return!0;if(g)return g<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)v.push({k:t+n,v:r})}for(v.sort((function(e,t){return t.v-e.v})),n=0;n<v.length;n++)t=v[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:x||!w||!_||!k},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(k)return void 0===e?y(t):y(t,e);var r,n,i=[],u=s(t);for(n=0;n<u;n++)n in t&&b(i,t[n]);for(d(i,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}}(e)),r=i.length,n=0;n<r;)t[n]=i[n++];for(;n<u;)l(t,n++);return t}})},68268:function(e,t,r){var n=r(29638),i=r(28635);n({global:!0,forced:parseInt!=i},{parseInt:i})},13616:function(e,t,r){"use strict";var n=r(29638),i=r(70936),o=r(8875),a=r(64475),s=r(89284),l=r(38043),c=i("".indexOf);n({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(s(a(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},96611:function(e,t,r){"use strict";var n=r(29638),i=r(63927),o=r(70936),a=r(62141),s=r(64475),l=r(74479),c=r(89284),u=r(4905),d=r(75489),p=r(17955),h=r(89455),f=r(53815),m=r(75850),g=r(25061),v=r(46802),y=r(63571),b=r(25528),x=r(41847),w=r(50684),_=r(20013),k=v("matchAll"),C="RegExp String",S="RegExp String Iterator",A=w.set,L=w.getterFor(S),T=RegExp.prototype,E=TypeError,M=o("".indexOf),D=o("".matchAll),N=!!D&&!g((function(){D("a",/./)})),O=a((function(e,t,r,n){A(this,{type:S,regexp:e,string:t,global:r,unicode:n,done:!1})}),C,(function(){var e=L(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,r=e.string,n=x(t,r);return null===n?{value:void 0,done:e.done=!0}:e.global?(""===c(n[0])&&(t.lastIndex=b(r,l(t.lastIndex),e.unicode)),{value:n,done:!1}):(e.done=!0,{value:n,done:!1})})),F=function(e){var t,r,n,i=u(this),o=c(e),a=y(i,RegExp),s=c(h(i));return t=new a(a===RegExp?i.source:i,s),r=!!~M(s,"g"),n=!!~M(s,"u"),t.lastIndex=l(i.lastIndex),new O(t,o,r,n)};n({target:"String",proto:!0,forced:N},{matchAll:function(e){var t,r,n,o,a=s(this);if(null!=e){if(p(e)&&(t=c(s(h(e))),!~M(t,"g")))throw E("`.matchAll` does not allow non-global regexes");if(N)return D(a,e);if(void 0===(n=f(e,k))&&_&&"RegExp"==d(e)&&(n=F),n)return i(n,e,a)}else if(N)return D(a,e);return r=c(a),o=new RegExp(e,"g"),_?i(F,o,r):o[k](r)}}),_||k in T||m(T,k,F)},73810:function(e,t,r){"use strict";var n=r(70050),i=r(25301),o=r(33519),a=r(20486),s=r(63927),l=r(70936),c=r(25061),u=n.aTypedArray,d=n.exportTypedArrayMethod,p=l("".slice);d("fill",(function(e){var t=arguments.length;u(this);var r="Big"===p(a(this),0,3)?o(e):+e;return s(i,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},84122:function(e,t,r){"use strict";var n=r(45001),i=r(63927),o=r(70050),a=r(44821),s=r(62924),l=r(87615),c=r(25061),u=n.RangeError,d=n.Int8Array,p=d&&d.prototype,h=p&&p.set,f=o.aTypedArray,m=o.exportTypedArrayMethod,g=!c((function(){var e=new Uint8ClampedArray(2);return i(h,e,{length:1,0:3},1),3!==e[1]})),v=g&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){f(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=l(e);if(g)return i(h,this,r,t);var n=this.length,o=a(r),c=0;if(o+t>n)throw u("Wrong length");for(;c<o;)this[t+c]=r[c++]}),!g||v)},50828:function(e,t,r){"use strict";var n=r(45001),i=r(70936),o=r(25061),a=r(84933),s=r(34144),l=r(70050),c=r(54846),u=r(17194),d=r(42821),p=r(16698),h=l.aTypedArray,f=l.exportTypedArrayMethod,m=n.Uint16Array,g=m&&i(m.prototype.sort),v=!(!g||o((function(){g(new m(2),null)}))&&o((function(){g(new m(2),{})}))),y=!!g&&!o((function(){if(d)return d<74;if(c)return c<67;if(u)return!0;if(p)return p<602;var e,t,r=new m(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(g(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));f("sort",(function(e){return void 0!==e&&a(e),y?g(this,e):s(h(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!y||v)},24202:function(e,t,r){"use strict";var n=r(45001),i=r(25494),o=r(70050),a=r(25061),s=r(60650),l=n.Int8Array,c=o.aTypedArray,u=o.exportTypedArrayMethod,d=[].toLocaleString,p=!!l&&a((function(){d.call(new l(1))}));u("toLocaleString",(function(){return i(d,p?s(c(this)):c(this),s(arguments))}),a((function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()}))||!a((function(){l.prototype.toLocaleString.call([1,2])})))},52863:function(e,t,r){r(75769)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},62983:function(e,t,r){"use strict";var n=r(11502),i=r(5822),o=r(87615),a=r(44821),s=r(82989);n&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=o(this),t=a(e);return 0==t?0:t-1}}),i("lastIndex"))},68209:function(e,t,r){r(96611)},16951:function(e){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,r){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,r)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function n(e,i,o){return n=r()?Reflect.construct:function(e,r,n){var i=[null];i.push.apply(i,r);var o=new(Function.bind.apply(e,i));return n&&t(o,n.prototype),o},n.apply(null,arguments)}function i(e){return o(e)||a(e)||s(e)||c()}function o(e){if(Array.isArray(e))return l(e)}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=Object.hasOwnProperty,d=Object.setPrototypeOf,p=Object.isFrozen,h=Object.getPrototypeOf,f=Object.getOwnPropertyDescriptor,m=Object.freeze,g=Object.seal,v=Object.create,y="undefined"!=typeof Reflect&&Reflect,b=y.apply,x=y.construct;b||(b=function(e,t,r){return e.apply(t,r)}),m||(m=function(e){return e}),g||(g=function(e){return e}),x||(x=function(e,t){return n(e,i(t))});var w=D(Array.prototype.forEach),_=D(Array.prototype.pop),k=D(Array.prototype.push),C=D(String.prototype.toLowerCase),S=D(String.prototype.match),A=D(String.prototype.replace),L=D(String.prototype.indexOf),T=D(String.prototype.trim),E=D(RegExp.prototype.test),M=N(TypeError);function D(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return b(e,t,n)}}function N(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(e,r)}}function O(e,t,r){r=r||C,d&&d(e,null);for(var n=t.length;n--;){var i=t[n];if("string"==typeof i){var o=r(i);o!==i&&(p(t)||(t[n]=o),i=o)}e[i]=!0}return e}function F(e){var t,r=v(null);for(t in e)b(u,e,[t])&&(r[t]=e[t]);return r}function I(e,t){for(;null!==e;){var r=f(e,t);if(r){if(r.get)return D(r.get);if("function"==typeof r.value)return D(r.value)}e=h(e)}function n(e){return null}return n}var z=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),q=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),R=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),H=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),B=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),W=m(["#text"]),j=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),U=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Z=g(/<%[\w\W]*|[\w\W]*%>/gm),K=g(/^data-[\-\w.\u00B7-\uFFFF]/),Y=g(/^aria-[\-\w]+$/),X=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Q=g(/^(?:\w+script|data):/i),J=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ee=g(/^html$/i),te=function(){return"undefined"==typeof window?null:window},re=function(t,r){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var n=null,i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return null}};function ne(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te(),r=function(e){return ne(e)};if(r.version="2.3.9",r.removed=[],!t||!t.document||9!==t.document.nodeType)return r.isSupported=!1,r;var n=t.document,o=t.document,a=t.DocumentFragment,s=t.HTMLTemplateElement,l=t.Node,c=t.Element,u=t.NodeFilter,d=t.NamedNodeMap,p=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,h=t.HTMLFormElement,f=t.DOMParser,g=t.trustedTypes,v=c.prototype,y=I(v,"cloneNode"),b=I(v,"nextSibling"),x=I(v,"childNodes"),D=I(v,"parentNode");if("function"==typeof s){var N=o.createElement("template");N.content&&N.content.ownerDocument&&(o=N.content.ownerDocument)}var ie=re(g,n),oe=ie?ie.createHTML(""):"",ae=o,se=ae.implementation,le=ae.createNodeIterator,ce=ae.createDocumentFragment,ue=ae.getElementsByTagName,de=n.importNode,pe={};try{pe=F(o).documentMode?o.documentMode:{}}catch(e){}var he={};r.isSupported="function"==typeof D&&se&&void 0!==se.createHTMLDocument&&9!==pe;var fe,me,ge=$,ve=Z,ye=K,be=Y,xe=Q,we=J,_e=X,ke=null,Ce=O({},[].concat(i(z),i(q),i(R),i(P),i(W))),Se=null,Ae=O({},[].concat(i(j),i(U),i(G),i(V))),Le=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Te=null,Ee=null,Me=!0,De=!0,Ne=!1,Oe=!1,Fe=!1,Ie=!1,ze=!1,qe=!1,Re=!1,He=!1,Pe=!0,Be=!0,We=!1,je={},Ue=null,Ge=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=null,$e=O({},["audio","video","img","source","image","track"]),Ze=null,Ke=O({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ye="http://www.w3.org/1998/Math/MathML",Xe="http://www.w3.org/2000/svg",Qe="http://www.w3.org/1999/xhtml",Je=Qe,et=!1,tt=["application/xhtml+xml","text/html"],rt="text/html",nt=null,it=o.createElement("form"),ot=function(e){return e instanceof RegExp||e instanceof Function},at=function(t){nt&&nt===t||(t&&"object"===e(t)||(t={}),t=F(t),fe=fe=-1===tt.indexOf(t.PARSER_MEDIA_TYPE)?rt:t.PARSER_MEDIA_TYPE,me="application/xhtml+xml"===fe?function(e){return e}:C,ke="ALLOWED_TAGS"in t?O({},t.ALLOWED_TAGS,me):Ce,Se="ALLOWED_ATTR"in t?O({},t.ALLOWED_ATTR,me):Ae,Ze="ADD_URI_SAFE_ATTR"in t?O(F(Ke),t.ADD_URI_SAFE_ATTR,me):Ke,Ve="ADD_DATA_URI_TAGS"in t?O(F($e),t.ADD_DATA_URI_TAGS,me):$e,Ue="FORBID_CONTENTS"in t?O({},t.FORBID_CONTENTS,me):Ge,Te="FORBID_TAGS"in t?O({},t.FORBID_TAGS,me):{},Ee="FORBID_ATTR"in t?O({},t.FORBID_ATTR,me):{},je="USE_PROFILES"in t&&t.USE_PROFILES,Me=!1!==t.ALLOW_ARIA_ATTR,De=!1!==t.ALLOW_DATA_ATTR,Ne=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=t.SAFE_FOR_TEMPLATES||!1,Fe=t.WHOLE_DOCUMENT||!1,qe=t.RETURN_DOM||!1,Re=t.RETURN_DOM_FRAGMENT||!1,He=t.RETURN_TRUSTED_TYPE||!1,ze=t.FORCE_BODY||!1,Pe=!1!==t.SANITIZE_DOM,Be=!1!==t.KEEP_CONTENT,We=t.IN_PLACE||!1,_e=t.ALLOWED_URI_REGEXP||_e,Je=t.NAMESPACE||Qe,t.CUSTOM_ELEMENT_HANDLING&&ot(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Le.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ot(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Le.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Le.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Oe&&(De=!1),Re&&(qe=!0),je&&(ke=O({},i(W)),Se=[],!0===je.html&&(O(ke,z),O(Se,j)),!0===je.svg&&(O(ke,q),O(Se,U),O(Se,V)),!0===je.svgFilters&&(O(ke,R),O(Se,U),O(Se,V)),!0===je.mathMl&&(O(ke,P),O(Se,G),O(Se,V))),t.ADD_TAGS&&(ke===Ce&&(ke=F(ke)),O(ke,t.ADD_TAGS,me)),t.ADD_ATTR&&(Se===Ae&&(Se=F(Se)),O(Se,t.ADD_ATTR,me)),t.ADD_URI_SAFE_ATTR&&O(Ze,t.ADD_URI_SAFE_ATTR,me),t.FORBID_CONTENTS&&(Ue===Ge&&(Ue=F(Ue)),O(Ue,t.FORBID_CONTENTS,me)),Be&&(ke["#text"]=!0),Fe&&O(ke,["html","head","body"]),ke.table&&(O(ke,["tbody"]),delete Te.tbody),m&&m(t),nt=t)},st=O({},["mi","mo","mn","ms","mtext"]),lt=O({},["foreignobject","desc","title","annotation-xml"]),ct=O({},["title","style","font","a","script"]),ut=O({},q);O(ut,R),O(ut,H);var dt=O({},P);O(dt,B);var pt=function(e){var t=D(e);t&&t.tagName||(t={namespaceURI:Qe,tagName:"template"});var r=C(e.tagName),n=C(t.tagName);return e.namespaceURI===Xe?t.namespaceURI===Qe?"svg"===r:t.namespaceURI===Ye?"svg"===r&&("annotation-xml"===n||st[n]):Boolean(ut[r]):e.namespaceURI===Ye?t.namespaceURI===Qe?"math"===r:t.namespaceURI===Xe?"math"===r&&lt[n]:Boolean(dt[r]):e.namespaceURI===Qe&&!(t.namespaceURI===Xe&&!lt[n])&&!(t.namespaceURI===Ye&&!st[n])&&!dt[r]&&(ct[r]||!ut[r])},ht=function(e){k(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},ft=function(e,t){try{k(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){k(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Se[e])if(qe||Re)try{ht(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},mt=function(e){var t,r;if(ze)e="<remove></remove>"+e;else{var n=S(e,/^[\r\n\t ]+/);r=n&&n[0]}"application/xhtml+xml"===fe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=ie?ie.createHTML(e):e;if(Je===Qe)try{t=(new f).parseFromString(i,fe)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(Je,"template",null);try{t.documentElement.innerHTML=et?"":i}catch(e){}}var a=t.body||t.documentElement;return e&&r&&a.insertBefore(o.createTextNode(r),a.childNodes[0]||null),Je===Qe?ue.call(t,Fe?"html":"body")[0]:Fe?t.documentElement:a},gt=function(e){return le.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},vt=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},yt=function(t){return"object"===e(l)?t instanceof l:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},bt=function(e,t,n){he[e]&&w(he[e],(function(e){e.call(r,t,n,nt)}))},xt=function(e){var t;if(bt("beforeSanitizeElements",e,null),vt(e))return ht(e),!0;if(E(/[\u0080-\uFFFF]/,e.nodeName))return ht(e),!0;var n=me(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:n,allowedTags:ke}),e.hasChildNodes()&&!yt(e.firstElementChild)&&(!yt(e.content)||!yt(e.content.firstElementChild))&&E(/<[/\w]/g,e.innerHTML)&&E(/<[/\w]/g,e.textContent))return ht(e),!0;if("select"===n&&E(/<template/i,e.innerHTML))return ht(e),!0;if(!ke[n]||Te[n]){if(!Te[n]&&_t(n)){if(Le.tagNameCheck instanceof RegExp&&E(Le.tagNameCheck,n))return!1;if(Le.tagNameCheck instanceof Function&&Le.tagNameCheck(n))return!1}if(Be&&!Ue[n]){var i=D(e)||e.parentNode,o=x(e)||e.childNodes;if(o&&i)for(var a=o.length-1;a>=0;--a)i.insertBefore(y(o[a],!0),b(e))}return ht(e),!0}return e instanceof c&&!pt(e)?(ht(e),!0):"noscript"!==n&&"noembed"!==n||!E(/<\/no(script|embed)/i,e.innerHTML)?(Oe&&3===e.nodeType&&(t=e.textContent,t=A(t,ge," "),t=A(t,ve," "),e.textContent!==t&&(k(r.removed,{element:e.cloneNode()}),e.textContent=t)),bt("afterSanitizeElements",e,null),!1):(ht(e),!0)},wt=function(e,t,r){if(Pe&&("id"===t||"name"===t)&&(r in o||r in it))return!1;if(De&&!Ee[t]&&E(ye,t));else if(Me&&E(be,t));else if(!Se[t]||Ee[t]){if(!(_t(e)&&(Le.tagNameCheck instanceof RegExp&&E(Le.tagNameCheck,e)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(e))&&(Le.attributeNameCheck instanceof RegExp&&E(Le.attributeNameCheck,t)||Le.attributeNameCheck instanceof Function&&Le.attributeNameCheck(t))||"is"===t&&Le.allowCustomizedBuiltInElements&&(Le.tagNameCheck instanceof RegExp&&E(Le.tagNameCheck,r)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(r))))return!1}else if(Ze[t]);else if(E(_e,A(r,we,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==L(r,"data:")||!Ve[e])if(Ne&&!E(xe,A(r,we,"")));else if(r)return!1;return!0},_t=function(e){return e.indexOf("-")>0},kt=function(e){var t,n,i,o;bt("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se};for(o=a.length;o--;){var l=t=a[o],c=l.name,u=l.namespaceURI;if(n="value"===c?t.value:T(t.value),i=me(c),s.attrName=i,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,s),n=s.attrValue,!s.forceKeepAttr&&(ft(c,e),s.keepAttr))if(E(/\/>/i,n))ft(c,e);else{Oe&&(n=A(n,ge," "),n=A(n,ve," "));var d=me(e.nodeName);if(wt(d,i,n))try{u?e.setAttributeNS(u,c,n):e.setAttribute(c,n),_(r.removed)}catch(e){}}}bt("afterSanitizeAttributes",e,null)}},Ct=function e(t){var r,n=gt(t);for(bt("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)bt("uponSanitizeShadowNode",r,null),xt(r)||(r.content instanceof a&&e(r.content),kt(r));bt("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(i,o){var s,c,u,d,p;if((et=!i)&&(i="\x3c!--\x3e"),"string"!=typeof i&&!yt(i)){if("function"!=typeof i.toString)throw M("toString is not a function");if("string"!=typeof(i=i.toString()))throw M("dirty is not a string, aborting")}if(!r.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof i)return t.toStaticHTML(i);if(yt(i))return t.toStaticHTML(i.outerHTML)}return i}if(Ie||at(o),r.removed=[],"string"==typeof i&&(We=!1),We){if(i.nodeName){var h=me(i.nodeName);if(!ke[h]||Te[h])throw M("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof l)1===(c=(s=mt("\x3c!----\x3e")).ownerDocument.importNode(i,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?s=c:s.appendChild(c);else{if(!qe&&!Oe&&!Fe&&-1===i.indexOf("<"))return ie&&He?ie.createHTML(i):i;if(!(s=mt(i)))return qe?null:He?oe:""}s&&ze&&ht(s.firstChild);for(var f=gt(We?i:s);u=f.nextNode();)3===u.nodeType&&u===d||xt(u)||(u.content instanceof a&&Ct(u.content),kt(u),d=u);if(d=null,We)return i;if(qe){if(Re)for(p=ce.call(s.ownerDocument);s.firstChild;)p.appendChild(s.firstChild);else p=s;return Se.shadowroot&&(p=de.call(n,p,!0)),p}var m=Fe?s.outerHTML:s.innerHTML;return Fe&&ke["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&E(ee,s.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+m),Oe&&(m=A(m,ge," "),m=A(m,ve," ")),ie&&He?ie.createHTML(m):m},r.setConfig=function(e){at(e),Ie=!0},r.clearConfig=function(){nt=null,Ie=!1},r.isValidAttribute=function(e,t,r){nt||at({});var n=me(e),i=me(t);return wt(n,i,r)},r.addHook=function(e,t){"function"==typeof t&&(he[e]=he[e]||[],k(he[e],t))},r.removeHook=function(e){if(he[e])return _(he[e])},r.removeHooks=function(e){he[e]&&(he[e]=[])},r.removeAllHooks=function(){he={}},r}return ne()}()},71999:function(e,t,r){"use strict";function n(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(r){e[r]=t[r]}))})),e}function i(e){return Object.prototype.toString.call(e)}function o(e){return"[object Function]"===i(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(e,t,r){var n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){var n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){var n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function u(e){var t=e.re=r(66721)(e.__opts__),n=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var l=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var r=e.__schemas__[t];if(null!==r){var n={validate:null,link:null};if(e.__compiled__[t]=n,"[object Object]"===i(r))return!function(e){return"[object RegExp]"===i(e)}(r.validate)?o(r.validate)?n.validate=r.validate:c(t,r):n.validate=function(e){return function(t,r){var n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}(r.validate),void(o(r.normalize)?n.normalize=r.normalize:r.normalize?c(t,r):n.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(r)?c(t,r):l.push(t)}})),l.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var u=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var r=e.__index__,n=e.__last_index__,i=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=i,this.text=i,this.url=i}function p(e,t){var r=new d(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function h(e,t){if(!(this instanceof h))return new h(e,t);var r;t||(r=e,Object.keys(r||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=n({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},l,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},u(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,u(this),this},h.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,r,n,i,o,a,s,l;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(o=n.index+n[1].length,a=n.index+n[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,r){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,r,this):0},h.prototype.match=function(e){var t=0,r=[];this.__index__>=0&&this.__text_cache__===e&&(r.push(p(this,t)),t=this.__last_index__);for(var n=t?e.slice(t):e;this.test(n);)r.push(p(this,t)),n=n.slice(this.__last_index__),t+=this.__last_index__;return r.length?r:null},h.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;var t=this.re.schema_at_start.exec(e);if(!t)return null;var r=this.testSchemaAt(e,t[2],t[0].length);return r?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r,p(this,0)):null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,r){return e!==r[t-1]})).reverse(),u(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,u(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},66721:function(e,t,r){"use strict";e.exports=function(e){var t={};e=e||{},t.src_Any=r(59386).source,t.src_Cc=r(45078).source,t.src_Z=r(36106).source,t.src_P=r(4034).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},88591:function(e,t,r){"use strict";e.exports=r(60644)},46364:function(e,t,r){"use strict";e.exports=r(81580)},42879:function(e){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},37044:function(e){"use strict";var t="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",r="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",n=new RegExp("^(?:"+t+"|"+r+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),i=new RegExp("^(?:"+t+"|"+r+")");e.exports.HTML_TAG_RE=n,e.exports.HTML_OPEN_CLOSE_TAG_RE=i},10949:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function i(e,t){return n.call(e,t)}function o(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function a(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}var s=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,l=new RegExp(s.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),c=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,u=r(46364);var d=/[&<>"]/,p=/[&<>"]/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function f(e){return h[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var g=r(4034);t.lib={},t.lib.mdurl=r(38318),t.lib.ucmicro=r(1950),t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(r){e[r]=t[r]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=i,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(s,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(l,(function(e,t,r){return t||function(e,t){var r=0;return i(u,t)?u[t]:35===t.charCodeAt(0)&&c.test(t)&&o(r="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?a(r):e}(e,r)}))},t.isValidEntityCode=o,t.fromCodePoint=a,t.escapeHtml=function(e){return d.test(e)?e.replace(p,f):e},t.arrayReplaceAt=function(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return g.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}},93368:function(e,t,r){"use strict";t.parseLinkLabel=r(61163),t.parseLinkDestination=r(26452),t.parseLinkTitle=r(59487)},26452:function(e,t,r){"use strict";var n=r(10949).unescapeAll;e.exports=function(e,t,r){var i,o,a=t,s={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<r;){if(10===(i=e.charCodeAt(t)))return s;if(60===i)return s;if(62===i)return s.pos=t+1,s.str=n(e.slice(a+1,t)),s.ok=!0,s;92===i&&t+1<r?t+=2:t++}return s}for(o=0;t<r&&32!==(i=e.charCodeAt(t))&&!(i<32||127===i);)if(92===i&&t+1<r){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===i&&++o>32)return s;if(41===i){if(0===o)break;o--}t++}return a===t||0!==o||(s.str=n(e.slice(a,t)),s.lines=0,s.pos=t,s.ok=!0),s}},61163:function(e){"use strict";e.exports=function(e,t,r){var n,i,o,a,s=-1,l=e.posMax,c=e.pos;for(e.pos=t+1,n=1;e.pos<l;){if(93===(o=e.src.charCodeAt(e.pos))&&0===--n){i=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===o)if(a===e.pos-1)n++;else if(r)return e.pos=c,-1}return i&&(s=e.pos),e.pos=c,s}},59487:function(e,t,r){"use strict";var n=r(10949).unescapeAll;e.exports=function(e,t,r){var i,o,a=0,s=t,l={ok:!1,pos:0,lines:0,str:""};if(t>=r)return l;if(34!==(o=e.charCodeAt(t))&&39!==o&&40!==o)return l;for(t++,40===o&&(o=41);t<r;){if((i=e.charCodeAt(t))===o)return l.pos=t+1,l.lines=a,l.str=n(e.slice(s+1,t)),l.ok=!0,l;if(40===i&&41===o)return l;10===i?a++:92===i&&t+1<r&&(t++,10===e.charCodeAt(t)&&a++),t++}return l}},60644:function(e,t,r){"use strict";var n=r(10949),i=r(93368),o=r(47720),a=r(29105),s=r(84310),l=r(39298),c=r(71999),u=r(38318),d=r(62234),p={default:r(60830),zero:r(40841),commonmark:r(40495)},h=/^(vbscript|javascript|file|data):/,f=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!h.test(t)||!!f.test(t)}var g=["http:","https:","mailto:"];function v(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=d.toASCII(t.hostname)}catch(e){}return u.encode(u.format(t))}function y(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=d.toUnicode(t.hostname)}catch(e){}return u.decode(u.format(t),u.decode.defaultChars+"%")}function b(e,t){if(!(this instanceof b))return new b(e,t);t||n.isString(e)||(t=e||{},e="default"),this.inline=new l,this.block=new s,this.core=new a,this.renderer=new o,this.linkify=new c,this.validateLink=m,this.normalizeLink=v,this.normalizeLinkText=y,this.utils=n,this.helpers=n.assign({},i),this.options={},this.configure(e),t&&this.set(t)}b.prototype.set=function(e){return n.assign(this.options,e),this},b.prototype.configure=function(e){var t,r=this;if(n.isString(e)&&!(e=p[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&r.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&r[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&r[t].ruler2.enableOnly(e.components[t].rules2)})),this},b.prototype.enable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){r=r.concat(this[t].ruler.enable(e,!0))}),this),r=r.concat(this.inline.ruler2.enable(e,!0));var n=e.filter((function(e){return r.indexOf(e)<0}));if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},b.prototype.disable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){r=r.concat(this[t].ruler.disable(e,!0))}),this),r=r.concat(this.inline.ruler2.disable(e,!0));var n=e.filter((function(e){return r.indexOf(e)<0}));if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},b.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},b.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var r=new this.core.State(e,this,t);return this.core.process(r),r.tokens},b.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},b.prototype.parseInline=function(e,t){var r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens},b.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=b},84310:function(e,t,r){"use strict";var n=r(43299),i=[["table",r(70943),["paragraph","reference"]],["code",r(45172)],["fence",r(91403),["paragraph","reference","blockquote","list"]],["blockquote",r(47449),["paragraph","reference","blockquote","list"]],["hr",r(56324),["paragraph","reference","blockquote","list"]],["list",r(44561),["paragraph","reference","blockquote"]],["reference",r(19084)],["html_block",r(17031),["paragraph","reference","blockquote"]],["heading",r(25659),["paragraph","reference","blockquote"]],["lheading",r(50858)],["paragraph",r(85752)]];function o(){this.ruler=new n;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1],{alt:(i[e][2]||[]).slice()})}o.prototype.tokenize=function(e,t,r){for(var n,i=this.ruler.getRules(""),o=i.length,a=t,s=!1,l=e.md.options.maxNesting;a<r&&(e.line=a=e.skipEmptyLines(a),!(a>=r))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=l){e.line=r;break}for(n=0;n<o&&!i[n](e,a,r,!1);n++);e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),(a=e.line)<r&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}},o.prototype.parse=function(e,t,r,n){var i;e&&(i=new this.State(e,t,r,n),this.tokenize(i,i.line,i.lineMax))},o.prototype.State=r(42865),e.exports=o},29105:function(e,t,r){"use strict";var n=r(43299),i=[["normalize",r(13789)],["block",r(50926)],["inline",r(55883)],["linkify",r(80808)],["replacements",r(65303)],["smartquotes",r(55965)],["text_join",r(47453)]];function o(){this.ruler=new n;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1])}o.prototype.process=function(e){var t,r,n;for(t=0,r=(n=this.ruler.getRules("")).length;t<r;t++)n[t](e)},o.prototype.State=r(87670),e.exports=o},39298:function(e,t,r){"use strict";var n=r(43299),i=[["text",r(98724)],["linkify",r(22355)],["newline",r(67152)],["escape",r(22092)],["backticks",r(28556)],["strikethrough",r(78496).tokenize],["emphasis",r(3892).tokenize],["link",r(69055)],["image",r(52267)],["autolink",r(25086)],["html_inline",r(18926)],["entity",r(89431)]],o=[["balance_pairs",r(59064)],["strikethrough",r(78496).postProcess],["emphasis",r(3892).postProcess],["fragments_join",r(87700)]];function a(){var e;for(this.ruler=new n,e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1]);for(this.ruler2=new n,e=0;e<o.length;e++)this.ruler2.push(o[e][0],o[e][1])}a.prototype.skipToken=function(e){var t,r,n=e.pos,i=this.ruler.getRules(""),o=i.length,a=e.md.options.maxNesting,s=e.cache;if(void 0===s[n]){if(e.level<a)for(r=0;r<o&&(e.level++,t=i[r](e,!0),e.level--,!t);r++);else e.pos=e.posMax;t||e.pos++,s[n]=e.pos}else e.pos=s[n]},a.prototype.tokenize=function(e){for(var t,r,n=this.ruler.getRules(""),i=n.length,o=e.posMax,a=e.md.options.maxNesting;e.pos<o;){if(e.level<a)for(r=0;r<i&&!(t=n[r](e,!1));r++);if(t){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,r,n){var i,o,a,s=new this.State(e,t,r,n);for(this.tokenize(s),a=(o=this.ruler2.getRules("")).length,i=0;i<a;i++)o[i](s)},a.prototype.State=r(42142),e.exports=a},40495:function(e){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},60830:function(e){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},40841:function(e){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}},47720:function(e,t,r){"use strict";var n=r(10949).assign,i=r(10949).unescapeAll,o=r(10949).escapeHtml,a={};function s(){this.rules=n({},a)}a.code_inline=function(e,t,r,n,i){var a=e[t];return"<code"+i.renderAttrs(a)+">"+o(e[t].content)+"</code>"},a.code_block=function(e,t,r,n,i){var a=e[t];return"<pre"+i.renderAttrs(a)+"><code>"+o(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,r,n,a){var s,l,c,u,d,p=e[t],h=p.info?i(p.info).trim():"",f="",m="";return h&&(f=(c=h.split(/(\s+)/g))[0],m=c.slice(2).join("")),0===(s=r.highlight&&r.highlight(p.content,f,m)||o(p.content)).indexOf("<pre")?s+"\n":h?(l=p.attrIndex("class"),u=p.attrs?p.attrs.slice():[],l<0?u.push(["class",r.langPrefix+f]):(u[l]=u[l].slice(),u[l][1]+=" "+r.langPrefix+f),d={attrs:u},"<pre><code"+a.renderAttrs(d)+">"+s+"</code></pre>\n"):"<pre><code"+a.renderAttrs(p)+">"+s+"</code></pre>\n"},a.image=function(e,t,r,n,i){var o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(e,t,r)},a.hardbreak=function(e,t,r){return r.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return o(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},s.prototype.renderAttrs=function(e){var t,r,n;if(!e.attrs)return"";for(n="",t=0,r=e.attrs.length;t<r;t++)n+=" "+o(e.attrs[t][0])+'="'+o(e.attrs[t][1])+'"';return n},s.prototype.renderToken=function(e,t,r){var n,i="",o=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(i+="\n"),i+=(-1===a.nesting?"</":"<")+a.tag,i+=this.renderAttrs(a),0===a.nesting&&r.xhtmlOut&&(i+=" /"),a.block&&(o=!0,1===a.nesting&&t+1<e.length&&("inline"===(n=e[t+1]).type||n.hidden||-1===n.nesting&&n.tag===a.tag)&&(o=!1)),i+=o?">\n":">")},s.prototype.renderInline=function(e,t,r){for(var n,i="",o=this.rules,a=0,s=e.length;a<s;a++)void 0!==o[n=e[a].type]?i+=o[n](e,a,t,r,this):i+=this.renderToken(e,a,t);return i},s.prototype.renderInlineAsText=function(e,t,r){for(var n="",i=0,o=e.length;i<o;i++)"text"===e[i].type?n+=e[i].content:"image"===e[i].type?n+=this.renderInlineAsText(e[i].children,t,r):"softbreak"===e[i].type&&(n+="\n");return n},s.prototype.render=function(e,t,r){var n,i,o,a="",s=this.rules;for(n=0,i=e.length;n<i;n++)"inline"===(o=e[n].type)?a+=this.renderInline(e[n].children,t,r):void 0!==s[o]?a+=s[e[n].type](e,n,t,r,this):a+=this.renderToken(e,n,t,r);return a},e.exports=s},43299:function(e){"use strict";function t(){this.__rules__=[],this.__cache__=null}t.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},t.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(r){r.enabled&&(t&&r.alt.indexOf(t)<0||e.__cache__[t].push(r.fn))}))}))},t.prototype.at=function(e,t,r){var n=this.__find__(e),i=r||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=i.alt||[],this.__cache__=null},t.prototype.before=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},t.prototype.after=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},t.prototype.push=function(e,t,r){var n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null},t.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach((function(e){var n=this.__find__(e);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!0,r.push(e)}),this),this.__cache__=null,r},t.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},t.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach((function(e){var n=this.__find__(e);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!1,r.push(e)}),this),this.__cache__=null,r},t.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=t},47449:function(e,t,r){"use strict";var n=r(10949).isSpace;e.exports=function(e,t,r,i){var o,a,s,l,c,u,d,p,h,f,m,g,v,y,b,x,w,_,k,C,S=e.lineMax,A=e.bMarks[t]+e.tShift[t],L=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(A++))return!1;if(i)return!0;for(l=h=e.sCount[t]+1,32===e.src.charCodeAt(A)?(A++,l++,h++,o=!1,x=!0):9===e.src.charCodeAt(A)?(x=!0,(e.bsCount[t]+h)%4==3?(A++,l++,h++,o=!1):o=!0):x=!1,f=[e.bMarks[t]],e.bMarks[t]=A;A<L&&(a=e.src.charCodeAt(A),n(a));)9===a?h+=4-(h+e.bsCount[t]+(o?1:0))%4:h++,A++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(x?1:0),u=A>=L,y=[e.sCount[t]],e.sCount[t]=h-l,b=[e.tShift[t]],e.tShift[t]=A-e.bMarks[t],_=e.md.block.ruler.getRules("blockquote"),v=e.parentType,e.parentType="blockquote",p=t+1;p<r&&(C=e.sCount[p]<e.blkIndent,!((A=e.bMarks[p]+e.tShift[p])>=(L=e.eMarks[p])));p++)if(62!==e.src.charCodeAt(A++)||C){if(u)break;for(w=!1,s=0,c=_.length;s<c;s++)if(_[s](e,p,r,!0)){w=!0;break}if(w){e.lineMax=p,0!==e.blkIndent&&(f.push(e.bMarks[p]),m.push(e.bsCount[p]),b.push(e.tShift[p]),y.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}f.push(e.bMarks[p]),m.push(e.bsCount[p]),b.push(e.tShift[p]),y.push(e.sCount[p]),e.sCount[p]=-1}else{for(l=h=e.sCount[p]+1,32===e.src.charCodeAt(A)?(A++,l++,h++,o=!1,x=!0):9===e.src.charCodeAt(A)?(x=!0,(e.bsCount[p]+h)%4==3?(A++,l++,h++,o=!1):o=!0):x=!1,f.push(e.bMarks[p]),e.bMarks[p]=A;A<L&&(a=e.src.charCodeAt(A),n(a));)9===a?h+=4-(h+e.bsCount[p]+(o?1:0))%4:h++,A++;u=A>=L,m.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(x?1:0),y.push(e.sCount[p]),e.sCount[p]=h-l,b.push(e.tShift[p]),e.tShift[p]=A-e.bMarks[p]}for(g=e.blkIndent,e.blkIndent=0,(k=e.push("blockquote_open","blockquote",1)).markup=">",k.map=d=[t,0],e.md.block.tokenize(e,t,p),(k=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=S,e.parentType=v,d[1]=e.line,s=0;s<b.length;s++)e.bMarks[s+t]=f[s],e.tShift[s+t]=b[s],e.sCount[s+t]=y[s],e.bsCount[s+t]=m[s];return e.blkIndent=g,!0}},45172:function(e){"use strict";e.exports=function(e,t,r){var n,i,o;if(e.sCount[t]-e.blkIndent<4)return!1;for(i=n=t+1;n<r;)if(e.isEmpty(n))n++;else{if(!(e.sCount[n]-e.blkIndent>=4))break;i=++n}return e.line=i,(o=e.push("code_block","code",0)).content=e.getLines(t,i,4+e.blkIndent,!1)+"\n",o.map=[t,e.line],!0}},91403:function(e){"use strict";e.exports=function(e,t,r,n){var i,o,a,s,l,c,u,d=!1,p=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(p+3>h)return!1;if(126!==(i=e.src.charCodeAt(p))&&96!==i)return!1;if(l=p,(o=(p=e.skipChars(p,i))-l)<3)return!1;if(u=e.src.slice(l,p),a=e.src.slice(p,h),96===i&&a.indexOf(String.fromCharCode(i))>=0)return!1;if(n)return!0;for(s=t;!(++s>=r)&&!((p=l=e.bMarks[s]+e.tShift[s])<(h=e.eMarks[s])&&e.sCount[s]<e.blkIndent);)if(e.src.charCodeAt(p)===i&&!(e.sCount[s]-e.blkIndent>=4||(p=e.skipChars(p,i))-l<o||(p=e.skipSpaces(p))<h)){d=!0;break}return o=e.sCount[t],e.line=s+(d?1:0),(c=e.push("fence","code",0)).info=a,c.content=e.getLines(t+1,s,o,!0),c.markup=u,c.map=[t,e.line],!0}},25659:function(e,t,r){"use strict";var n=r(10949).isSpace;e.exports=function(e,t,r,i){var o,a,s,l,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(o=e.src.charCodeAt(c))||c>=u)return!1;for(a=1,o=e.src.charCodeAt(++c);35===o&&c<u&&a<=6;)a++,o=e.src.charCodeAt(++c);return!(a>6||c<u&&!n(o))&&(i||(u=e.skipSpacesBack(u,c),(s=e.skipCharsBack(u,35,c))>c&&n(e.src.charCodeAt(s-1))&&(u=s),e.line=t+1,(l=e.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),l.map=[t,e.line],(l=e.push("inline","",0)).content=e.src.slice(c,u).trim(),l.map=[t,e.line],l.children=[],(l=e.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a)),!0)}},56324:function(e,t,r){"use strict";var n=r(10949).isSpace;e.exports=function(e,t,r,i){var o,a,s,l,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(o=e.src.charCodeAt(c++))&&45!==o&&95!==o)return!1;for(a=1;c<u;){if((s=e.src.charCodeAt(c++))!==o&&!n(s))return!1;s===o&&a++}return!(a<3)&&(i||(e.line=t+1,(l=e.push("hr","hr",0)).map=[t,e.line],l.markup=Array(a+1).join(String.fromCharCode(o))),!0)}},17031:function(e,t,r){"use strict";var n=r(42879),i=r(37044).HTML_OPEN_CLOSE_TAG_RE,o=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(i.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,r,n){var i,a,s,l,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(c))return!1;for(l=e.src.slice(c,u),i=0;i<o.length&&!o[i][0].test(l);i++);if(i===o.length)return!1;if(n)return o[i][2];if(a=t+1,!o[i][1].test(l))for(;a<r&&!(e.sCount[a]<e.blkIndent);a++)if(c=e.bMarks[a]+e.tShift[a],u=e.eMarks[a],l=e.src.slice(c,u),o[i][1].test(l)){0!==l.length&&a++;break}return e.line=a,(s=e.push("html_block","",0)).map=[t,a],s.content=e.getLines(t,a,e.blkIndent,!0),!0}},50858:function(e){"use strict";e.exports=function(e,t,r){var n,i,o,a,s,l,c,u,d,p,h=t+1,f=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";h<r&&!e.isEmpty(h);h++)if(!(e.sCount[h]-e.blkIndent>3)){if(e.sCount[h]>=e.blkIndent&&(l=e.bMarks[h]+e.tShift[h])<(c=e.eMarks[h])&&(45===(d=e.src.charCodeAt(l))||61===d)&&(l=e.skipChars(l,d),(l=e.skipSpaces(l))>=c)){u=61===d?1:2;break}if(!(e.sCount[h]<0)){for(i=!1,o=0,a=f.length;o<a;o++)if(f[o](e,h,r,!0)){i=!0;break}if(i)break}}return!!u&&(n=e.getLines(t,h,e.blkIndent,!1).trim(),e.line=h+1,(s=e.push("heading_open","h"+String(u),1)).markup=String.fromCharCode(d),s.map=[t,e.line],(s=e.push("inline","",0)).content=n,s.map=[t,e.line-1],s.children=[],(s=e.push("heading_close","h"+String(u),-1)).markup=String.fromCharCode(d),e.parentType=p,!0)}},44561:function(e,t,r){"use strict";var n=r(10949).isSpace;function i(e,t){var r,i,o,a;return i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],42!==(r=e.src.charCodeAt(i++))&&45!==r&&43!==r||i<o&&(a=e.src.charCodeAt(i),!n(a))?-1:i}function o(e,t){var r,i=e.bMarks[t]+e.tShift[t],o=i,a=e.eMarks[t];if(o+1>=a)return-1;if((r=e.src.charCodeAt(o++))<48||r>57)return-1;for(;;){if(o>=a)return-1;if(!((r=e.src.charCodeAt(o++))>=48&&r<=57)){if(41===r||46===r)break;return-1}if(o-i>=10)return-1}return o<a&&(r=e.src.charCodeAt(o),!n(r))?-1:o}e.exports=function(e,t,r,n){var a,s,l,c,u,d,p,h,f,m,g,v,y,b,x,w,_,k,C,S,A,L,T,E,M,D,N,O,F=!1,I=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(n&&"paragraph"===e.parentType&&e.sCount[t]>=e.blkIndent&&(F=!0),(T=o(e,t))>=0){if(p=!0,M=e.bMarks[t]+e.tShift[t],y=Number(e.src.slice(M,T-1)),F&&1!==y)return!1}else{if(!((T=i(e,t))>=0))return!1;p=!1}if(F&&e.skipSpaces(T)>=e.eMarks[t])return!1;if(v=e.src.charCodeAt(T-1),n)return!0;for(g=e.tokens.length,p?(O=e.push("ordered_list_open","ol",1),1!==y&&(O.attrs=[["start",y]])):O=e.push("bullet_list_open","ul",1),O.map=m=[t,0],O.markup=String.fromCharCode(v),x=t,E=!1,N=e.md.block.ruler.getRules("list"),k=e.parentType,e.parentType="list";x<r;){for(L=T,b=e.eMarks[x],d=w=e.sCount[x]+T-(e.bMarks[t]+e.tShift[t]);L<b;){if(9===(a=e.src.charCodeAt(L)))w+=4-(w+e.bsCount[x])%4;else{if(32!==a)break;w++}L++}if((u=(s=L)>=b?1:w-d)>4&&(u=1),c=d+u,(O=e.push("list_item_open","li",1)).markup=String.fromCharCode(v),O.map=h=[t,0],p&&(O.info=e.src.slice(M,T-1)),A=e.tight,S=e.tShift[t],C=e.sCount[t],_=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=c,e.tight=!0,e.tShift[t]=s-e.bMarks[t],e.sCount[t]=w,s>=b&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,t,r,!0),e.tight&&!E||(I=!1),E=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=_,e.tShift[t]=S,e.sCount[t]=C,e.tight=A,(O=e.push("list_item_close","li",-1)).markup=String.fromCharCode(v),x=t=e.line,h[1]=x,s=e.bMarks[t],x>=r)break;if(e.sCount[x]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(D=!1,l=0,f=N.length;l<f;l++)if(N[l](e,x,r,!0)){D=!0;break}if(D)break;if(p){if((T=o(e,x))<0)break;M=e.bMarks[x]+e.tShift[x]}else if((T=i(e,x))<0)break;if(v!==e.src.charCodeAt(T-1))break}return(O=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(v),m[1]=x,e.line=x,e.parentType=k,I&&function(e,t){var r,n,i=e.level+2;for(r=t+2,n=e.tokens.length-2;r<n;r++)e.tokens[r].level===i&&"paragraph_open"===e.tokens[r].type&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}(e,g),!0}},85752:function(e){"use strict";e.exports=function(e,t){var r,n,i,o,a,s,l=t+1,c=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;for(s=e.parentType,e.parentType="paragraph";l<u&&!e.isEmpty(l);l++)if(!(e.sCount[l]-e.blkIndent>3||e.sCount[l]<0)){for(n=!1,i=0,o=c.length;i<o;i++)if(c[i](e,l,u,!0)){n=!0;break}if(n)break}return r=e.getLines(t,l,e.blkIndent,!1).trim(),e.line=l,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=r,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=s,!0}},19084:function(e,t,r){"use strict";var n=r(10949).normalizeReference,i=r(10949).isSpace;e.exports=function(e,t,r,o){var a,s,l,c,u,d,p,h,f,m,g,v,y,b,x,w,_=0,k=e.bMarks[t]+e.tShift[t],C=e.eMarks[t],S=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(k))return!1;for(;++k<C;)if(93===e.src.charCodeAt(k)&&92!==e.src.charCodeAt(k-1)){if(k+1===C)return!1;if(58!==e.src.charCodeAt(k+1))return!1;break}for(c=e.lineMax,x=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";S<c&&!e.isEmpty(S);S++)if(!(e.sCount[S]-e.blkIndent>3||e.sCount[S]<0)){for(b=!1,d=0,p=x.length;d<p;d++)if(x[d](e,S,c,!0)){b=!0;break}if(b)break}for(C=(y=e.getLines(t,S,e.blkIndent,!1).trim()).length,k=1;k<C;k++){if(91===(a=y.charCodeAt(k)))return!1;if(93===a){f=k;break}(10===a||92===a&&++k<C&&10===y.charCodeAt(k))&&_++}if(f<0||58!==y.charCodeAt(f+1))return!1;for(k=f+2;k<C;k++)if(10===(a=y.charCodeAt(k)))_++;else if(!i(a))break;if(!(g=e.md.helpers.parseLinkDestination(y,k,C)).ok)return!1;if(u=e.md.normalizeLink(g.str),!e.md.validateLink(u))return!1;for(s=k=g.pos,l=_+=g.lines,v=k;k<C;k++)if(10===(a=y.charCodeAt(k)))_++;else if(!i(a))break;for(g=e.md.helpers.parseLinkTitle(y,k,C),k<C&&v!==k&&g.ok?(w=g.str,k=g.pos,_+=g.lines):(w="",k=s,_=l);k<C&&(a=y.charCodeAt(k),i(a));)k++;if(k<C&&10!==y.charCodeAt(k)&&w)for(w="",k=s,_=l;k<C&&(a=y.charCodeAt(k),i(a));)k++;return!(k<C&&10!==y.charCodeAt(k))&&(!!(h=n(y.slice(1,f)))&&(o||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[h]&&(e.env.references[h]={title:w,href:u}),e.parentType=m,e.line=t+_+1),!0))}},42865:function(e,t,r){"use strict";var n=r(97458),i=r(10949).isSpace;function o(e,t,r,n){var o,a,s,l,c,u,d,p;for(this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,s=l=u=d=0,c=(a=this.src).length;l<c;l++){if(o=a.charCodeAt(l),!p){if(i(o)){u++,9===o?d+=4-d%4:d++;continue}p=!0}10!==o&&l!==c-1||(10!==o&&l++,this.bMarks.push(s),this.eMarks.push(l),this.tShift.push(u),this.sCount.push(d),this.bsCount.push(0),p=!1,u=0,d=0,s=l+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}o.prototype.push=function(e,t,r){var i=new n(e,t,r);return i.block=!0,r<0&&this.level--,i.level=this.level,r>0&&this.level++,this.tokens.push(i),i},o.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},o.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},o.prototype.skipSpaces=function(e){for(var t,r=this.src.length;e<r&&(t=this.src.charCodeAt(e),i(t));e++);return e},o.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!i(this.src.charCodeAt(--e)))return e+1;return e},o.prototype.skipChars=function(e,t){for(var r=this.src.length;e<r&&this.src.charCodeAt(e)===t;e++);return e},o.prototype.skipCharsBack=function(e,t,r){if(e<=r)return e;for(;e>r;)if(t!==this.src.charCodeAt(--e))return e+1;return e},o.prototype.getLines=function(e,t,r,n){var o,a,s,l,c,u,d,p=e;if(e>=t)return"";for(u=new Array(t-e),o=0;p<t;p++,o++){for(a=0,d=l=this.bMarks[p],c=p+1<t||n?this.eMarks[p]+1:this.eMarks[p];l<c&&a<r;){if(s=this.src.charCodeAt(l),i(s))9===s?a+=4-(a+this.bsCount[p])%4:a++;else{if(!(l-d<this.tShift[p]))break;a++}l++}u[o]=a>r?new Array(a-r+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return u.join("")},o.prototype.Token=n,e.exports=o},70943:function(e,t,r){"use strict";var n=r(10949).isSpace;function i(e,t){var r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];return e.src.slice(r,n)}function o(e){var t,r=[],n=0,i=e.length,o=!1,a=0,s="";for(t=e.charCodeAt(n);n<i;)124===t&&(o?(s+=e.substring(a,n-1),a=n):(r.push(s+e.substring(a,n)),s="",a=n+1)),o=92===t,n++,t=e.charCodeAt(n);return r.push(s+e.substring(a)),r}e.exports=function(e,t,r,a){var s,l,c,u,d,p,h,f,m,g,v,y,b,x,w,_,k,C;if(t+2>r)return!1;if(p=t+1,e.sCount[p]<e.blkIndent)return!1;if(e.sCount[p]-e.blkIndent>=4)return!1;if((c=e.bMarks[p]+e.tShift[p])>=e.eMarks[p])return!1;if(124!==(k=e.src.charCodeAt(c++))&&45!==k&&58!==k)return!1;if(c>=e.eMarks[p])return!1;if(124!==(C=e.src.charCodeAt(c++))&&45!==C&&58!==C&&!n(C))return!1;if(45===k&&n(C))return!1;for(;c<e.eMarks[p];){if(124!==(s=e.src.charCodeAt(c))&&45!==s&&58!==s&&!n(s))return!1;c++}for(h=(l=i(e,t+1)).split("|"),g=[],u=0;u<h.length;u++){if(!(v=h[u].trim())){if(0===u||u===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;58===v.charCodeAt(v.length-1)?g.push(58===v.charCodeAt(0)?"center":"right"):58===v.charCodeAt(0)?g.push("left"):g.push("")}if(-1===(l=i(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((h=o(l)).length&&""===h[0]&&h.shift(),h.length&&""===h[h.length-1]&&h.pop(),0===(f=h.length)||f!==g.length)return!1;if(a)return!0;for(x=e.parentType,e.parentType="table",_=e.md.block.ruler.getRules("blockquote"),(m=e.push("table_open","table",1)).map=y=[t,0],(m=e.push("thead_open","thead",1)).map=[t,t+1],(m=e.push("tr_open","tr",1)).map=[t,t+1],u=0;u<h.length;u++)m=e.push("th_open","th",1),g[u]&&(m.attrs=[["style","text-align:"+g[u]]]),(m=e.push("inline","",0)).content=h[u].trim(),m.children=[],m=e.push("th_close","th",-1);for(m=e.push("tr_close","tr",-1),m=e.push("thead_close","thead",-1),p=t+2;p<r&&!(e.sCount[p]<e.blkIndent);p++){for(w=!1,u=0,d=_.length;u<d;u++)if(_[u](e,p,r,!0)){w=!0;break}if(w)break;if(!(l=i(e,p).trim()))break;if(e.sCount[p]-e.blkIndent>=4)break;for((h=o(l)).length&&""===h[0]&&h.shift(),h.length&&""===h[h.length-1]&&h.pop(),p===t+2&&((m=e.push("tbody_open","tbody",1)).map=b=[t+2,0]),(m=e.push("tr_open","tr",1)).map=[p,p+1],u=0;u<f;u++)m=e.push("td_open","td",1),g[u]&&(m.attrs=[["style","text-align:"+g[u]]]),(m=e.push("inline","",0)).content=h[u]?h[u].trim():"",m.children=[],m=e.push("td_close","td",-1);m=e.push("tr_close","tr",-1)}return b&&(m=e.push("tbody_close","tbody",-1),b[1]=p),m=e.push("table_close","table",-1),y[1]=p,e.parentType=x,e.line=p,!0}},50926:function(e){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},55883:function(e){"use strict";e.exports=function(e){var t,r,n,i=e.tokens;for(r=0,n=i.length;r<n;r++)"inline"===(t=i[r]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},80808:function(e,t,r){"use strict";var n=r(10949).arrayReplaceAt;function i(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,r,o,a,s,l,c,u,d,p,h,f,m,g,v,y,b,x,w=e.tokens;if(e.md.options.linkify)for(r=0,o=w.length;r<o;r++)if("inline"===w[r].type&&e.md.linkify.pretest(w[r].content))for(m=0,t=(a=w[r].children).length-1;t>=0;t--)if("link_close"!==(l=a[t]).type){if("html_inline"===l.type&&(x=l.content,/^<a[>\s]/i.test(x)&&m>0&&m--,i(l.content)&&m++),!(m>0)&&"text"===l.type&&e.md.linkify.test(l.content)){for(d=l.content,b=e.md.linkify.match(d),c=[],f=l.level,h=0,b.length>0&&0===b[0].index&&t>0&&"text_special"===a[t-1].type&&(b=b.slice(1)),u=0;u<b.length;u++)g=b[u].url,v=e.md.normalizeLink(g),e.md.validateLink(v)&&(y=b[u].text,y=b[u].schema?"mailto:"!==b[u].schema||/^mailto:/i.test(y)?e.md.normalizeLinkText(y):e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),(p=b[u].index)>h&&((s=new e.Token("text","",0)).content=d.slice(h,p),s.level=f,c.push(s)),(s=new e.Token("link_open","a",1)).attrs=[["href",v]],s.level=f++,s.markup="linkify",s.info="auto",c.push(s),(s=new e.Token("text","",0)).content=y,s.level=f,c.push(s),(s=new e.Token("link_close","a",-1)).level=--f,s.markup="linkify",s.info="auto",c.push(s),h=b[u].lastIndex);h<d.length&&((s=new e.Token("text","",0)).content=d.slice(h),s.level=f,c.push(s)),w[r].children=a=n(a,t,c)}}else for(t--;a[t].level!==l.level&&"link_open"!==a[t].type;)t--}},13789:function(e){"use strict";var t=/\r\n?|\n/g,r=/\0/g;e.exports=function(e){var n;n=(n=e.src.replace(t,"\n")).replace(r,"�"),e.src=n}},65303:function(e){"use strict";var t=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,r=/\((c|tm|r)\)/i,n=/\((c|tm|r)\)/gi,i={c:"©",r:"®",tm:"™"};function o(e,t){return i[t.toLowerCase()]}function a(e){var t,r,i=0;for(t=e.length-1;t>=0;t--)"text"!==(r=e[t]).type||i||(r.content=r.content.replace(n,o)),"link_open"===r.type&&"auto"===r.info&&i--,"link_close"===r.type&&"auto"===r.info&&i++}function s(e){var r,n,i=0;for(r=e.length-1;r>=0;r--)"text"!==(n=e[r]).type||i||t.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===n.type&&"auto"===n.info&&i--,"link_close"===n.type&&"auto"===n.info&&i++}e.exports=function(e){var n;if(e.md.options.typographer)for(n=e.tokens.length-1;n>=0;n--)"inline"===e.tokens[n].type&&(r.test(e.tokens[n].content)&&a(e.tokens[n].children),t.test(e.tokens[n].content)&&s(e.tokens[n].children))}},55965:function(e,t,r){"use strict";var n=r(10949).isWhiteSpace,i=r(10949).isPunctChar,o=r(10949).isMdAsciiPunct,a=/['"]/,s=/['"]/g;function l(e,t,r){return e.slice(0,t)+r+e.slice(t+1)}function c(e,t){var r,a,c,u,d,p,h,f,m,g,v,y,b,x,w,_,k,C,S,A,L;for(S=[],r=0;r<e.length;r++){for(a=e[r],h=e[r].level,k=S.length-1;k>=0&&!(S[k].level<=h);k--);if(S.length=k+1,"text"===a.type){d=0,p=(c=a.content).length;e:for(;d<p&&(s.lastIndex=d,u=s.exec(c));){if(w=_=!0,d=u.index+1,C="'"===u[0],m=32,u.index-1>=0)m=c.charCodeAt(u.index-1);else for(k=r-1;k>=0&&("softbreak"!==e[k].type&&"hardbreak"!==e[k].type);k--)if(e[k].content){m=e[k].content.charCodeAt(e[k].content.length-1);break}if(g=32,d<p)g=c.charCodeAt(d);else for(k=r+1;k<e.length&&("softbreak"!==e[k].type&&"hardbreak"!==e[k].type);k++)if(e[k].content){g=e[k].content.charCodeAt(0);break}if(v=o(m)||i(String.fromCharCode(m)),y=o(g)||i(String.fromCharCode(g)),b=n(m),(x=n(g))?w=!1:y&&(b||v||(w=!1)),b?_=!1:v&&(x||y||(_=!1)),34===g&&'"'===u[0]&&m>=48&&m<=57&&(_=w=!1),w&&_&&(w=v,_=y),w||_){if(_)for(k=S.length-1;k>=0&&(f=S[k],!(S[k].level<h));k--)if(f.single===C&&S[k].level===h){f=S[k],C?(A=t.md.options.quotes[2],L=t.md.options.quotes[3]):(A=t.md.options.quotes[0],L=t.md.options.quotes[1]),a.content=l(a.content,u.index,L),e[f.token].content=l(e[f.token].content,f.pos,A),d+=L.length-1,f.token===r&&(d+=A.length-1),p=(c=a.content).length,S.length=k;continue e}w?S.push({token:r,pos:u.index,single:C,level:h}):_&&C&&(a.content=l(a.content,u.index,"’"))}else C&&(a.content=l(a.content,u.index,"’"))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&c(e.tokens[t].children,e)}},87670:function(e,t,r){"use strict";var n=r(97458);function i(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}i.prototype.Token=n,e.exports=i},47453:function(e){"use strict";e.exports=function(e){var t,r,n,i,o,a,s=e.tokens;for(t=0,r=s.length;t<r;t++)if("inline"===s[t].type){for(o=(n=s[t].children).length,i=0;i<o;i++)"text_special"===n[i].type&&(n[i].type="text");for(i=a=0;i<o;i++)"text"===n[i].type&&i+1<o&&"text"===n[i+1].type?n[i+1].content=n[i].content+n[i+1].content:(i!==a&&(n[a]=n[i]),a++);i!==a&&(n.length=a)}}},25086:function(e){"use strict";var t=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,r=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,n){var i,o,a,s,l,c,u=e.pos;if(60!==e.src.charCodeAt(u))return!1;for(l=e.pos,c=e.posMax;;){if(++u>=c)return!1;if(60===(s=e.src.charCodeAt(u)))return!1;if(62===s)break}return i=e.src.slice(l+1,u),r.test(i)?(o=e.md.normalizeLink(i),!!e.md.validateLink(o)&&(n||((a=e.push("link_open","a",1)).attrs=[["href",o]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(i),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=i.length+2,!0)):!!t.test(i)&&(o=e.md.normalizeLink("mailto:"+i),!!e.md.validateLink(o)&&(n||((a=e.push("link_open","a",1)).attrs=[["href",o]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(i),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=i.length+2,!0))}},28556:function(e){"use strict";e.exports=function(e,t){var r,n,i,o,a,s,l,c,u=e.pos;if(96!==e.src.charCodeAt(u))return!1;for(r=u,u++,n=e.posMax;u<n&&96===e.src.charCodeAt(u);)u++;if(l=(i=e.src.slice(r,u)).length,e.backticksScanned&&(e.backticks[l]||0)<=r)return t||(e.pending+=i),e.pos+=l,!0;for(a=s=u;-1!==(a=e.src.indexOf("`",s));){for(s=a+1;s<n&&96===e.src.charCodeAt(s);)s++;if((c=s-a)===l)return t||((o=e.push("code_inline","code",0)).markup=i,o.content=e.src.slice(u,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=s,!0;e.backticks[c]=a}return e.backticksScanned=!0,t||(e.pending+=i),e.pos+=l,!0}},59064:function(e){"use strict";function t(e,t){var r,n,i,o,a,s,l,c,u={},d=t.length;if(d){var p=0,h=-2,f=[];for(r=0;r<d;r++)if(i=t[r],f.push(0),t[p].marker===i.marker&&h===i.token-1||(p=r),h=i.token,i.length=i.length||0,i.close){for(u.hasOwnProperty(i.marker)||(u[i.marker]=[-1,-1,-1,-1,-1,-1]),a=u[i.marker][(i.open?3:0)+i.length%3],s=n=p-f[p]-1;n>a;n-=f[n]+1)if((o=t[n]).marker===i.marker&&o.open&&o.end<0&&(l=!1,(o.close||i.open)&&(o.length+i.length)%3==0&&(o.length%3==0&&i.length%3==0||(l=!0)),!l)){c=n>0&&!t[n-1].open?f[n-1]+1:0,f[r]=r-n+c,f[n]=c,i.open=!1,o.end=r,o.close=!1,s=-1,h=-2;break}-1!==s&&(u[i.marker][(i.open?3:0)+(i.length||0)%3]=s)}}}e.exports=function(e){var r,n=e.tokens_meta,i=e.tokens_meta.length;for(t(0,e.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&t(0,n[r].delimiters)}},3892:function(e){"use strict";function t(e,t){var r,n,i,o,a,s;for(r=t.length-1;r>=0;r--)95!==(n=t[r]).marker&&42!==n.marker||-1!==n.end&&(i=t[n.end],s=r>0&&t[r-1].end===n.end+1&&t[r-1].marker===n.marker&&t[r-1].token===n.token-1&&t[n.end+1].token===i.token+1,a=String.fromCharCode(n.marker),(o=e.tokens[n.token]).type=s?"strong_open":"em_open",o.tag=s?"strong":"em",o.nesting=1,o.markup=s?a+a:a,o.content="",(o=e.tokens[i.token]).type=s?"strong_close":"em_close",o.tag=s?"strong":"em",o.nesting=-1,o.markup=s?a+a:a,o.content="",s&&(e.tokens[t[r-1].token].content="",e.tokens[t[n.end+1].token].content="",r--))}e.exports.tokenize=function(e,t){var r,n,i=e.pos,o=e.src.charCodeAt(i);if(t)return!1;if(95!==o&&42!==o)return!1;for(n=e.scanDelims(e.pos,42===o),r=0;r<n.length;r++)e.push("text","",0).content=String.fromCharCode(o),e.delimiters.push({marker:o,length:n.length,token:e.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},e.exports.postProcess=function(e){var r,n=e.tokens_meta,i=e.tokens_meta.length;for(t(e,e.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&t(e,n[r].delimiters)}},89431:function(e,t,r){"use strict";var n=r(46364),i=r(10949).has,o=r(10949).isValidEntityCode,a=r(10949).fromCodePoint,s=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,l=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var r,c,u,d=e.pos,p=e.posMax;if(38!==e.src.charCodeAt(d))return!1;if(d+1>=p)return!1;if(35===e.src.charCodeAt(d+1)){if(c=e.src.slice(d).match(s))return t||(r="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),(u=e.push("text_special","",0)).content=o(r)?a(r):a(65533),u.markup=c[0],u.info="entity"),e.pos+=c[0].length,!0}else if((c=e.src.slice(d).match(l))&&i(n,c[1]))return t||((u=e.push("text_special","",0)).content=n[c[1]],u.markup=c[0],u.info="entity"),e.pos+=c[0].length,!0;return!1}},22092:function(e,t,r){"use strict";for(var n=r(10949).isSpace,i=[],o=0;o<256;o++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){i[e.charCodeAt(0)]=1})),e.exports=function(e,t){var r,o,a,s,l,c=e.pos,u=e.posMax;if(92!==e.src.charCodeAt(c))return!1;if(++c>=u)return!1;if(10===(r=e.src.charCodeAt(c))){for(t||e.push("hardbreak","br",0),c++;c<u&&(r=e.src.charCodeAt(c),n(r));)c++;return e.pos=c,!0}return s=e.src[c],r>=55296&&r<=56319&&c+1<u&&(o=e.src.charCodeAt(c+1))>=56320&&o<=57343&&(s+=e.src[c+1],c++),a="\\"+s,t||(l=e.push("text_special","",0),r<256&&0!==i[r]?l.content=s:l.content=a,l.markup=a,l.info="escape"),e.pos=c+1,!0}},87700:function(e){"use strict";e.exports=function(e){var t,r,n=0,i=e.tokens,o=e.tokens.length;for(t=r=0;t<o;t++)i[t].nesting<0&&n--,i[t].level=n,i[t].nesting>0&&n++,"text"===i[t].type&&t+1<o&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==r&&(i[r]=i[t]),r++);t!==r&&(i.length=r)}},18926:function(e,t,r){"use strict";var n=r(37044).HTML_TAG_RE;e.exports=function(e,t){var r,i,o,a,s,l=e.pos;return!!e.md.options.html&&(o=e.posMax,!(60!==e.src.charCodeAt(l)||l+2>=o)&&(!(33!==(r=e.src.charCodeAt(l+1))&&63!==r&&47!==r&&!function(e){var t=32|e;return t>=97&&t<=122}(r))&&(!!(i=e.src.slice(l).match(n))&&(t||((a=e.push("html_inline","",0)).content=e.src.slice(l,l+i[0].length),s=a.content,/^<a[>\s]/i.test(s)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(a.content)&&e.linkLevel--),e.pos+=i[0].length,!0))))}},52267:function(e,t,r){"use strict";var n=r(10949).normalizeReference,i=r(10949).isSpace;e.exports=function(e,t){var r,o,a,s,l,c,u,d,p,h,f,m,g,v="",y=e.pos,b=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(c=e.pos+2,(l=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((u=l+1)<b&&40===e.src.charCodeAt(u)){for(u++;u<b&&(o=e.src.charCodeAt(u),i(o)||10===o);u++);if(u>=b)return!1;for(g=u,(p=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(v=e.md.normalizeLink(p.str),e.md.validateLink(v)?u=p.pos:v=""),g=u;u<b&&(o=e.src.charCodeAt(u),i(o)||10===o);u++);if(p=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<b&&g!==u&&p.ok)for(h=p.str,u=p.pos;u<b&&(o=e.src.charCodeAt(u),i(o)||10===o);u++);else h="";if(u>=b||41!==e.src.charCodeAt(u))return e.pos=y,!1;u++}else{if(void 0===e.env.references)return!1;if(u<b&&91===e.src.charCodeAt(u)?(g=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?s=e.src.slice(g,u++):u=l+1):u=l+1,s||(s=e.src.slice(c,l)),!(d=e.env.references[n(s)]))return e.pos=y,!1;v=d.href,h=d.title}return t||(a=e.src.slice(c,l),e.md.inline.parse(a,e.md,e.env,m=[]),(f=e.push("image","img",0)).attrs=r=[["src",v],["alt",""]],f.children=m,f.content=a,h&&r.push(["title",h])),e.pos=u,e.posMax=b,!0}},69055:function(e,t,r){"use strict";var n=r(10949).normalizeReference,i=r(10949).isSpace;e.exports=function(e,t){var r,o,a,s,l,c,u,d,p="",h="",f=e.pos,m=e.posMax,g=e.pos,v=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(l=e.pos+1,(s=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((c=s+1)<m&&40===e.src.charCodeAt(c)){for(v=!1,c++;c<m&&(o=e.src.charCodeAt(c),i(o)||10===o);c++);if(c>=m)return!1;if(g=c,(u=e.md.helpers.parseLinkDestination(e.src,c,e.posMax)).ok){for(p=e.md.normalizeLink(u.str),e.md.validateLink(p)?c=u.pos:p="",g=c;c<m&&(o=e.src.charCodeAt(c),i(o)||10===o);c++);if(u=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<m&&g!==c&&u.ok)for(h=u.str,c=u.pos;c<m&&(o=e.src.charCodeAt(c),i(o)||10===o);c++);}(c>=m||41!==e.src.charCodeAt(c))&&(v=!0),c++}if(v){if(void 0===e.env.references)return!1;if(c<m&&91===e.src.charCodeAt(c)?(g=c+1,(c=e.md.helpers.parseLinkLabel(e,c))>=0?a=e.src.slice(g,c++):c=s+1):c=s+1,a||(a=e.src.slice(l,s)),!(d=e.env.references[n(a)]))return e.pos=f,!1;p=d.href,h=d.title}return t||(e.pos=l,e.posMax=s,e.push("link_open","a",1).attrs=r=[["href",p]],h&&r.push(["title",h]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)),e.pos=c,e.posMax=m,!0}},22355:function(e){"use strict";var t=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;e.exports=function(e,r){var n,i,o,a,s,l,c;return!!e.md.options.linkify&&(!(e.linkLevel>0)&&(!((n=e.pos)+3>e.posMax)&&(58===e.src.charCodeAt(n)&&(47===e.src.charCodeAt(n+1)&&(47===e.src.charCodeAt(n+2)&&(!!(i=e.pending.match(t))&&(o=i[1],!!(a=e.md.linkify.matchAtStart(e.src.slice(n-o.length)))&&(s=(s=a.url).replace(/\*+$/,""),l=e.md.normalizeLink(s),!!e.md.validateLink(l)&&(r||(e.pending=e.pending.slice(0,-o.length),(c=e.push("link_open","a",1)).attrs=[["href",l]],c.markup="linkify",c.info="auto",(c=e.push("text","",0)).content=e.md.normalizeLinkText(s),(c=e.push("link_close","a",-1)).markup="linkify",c.info="auto"),e.pos+=s.length-o.length,!0)))))))))}},67152:function(e,t,r){"use strict";var n=r(10949).isSpace;e.exports=function(e,t){var r,i,o,a=e.pos;if(10!==e.src.charCodeAt(a))return!1;if(r=e.pending.length-1,i=e.posMax,!t)if(r>=0&&32===e.pending.charCodeAt(r))if(r>=1&&32===e.pending.charCodeAt(r-1)){for(o=r-1;o>=1&&32===e.pending.charCodeAt(o-1);)o--;e.pending=e.pending.slice(0,o),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(a++;a<i&&n(e.src.charCodeAt(a));)a++;return e.pos=a,!0}},42142:function(e,t,r){"use strict";var n=r(97458),i=r(10949).isWhiteSpace,o=r(10949).isPunctChar,a=r(10949).isMdAsciiPunct;function s(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}s.prototype.pushPending=function(){var e=new n("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},s.prototype.push=function(e,t,r){this.pending&&this.pushPending();var i=new n(e,t,r),o=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(o),i},s.prototype.scanDelims=function(e,t){var r,n,s,l,c,u,d,p,h,f=e,m=!0,g=!0,v=this.posMax,y=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;f<v&&this.src.charCodeAt(f)===y;)f++;return s=f-e,n=f<v?this.src.charCodeAt(f):32,d=a(r)||o(String.fromCharCode(r)),h=a(n)||o(String.fromCharCode(n)),u=i(r),(p=i(n))?m=!1:h&&(u||d||(m=!1)),u?g=!1:d&&(p||h||(g=!1)),t?(l=m,c=g):(l=m&&(!g||d),c=g&&(!m||h)),{can_open:l,can_close:c,length:s}},s.prototype.Token=n,e.exports=s},78496:function(e){"use strict";function t(e,t){var r,n,i,o,a,s=[],l=t.length;for(r=0;r<l;r++)126===(i=t[r]).marker&&-1!==i.end&&(o=t[i.end],(a=e.tokens[i.token]).type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",(a=e.tokens[o.token]).type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="","text"===e.tokens[o.token-1].type&&"~"===e.tokens[o.token-1].content&&s.push(o.token-1));for(;s.length;){for(n=(r=s.pop())+1;n<e.tokens.length&&"s_close"===e.tokens[n].type;)n++;r!==--n&&(a=e.tokens[n],e.tokens[n]=e.tokens[r],e.tokens[r]=a)}}e.exports.tokenize=function(e,t){var r,n,i,o,a=e.pos,s=e.src.charCodeAt(a);if(t)return!1;if(126!==s)return!1;if(i=(n=e.scanDelims(e.pos,!0)).length,o=String.fromCharCode(s),i<2)return!1;for(i%2&&(e.push("text","",0).content=o,i--),r=0;r<i;r+=2)e.push("text","",0).content=o+o,e.delimiters.push({marker:s,length:0,token:e.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},e.exports.postProcess=function(e){var r,n=e.tokens_meta,i=e.tokens_meta.length;for(t(e,e.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&t(e,n[r].delimiters)}},98724:function(e){"use strict";function t(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,r){for(var n=e.pos;n<e.posMax&&!t(e.src.charCodeAt(n));)n++;return n!==e.pos&&(r||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},97458:function(e){"use strict";function t(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}t.prototype.attrIndex=function(e){var t,r,n;if(!this.attrs)return-1;for(r=0,n=(t=this.attrs).length;r<n;r++)if(t[r][0]===e)return r;return-1},t.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},t.prototype.attrSet=function(e,t){var r=this.attrIndex(e),n=[e,t];r<0?this.attrPush(n):this.attrs[r]=n},t.prototype.attrGet=function(e){var t=this.attrIndex(e),r=null;return t>=0&&(r=this.attrs[t][1]),r},t.prototype.attrJoin=function(e,t){var r=this.attrIndex(e);r<0?this.attrPush([e,t]):this.attrs[r][1]=this.attrs[r][1]+" "+t},e.exports=t},70510:function(e){"use strict";var t={};function r(e,n){var i;return"string"!=typeof n&&(n=r.defaultChars),i=function(e){var r,n,i=t[e];if(i)return i;for(i=t[e]=[],r=0;r<128;r++)n=String.fromCharCode(r),i.push(n);for(r=0;r<e.length;r++)i[n=e.charCodeAt(r)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return i}(n),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,r,n,o,a,s,l,c="";for(t=0,r=e.length;t<r;t+=3)(n=parseInt(e.slice(t+1,t+3),16))<128?c+=i[n]:192==(224&n)&&t+3<r&&128==(192&(o=parseInt(e.slice(t+4,t+6),16)))?(c+=(l=n<<6&1984|63&o)<128?"��":String.fromCharCode(l),t+=3):224==(240&n)&&t+6<r&&(o=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&o)&&128==(192&a))?(c+=(l=n<<12&61440|o<<6&4032|63&a)<2048||l>=55296&&l<=57343?"���":String.fromCharCode(l),t+=6):240==(248&n)&&t+9<r&&(o=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),s=parseInt(e.slice(t+10,t+12),16),128==(192&o)&&128==(192&a)&&128==(192&s))?((l=n<<18&1835008|o<<12&258048|a<<6&4032|63&s)<65536||l>1114111?c+="����":(l-=65536,c+=String.fromCharCode(55296+(l>>10),56320+(1023&l))),t+=9):c+="�";return c}))}r.defaultChars=";/?:@&=+$,#",r.componentChars="",e.exports=r},8074:function(e){"use strict";var t={};function r(e,n,i){var o,a,s,l,c,u="";for("string"!=typeof n&&(i=n,n=r.defaultChars),void 0===i&&(i=!0),c=function(e){var r,n,i=t[e];if(i)return i;for(i=t[e]=[],r=0;r<128;r++)n=String.fromCharCode(r),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2));for(r=0;r<e.length;r++)i[e.charCodeAt(r)]=e[r];return i}(n),o=0,a=e.length;o<a;o++)if(s=e.charCodeAt(o),i&&37===s&&o+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))u+=e.slice(o,o+3),o+=2;else if(s<128)u+=c[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&o+1<a&&(l=e.charCodeAt(o+1))>=56320&&l<=57343){u+=encodeURIComponent(e[o]+e[o+1]),o++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[o]);return u}r.defaultChars=";/?:@&=+$,-_.!~*'()#",r.componentChars="-_.!~*'()",e.exports=r},39484:function(e){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},38318:function(e,t,r){"use strict";e.exports.encode=r(8074),e.exports.decode=r(70510),e.exports.format=r(39484),e.exports.parse=r(2799)},2799:function(e){"use strict";function t(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),a=["'"].concat(o),s=["%","/","?",";","#"].concat(a),l=["/","?","#"],c=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};t.prototype.parse=function(e,t){var n,o,a,h,f,m=e;if(m=m.trim(),!t&&1===e.split("#").length){var g=i.exec(m);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var v=r.exec(m);if(v&&(a=(v=v[0]).toLowerCase(),this.protocol=v,m=m.substr(v.length)),(t||v||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(f="//"===m.substr(0,2))||v&&d[v]||(m=m.substr(2),this.slashes=!0)),!d[v]&&(f||v&&!p[v])){var y,b,x=-1;for(n=0;n<l.length;n++)-1!==(h=m.indexOf(l[n]))&&(-1===x||h<x)&&(x=h);for(-1!==(b=-1===x?m.lastIndexOf("@"):m.lastIndexOf("@",x))&&(y=m.slice(0,b),m=m.slice(b+1),this.auth=y),x=-1,n=0;n<s.length;n++)-1!==(h=m.indexOf(s[n]))&&(-1===x||h<x)&&(x=h);-1===x&&(x=m.length),":"===m[x-1]&&x--;var w=m.slice(0,x);m=m.slice(x),this.parseHost(w),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_){var k=this.hostname.split(/\./);for(n=0,o=k.length;n<o;n++){var C=k[n];if(C&&!C.match(c)){for(var S="",A=0,L=C.length;A<L;A++)C.charCodeAt(A)>127?S+="x":S+=C[A];if(!S.match(c)){var T=k.slice(0,n),E=k.slice(n+1),M=C.match(u);M&&(T.push(M[1]),E.unshift(M[2])),E.length&&(m=E.join(".")+m),this.hostname=T.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var D=m.indexOf("#");-1!==D&&(this.hash=m.substr(D),m=m.slice(0,D));var N=m.indexOf("?");return-1!==N&&(this.search=m.substr(N),m=m.slice(0,N)),m&&(this.pathname=m),p[a]&&this.hostname&&!this.pathname&&(this.pathname=""),this},t.prototype.parseHost=function(e){var t=n.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,r){if(e&&e instanceof t)return e;var n=new t;return n.parse(e,r),n}},62234:function(e,t,r){"use strict";r.r(t),r.d(t,{decode:function(){return v},encode:function(){return y},toASCII:function(){return x},toUnicode:function(){return b},ucs2decode:function(){return h},ucs2encode:function(){return f}});const n=2147483647,i=36,o=/^xn--/,a=/[^\0-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=Math.floor,u=String.fromCharCode;function d(e){throw new RangeError(l[e])}function p(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]);const i=function(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}((e=e.replace(s,".")).split("."),t).join(".");return n+i}function h(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const n=e.charCodeAt(r++);56320==(64512&n)?t.push(((1023&i)<<10)+(1023&n)+65536):(t.push(i),r--)}else t.push(i)}return t}const f=e=>String.fromCodePoint(...e),m=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},g=function(e,t,r){let n=0;for(e=r?c(e/700):e>>1,e+=c(e/t);e>455;n+=i)e=c(e/35);return c(n+36*e/(e+38))},v=function(e){const t=[],r=e.length;let o=0,a=128,s=72,l=e.lastIndexOf("-");l<0&&(l=0);for(let r=0;r<l;++r)e.charCodeAt(r)>=128&&d("not-basic"),t.push(e.charCodeAt(r));for(let p=l>0?l+1:0;p<r;){let l=o;for(let t=1,a=i;;a+=i){p>=r&&d("invalid-input");const l=(u=e.charCodeAt(p++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:i;(l>=i||l>c((n-o)/t))&&d("overflow"),o+=l*t;const h=a<=s?1:a>=s+26?26:a-s;if(l<h)break;const f=i-h;t>c(n/f)&&d("overflow"),t*=f}const h=t.length+1;s=g(o-l,h,0==l),c(o/h)>n-a&&d("overflow"),a+=c(o/h),o%=h,t.splice(o++,0,a)}var u;return String.fromCodePoint(...t)},y=function(e){const t=[];let r=(e=h(e)).length,o=128,a=0,s=72;for(const r of e)r<128&&t.push(u(r));let l=t.length,p=l;for(l&&t.push("-");p<r;){let r=n;for(const t of e)t>=o&&t<r&&(r=t);const h=p+1;r-o>c((n-a)/h)&&d("overflow"),a+=(r-o)*h,o=r;for(const r of e)if(r<o&&++a>n&&d("overflow"),r==o){let e=a;for(let r=i;;r+=i){const n=r<=s?1:r>=s+26?26:r-s;if(e<n)break;const o=e-n,a=i-n;t.push(u(m(n+o%a,0))),e=c(o/a)}t.push(u(m(e,0))),s=g(a,h,p==l),a=0,++p}++a,++o}return t.join("")},b=function(e){return p(e,(function(e){return o.test(e)?v(e.slice(4).toLowerCase()):e}))},x=function(e){return p(e,(function(e){return a.test(e)?"xn--"+y(e):e}))},w={version:"2.1.0",ucs2:{decode:h,encode:f},decode:v,encode:y,toASCII:x,toUnicode:b};t.default=w},45078:function(e){e.exports=/[\0-\x1F\x7F-\x9F]/},48458:function(e){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},4034:function(e){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},36106:function(e){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},1950:function(e,t,r){"use strict";t.Any=r(59386),t.Cc=r(45078),t.Cf=r(48458),t.P=r(4034),t.Z=r(36106)},59386:function(e){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},94802:function(e){"use strict";e.exports=function(e){return String(e).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&#x3A;/g,":").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}},23e3:function(e,t,r){"use strict";function n(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}r.r(t),r.d(t,{default:function(){return n}})},81580:function(e){"use strict";e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:eefb830c78e41e2ce7ce8ac99b05f7d5', location = 'build/5761.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5761],{3419:function(t,e,n){var r=n(96291),o=n(62366),c=n(22848);t.exports=function(t,e,n){var i,u;return c&&r(i=e.constructor)&&i!==n&&o(u=i.prototype)&&u!==n.prototype&&c(t,u),t}},3828:function(t,e,n){var r=n(56462).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},15761:function(t,e,n){var r=n(11502),o=n(45001),c=n(70936),i=n(91092),u=n(3419),f=n(50430),s=n(59219).f,a=n(66282),l=n(17955),p=n(89284),g=n(89455),h=n(4764),v=n(3828),y=n(75850),_=n(25061),x=n(78382),d=n(50684).enforce,k=n(53126),w=n(46802),E=n(21406),b=n(63069),S=w("match"),R=o.RegExp,m=R.prototype,A=o.SyntaxError,C=c(m.exec),I=c("".charAt),D=c("".replace),O=c("".indexOf),P=c("".slice),T=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,U=/a/g,Y=/a/g,K=new R(U)!==U,M=h.MISSED_STICKY,N=h.UNSUPPORTED_Y,j=r&&(!K||M||E||b||_((function(){return Y[S]=!1,R(U)!=U||R(Y)==Y||"/a/i"!=R(U,"i")})));if(i("RegExp",j)){for(var q=function(t,e){var n,r,o,c,i,s,h=a(m,this),v=l(t),y=void 0===e,_=[],k=t;if(!h&&v&&y&&t.constructor===q)return t;if((v||a(m,t))&&(t=t.source,y&&(e=g(k))),t=void 0===t?"":p(t),e=void 0===e?"":p(e),k=t,E&&"dotAll"in U&&(r=!!e&&O(e,"s")>-1)&&(e=D(e,/s/g,"")),n=e,M&&"sticky"in U&&(o=!!e&&O(e,"y")>-1)&&N&&(e=D(e,/y/g,"")),b&&(c=function(t){for(var e,n=t.length,r=0,o="",c=[],i={},u=!1,f=!1,s=0,a="";r<=n;r++){if("\\"===(e=I(t,r)))e+=I(t,++r);else if("]"===e)u=!1;else if(!u)switch(!0){case"["===e:u=!0;break;case"("===e:C(T,P(t,r+1))&&(r+=2,f=!0),o+=e,s++;continue;case">"===e&&f:if(""===a||x(i,a))throw new A("Invalid capture group name");i[a]=!0,c[c.length]=[a,s],f=!1,a="";continue}f?a+=e:o+=e}return[o,c]}(t),t=c[0],_=c[1]),i=u(R(t,e),h?this:m,q),(r||o||_.length)&&(s=d(i),r&&(s.dotAll=!0,s.raw=q(function(t){for(var e,n=t.length,r=0,o="",c=!1;r<=n;r++)"\\"!==(e=I(t,r))?c||"."!==e?("["===e?c=!0:"]"===e&&(c=!1),o+=e):o+="[\\s\\S]":o+=e+I(t,++r);return o}(t),n)),o&&(s.sticky=!0),_.length&&(s.groups=_)),t!==k)try{f(i,"source",""===k?"(?:)":k)}catch(t){}return i},z=s(R),B=0;z.length>B;)v(q,R,z[B++]);m.constructor=q,q.prototype=m,y(o,"RegExp",q,{constructor:!0})}k("RegExp")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:b2f7585d0b3244efc664b78b8f0e33cb', location = 'build/5842.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5842],{28654:function(t,r,n){var e=n(45001),o=n(25061),i=n(70936),f=n(89284),u=n(9522).trim,a=n(49309),c=i("".charAt),s=e.parseFloat,l=e.Symbol,v=l&&l.iterator,b=1/s(a+"-0")!=-1/0||v&&!o((function(){s(Object(v))}));t.exports=b?function(t){var r=u(f(t)),n=s(r);return 0===n&&"-"==c(r,0)?-0:n}:s},71640:function(t,r,n){"use strict";var e=n(11502),o=n(70936),i=n(63927),f=n(25061),u=n(89749),a=n(72822),c=n(49265),s=n(87615),l=n(62901),v=Object.assign,b=Object.defineProperty,g=o([].concat);t.exports=!v||f((function(){if(e&&1!==v({b:1},v(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},r={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){r[t]=t})),7!=v({},t)[n]||u(v({},r)).join("")!=o}))?function(t,r){for(var n=s(t),o=arguments.length,f=1,v=a.f,b=c.f;o>f;)for(var p,h=l(arguments[f++]),m=v?g(u(h),v(h)):u(h),d=m.length,j=0;d>j;)p=m[j++],e&&!i(b,h,p)||(n[p]=h[p]);return n}:v},52830:function(t,r,n){var e=n(11502),o=n(70936),i=n(89749),f=n(40678),u=o(n(49265).f),a=o([].push),c=function(t){return function(r){for(var n,o=f(r),c=i(o),s=c.length,l=0,v=[];s>l;)n=c[l++],e&&!u(o,n)||a(v,t?[n,o[n]]:o[n]);return v}};t.exports={entries:c(!0),values:c(!1)}},92748:function(t,r,n){"use strict";var e=n(89398),o=n(89284),i=n(64475),f=RangeError;t.exports=function(t){var r=o(i(this)),n="",u=e(t);if(u<0||u==1/0)throw f("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(r+=r))1&u&&(n+=r);return n}},58451:function(t,r,n){var e=n(70936);t.exports=e(1..valueOf)},36364:function(t,r,n){"use strict";var e=n(29638),o=n(70936),i=n(89398),f=n(58451),u=n(92748),a=n(25061),c=RangeError,s=String,l=Math.floor,v=o(u),b=o("".slice),g=o(1..toFixed),p=function(t,r,n){return 0===r?n:r%2==1?p(t,r-1,n*t):p(t*t,r/2,n)},h=function(t,r,n){for(var e=-1,o=n;++e<6;)o+=r*t[e],t[e]=o%1e7,o=l(o/1e7)},m=function(t,r){for(var n=6,e=0;--n>=0;)e+=t[n],t[n]=l(e/r),e=e%r*1e7},d=function(t){for(var r=6,n="";--r>=0;)if(""!==n||0===r||0!==t[r]){var e=s(t[r]);n=""===n?e:n+v("0",7-e.length)+e}return n};e({target:"Number",proto:!0,forced:a((function(){return"0.000"!==g(8e-5,3)||"1"!==g(.9,0)||"1.25"!==g(1.255,2)||"1000000000000000128"!==g(0xde0b6b3a7640080,0)}))||!a((function(){g({})}))},{toFixed:function(t){var r,n,e,o,u=f(this),a=i(t),l=[0,0,0,0,0,0],g="",j="0";if(a<0||a>20)throw c("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return s(u);if(u<0&&(g="-",u=-u),u>1e-21)if(n=(r=function(t){for(var r=0,n=t;n>=4096;)r+=12,n/=4096;for(;n>=2;)r+=1,n/=2;return r}(u*p(2,69,1))-69)<0?u*p(2,-r,1):u/p(2,r,1),n*=4503599627370496,(r=52-r)>0){for(h(l,0,n),e=a;e>=7;)h(l,1e7,0),e-=7;for(h(l,p(10,e,1),0),e=r-1;e>=23;)m(l,1<<23),e-=23;m(l,1<<e),h(l,1,1),m(l,2),j=d(l)}else h(l,0,n),h(l,1<<-r,0),j=d(l)+v("0",a);return j=a>0?g+((o=j.length)<=a?"0."+v("0",a-o)+j:b(j,0,o-a)+"."+b(j,o-a)):g+j}})},96609:function(t,r,n){var e=n(29638),o=n(71640);e({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},10086:function(t,r,n){var e=n(29638),o=n(52830).entries;e({target:"Object",stat:!0},{entries:function(t){return o(t)}})},71934:function(t,r,n){var e=n(29638),o=n(52830).values;e({target:"Object",stat:!0},{values:function(t){return o(t)}})},84745:function(t,r,n){var e=n(29638),o=n(28654);e({global:!0,forced:parseFloat!=o},{parseFloat:o})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:819a3f6afea0204a8e634c86712519f9', location = 'build/5654.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5654],{89455:function(t,e,n){var o=n(63927),r=n(78382),u=n(66282),f=n(5268),l=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in l||r(t,"flags")||!u(l,t)?e:o(f,t)}},75654:function(t,e,n){"use strict";var o=n(9873).PROPER,r=n(75850),u=n(4905),f=n(89284),l=n(25061),s=n(89455),a="toString",c=RegExp.prototype.toString,i=l((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),p=o&&c.name!=a;(i||p)&&r(RegExp.prototype,a,(function(){var t=u(this);return"/"+f(t.source)+"/"+f(s(t))}),{unsafe:!0})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:ae3a02153c30e59c5873d65dc21655d0', location = 'build/9150.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[9150],{23488:function(t,n,r){var e=r(9873).PROPER,u=r(25061),f=r(49309);t.exports=function(t){return u((function(){return!!f[t]()||"​᠎"!=="​᠎"[t]()||e&&f[t].name!==t}))}},9522:function(t,n,r){var e=r(70936),u=r(64475),f=r(89284),i=r(49309),o=e("".replace),c="["+i+"]",s=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),a=function(t){return function(n){var r=f(u(n));return 1&t&&(r=o(r,s,"")),2&t&&(r=o(r,l,"")),r}};t.exports={start:a(1),end:a(2),trim:a(3)}},49309:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},79150:function(t,n,r){"use strict";var e=r(29638),u=r(9522).trim;e({target:"String",proto:!0,forced:r(23488)("trim")},{trim:function(){return u(this)}})}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:44ca99b36f71f5efd8f84880f8689393', location = 'build/5546.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[5546],{45546:function(e,t,n){var o,a,i;a=[],o=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function o(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){c(o.response,t,n)},o.onerror=function(){},o.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=r.URL||r.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?i(c):a(c.href)?o(e,t,n):i(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,r){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),n);else if(a(e))o(e,n,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){i(s)}))}}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,n);var i="application/octet-stream"===e.type,c=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&c||s)&&"undefined"!=typeof FileReader){var f=new FileReader;f.onloadend=function(){var e=f.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},f.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,p=u.createObjectURL(e);a?a.location=p:location.href=p,a=null,setTimeout((function(){u.revokeObjectURL(p)}),4e4)}});r.saveAs=c.saveAs=c,e.exports=c},void 0===(i="function"==typeof o?o.apply(t,a):o)||(e.exports=i)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:ac5a0ad3d2f0d0dac386c5f53169a417', location = 'build/6305.js' */
(self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[]).push([[6305],{25528:function(t,n,e){"use strict";var r=e(50189).charAt;t.exports=function(t,n,e){return n+(e?r(t,n).length:1)}},17955:function(t,n,e){var r=e(62366),i=e(75489),l=e(46802)("match");t.exports=function(t){var n;return r(t)&&(void 0!==(n=t[l])?!!n:"RegExp"==i(t))}},50189:function(t,n,e){var r=e(70936),i=e(89398),l=e(89284),u=e(64475),o=r("".charAt),c=r("".charCodeAt),s=r("".slice),a=function(t){return function(n,e){var r,a,h=l(u(n)),f=i(e),g=h.length;return f<0||f>=g?t?"":void 0:(r=c(h,f))<55296||r>56319||f+1===g||(a=c(h,f+1))<56320||a>57343?t?o(h,f):r:t?s(h,f,f+2):a-56320+(r-55296<<10)+65536}};t.exports={codeAt:a(!1),charAt:a(!0)}},86305:function(t,n,e){"use strict";var r=e(25494),i=e(63927),l=e(70936),u=e(95453),o=e(17955),c=e(4905),s=e(64475),a=e(63571),h=e(25528),f=e(74479),g=e(89284),v=e(53815),p=e(33392),d=e(41847),x=e(44847),b=e(4764),_=e(25061),m=b.UNSUPPORTED_Y,k=4294967295,A=Math.min,C=[].push,I=l(/./.exec),w=l(C),y=l("".slice),E=!_((function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2!==e.length||"a"!==e[0]||"b"!==e[1]}));u("split",(function(t,n,e){var l;return l="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var l=g(s(this)),u=void 0===e?k:e>>>0;if(0===u)return[];if(void 0===t)return[l];if(!o(t))return i(n,l,t,u);for(var c,a,h,f=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,b=new RegExp(t.source,v+"g");(c=i(x,b,l))&&!((a=b.lastIndex)>d&&(w(f,y(l,d,c.index)),c.length>1&&c.index<l.length&&r(C,f,p(c,1)),h=c[0].length,d=a,f.length>=u));)b.lastIndex===c.index&&b.lastIndex++;return d===l.length?!h&&I(b,"")||w(f,""):w(f,y(l,d)),f.length>u?p(f,0,u):f}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:i(n,this,t,e)}:n,[function(n,e){var r=s(this),u=null==n?void 0:v(n,t);return u?i(u,n,r,e):i(l,g(r),n,e)},function(t,r){var i=c(this),u=g(t),o=e(l,i,u,r,l!==n);if(o.done)return o.value;var s=a(i,RegExp),v=i.unicode,p=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(m?"g":"y"),x=new s(m?"^(?:"+i.source+")":i,p),b=void 0===r?k:r>>>0;if(0===b)return[];if(0===u.length)return null===d(x,u)?[u]:[];for(var _=0,C=0,I=[];C<u.length;){x.lastIndex=m?0:C;var E,R=d(x,m?y(u,C):u);if(null===R||(E=A(f(x.lastIndex+(m?C:0)),u.length))===_)C=h(u,C,v);else{if(w(I,y(u,_,C)),I.length===b)return I;for(var P=1;P<=R.length-1;P++)if(w(I,R[P]),I.length===b)return I;C=_=E}}return w(I,y(u,_)),I}]}),!E,m)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:macro-inserter-resources', location = 'build/macro-insertion.js' */
!function(){var t,e={23495:function(t){if(void 0===(e=window.TFInserterTamplate=window.TFInserterTamplate||{}))var e={};e.panel=function(t,a){for(var i='<div id="tfac-macro-inserter-container"><button class="aui-button aui-button-compact aui-button-subtle aui-dropdown2-trigger" aria-controls="tfac-macro-inserter" title="'+soy.$$escapeHtml("Insert table macros")+'"><span class="aui-icon aui-icon-small aui-iconfont-add"></span></button><aui-dropdown-menu id="tfac-macro-inserter"><aui-section>',n=t.macros,r=n.length,s=0;s<r;s++){var l=n[s];i+='<aui-item-link href="#" data-macro="'+soy.$$escapeHtml(l.name)+'"><span class="aui-icon aui-icon-small '+soy.$$escapeHtml(l.name)+'-inserter"></span>'+e.title({macro:l.id})+'<span class="aui-icon aui-icon-wait"></span></aui-item-link>'}return i+="</aui-section><aui-section><aui-item-link "+(t.isAdmin?' href="'+soy.$$escapeHtml(AJS.contextPath())+'/admin/plugins/tfac/config.action" ':'href="'+soy.$$escapeHtml(AJS.contextPath())+'/users/tfac-settings.action" ')+'><span class="aui-icon aui-icon-small aui-iconfont-configure" title="'+soy.$$escapeHtml("Configure visibility")+'"></span>'+soy.$$escapeHtml("Configure buttons visibility")+"</aui-item-link></aui-section></aui-dropdown-menu></div>"},goog.DEBUG&&(e.panel.soyTemplateName="TFInserterTamplate.panel"),e.title=function(t,e){return""+("tf"==t.macro?soy.$$escapeHtml("Filter table data"):"pivot"==t.macro?soy.$$escapeHtml("Create a pivot table"):soy.$$escapeHtml("Create a chart from data series"))},goog.DEBUG&&(e.title.soyTemplateName="TFInserterTamplate.title"),t.exports=e},15845:function(){$((function(t){t.fn.blowup=function(e){var a=this;if(a.is("img")){var i=t.extend({round:!0,width:200,height:200,background:"#FFF",shadow:"0 8px 17px 0 rgba(0, 0, 0, 0.2)",border:"6px solid #FFF",cursor:!0,zIndex:999999,scale:1,customClasses:""},e),n=a.attr("src"),r=new Image;r.src=n;var s="url("+encodeURI(n)+")",l=a.width(),o=a.height(),c=r.width*i.scale/l,u=r.height*i.scale/o,h=r.width*i.scale+"px "+r.height*i.scale+"px";a.css("cursor",i.cursor?"crosshair":"none");var d=t("#BlowupLens");if(!d.length){var m=document.createElement("div");m.id="BlowupLens",t("body").append(m),(d=t(m)).css({position:"absolute",display:"none","pointer-events":"none",zIndex:i.zIndex,width:i.width,height:i.height,border:i.border,background:i.background,"border-radius":i.round?"50%":"none","box-shadow":i.shadow,"background-repeat":"no-repeat"}),d.addClass(i.customClasses)}a.mouseenter((function(t){d.css("display","block"),g(t)})),a.mousemove(g),a.mouseleave((function(){d.css("display","none")})),a.on("dragstart",(function(t){t.preventDefault()}))}function g(t){var e=t.pageX-i.width/2,n=t.pageY-i.height/2,r=t.pageX-a.offset().left,l=t.pageY-a.offset().top,o=-Math.floor(r*c-i.width/2)+"px "+-Math.floor(l*u-i.height/2)+"px";d.css({left:e,top:n,"background-image":s,"background-size":h,"background-position":o})}}}))},23311:function(t,e,a){"use strict";a.r(e);a(96609),a(98457),a(68049),a(63045);var i=a(34944),n=(a(74467),a(54903),a(51652)),r=a(48605),s={Pie:-5,Donut:-5,Column:-5,"Stacked Column":-5,Bar:-5,"Stacked Bar":-5,"Bubble Pie":-50,Line:-50,Area:-50,"Stacked Area":-50,"Time Line":-50,"Time Area":-50,"Stacked Time Area":-50,Gantt:-50,Radar:-5};var l=class{constructor(t){var{type:e,column:a,aggregation:i,dateFormat:l,separator:o,worklog:c,rows:u,tables:h,container:d,$tables:m,lineSettings:g,title:f,xtitle:p,ytitle:b,width:v,height:y,palette:T}=t;this.TableChart=new n.default({macroId:"editor",type:e,hide:"true",dateFormat:l,separator:o,worklog:c,lineSettings:g,title:f,xtitle:p,ytitle:b,pageId:0,sessionId:0,barColoringType:"mono",grid:!0,legend:"right",scalestep:"",xscalestep:"",xminvalue:"",xmaxvalue:"",minvalue:"",maxvalue:"",colors:T.join(",")}),this.TableChart.palette=T,this.TableChart.type=e,this.TableChart.columns=a.slice(),this.TableChart.columnsCache=a.slice(),this.TableChart.aggregation=i.slice(),this.TableChart.aggregationCache=i.slice(),this.TableChart.content=d,this.TableChart.rows=u,this.TableChart.tables=h,this.TableChart.originalTable=m,this.TableChart.height=y+s[e],this.TableChart.width=v,this.TableChart.chart=r.default.create("div"),this.TableChart.svgWrapper=$(this.TableChart.chart._groups[0][0]),this.TableChart.canvas=$("<canvas></canvas>"),this.TableChart.png=$("<div></div>"),this.TableChart.download=$("<a></a>"),this.TableChart.initType(),this.TableChart.updateColorsKeyMap(this.TableChart.colors),this.TableChart.initFormatters(),this.TableChart.resetDateFormats()}draw(t){this.TableChart.content.bind("tf-export-ready",(()=>{t(this.TableChart.png,this.TableChart.isGantt?this.TableChart.ganttCatColors:this.TableChart.pieKeys),setTimeout((()=>this.TableChart.svgWrapper.remove()),5e3)}));var e=this.TableChart.calculate();this.TableChart.svgWrapper.addClass("svg-wrapper"),this.TableChart.content.append(this.TableChart.svgWrapper),this.TableChart.drawChart(e)}},o=(a(48868),a(54861),a(67285),a(84745),a(71934),a(34138)),c=a(83931),u=(t,e)=>{var a={seconds:e.getSeconds()-t.getSeconds(),minutes:e.getMinutes()-t.getMinutes(),hours:e.getHours()-t.getHours(),days:e.getDate()-t.getDate(),months:e.getMonth()-t.getMonth(),years:e.getFullYear()-t.getFullYear()};return a.seconds<0&&(a.seconds+=60,a.minutes-=1),a.minutes<0&&(a.minutes+=60,a.hours-=1),a.hours<0&&(a.hours+=24,a.days-=1),a.days<0&&(a.days+=new Date(t.getFullYear(),t.getMonth(),0).getDate(),a.months-=1),a.months<0&&(a.months+=12,a.years-=1),a},h=(t,e,a)=>{var i=[];return t.forEach((t=>{try{i.push(c.default.parseDate(t,e,a))}catch(t){}})),i.sort(((t,e)=>t>e?1:-1)),i},d=0,m=1,g=2,f=3,p=4,b=5,v=6,y=7,T=8,S=9,D=10,C=11,A=12,w=13,P=14,x=15,k=a(43924),E=["#2484c1","#f6c342","#d04437","#8eb021","#654982","#f691b2","#3572b0","#65a620","#7b6888","#d8d23a","#e98125","#6ada6a","#0c6197","#e4a14b","#8cc3e9","#a3acb2","#69a6f9","#cc1010","#31383b"],O=["#2484c1","#8eb021","#d8d23a","#f6c342","#d04437","#654982","#f691b2","#3572b0","#65a620","#7b6888","#e98125","#6ada6a","#0c6197","#e4a14b","#8cc3e9","#a3acb2","#69a6f9","#cc1010","#31383b"];var I=class{constructor(t){this.$tables=t,this.analyzer=new k.default}init(){this.analyzer.init(this.$tables),this.columnsData=this.analyzer.columnsData}get availableChartsSettings(){var t={},e=this.getLabels(20);t[d]=this.getPieSettings(e);var a=this.getBarLabels();t[m]=this.getBarSettings(a),t[g]=this.swapAxisTitles(t[m]);var i=this.getStackedNumbers();t[f]=this.getStackedBarSettings(a,i),t[p]=this.swapAxisTitles(t[f]);var n=this.getPositiveStackedNumbers(i);return t[b]=this.getBubbleSettings(e,n),t[v]=this.getLineSettings(),t[y]=this.extendScatterPlotSettings(t[v]),t[T]=this.getStackedLineSettings(i),t[S]=this.extendScatterPlotSettings(t[T]),t[D]=this.getTimeLineSettings(),t[C]=this.extendScatterPlotSettings(t[D]),t[A]=this.getStackedTimeLineSettings(i),t[w]=this.extendScatterPlotSettings(t[A]),t[P]=this.getGanttSettings(),t[x]=this.getRadarSettings(n),t}getPieSettings(t){var e=this.getPositiveNumbers(this.columnsData[o.DATA_TYPES.number]);return this.extractTitle(this.getLabelBasedChartSettings(t,e))}getBarSettings(t){return this.getLabelBasedChartSettings(t,this.columnsData[o.DATA_TYPES.number])}getStackedBarSettings(t,e){if(t.length&&e.length){var a=[];return t.forEach((t=>{e.forEach((e=>{a.push({column:[t.column],aggregation:e.map((t=>t.column)),xtitle:t.column,palette:E})}))})),a}}getBubbleSettings(t,e){var a=t.filter((t=>t.columnData.values.size<=20)),i=e.slice();if(this.columnsData[o.DATA_TYPES.date]){var n=this.columnsData[o.DATA_TYPES.date].filter((t=>t.columnData.values.size<=20&&t.columnData.values.size>1));a.push(...n)}if(this.columnsData[o.DATA_TYPES.number]){var r=this.columnsData[o.DATA_TYPES.number].filter((t=>t.columnData.values.size<=20&&t.columnData.values.size>1));a.push(...r);var s=e.flatMap((t=>t.map((t=>t.column)))),l=this.columnsData[o.DATA_TYPES.number].filter((t=>-1===s.indexOf(t.column)));i.push(...l.map((t=>[t])))}if(a.length>1&&i.length){var c=function(){for(var t=[],e=function(e){for(var n=function(n){i.forEach((i=>{var r=i.map((t=>t.column));-1===r.indexOf(a[e].column)&&-1===r.indexOf(a[n].column)&&t.push({column:[a[e].column,a[n].column],aggregation:i.map((t=>t.column)),xtitle:a[e].column,ytitle:a[n].column,palette:E})}))},r=e+1;r<a.length;r++)n(r)},n=0;n<a.length;n++)e(n);return{v:t.length?t:null}}();if("object"==typeof c)return c.v}}getLineSettings(){if(this.columnsData[o.DATA_TYPES.number]&&this.columnsData[o.DATA_TYPES.number].length>1){for(var t=this.columnsData[o.DATA_TYPES.number],e=[],a=0;a<t.length;a++)for(var i=a+1;i<t.length;i++)e.push({column:[t[a].column],aggregation:[t[i].column],xtitle:t[a].column,ytitle:t[i].column,palette:E});return e}}getStackedLineSettings(t){var e=this;if(t.length){var a=function(){for(var a=e.columnsData[o.DATA_TYPES.number],i=[],n=function(e){t.forEach((t=>{var n=t;a.length===t.length&&(n=t.filter((t=>a[e].column!==t.column))),-1===n.map((t=>t.column)).indexOf(a[e].column)&&i.push({column:[a[e].column],aggregation:n.map((t=>t.column)),xtitle:a[e].column,palette:E})}))},r=0;r<a.length;r++)n(r);return{v:i.length?i:null}}();if("object"==typeof a)return a.v}}getTimeLineSettings(){if(this.columnsData[o.DATA_TYPES.number]&&this.columnsData[o.DATA_TYPES.date]){var t=[];return this.columnsData[o.DATA_TYPES.date].forEach((e=>{this.columnsData[o.DATA_TYPES.number].forEach((a=>{t.push({dateFormat:e.columnData.dateFormat,column:[e.column],aggregation:[a.column],xtitle:e.column,ytitle:a.column,palette:E})}))})),t}}getStackedTimeLineSettings(t){if(t.length&&this.columnsData[o.DATA_TYPES.date]){var e=[];return this.columnsData[o.DATA_TYPES.date].forEach((a=>{t.forEach((t=>{e.push({dateFormat:a.columnData.dateFormat,column:[a.column],aggregation:t.map((t=>t.column)),xtitle:a.column,palette:E})}))})),e}}getGanttSettings(){var t=this;if(this.columnsData[o.DATA_TYPES.label]&&this.columnsData[o.DATA_TYPES.date]&&this.columnsData[o.DATA_TYPES.date].length>1){var e=function(){for(var e=t.getLabels(100).sort(((t,e)=>t.columnData.values.size-e.columnData.values.size)),a=t.columnsData[o.DATA_TYPES.number]?t.columnsData[o.DATA_TYPES.number].filter((t=>t.columnData.valueType===c.default.number&&0===[...t.columnData.values].filter((t=>{var e=parseFloat(t);return isNaN(e)||e<0||e>100||e>1&&-1===t.indexOf("%")})).length)):[],i=t.columnsData[o.DATA_TYPES.date].sort(((e,a)=>{for(var i=0;i<e.columnData.rawValues.length&&i<a.columnData.rawValues.length;i++){var n=e.columnData.rawValues[i],r=a.columnData.rawValues[i];if(n&&r)try{var s=c.default.parseDate(n,e.columnData.dateFormat,t.analyzer.userLocale),l=c.default.parseDate(n,a.columnData.dateFormat,t.analyzer.userLocale);if(s&&l){var o=s.getTime()-l.getTime();if(o)return o}}catch(t){}}return 0})),n=[],r=function(r){for(var s=r+1;s<i.length;s++){for(var l=!1,o=0;o<i[r].columnData.rawValues.length&&o<i[s].columnData.rawValues.length;o++){var u=i[r].columnData.rawValues[o],h=i[s].columnData.rawValues[o];if(u&&h)try{var d=c.default.parseDate(u,i[r].columnData.dateFormat,t.analyzer.userLocale),m=c.default.parseDate(u,i[s].columnData.dateFormat,t.analyzer.userLocale);if(d&&m&&!(l=d.getTime()<=m.getTime()))break}catch(t){}}l&&function(){for(var t=[i[r].column,i[s].column],l=0;l<e.length;l++)for(var o=function(s){var o=[e[l].column];l<s&&o.push(e[s].column),n.push({dateFormat:i[r].columnData.dateFormat,column:o,aggregation:t,palette:O,barColoringType:"mono"}),a.forEach((e=>{var a=t.slice();a.push(e.column),n.push({dateFormat:i[r].columnData.dateFormat,column:o,aggregation:a,palette:O})}))},c=l;c<e.length;c++)o(c)}()}},s=0;s<i.length;s++)r(s);return{v:n.length?n:null}}();if("object"==typeof e)return e.v}}getRadarSettings(t){if(t.length&&this.columnsData[o.DATA_TYPES.label]){var e=this.getLabels(15);if(e.length){var a=t.filter((t=>t.length>2));if(a.length){var i=[];return e.forEach((t=>{a.forEach((e=>{i.push({column:[t.column],aggregation:e.map((t=>t.column)),palette:E})}))})),i}}}}getBarLabels(){var t=this.getLabels(100);if(this.columnsData[o.DATA_TYPES.date]){var e=this.columnsData[o.DATA_TYPES.date].filter((t=>t.columnData.values.size<=100&&t.columnData.values.size>1)).filter((t=>{for(var e=t.columnData.values,a=h([...e],t.columnData.dateFormat,this.analyzer.userLocale),i=JSON.stringify(u(a[0],a[1])),n=2;n<a.length;n++)if(i!==JSON.stringify(u(a[n-1],a[n])))return!1;return!0}));t.push(...e)}return t}getLabelBasedChartSettings(t,e){if(t.length){var a=[];return t.forEach((t=>{t.columnData.hasRepeats&&a.push({column:[t.column],aggregation:[t.column],ytitle:"Count",xtitle:t.column,palette:E}),e&&e.forEach((e=>{a.push({column:[t.column],aggregation:[e.column],ytitle:e.column,xtitle:t.column,palette:E})}))})),a.length?a:null}}extendScatterPlotSettings(t){return t&&t.map((t=>((t=Object.assign({},t))["line-settings"]=new Array(t.aggregation.length).fill("circle-0.5").join(","),t)))}swapAxisTitles(t){return t&&t.map((t=>{var e=Object.assign({},t);return t.ytitle?e.xtitle=t.ytitle:delete e.xtitle,e.ytitle=t.xtitle,e}))}extractTitle(t){return t&&t.map((t=>((t=Object.assign({},t)).title=t.ytitle,t)))}getLabels(t){return this.columnsData[o.DATA_TYPES.label]?this.columnsData[o.DATA_TYPES.label].filter((e=>e.columnData.values.size<=t&&e.columnData.values.size>1)):[]}getStackedNumbers(){if(this.columnsData[o.DATA_TYPES.number]){var t={};if(this.columnsData[o.DATA_TYPES.number].forEach((e=>{t[e.columnData.valueType]||(t[e.columnData.valueType]=[]),t[e.columnData.valueType].push(e)})),t[c.default.number]&&t[c.default.number].length>1){t[c.default.number].forEach((e=>{var a="number"+c.default.getNumberFormatter(e.columnData.values.values().next().value,this.analyzer.separator)("0");t[a]||(t[a]=[]),t[a].push(e)})),delete t[c.default.number];var e="number0";if(t.number0&&t.number0.length>1){t.number0.forEach((t=>{var e=1/0,a=-1/0;t.columnData.values.forEach((t=>{var i=Math.abs(c.default.parseNumber(t,this.analyzer.separator));e=Math.min(e,i),a=Math.max(a,i)})),t.columnData.absMin=e,t.columnData.absMax=a})),t.number0.sort(((t,e)=>e.columnData.absMax-t.columnData.absMax));var a=1/0,i=0;t.number0.forEach((n=>{var r=.01*n.columnData.absMin;n.columnData.absMax>a||0===n.columnData.absMax?(t[e+i].push(n),a=Math.min(a,r)):(i++,a=r,t[e+i]=[n])})),delete t.number0}}return Object.values(t).filter((t=>t.length>1))}return[]}getPositiveStackedNumbers(t){return t.map((t=>this.getPositiveNumbers(t))).filter((t=>t.length>1))}getPositiveNumbers(t){return t&&t.filter((t=>t.columnData.valueType!==c.default.number||0===[...t.columnData.values].filter((t=>c.default.parseNumberQuietly(t,this.analyzer.separator)<0)).length))}},_={pie:{title:"Pie",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/pie.svg"},donut:{title:"Donut",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/donut.svg"},column:{title:"Column",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/column.svg"},bar:{title:"Bar",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/bar.svg"},columnGrouped:{title:"Grouped Column",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/grouped-column.svg"},barGrouped:{title:"Grouped Bar",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/grouped-bar.svg"},columnStacked:{title:"Stacked Column",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/stacked-column.svg"},barStacked:{title:"Stacked Bar",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/stacked-bar.svg"},bubble:{title:"Bubble Pie",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/bubble-pie.svg"},line:{title:"Line",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/line.svg"},area:{title:"Area",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/area.svg"},areaStacked:{title:"Stacked Area",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/stacked-area.svg"},lineSeries:{title:"Line Series",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/line-series.svg"},scatterPlot:{title:"Scatter Plot",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/scatterplot.svg"},scatterPlotSeries:{title:"Scatter Plot Series",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/scatterplot-series.svg"},gantt:{title:"Gantt",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/gantt.svg"},radar:{title:"Radar",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/radar-series.svg"},custom:{title:"Custom",iconSrc:"/download/resources/com.stiltsoft.confluence.plugin.tablefilter.tablefilter/img/hammer-screw.png"}},j=(a(15845),a(99537),a(94121)),z=a(72510);function L(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function F(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?L(Object(a),!0).forEach((function(e){J(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function J(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var B=class{constructor(t){var{$tables:e,$container:a,$btnBack:i,$btnNext:n,$btnOk:r,$spinner:s,callBack:l,isQuickInsert:o}=t;this.$tables=e,this.$container=a,this.$btnBack=i,this.$btnNext=n,this.$btnOk=r,this.$spinner=s,this.callBack=l,this.isQuickInsert=o}init(){var t=new I(this.$tables);t.init(),this.analyzer=t.analyzer,this.chartsSettings=t.availableChartsSettings,this.contextPath=window.Confluence?Confluence.getContextPath():"",this.initContainer(),this.drawAvailableTypes(),this.bindBtns()}initContainer(){this.$container.addClass("tfac-chart-wizard"),this.$typeContainer=$('<div class="tfac-type-container"></div>'),this.$container.append(this.$typeContainer),this.$chartContainer=$('<div class="tfac-chart-container"></div>'),this.$container.append(this.$chartContainer)}drawAvailableTypes(){this.chartsSettings[d]&&(this.initType([{settings:this.chartsSettings[d],type:"Pie"}],_.pie),this.initType([{settings:this.chartsSettings[d],type:"Donut"}],_.donut)),this.chartsSettings[g]&&(this.initType([{settings:this.chartsSettings[m],type:"Column"}],_.column),this.initType([{settings:this.chartsSettings[g],type:"Bar"}],_.bar)),this.chartsSettings[p]&&(this.initType([{settings:this.chartsSettings[f],type:"Column"}],_.columnGrouped),this.initType([{settings:this.chartsSettings[p],type:"Bar"}],_.barGrouped),this.initType([{settings:this.chartsSettings[f],type:"Stacked Column"}],_.columnStacked),this.initType([{settings:this.chartsSettings[p],type:"Stacked Bar"}],_.barStacked)),this.chartsSettings[b]&&this.initType([{settings:this.chartsSettings[b],type:"Bubble Pie"}],_.bubble),(this.chartsSettings[v]||this.chartsSettings[D])&&(this.initType([{settings:this.chartsSettings[v],type:"Line"},{settings:this.chartsSettings[D],type:"Time Line"}],_.line),this.initType([{settings:this.chartsSettings[v],type:"Area"},{settings:this.chartsSettings[D],type:"Time Area"}],_.area),this.initType([{settings:this.chartsSettings[y],type:"Line"},{settings:this.chartsSettings[C],type:"Time Line"}],_.scatterPlot)),(this.chartsSettings[T]||this.chartsSettings[A])&&(this.initType([{settings:this.chartsSettings[T],type:"Line"},{settings:this.chartsSettings[A],type:"Time Line"}],_.lineSeries),this.initType([{settings:this.chartsSettings[T],type:"Stacked Area"},{settings:this.chartsSettings[A],type:"Stacked Time Area"}],_.areaStacked),this.initType([{settings:this.chartsSettings[S],type:"Line"},{settings:this.chartsSettings[w],type:"Time Line"}],_.scatterPlotSeries)),this.chartsSettings[P]&&this.initType([{settings:this.chartsSettings[P],type:"Gantt"}],_.gantt),this.chartsSettings[x]&&this.initType([{settings:this.chartsSettings[x],type:"Radar"}],_.radar),this.initCustomType(),this.$typeContainer.find(".type-panel").first().trigger("click")}drawType(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:160,n=$('\n      <div class="type-panel">\n          <h3>'.concat(AJS.I18n.getText(e.title),'</h3>\n          <img class="macro-icon" src="').concat(this.contextPath).concat(e.iconSrc,'" width="').concat(i,'"/>\n          <span class="count">').concat(t,"</span>\n      </div>\n    "));this.$typeContainer.append(n),n.click((()=>{this.selectTypePanel(n,a)})),n.dblclick((()=>{this.selectTypePanel(n,a),this.$btnNext.trigger("click")}))}initType(t,e){var a=t.reduce(((t,e)=>t+(e.settings||[]).length),0);this.drawType(a,e,t)}initCustomType(){this.drawType("",_.custom,null,129)}selectTypePanel(t,e){this.$typeContainer.find(".type-panel").removeClass("selected"),t.addClass("selected"),this.isQuickInsert&&this.selectedSettings!==e&&j.default.quickChartTypeSelected(),this.selectedSettings=e;var a=!e;this.$btnNext.toggleClass("hidden",a),this.$btnOk.toggleClass("hidden",!a),this.$btnNext.prop("disabled",a),this.$btnOk.prop("disabled",!a),a&&(this.selectedChartParams=void 0)}next(){this.selectedSettings?(this.$typeContainer.hide(),this.$chartContainer.show(),this.drawCharts(),this.$spinner.addClass("hidden")):this.$btnOk.trigger("click")}ok(){this.selectedChartParams&&(this.selectedChartParams.column=this.selectedChartParams.column.join(z.ALTERNATE_COMMA),this.selectedChartParams.aggregation=this.selectedChartParams.aggregation.join(z.ALTERNATE_COMMA),this.selectedChartParams.datepattern=this.selectedChartParams.dateFormat||"dd M yy",this.selectedChartParams.formatVersion=z.LATEST_FORMAT_VERSION+"",this.selectedChartParams.colors=this.selectedChartParams.palette.join(","),this.selectedChartParams.pieKeys=this.selectedChartParams.pieKeys.join(z.ALTERNATE_COMMA),this.selectedChartParams.version="2",this.selectedChartParams.barColoringType="mono",this.selectedChartParams.separator=c.default.mapSeparator(this.analyzer.separator),delete this.selectedChartParams.dateFormat,delete this.selectedChartParams.palette,""===this.selectedChartParams.column&&(this.selectedChartParams.column="‌")),this.$container.find(".svg-wrapper").remove(),setTimeout((()=>this.callBack(this.selectedChartParams)),1)}back(){this.$chartContainer.hide().empty(),this.$typeContainer.show(),this.selectTypePanel($(),this.selectedSettings),this.$container.unbind("scroll")}bindBtns(){this.$btnOk.unbind("click").one("click",(()=>this.ok())),this.$btnNext.click((()=>this.next())),this.$btnBack.click((()=>this.back()))}drawCharts(){var t=this.selectedSettings.filter((t=>t.settings)).flatMap((t=>t.settings.map((e=>F({type:t.type},e))))),e=2*((this.$chartContainer.innerWidth()-20)/2-22);this.$chartContainer.html('<div style="height:633px"></div>');var a=(this.$container.innerHeight()-40)/1.5,i=2*(a-22);this.$chartContainer.empty();var n=0;this.$container.unbind("scroll").scroll((()=>{var r=document.querySelectorAll(":hover");if(r.length){var s=$(r[r.length-1]);s.is("img")&&s.trigger("mouseleave").one("mousemove",(()=>s.trigger("mouseenter")))}for(var l=this.$container.scrollTop();Math.ceil(n/2)*a<this.$container.innerHeight()+l+a/3&&n<t.length;)this.drawChart(t[n++],e,i),n<t.length&&this.drawChart(t[n++],e,i)})),this.$container.trigger("scroll")}drawChart(t,e,a){var i=$('\n      <div class="chart-panel" style="height: '.concat(a/2,'px">\n        <aui-spinner></aui-spinner>\n      </div>\n    '));this.$chartContainer.append(i),i.click((()=>this.selectChartPanel(i,t))),i.dblclick((()=>this.selectChartPanel(i,t)&&this.$btnOk.trigger("click"))),setTimeout((()=>{new l(F(F({},t),{},{lineSettings:t["line-settings"],separator:this.analyzer.separator,worklog:this.analyzer.worklog,rows:this.analyzer.rows,tables:this.analyzer.tables,container:this.$container,$tables:this.$tables,width:e,height:a})).draw(((e,n)=>{t.pieKeys=n;var r=e.children("img");r.height(a/2),i.html(e),r.blowup(),r.one("mousemove",(()=>r.trigger("mouseenter")))}))}),1)}selectChartPanel(t,e){return!(!t.find("img").length||!e)&&(this.$chartContainer.find(".chart-panel").removeClass("selected"),t.addClass("selected"),this.selectedChartParams=e,this.$btnOk.prop("disabled",!1),!0)}};function M(t,e){e||(e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $('\n    <section id="tfac-wizard-dialog" class="aui-dialog2 aui-dialog2-xlarge" role="dialog">\n        <header class="aui-dialog2-header">\n            <h2 class="aui-dialog2-header-main">'.concat(t,'</h2>\n        </header>\n        <div class="aui-dialog2-content">\n            ').concat(e,'\n        </div>\n        <footer class="aui-dialog2-footer">\n            <div class="aui-dialog2-footer-actions">\n                <aui-spinner class="hidden"></aui-spinner>\n                <button class="aui-button back hidden">').concat("Back",'</button>\n                <button class="aui-button aui-button-primary add hidden" disabled>').concat("Add",'</button>\n                <button class="aui-button aui-button-primary next" disabled>').concat("Next",'</button>\n                <button class="aui-button aui-button-link close">').concat("Close","</button>\n            </div>\n        </footer>\n    </section>\n  "))}("Add a Chart"),$("body").append(e),AJS.dialog2(e).show()),e.find("button.close").click((()=>AJS.dialog2(e).hide()));var a=e.find(".back"),i=e.find(".next"),n=e.find(".add"),r=e.find("aui-spinner"),s=e.find(".aui-dialog2-header-main");return n.click((()=>{n.prop("disabled",!0),r.removeClass("hidden")})),a.click((()=>{a.addClass("hidden"),n.addClass("hidden").prop("disabled",!0),i.removeClass("hidden"),r.addClass("hidden"),s.text("Add a Chart")})),i.click((()=>{a.removeClass("hidden"),n.removeClass("hidden").prop("disabled",!0),i.addClass("hidden").prop("disabled",!0),r.removeClass("hidden"),s.text("Select a Chart")})),{close:()=>AJS.dialog2(e).hide(),$container:e.find(".aui-dialog2-content"),$btnBack:a,$btnNext:i,$btnOk:n,$spinner:r}}var Y=a(99497),N=a(23495),H=a.n(N),W=a(28823);var G=class{constructor(t){this.$tables=t,this.analyzer=new k.default}init(){this.analyzer.init(this.$tables),this.columnsData=this.analyzer.columnsData}get defaultParams(){var t={column:"",type:this.type},e=this.columnsWithLabels;return e.length?t.column=e[0].column:(e=this.columnsWithDates).length&&(t.column=e[0].column,t.datepattern=e[0].columnData.dateFormat,t.dateaccuracy=e[0].columnData.dateaccuracy,t.sort="false",t.version="3"),t}get columnsWithLabels(){return this.columnsData[o.DATA_TYPES.label]?this.columnsData[o.DATA_TYPES.label].filter((t=>t.columnData.values.size>1)).sort(((t,e)=>t.columnData.values.size-e.columnData.values.size)):[]}get columnsWithDates(){if(this.columnsData[o.DATA_TYPES.date]){var t=this.columnsData[o.DATA_TYPES.date].filter((t=>t.columnData.values.size>1));return t.forEach((t=>{var e=t.columnData.values,a=h([...e],t.columnData.dateFormat,this.analyzer.userLocale),i=u(a[0],a[a.length-1]);i.years>=5?t.columnData.dateaccuracy="Year":i.years>=2?t.columnData.dateaccuracy="Quarter":i.years>=1?t.columnData.dateaccuracy="Month":i.months>=1?t.columnData.dateaccuracy="Week":i.days>=2||1===i.days&&2===e.size?t.columnData.dateaccuracy="Day":t.columnData.dateaccuracy="Hour"})),t}return[]}get type(){return"Count"}};function R(t,e,a,i,n,r,s){try{var l=t[r](s),o=l.value}catch(t){return void a(t)}l.done?e(o):Promise.resolve(o).then(i,n)}function V(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var r=t.apply(e,a);function s(t){R(r,i,n,s,l,"next",t)}function l(t){R(r,i,n,s,l,"throw",t)}s(void 0)}))}}function K(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function Q(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?K(Object(a),!0).forEach((function(e){U(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function U(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var q=class{constructor(t,e,a){this.content=t,this.pageId=e,this.timer=null,this.activeTable=null,this.panel=$(H().panel({macros:a,isAdmin:AJS.params.isConfluenceAdmin})),this.panelBtnWrapper=this.panel.filter("#tfac-macro-inserter-container"),this.panelBtn=this.panelBtnWrapper.find("button"),this.content.append(this.panel),this.bindPanel()}init(t,e,a){var i=this.hasInlineFilter(t,e),n=t.parent(),r=n.hasClass("tf-fixed-rows");t.unbind("mouseover.tf-insert").bind("mouseover.tf-insert",(()=>{if(!t.is(this.activeTable)&&!this.isOpen()){this.activeTable=t,this.params=a,this.panelBtn.addClass("visible"),this.panel.find("aui-item-link[data-macro]").hide().filter('[data-macro="'.concat(e.map((t=>t.name)).join('"],[data-macro="'),'"]')).show();var s=t.offset(),l=n.offset();this.panelBtnWrapper.show(),this.panelBtnWrapper.offset({top:Math.max(s.top,r?l.top:0)+(i||this.isPivotHidePane(t)?28:0),left:Math.max(s.left,l.left)+Math.min(t.width(),n.width())-3})}})).unbind("mouseleave.tf-insert").bind("mouseleave.tf-insert",(()=>this.removePanel())),t.unbind("macro-inserted.tf-insert").one("macro-inserted.tf-insert",((a,i)=>{this.isOpen()&&this.panelBtn.click(),this.removePanel(),e=e.filter((t=>t.name!==i)),t.trigger("mouseover")})),t.bind("tablesorter-initialized",((i,n)=>t.is(n)&&this.init(t,e,a))),i||$(document).bind("tf-live-filter.init",(()=>i=this.hasInlineFilter(t,e)))}bindPanel(){var t=this;t.panel.find("aui-item-link[data-macro]").click((function(){if(!t.panel.hasClass("disabled")){t.panel.addClass("disabled");var e=$(this);e.addClass("disabled");var a=e.data("macro"),n=i.default.getTableData(t.params,t.content),r=(new Date).getTime();if("table-chart"===a){var s=M(),l=new B(Q(Q({$tables:t.params.table},s),{},{callBack:function(e){i.default.storeMacro(a,n,t.pageId,t.content,(()=>{t.insertChart(r,e,s,n),t.params.table.trigger("reinit-tf-insert")}),(()=>{}),r,e)}}));l.init(),t.panel.removeClass("disabled"),e.removeClass("disabled"),Y.default.gaSendEvent({eventCategory:"Page view",eventAction:"Inline wizard",eventLabel:a})}else{var o;if("pivot-table"===a){var c=new G(t.params.table);c.init(),o=c.defaultParams}else"table-filter"===a&&(o={hidePane:z.HIDE_PANE.PANEL});i.default.storeMacro(a,n,t.pageId,t.content,function(){var i=V((function*(i){"table-filter"===a?(yield(0,W.initTF)(n,t.content,r,t.pageId,!0,null,z.HIDE_PANE.PANEL,null,i),$(".tf-inline-filter").removeClass("active"),$(".tf-inline-btn-container").hide(),t.params.table.off("mouseleave.tf-live mouseover.tf-live"),t.params.table.unbind("mouseleave.tf-live mouseover.tf-live")):(Object.assign(o,i),yield(0,W.initPivot)(n,r,t.pageId,o)),t.panel.removeClass("disabled"),e.removeClass("disabled"),t.content.click(),t.params.table.trigger("reinit-tf-insert")}));return function(t){return i.apply(this,arguments)}}(),(()=>{t.panel.removeClass("disabled"),e.removeClass("disabled")}),r,o),Y.default.gaSendEvent({eventCategory:"Page view",eventAction:"Inline insertion",eventLabel:a})}return!1}}))}insertChart(t){var e=arguments,a=this;return V((function*(){var i=e.length>1&&void 0!==e[1]?e[1]:{},n=e.length>2?e[2]:void 0,r=e.length>3?e[3]:void 0;Y.default.gaSendEvent({eventCategory:"Page view",eventAction:"Inline wizard insert",eventLabel:"table-chart",dimension15:i&&i.type?i.type:"custom"}),yield(0,W.initChart)(r,t,a.pageId,i),n.close()}))()}removePanel(){this.isOpen()||(this.panelBtn.removeClass("visible"),this.activeTable=null)}isOpen(){return this.panelBtn.hasClass("active")}hasInlineFilter(t,e){return!t.hasClass("pivot-table-result")&&(0===e.filter((t=>"tf"===t.id)).length?t.parents(".tablefilter-outer-wrapper").find(".tf-inline-filter").length:$(".tf-inline-filter.main").length)}isPivotHidePane(t){return t.hasClass("pivot-table-result")&&t.closest("div.pivot-content").hasClass("hidden-pane")}},X=a(62552);AJS.$,AJS.toInit((function(){var t;X.default.isEditable()&&X.default.bind(((e,a,i)=>{t||(t=new q(X.default.getContent(),X.default.getPageId(),X.default.tfacMacros.filter((t=>"tj"!==t.id)))),t.init(e,a,i)}))}))}},a={};function i(t){var n=a[t];if(void 0!==n)return n.exports;var r=a[t]={id:t,loaded:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=e,i.amdD=function(){throw new Error("define cannot be used indirect")},i.amdO={},t=[],i.O=function(e,a,n,r){if(!a){var s=1/0;for(u=0;u<t.length;u++){a=t[u][0],n=t[u][1],r=t[u][2];for(var l=!0,o=0;o<a.length;o++)(!1&r||s>=r)&&Object.keys(i.O).every((function(t){return i.O[t](a[o])}))?a.splice(o--,1):(l=!1,r<s&&(s=r));if(l){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[a,n,r]},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t={8996:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,r,s=a[0],l=a[1],o=a[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(n in l)i.o(l,n)&&(i.m[n]=l[n]);if(o)var u=o(i)}for(e&&e(a);c<s.length;c++)r=s[c],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(u)},a=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var n=i.O(void 0,[8556,2295,3353,7874,6305,5546,9150,5654,8018,5842,5761,8429,2166,3969,1818,706,3926,4818,2414,8479,1706,3924,1652,4874,402],(function(){return i(23311)}));n=i.O(n)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.stiltsoft.confluence.plugin.tablefilter.tablefilter:live-filter-resources', location = 'build/live-filtration.js' */
!function(){"use strict";var t,e={35707:function(t,e,n){n.r(e);n(63045);var i=n(34944),a=n(99497),r=n(28823),o=n(72510);function l(t,e,n,i,a,r,o){try{var l=t[r](o),f=l.value}catch(t){return void n(t)}l.done?e(f):Promise.resolve(f).then(i,a)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){l(r,i,a,o,f,"next",t)}function f(t){l(r,i,a,o,f,"throw",t)}o(void 0)}))}}var s=class{constructor(t,e,n){this.pageId=e,this.editable=n,this.content=t,this.btn=$('<span class="tf-inline-filter" title="'.concat("Filter column",'"></span>')),this.mainBtnContainer=$('<div class="tf-inline-btn-container">\n        <button class="tf-inline-filter main aui-button aui-button-compact aui-button-subtle aui-dropdown2-trigger" \n            title="'.concat("Filter and export table",'" aria-owns="tfn" aria-haspopup="true" aria-expanded="false">\n            <span class="aui-icon aui-icon-small"></span>\n        </button>\n        <div id="tfn"></div>\n      </div>')),this.mainBtn=this.mainBtnContainer.find("button"),t.append(this.btn).append(this.mainBtnContainer),this.bindClick(),$(document).trigger("tf-live-filter.init")}init(t,e){t.hasClass("pivot-table-result")||(this.unbindTable(t),this.bindTable(t,e))}bindTable(t,e){var n=this,i=t.parent(),a=t.find("tr:has(td,th):eq(0)").find("td,th"),r=[];a.each(((t,e)=>{for(var n=$(e),i=0;i<e.colSpan;i++)r.push(n)})),t.on("mouseleave.tf-live","td,th",(()=>{n.btn.removeClass("active"),n.headerActive=!1})).on("mouseover.tf-live","td,th",(function(){if(!n.headerActive){n.headerActive=!0;for(var a=this.cellIndex,o=this.previousSibling;o;)o.colSpan&&(a+=o.colSpan-1),o=o.previousSibling;n.cell=r[a],n.table=t,n.params=e;var l=n.cell.offset();n.btn.offset({top:l.top-3,left:Math.min(l.left+n.cell.outerWidth(),i.offset().left+i.width())-16}).addClass("active")}})),t.bind("mouseleave.tf-live",(function(){n.mainBtn.removeClass("visible"),n.tableActive=!1})).bind("mouseover.tf-live",(function(){if(!n.tableActive){n.tableActive=!0,n.table=t,n.params=e;var a=t.offset();n.mainBtnContainer.show(),n.mainBtnContainer.offset({top:a.top+5,left:Math.max(a.left,i.offset().left)+Math.min(t.width(),i.width())-3}),n.mainBtn.addClass("visible")}})),t.bind("tablesorter-initialized",((n,i)=>t.is(i)&&this.init(t,e)))}bindClick(){var t=this;this.mainBtn.add(this.btn).click(f((function*(){if(t.table){var e=$(this),n=t.table,l=i.default.getTableData(t.params,t.content),f=(new Date).getTime();t.table=null,e.addClass("loading"),t.unbindTable(n);var s=yield(0,r.initTF)(l,t.content,f,t.pageId,t.editable,(e=>{var n=e.find(".get-tf-url").addClass("tf-disabled-link");e.find(".filter-save").one("click",(function(){i.default.storeMacro("table-filter",l,t.pageId,t.content,(()=>{n.removeClass("tf-disabled-link")}),(()=>{}),f)}))}),o.HIDE_PANE.HEADER,!0);if(n.trigger("macro-inserted","table-filter"),e.removeClass("loading active visible").fadeOut(0),t.mainBtnContainer.hide(),e.is(t.mainBtn)){n.trigger("mouseover");var u=s.find(".filter-icon").addClass("active");setTimeout((()=>{u.trigger("aui-button-invoke")}),100)}else{var c=s.find(".tf-inline-filter.trigger").addClass("active");setTimeout((()=>{t.cell.trigger("mouseenter.tf"),c.trigger("click")}),100)}a.default.gaSendEvent({eventCategory:"Page view",eventAction:"Live filtration",eventLabel:"button: "+(e.is(t.mainBtn)?"table":"column")})}})))}unbindTable(t){t.off("mouseleave.tf-live mouseover.tf-live"),t.unbind("mouseleave.tf-live mouseover.tf-live"),this.headerActive=!1,this.tableActive=!1}},u=n(62552);AJS.$,AJS.toInit((function(){var t;u.default.bind(((e,n,i)=>{n.filter((t=>"table-filter"===t.name)).length&&(t||(t=new s(u.default.getContent(),u.default.getPageId(),u.default.isEditable())),t.init(e,i))}))}))}},n={};function i(t){var a=n[t];if(void 0!==a)return a.exports;var r=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=e,i.amdD=function(){throw new Error("define cannot be used indirect")},i.amdO={},t=[],i.O=function(e,n,a,r){if(!n){var o=1/0;for(u=0;u<t.length;u++){n=t[u][0],a=t[u][1],r=t[u][2];for(var l=!0,f=0;f<n.length;f++)(!1&r||o>=r)&&Object.keys(i.O).every((function(t){return i.O[t](n[f])}))?n.splice(f--,1):(l=!1,r<o&&(o=r));if(l){t.splice(u--,1);var s=a();void 0!==s&&(e=s)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,a,r]},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t={6824:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,r,o=n[0],l=n[1],f=n[2],s=0;if(o.some((function(e){return 0!==t[e]}))){for(a in l)i.o(l,a)&&(i.m[a]=l[a]);if(f)var u=f(i)}for(e&&e(n);s<o.length;s++)r=o[s],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(u)},n=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter=self.webpackChunkcom_stiltsoft_confluence_plugin_tablefilter||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var a=i.O(void 0,[8556,2295,3353,7874,6305,5546,9150,5654,8018,5842,5761,8429,1818,3926,4818,2414,8479,4874,402],(function(){return i(35707)}));a=i.O(a)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-create-content-plugin:blueprint-first-time-tooltip-resources', location = 'com/atlassian/confluence/plugins/createcontent/js/first-time-tooptip.js' */
AJS.bind("sidebar.finished-loading",function(){var a=AJS.Meta.get("blueprint-index-popup-key");AJS.debug("Index key for "+a);a&&Confluence.Blueprint.showIndexPagePopup(a)});
Confluence.Blueprint=AJS.$.extend(Confluence.Blueprint,{showIndexPagePopup:function(a){var b=AJS.$(AJS.$("li.blueprint."+a)[0]);a=b.text();b=AJS.$(".icon",b);var d=AJS.InlineDialog(b.is(":visible")?b:AJS.$(".acs-nav-sections .quick-links-section"),"blueprintIndexSidebarPopup",function(c){return function(e,g,f){e.html(Confluence.Templates.Blueprints.sidebarIndexPagePopup({indexPageTitle:c.toLowerCase()}));f()}}(a),{addActiveClass:!1,hideDelay:null,noBind:!0});AJS.$(document).bind("showLayer",function(c){AJS.$("body").unbind("click.blueprintIndexSidebarPopup.inline-dialog-check")});
d.show();(function(c){AJS.$(document).on("click","#dismiss-index-popup",function(){c.hide();return!1})})(d);AJS.bind("quickedit.success",function(){d.hide()})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-create-content-plugin:blueprint-first-time-tooltip-resources', location = 'com/atlassian/confluence/plugins/createcontent/soy/sidebar-index-page-popup.soy' */
// This file was automatically generated from sidebar-index-page-popup.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Blueprints.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Blueprints == 'undefined') { Confluence.Templates.Blueprints = {}; }


Confluence.Templates.Blueprints.sidebarIndexPagePopup = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml(AJS.format('Find your {0} here',opt_data.indexPageTitle)) + '</h2><p>' + soy.$$escapeHtml(AJS.format('You\x27\x27ve created a {0} page. A shortcut in your sidebar has been added where you can find other {0} in this space.',opt_data.indexPageTitle)) + '</p><br/><form>' + aui.buttons.button({text: 'Dismiss', id: 'dismiss-index-popup'}) + '</form>';
};
if (goog.DEBUG) {
  Confluence.Templates.Blueprints.sidebarIndexPagePopup.soyTemplateName = 'Confluence.Templates.Blueprints.sidebarIndexPagePopup';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-create-content-plugin:create-from-template-resources', location = 'com/atlassian/confluence/plugins/createcontent/js/create-from-template-macro.js' */
AJS.toInit(function(b){b(document).tooltip({live:'.create-from-template-button[aria-disabled\x3d"true"]',gravity:"n",title:"data-tooltip",delayIn:250,delayOut:0});b(".create-from-template-button").each(function(){var a=b(this);"true"!==a.attr("aria-disabled")&&a.click(function(){a.addClass("launching-dialog");Confluence.Blueprint.loadDialogAndOpenTemplate(a.data());return!1})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-create-content-plugin:create-from-template-resources', location = 'com/atlassian/confluence/plugins/createcontent/soy/create-from-template-macro.soy' */
// This file was automatically generated from create-from-template-macro.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Blueprints.CreateFromTemplate.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Blueprints == 'undefined') { Confluence.Templates.Blueprints = {}; }
if (typeof Confluence.Templates.Blueprints.CreateFromTemplate == 'undefined') { Confluence.Templates.Blueprints.CreateFromTemplate = {}; }


Confluence.Templates.Blueprints.CreateFromTemplate.macroTemplate = function(opt_data, opt_ignored) {
  return '<a class=\'aui-button create-from-template-button\'' + ((! opt_data.hasCreatePermission) ? 'aria-disabled=\'true\' data-tooltip="' + soy.$$escapeHtml('Sorry, you don\x27t have permission to create content. Contact your space administrator to request access.') + '"' : '') + 'data-space-key=\'' + soy.$$escapeHtml(opt_data.spaceKey) + '\' href=\'' + soy.$$escapeHtml(opt_data.createContentUrl) + '\'' + ((opt_data.title) ? 'data-title=\'' + soy.$$escapeHtml(opt_data.title) + '\'' : '') + ((opt_data.templateId) ? 'data-template-id=\'' + soy.$$escapeHtml(opt_data.templateId) + '\'' : '') + ((opt_data.contentBlueprintId) ? 'data-content-blueprint-id=\'' + soy.$$escapeHtml(opt_data.contentBlueprintId) + '\'' : '') + '>' + soy.$$escapeHtml(opt_data.buttonLabel) + '</a>';
};
if (goog.DEBUG) {
  Confluence.Templates.Blueprints.CreateFromTemplate.macroTemplate.soyTemplateName = 'Confluence.Templates.Blueprints.CreateFromTemplate.macroTemplate';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.contributors:contributors-web-resources', location = 'com/atlassian/confluence/contributors/scripts/contributors.js' */
require(["ajs","underscore"],function(d,e){d.toInit(function(b){b("div.contributors-macro-ajax-container").each(function(){var a=b(this),f=b.parseJSON(e.unescape(a.find(".contributors-macro-parameters")[0].innerHTML));a.text("Generating contributors information...");b.ajax({dataType:"json",url:Confluence.getContextPath()+"/rest/com.atlassian.confluence.contributors/1.0/contributors",data:f,success:function(c){c.errorMessage?a.text(c.errorMessage):(a.html(Confluence.ContributorsMacro.renderContent(c)),
a.find(".show-hidden-contributors").click(function(){a.find(".hidden-contributor").removeClass("hidden");b(this).parent().remove();return!1}))},error:function(c,h,g){a.text("Failed to retrieve contributors information"+": "+g)}})})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.contributors:contributors-web-resources', location = 'com/atlassian/confluence/contributors/templates/contributors-macro.soy' */
// This file was automatically generated from contributors-macro.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.ContributorsMacro.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.ContributorsMacro == 'undefined') { Confluence.ContributorsMacro = {}; }


Confluence.ContributorsMacro.ajaxContainer = function(opt_data, opt_ignored) {
  return '<div class="contributors-macro-ajax-container"><div style="display; none;" class="contributors-macro-parameters">' + soy.$$escapeHtml(opt_data.macroParameters) + '</div></div>';
};
if (goog.DEBUG) {
  Confluence.ContributorsMacro.ajaxContainer.soyTemplateName = 'Confluence.ContributorsMacro.ajaxContainer';
}


Confluence.ContributorsMacro.renderContent = function(opt_data, opt_ignored) {
  return '<div class="plugin-contributors">' + ((opt_data.layoutStyle == 'FLAT') ? Confluence.ContributorsMacro.flatLayout(opt_data) : (opt_data.layoutStyle == 'LIST') ? Confluence.ContributorsMacro.listLayout(opt_data) : '<span>Unknown layout style</span>') + '</div>';
};
if (goog.DEBUG) {
  Confluence.ContributorsMacro.renderContent.soyTemplateName = 'Confluence.ContributorsMacro.renderContent';
}


Confluence.ContributorsMacro.flatLayout = function(opt_data, opt_ignored) {
  return '<div class="plugin-contributors"><span><span>' + Confluence.ContributorsMacro.flatContributorsList({contributors: opt_data.visibleContributors, showCount: opt_data.showCount, showTime: opt_data.showTime}) + ((opt_data.hiddenContributors.length > 0) ? ',' : '') + '</span>' + ((opt_data.hiddenContributors.length > 0) ? '<span class="hidden hidden-contributor">' + Confluence.ContributorsMacro.flatContributorsList({contributors: opt_data.hiddenContributors, showCount: opt_data.showCount, showTime: opt_data.showTime}) + '</span><span><a href="#" class="show-hidden-contributors" title="' + soy.$$escapeHtml(AJS.format('{0} more...',opt_data.hiddenContributors.length)) + '">...</a></span>' : '') + '</span></div>';
};
if (goog.DEBUG) {
  Confluence.ContributorsMacro.flatLayout.soyTemplateName = 'Confluence.ContributorsMacro.flatLayout';
}


Confluence.ContributorsMacro.listLayout = function(opt_data, opt_ignored) {
  var output = '<div class="plugin-contributors"><ul class="contributors-list">';
  var contributorList39 = opt_data.visibleContributors;
  var contributorListLen39 = contributorList39.length;
  for (var contributorIndex39 = 0; contributorIndex39 < contributorListLen39; contributorIndex39++) {
    var contributorData39 = contributorList39[contributorIndex39];
    output += '<li>' + Confluence.ContributorsMacro.contributor({contributor: contributorData39, showCount: opt_data.showCount, showTime: opt_data.showTime}) + '</li>';
  }
  if (opt_data.hiddenContributors.length > 0) {
    output += '<li><a href="#" class="show-hidden-contributors" title="' + soy.$$escapeHtml(AJS.format('{0} more...',opt_data.hiddenContributors.length)) + '">...</a></li>';
    var contributorList52 = opt_data.hiddenContributors;
    var contributorListLen52 = contributorList52.length;
    for (var contributorIndex52 = 0; contributorIndex52 < contributorListLen52; contributorIndex52++) {
      var contributorData52 = contributorList52[contributorIndex52];
      output += '<li class="hidden hidden-contributor">' + Confluence.ContributorsMacro.contributor({contributor: contributorData52, showCount: opt_data.showCount, showTime: opt_data.showTime}) + '</li>';
    }
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.ContributorsMacro.listLayout.soyTemplateName = 'Confluence.ContributorsMacro.listLayout';
}


Confluence.ContributorsMacro.flatContributorsList = function(opt_data, opt_ignored) {
  var output = '';
  var contributorList62 = opt_data.contributors;
  var contributorListLen62 = contributorList62.length;
  for (var contributorIndex62 = 0; contributorIndex62 < contributorListLen62; contributorIndex62++) {
    var contributorData62 = contributorList62[contributorIndex62];
    output += ((! (contributorIndex62 == 0)) ? ',' : '') + Confluence.ContributorsMacro.contributor({contributor: contributorData62, showCount: opt_data.showCount, showTime: opt_data.showTime});
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.ContributorsMacro.flatContributorsList.soyTemplateName = 'Confluence.ContributorsMacro.flatContributorsList';
}


Confluence.ContributorsMacro.contributor = function(opt_data, opt_ignored) {
  return Confluence.Templates.User.usernameLink({username: opt_data.contributor.idString, fullName: opt_data.contributor.fullNameString, canView: false}) + ' ' + ((opt_data.showCount) ? soy.$$escapeHtml(opt_data.contributor.totalCount) : '') + ' ' + ((opt_data.showTime) ? '(' + soy.$$escapeHtml(opt_data.contributor.relativeLastActiveTimeStr) + ')' : '');
};
if (goog.DEBUG) {
  Confluence.ContributorsMacro.contributor.soyTemplateName = 'Confluence.ContributorsMacro.contributor';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.issue-status-plugin:issue-status-resources', location = 'templates/status.soy' */
// This file was automatically generated from status.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Template.Util.Issue.Status.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Template == 'undefined') { JIRA.Template = {}; }
if (typeof JIRA.Template.Util == 'undefined') { JIRA.Template.Util = {}; }
if (typeof JIRA.Template.Util.Issue == 'undefined') { JIRA.Template.Util.Issue = {}; }
if (typeof JIRA.Template.Util.Issue.Status == 'undefined') { JIRA.Template.Util.Issue.Status = {}; }


JIRA.Template.Util.Issue.Status.issueStatusResolver = function(opt_data, opt_ignored) {
  return '' + ((! opt_data.issueStatus) ? '<span class="aui-icon aui-icon-small aui-iconfont-help jira-issue-status-render-error" title="' + soy.$$escapeHtml('No issue status information was provided') + '"></span>' : (opt_data.issueStatus.statusCategory) ? JIRA.Template.Util.Issue.Status.issueStatus(opt_data) : JIRA.Template.Util.Issue.Status.iconStatus({name: opt_data.issueStatus.name, iconUrl: opt_data.issueStatus.iconUrl, description: opt_data.issueStatus.description, isCompact: opt_data.isCompact}));
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.issueStatusResolver.soyTemplateName = 'JIRA.Template.Util.Issue.Status.issueStatusResolver';
}


JIRA.Template.Util.Issue.Status.iconStatus = function(opt_data, opt_ignored) {
  return '<img src="' + soy.$$escapeHtml(opt_data.iconUrl) + '" width="16" height="16" alt="' + soy.$$escapeHtml(opt_data.name) + '" title="' + soy.$$escapeHtml(opt_data.name) + ((opt_data.description) ? ' - ' + soy.$$escapeHtml(opt_data.description) : '') + '" class="jira-issue-status-icon">' + ((! opt_data.isCompact) ? ' ' + soy.$$escapeHtml(opt_data.name) : '');
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.iconStatus.soyTemplateName = 'JIRA.Template.Util.Issue.Status.iconStatus';
}


JIRA.Template.Util.Issue.Status.issueStatus = function(opt_data, opt_ignored) {
  return '' + JIRA.Template.Util.Issue.Status.statusLozenge({name: opt_data.issueStatus.name, categoryKey: opt_data.issueStatus.statusCategory.key, colorName: opt_data.issueStatus.statusCategory.colorName, description: opt_data.issueStatus.description, isSubtle: opt_data.isSubtle, isCompact: opt_data.isCompact, maxWidth: opt_data.maxWidth});
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.issueStatus.soyTemplateName = 'JIRA.Template.Util.Issue.Status.issueStatus';
}


JIRA.Template.Util.Issue.Status.statusLozenge = function(opt_data, opt_ignored) {
  var output = '';
  var maxWidth__soy46 = opt_data.maxWidth ? opt_data.maxWidth : 'medium';
  var tooltipContent__soy47 = '<span class="jira-issue-status-tooltip-title">' + soy.$$escapeHtml(opt_data.name) + '</span>' + ((opt_data.description) ? '<br><span class="jira-issue-status-tooltip-desc">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '');
  output += '<span class=" jira-issue-status-lozenge aui-lozenge ' + JIRA.Template.Util.Issue.Status.statusLozengeClasses(opt_data) + ((opt_data.isSubtle && ! opt_data.isCompact) ? ' aui-lozenge-subtle' : '') + ((opt_data.isCompact) ? ' jira-issue-status-lozenge-compact' : '') + ' jira-issue-status-lozenge-max-width-' + soy.$$escapeHtml(maxWidth__soy46) + '" data-tooltip="' + soy.$$escapeHtml(tooltipContent__soy47) + '">' + soy.$$escapeHtml(opt_data.name) + '</span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.statusLozenge.soyTemplateName = 'JIRA.Template.Util.Issue.Status.statusLozenge';
}


JIRA.Template.Util.Issue.Status.statusLozengeClasses = function(opt_data, opt_ignored) {
  return 'jira-issue-status-lozenge-' + soy.$$escapeHtml(opt_data.colorName ? opt_data.colorName : 'medium-gray') + ' ' + ((opt_data.categoryKey) ? 'jira-issue-status-lozenge-' + soy.$$escapeHtml(opt_data.categoryKey) : '');
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.statusLozengeClasses.soyTemplateName = 'JIRA.Template.Util.Issue.Status.statusLozengeClasses';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.issue-status-plugin:issue-status-resources', location = '/js/issue-status-plugin.js' */
AJS.$(function(){if(AJS.$.fn.tooltip){AJS.$(".jira-issue-status-lozenge[data-tooltip]").tooltip({aria:true,gravity:AJS.$.fn.tipsy.autoWE,delayIn:100,html:true,live:true,title:"data-tooltip",className:"jira-issue-status-tooltip"})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-jira-metadata:confluence-jira-metadata-resources', location = 'soy/jira-metadata.soy' */
// This file was automatically generated from jira-metadata.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Metadata.Jira.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Metadata == 'undefined') { Confluence.Templates.Metadata = {}; }
if (typeof Confluence.Templates.Metadata.Jira == 'undefined') { Confluence.Templates.Metadata.Jira = {}; }


Confluence.Templates.Metadata.Jira.metadata = function(opt_data, opt_ignored) {
  var output = '<div id="jira-metadata-dialog" class="rendered-content"><h2 class="title">' + soy.$$escapeHtml('Jira links') + '</h2><div class="items-section">';
  var groupList6 = opt_data.groups;
  var groupListLen6 = groupList6.length;
  for (var groupIndex6 = 0; groupIndex6 < groupListLen6; groupIndex6++) {
    var groupData6 = groupList6[groupIndex6];
    if (groupData6.items.length) {
      switch (groupData6.type) {
        case 'ISSUES':
          output += Confluence.Templates.Metadata.Jira.renderGroup({items: groupData6.items, headingText: 'Issues', type: groupData6.type, links: groupData6.links});
          break;
        case 'SPRINTS':
          output += Confluence.Templates.Metadata.Jira.renderGroup({items: groupData6.items, headingText: 'Sprints', type: groupData6.type, links: groupData6.links});
          break;
        case 'VERSIONS':
          output += Confluence.Templates.Metadata.Jira.renderGroup({items: groupData6.items, headingText: 'Versions', type: groupData6.type, links: groupData6.links});
          break;
        case 'EPICS':
          output += Confluence.Templates.Metadata.Jira.renderGroup({items: groupData6.items, headingText: 'Epics', type: groupData6.type, links: groupData6.links});
          break;
      }
    }
  }
  output += '</div>' + Confluence.Templates.Metadata.Jira.renderAuthPrompts({appLinks: opt_data.unauthorisedAppLinks}) + Confluence.Templates.Metadata.Jira.renderJiraErrors(opt_data) + '</div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Metadata.Jira.metadata.soyTemplateName = 'Confluence.Templates.Metadata.Jira.metadata';
}


Confluence.Templates.Metadata.Jira.featureDiscovery = function(opt_data, opt_ignored) {
  return '<div id="jira-metadata-feature-discovery"><h2>' + soy.$$escapeHtml('View related Jira items here') + '</h2><p>' + soy.$$escapeHtml('Now you can see which epics, sprints, versions and issues relate to this page.') + '</p><div class="aui-toolbar2" role="toolbar"><div class="aui-toolbar2-inner">' + aui.buttons.button({text: 'Show me', extraClasses: 'showme'}) + aui.buttons.button({text: 'Don\x27t show again', type: 'link', extraClasses: 'close'}) + '</div></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Metadata.Jira.featureDiscovery.soyTemplateName = 'Confluence.Templates.Metadata.Jira.featureDiscovery';
}


Confluence.Templates.Metadata.Jira.nometadata = function(opt_data, opt_ignored) {
  return '<div id="jira-metadata-dialog" class="rendered-content">' + aui.message.warning({content: '<p>' + soy.$$escapeHtml('Jira links cannot be displayed. Either you do not have correct Jira permissions or the links have been removed.') + '</p>'}) + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Metadata.Jira.nometadata.soyTemplateName = 'Confluence.Templates.Metadata.Jira.nometadata';
}


Confluence.Templates.Metadata.Jira.renderAuthPrompts = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.appLinks.length) {
    var param66 = '';
    if (opt_data.appLinks.length == 1) {
      var appLink__soy69 = opt_data.appLinks[0];
      param66 += '<p>' + soy.$$filterNoAutoescape(AJS.format('{0}Login \x26amp; Approve{1} to retrieve data from {2}','<a class="jira-metadata-auth-link" href="#" data-href="' + appLink__soy69.authorisationUrl + '">','</a>',appLink__soy69.htmlSafeName)) + '</p>';
    } else {
      param66 += '<p>' + soy.$$escapeHtml('Authenticate to retrieve data from the following instances:') + '</p>';
      var appLinkList78 = opt_data.appLinks;
      var appLinkListLen78 = appLinkList78.length;
      for (var appLinkIndex78 = 0; appLinkIndex78 < appLinkListLen78; appLinkIndex78++) {
        var appLinkData78 = appLinkList78[appLinkIndex78];
        param66 += '<div><a class="jira-metadata-auth-link" href="#" data-href="' + soy.$$escapeHtml(appLinkData78.authorisationUrl) + '">' + soy.$$escapeHtml(appLinkData78.name) + '</a></div>';
      }
    }
    output += aui.message.hint({content: param66});
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Metadata.Jira.renderAuthPrompts.soyTemplateName = 'Confluence.Templates.Metadata.Jira.renderAuthPrompts';
}


Confluence.Templates.Metadata.Jira.renderGroup = function(opt_data, opt_ignored) {
  var output = '<div class="jira-metadata-section ' + soy.$$escapeHtml(opt_data.type) + '-section"><div class="section-label"><span class="icon"></span><span>' + soy.$$escapeHtml(opt_data.headingText) + '</span></div><ul class="jira-metadata-list jira-' + soy.$$escapeHtml(opt_data.type) + '-list">';
  var itemList94 = opt_data.items;
  var itemListLen94 = itemList94.length;
  for (var itemIndex94 = 0; itemIndex94 < itemListLen94; itemIndex94++) {
    var itemData94 = itemList94[itemIndex94];
    output += '<li class="jira-metadata-item"><span class="item-label"><a href="' + soy.$$escapeHtml("/confluence") + '/plugins/servlet/jira-metadata/redirect?u=' + soy.$$escapeUri(itemData94.url) + '&t=' + soy.$$escapeHtml(opt_data.type) + '" title="' + soy.$$escapeHtml(itemData94.name) + '">' + soy.$$escapeHtml(itemData94.name) + '</a>' + ((itemData94.status) ? '&nbsp;' + ((itemData94.status.statusCategory) ? JIRA.Template.Util.Issue.Status.issueStatusResolver({issueStatus: itemData94.status, isSubtle: true}) : '<span class="item-status">(' + soy.$$escapeHtml(itemData94.status.name) + ')</span>') : '') + '</span>' + ((itemData94.description != '') ? '<span class="item-subtext">' + soy.$$escapeHtml(itemData94.description) + '</span>' : '') + '</li>';
  }
  output += '</ul><ul class="jira-metadata-list ' + soy.$$escapeHtml(opt_data.type) + '-more-link">';
  var linkList130 = opt_data.links;
  var linkListLen130 = linkList130.length;
  for (var linkIndex130 = 0; linkIndex130 < linkListLen130; linkIndex130++) {
    var linkData130 = linkList130[linkIndex130];
    output += '<li class="jira-metadata-item"><a href="' + soy.$$escapeHtml("/confluence") + '/plugins/servlet/jira-metadata/redirect?u=' + soy.$$escapeUri(linkData130.url) + '&t=' + soy.$$escapeHtml(opt_data.type) + '&more">' + soy.$$escapeHtml(AJS.format('View {0} more in {1}',linkData130.numItems,linkData130.appName)) + '</a></li>';
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Metadata.Jira.renderGroup.soyTemplateName = 'Confluence.Templates.Metadata.Jira.renderGroup';
}


Confluence.Templates.Metadata.Jira.loadingMetadata = function(opt_data, opt_ignored) {
  return '<div id="jira-metadata-dialog"><h2 class="title">' + soy.$$escapeHtml('Jira links') + '</h2><div class="spinner-container"><div class="spinner"></div></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Metadata.Jira.loadingMetadata.soyTemplateName = 'Confluence.Templates.Metadata.Jira.loadingMetadata';
}


Confluence.Templates.Metadata.Jira.renderJiraErrors = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.errors.length == 1) {
    var error__soy150 = opt_data.errors[0];
    output += aui.message.warning({content: '<p>' + soy.$$escapeHtml('Unable to retrieve Jira metadata.') + ' ' + soy.$$escapeHtml(error__soy150.errorMessage) + '</p>'});
  } else if (opt_data.errors.length > 1) {
    var param159 = '<p>' + soy.$$escapeHtml('Unable to retrieve Jira metadata. The following errors occurred:') + '</p><ul>';
    var errorList163 = opt_data.errors;
    var errorListLen163 = errorList163.length;
    for (var errorIndex163 = 0; errorIndex163 < errorListLen163; errorIndex163++) {
      var errorData163 = errorList163[errorIndex163];
      param159 += '<li>' + soy.$$escapeHtml(errorData163.errorMessage) + '</li>';
    }
    param159 += '</ul>';
    output += aui.message.warning({content: param159});
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Metadata.Jira.renderJiraErrors.soyTemplateName = 'Confluence.Templates.Metadata.Jira.renderJiraErrors';
}


Confluence.Templates.Metadata.Jira.unknownError = function(opt_data, opt_ignored) {
  return '<div id="jira-metadata-dialog" class="rendered-content">' + aui.message.warning({content: '<p>' + soy.$$escapeHtml('Unable to retrieve Jira metadata. Could not connect to Confluence') + '</p>'}) + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Metadata.Jira.unknownError.soyTemplateName = 'Confluence.Templates.Metadata.Jira.unknownError';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-jira-metadata:confluence-jira-metadata-resources', location = '/js/jira-metadata.js' */
AJS.toInit(function(c){function l(a,e){m(a,e);d.removeClass("hidden");d.attr("href")||(h=AJS.InlineDialog(d,"jira-metadata-dialog",function(f,u,n){AJS.trigger("analytics",{name:"confluence.jira.metadata.expanded"});b&&p?n():(b=f,n(),q(f));return!1},{hideDelay:null}),d.click(function(){c("#jira-metadata-dialog").is(":visible")&&h.hide()}));d&&!AJS.Meta.get("blueprint-index-popup-key")&&Confluence.FeatureDiscovery.forPlugin("com.atlassian.confluence.plugins.confluence-jira-metadata").shouldShow("linked-issues-dropdown")&&
(r(),d.one("click",function(){Confluence.FeatureDiscovery.forPlugin("com.atlassian.confluence.plugins.confluence-jira-metadata").markDiscovered("linked-issues-dropdown")}))}function m(a,e){e||(e=c("\x3cspan/\x3e").addClass("aui-icon aui-icon-small aui-iconfont-jira"),c("#content-metadata-jira").text(1==a?"1 Jira link":AJS.format("{0} Jira links",a)).prepend(e))}function r(){g=AJS.InlineDialog(d,"jira-metadata-discovery",function(a,e,f){a.html(Confluence.Templates.Metadata.Jira.featureDiscovery());
a.find(".showme").on("click",function(){Confluence.FeatureDiscovery.forPlugin("com.atlassian.confluence.plugins.confluence-jira-metadata").markDiscovered("linked-issues-dropdown");g.hide();h.show()});a.find(".close").on("click",function(){Confluence.FeatureDiscovery.forPlugin("com.atlassian.confluence.plugins.confluence-jira-metadata").markDiscovered("linked-issues-dropdown");g.hide()});f()},{noBind:!0,closeOthers:!1,hideDelay:null});g.show();Confluence.FeatureDiscovery.forPlugin("com.atlassian.confluence.plugins.confluence-jira-metadata").addDiscoveryView("linked-issues-dropdown")}
function q(){b&&0<b.height()&&b.css("height",b.height());b.html(Confluence.Templates.Metadata.Jira.loadingMetadata());b.find(".spinner").spin("medium");c.ajax({url:AJS.contextPath()+"/rest/jira-metadata/1.0/metadata?pageId\x3d"+AJS.Meta.get("page-id"),type:"GET",dataType:"json",contentType:"application/json",error:function(a){b&&b.css("height","");b.html(Confluence.Templates.Metadata.Jira.unknownError())},success:function(a){b&&b.css("height","");p=!0;m(a.count,!1);0!==a.count||a.unauthorisedAppLinks&&
0<a.unauthorisedAppLinks.length||0!=a.errors.length?a=Confluence.Templates.Metadata.Jira.metadata(a):(AJS.trigger("analytics",{name:"confluence.jira.metadata.error.no-metadata"}),a=Confluence.Templates.Metadata.Jira.nometadata());b.html(a);setTimeout(function(){b.find("#jira-metadata-dialog").addClass("show")},0);t()},complete:function(){c("#jira-metadata-dialog .icon-close").click(function(a){a.stopPropagation();c(this).closest(".closable").remove()})}})}function t(){c(".jira-metadata-auth-link").click(function(a){a.preventDefault();
AppLinks.authenticateRemoteCredentials(c(this).data("href"),q,function(){})})}var p=!1,h,b,d=c("#content-metadata-jira"),g,k=AJS.Meta.get("jira-metadata-count");0<k?l(k,AJS.Meta.get("jira-metadata-count-incomplete")):-1==k&&c.ajax({url:AJS.contextPath()+"/rest/jira-metadata/1.0/metadata/aggregate?pageId\x3d"+AJS.Meta.get("page-id"),type:"GET",dataType:"json",contentType:"application/json",cache:!1,success:function(a){0<a.count&&l(a.count,a.incomplete)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:soy-resources', location = 'soy/sidebar.soy' */
// This file was automatically generated from sidebar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Sidebar.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Sidebar == 'undefined') { Confluence.Templates.Sidebar = {}; }


Confluence.Templates.Sidebar.headerStyles = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.sidebarWidth) ? '<style>.ia-fixed-sidebar, .ia-splitter-left {width: ' + soy.$$escapeHtml(opt_data.sidebarWidth) + 'px;}.theme-default .ia-splitter #main {margin-left: ' + soy.$$escapeHtml(opt_data.sidebarWidth) + 'px;}.ia-fixed-sidebar {visibility: hidden;}</style>' : '');
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.headerStyles.soyTemplateName = 'Confluence.Templates.Sidebar.headerStyles';
}


Confluence.Templates.Sidebar.sidebar = function(opt_data, opt_ignored) {
  return '<div class="acs-side-bar ia-scrollable-section"><div class="acs-side-bar-space-info tipsy-enabled" data-configure-tooltip="' + soy.$$escapeHtml('Edit space details') + '"><div class="avatar"><div class="space-logo" data-key="' + soy.$$escapeHtml(opt_data.space.key) + '" data-name="' + soy.$$escapeHtml(opt_data.space.name) + '" data-entity-type="confluence.space"><div class="avatar-img-container"><div class="avatar-img-wrapper"><a href="' + soy.$$escapeHtml(opt_data.space.homeUrl) + '" title="' + soy.$$escapeHtml(opt_data.space.name) + '"><img class="avatar-img" src="' + soy.$$escapeHtml(opt_data.space.logoUrl) + '" alt="' + soy.$$escapeHtml(opt_data.space.name) + '"></a></div></div></div></div><div class="space-information-container"><div class="name"><a href="' + soy.$$escapeHtml(opt_data.space.homeUrl) + '" title="' + soy.$$escapeHtml(opt_data.space.name) + '">' + soy.$$escapeHtml(opt_data.space.name) + '</a></div><div class="flyout-handle icon aui-icon aui-icon-small aui-iconfont-edit"></div>' + ((opt_data.hasFavouriteSpacePermission || opt_data.accessMode == 'READ_ONLY') ? '<div class="favourite-space-icon ' + ((opt_data.accessMode == 'READ_ONLY') ? 'disabled' : '') + '">' + Confluence.Templates.Sidebar.renderFavouriteSpace(opt_data) + '</div>' : '') + '</div></div><div class="acs-side-bar-content"><div class="acs-nav-wrapper"><div class="acs-nav" data-has-create-permission="' + soy.$$escapeHtml(opt_data.hasCreatePermission) + '" data-quick-links-state="' + soy.$$escapeHtml(opt_data.quickLinksState) + '" data-page-tree-state="' + soy.$$escapeHtml(opt_data.pageTreeState) + '" data-nav-type="' + soy.$$escapeHtml(opt_data.navType) + '">' + Confluence.Templates.Sidebar.renderLinks(opt_data) + '</div></div>' + ((opt_data.contextualNav) ? Confluence.Templates.Sidebar.contextualNav(opt_data) : '') + '</div><div class="hidden"><a href="' + soy.$$escapeHtml(opt_data.space.browseSpaceUrl) + '" id="space-pages-link"></a><script type="text/x-template" title="logo-config-content"><h2>' + soy.$$escapeHtml('Space Details') + '</h2><div class="personal-space-logo-hint">' + soy.$$filterNoAutoescape(AJS.format('Your profile picture is used as the logo for your personal space. \x3ca href\x3d\x22{0}\x22 target\x3d\x22_blank\x22\x3eChange your profile picture\x3c/a\x3e.',"/confluence" + '/users/profile/editmyprofilepicture.action')) + '</div><\/script></div></div>' + Confluence.Templates.Sidebar.renderSpaceToolsSection({advancedLinks: opt_data.advancedLinks, hasConfigurePermission: opt_data.hasConfigurePermission, currentlyViewed: opt_data.collectorToHighlight == 'spacebar-advanced', pageTreeState: opt_data.pageTreeState});
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.sidebar.soyTemplateName = 'Confluence.Templates.Sidebar.sidebar';
}


Confluence.Templates.Sidebar.renderFavouriteSpace = function(opt_data, opt_ignored) {
  return '<button class="' + ((opt_data.isFavouriteSpace) ? 'space-favourite-hidden ' : '') + 'space-favourite aui-icon aui-icon-small aui-iconfont-unstar" id="space-favourite-add" title="' + soy.$$escapeHtml('Add to my spaces') + '" aria-pressed="false"></button><button class="' + ((! opt_data.isFavouriteSpace) ? 'space-favourite-hidden ' : '') + 'space-favourite aui-icon aui-icon-small aui-iconfont-star" id="space-favourite-remove" title="' + soy.$$escapeHtml('Remove from my spaces') + '" aria-pressed="false"></button>';
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.renderFavouriteSpace.soyTemplateName = 'Confluence.Templates.Sidebar.renderFavouriteSpace';
}


Confluence.Templates.Sidebar.renderLinks = function(opt_data, opt_ignored) {
  return '<div class="acs-nav-sections">' + ((opt_data.mainLinks.length) ? Confluence.Templates.Sidebar.renderLinksSection({links: opt_data.mainLinks, sectionClass: 'main-links-section', collectorToHighlight: opt_data.collectorToHighlight}) : '') + ((opt_data.quickLinksState != 'hide') ? '<div class="quick-links-wrapper">' + ((opt_data.quickLinks.length) ? '<h2 class="ia-quick-links-header-title">' + soy.$$escapeHtml('Space shortcuts') + '</h2>' + Confluence.Templates.Sidebar.renderLinksSection({links: opt_data.quickLinks, sectionClass: 'quick-links-section tipsy-enabled', collectorToHighlight: null}) : (opt_data.hasConfigurePermission) ? '<h2 class="ia-quick-links-header-title">' + soy.$$escapeHtml('Space shortcuts') + '</h2><p class="tip">' + soy.$$filterNoAutoescape(AJS.format('Here you can add shortcut links to the most important content for your team or project. \x3ca href\x3d\x22{0}\x22 class\x3d\x22{1}\x22\x3eConfigure sidebar\x3c/a\x3e.','','configure-sidebar')) + '</p>' : '') + '</div>' : '') + ((opt_data.hasSidebarCustomisation) ? Confluence.Templates.Sidebar.renderCustomContent(opt_data) : '') + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.renderLinks.soyTemplateName = 'Confluence.Templates.Sidebar.renderLinks';
}


Confluence.Templates.Sidebar.renderCustomContent = function(opt_data, opt_ignored) {
  return '<div class="custom-sidebar"><div class="custom-sidebar-content"><div class="content">' + soy.$$filterNoAutoescape(opt_data.sidebarCustomisation) + '</div></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.renderCustomContent.soyTemplateName = 'Confluence.Templates.Sidebar.renderCustomContent';
}


Confluence.Templates.Sidebar.renderLinksSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.links.length) {
    output += '<div class="' + soy.$$escapeHtml(opt_data.sectionClass) + ' ' + ((opt_data.highlightSection) ? ' current-section' : '') + '"><ul class="acs-nav-list">';
    var linkList138 = opt_data.links;
    var linkListLen138 = linkList138.length;
    for (var linkIndex138 = 0; linkIndex138 < linkListLen138; linkIndex138++) {
      var linkData138 = linkList138[linkIndex138];
      output += '<li class="acs-nav-item ' + soy.$$escapeHtml(linkData138.styleClass) + ((opt_data.collectorToHighlight && linkData138.collectorKey == opt_data.collectorToHighlight) ? ' current-item" aria-current="true' : '') + '"' + ((linkData138.collectorKey) ? ' data-collector-key="' + soy.$$escapeHtml(linkData138.collectorKey) + '"' : '') + '><a class="acs-nav-item-link tipsy-enabled" href="' + soy.$$escapeHtml(linkData138.url) + '" data-collapsed-tooltip="' + soy.$$escapeHtml(linkData138.tooltip) + '">' + ((linkData138.styleClass == 'pinned_attachment') ? '<span class="aui-icon aui-icon-small aui-iconfont-attachment"></span>' : '<span class="icon"></span>') + '<span class="acs-nav-item-label">' + soy.$$escapeHtml(linkData138.title) + '</span></a></li>';
    }
    output += '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.renderLinksSection.soyTemplateName = 'Confluence.Templates.Sidebar.renderLinksSection';
}


Confluence.Templates.Sidebar.contextualNav = function(opt_data, opt_ignored) {
  return '<div class="ia-secondary-container tipsy-enabled" data-tree-type="' + ((opt_data.forBlogs) ? 'blogs' : (opt_data.forSettings) ? 'settings' : soy.$$escapeHtml(opt_data.navType)) + '">' + ((opt_data.pageTreeState != 'hide') ? (opt_data.forBlogs) ? '<div class="ia-secondary-header"><h2 class="ia-secondary-header-title blog"><span class="icon"></span><span class="label">' + soy.$$escapeHtml('Blog') + '</span></h2></div><div class="ia-secondary-content">' + Confluence.Templates.Sidebar.pagetreeList({pagetree: opt_data.contextualNav}) + '</div>' : (opt_data.forSettings) ? '<div class="ia-secondary-header"><h2 class="ia-secondary-header-title settings"><span class="label">' + soy.$$escapeHtml('Advanced') + '</span></h2></div><div class="ia-secondary-content">' + Confluence.Templates.Sidebar.pagetreeList({pagetree: opt_data.contextualNav}) + '</div>' : (opt_data.navType == 'page-tree') ? '<div class="ia-secondary-header"><h2 class="ia-secondary-header-title page-tree"><span class="icon"></span><span class="label">' + soy.$$escapeHtml('Page tree') + '</span></h2></div>' + ((opt_data.pageTreeEmpty && opt_data.hasCreatePermission) ? '<p class="tip">' + soy.$$filterNoAutoescape(AJS.format('Get started by adding some pages to this space. \x3ca href\x3d\x22{0}\x22 class\x3d\x22{1}\x22\x3eCreate page\x3c/a\x3e.',"/confluence" + '/pages/createpage.action?spaceKey=' + opt_data.space.key,'page-tree-create-child-page-link')) + '</p>' : '<div class="ia-secondary-content">' + soy.$$filterNoAutoescape(opt_data.contextualNav) + '</div>') : Confluence.Templates.Sidebar.Pages.renderPageContextualNav({pageContextualNav: opt_data.contextualNav, hasCreatePermission: opt_data.hasCreatePermission}) : '') + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.contextualNav.soyTemplateName = 'Confluence.Templates.Sidebar.contextualNav';
}


Confluence.Templates.Sidebar.pagetreeList = function(opt_data, opt_ignored) {
  var output = '<ul class="' + ((opt_data.isSubtree) ? 'ia-subpagetree' : 'ia-pagetree') + '">';
  var itemList220 = opt_data.pagetree;
  var itemListLen220 = itemList220.length;
  for (var itemIndex220 = 0; itemIndex220 < itemListLen220; itemIndex220++) {
    var itemData220 = itemList220[itemIndex220];
    output += Confluence.Templates.Sidebar.pagetreeItem(itemData220);
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.pagetreeList.soyTemplateName = 'Confluence.Templates.Sidebar.pagetreeList';
}


Confluence.Templates.Sidebar.throbber = function(opt_data, opt_ignored) {
  return '<div class="content-container"><div class="throbber-container"><div class="throbber"><div class="spinner"></div><span>' + soy.$$escapeHtml('Loading...') + '</span></div></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.throbber.soyTemplateName = 'Confluence.Templates.Sidebar.throbber';
}


Confluence.Templates.Sidebar.treeThrobber = function(opt_data, opt_ignored) {
  return '<ul class="ia-subpagetree"><li class="acs-tree-item leaf"><span class="node-title">' + soy.$$escapeHtml('Loading...') + '</span></li></ul>';
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.treeThrobber.soyTemplateName = 'Confluence.Templates.Sidebar.treeThrobber';
}


Confluence.Templates.Sidebar.pagetreeItem = function(opt_data, opt_ignored) {
  return '<li class="acs-tree-item' + ((opt_data.hasChildren) ? (opt_data.children.length) ? ' opened' : ' closed' : ' leaf') + ((opt_data.groupType) ? ' grouping' : '') + ((opt_data.active) ? ' current-item' : '') + '"' + ((opt_data.pageId) ? ' data-page-id="' + soy.$$escapeHtml(opt_data.pageId) + '"' : '') + ((opt_data.groupType) ? ' data-group-type="' + soy.$$escapeHtml(opt_data.groupType) + '" data-group-value="' + soy.$$escapeHtml(opt_data.groupValue) + '"' : '') + ((opt_data.hasChildren) ? ' aria-expanded="' + ((opt_data.children.length) ? 'true' : 'false') + '"' : '') + '>' + ((! opt_data.groupType) ? '<a href="' + soy.$$escapeHtml(opt_data.url) + '">' : '') + '<span class="icon aui-icon aui-icon-small ' + ((opt_data.hasChildren) ? (opt_data.children.length) ? 'aui-iconfont-expanded' : 'aui-iconfont-collapsed' : '') + '"></span><span class="node-title navigation-pseudo-link">' + soy.$$escapeHtml(opt_data.title) + '</span>' + ((! opt_data.groupType) ? '</a>' : '') + ((opt_data.children && opt_data.children.length > 0) ? Confluence.Templates.Sidebar.pagetreeList({pagetree: opt_data.children, isSubtree: true}) : '') + '</li>';
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.pagetreeItem.soyTemplateName = 'Confluence.Templates.Sidebar.pagetreeItem';
}


Confluence.Templates.Sidebar.renderSpaceToolsSection = function(opt_data, opt_ignored) {
  var output = '<div class="space-tools-section"><div id="space-tools-menu-additional-items" class="hidden">';
  var linkList299 = opt_data.advancedLinks;
  var linkListLen299 = linkList299.length;
  for (var linkIndex299 = 0; linkIndex299 < linkListLen299; linkIndex299++) {
    var linkData299 = linkList299[linkIndex299];
    output += '<div data-label="' + soy.$$escapeHtml(linkData299.title) + '" data-class="' + soy.$$escapeHtml(linkData299.styleClass) + '" data-href="' + soy.$$escapeHtml(linkData299.url) + '">' + soy.$$escapeHtml(linkData299.title) + '</div>';
  }
  output += ((opt_data.hasConfigurePermission) ? '<div data-label="' + soy.$$escapeHtml('Configure sidebar') + '" data-class="configure-sidebar" data-href="">' + soy.$$escapeHtml('Configure sidebar') + '</div>' : '') + '</div>' + aui.dropdown2.trigger({id: 'space-tools-menu-trigger', tagName: 'button', content: '<span class="aui-icon aui-icon-small aui-iconfont-configure">' + soy.$$escapeHtml('Configure') + '</span><span class="aui-button-label">' + soy.$$escapeHtml('Space tools') + '</span>', extraClasses: 'aui-button aui-button-subtle tipsy-enabled aui-dropdown2-trigger-arrowless ' + ((opt_data.currentlyViewed) ? ' current-item' : ''), menu: {id: 'space-tools-menu'}}) + aui.dropdown2.contents({id: 'space-tools-menu', extraClasses: 'aui-style-default space-tools-dropdown', extraAttributes: {'data-aui-alignment': 'top left'}}) + '<a href="#" role="button" class="expand-collapse-trigger aui-icon aui-icon-small ' + ((opt_data.pageTreeState == 'hide') ? 'aui-iconfont-chevron-double-right" aria-expanded="false"' : 'aui-iconfont-chevron-double-left" aria-expanded="true"') + '></a></div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.renderSpaceToolsSection.soyTemplateName = 'Confluence.Templates.Sidebar.renderSpaceToolsSection';
}


Confluence.Templates.Sidebar.spaceToolsMenu = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.isAuiFiveSeven) {
    output += '<div class="space-tools-menu"><div class="aui-dropdown2-section"><ul class="space-tools-navigation">';
    var linkList348 = opt_data.spaceToolLinks;
    var linkListLen348 = linkList348.length;
    for (var linkIndex348 = 0; linkIndex348 < linkListLen348; linkIndex348++) {
      var linkData348 = linkList348[linkIndex348];
      output += '<li><a href="' + soy.$$escapeHtml(linkData348.href) + '" title="' + soy.$$escapeHtml(linkData348.label) + '">' + soy.$$escapeHtml(linkData348.label) + '</a></li>';
    }
    output += '</ul></div>';
    if (opt_data.spaceLinks.length > 0) {
      output += '<div class="aui-dropdown2-section"><ul class="space-operations">';
      var linkList361 = opt_data.spaceLinks;
      var linkListLen361 = linkList361.length;
      for (var linkIndex361 = 0; linkIndex361 < linkListLen361; linkIndex361++) {
        var linkData361 = linkList361[linkIndex361];
        output += '<li><a class="' + soy.$$escapeHtml(linkData361.className) + '" href="' + soy.$$escapeHtml(linkData361.href) + '" title="' + soy.$$escapeHtml(linkData361.label) + '">' + soy.$$escapeHtml(linkData361.label) + '</a></li>';
      }
      output += '</ul></div>';
    }
    output += '</div>';
  } else {
    output += aui.dropdown2.itemGroup({isTruncated: true, items: opt_data.spaceToolLinks, extraClasses: 'space-tools-navigation'}) + ((opt_data.spaceLinks.length > 0) ? aui.dropdown2.itemGroup({isTruncated: true, items: opt_data.spaceLinks, extraClasses: 'space-operations'}) : '');
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.spaceToolsMenu.soyTemplateName = 'Confluence.Templates.Sidebar.spaceToolsMenu';
}


Confluence.Templates.Sidebar.configure = function(opt_data, opt_ignored) {
  return '<div class="acs-nav-sections"><table id="acs-nav-list-main" class="acs-nav-list"></table><div class="acs-nav-list-quick-section' + ((opt_data.quickLinksState == 'hide') ? ' hidden-section' : '') + '"><div class="quick-links-header"><h5>' + soy.$$escapeHtml('Space shortcuts') + '</h5><a href="#" class="aui-icon aui-icon-small toggle-link ' + ((opt_data.quickLinksState == 'hide') ? 'aui-iconfont-add-circle" aria-disabled="true"' : 'aui-iconfont-plan-disabled" aria-disabled="false"') + ' data-tooltip="' + soy.$$escapeHtml('Hide/Show space shortcuts') + '"></a></div><table id="acs-nav-list-quick" class="acs-nav-list"></table><p class="tip">' + soy.$$escapeHtml('Click \x22Add link\x22 to add links to the sidebar.') + '</p><a class="acs-add-link" href="#"><span class="aui-icon aui-icon-small aui-iconfont-add-small"></span><span class="label">' + soy.$$escapeHtml('Add link') + '</span></a></div>' + ((opt_data.hasSidebarCustomisation) ? '<p class="tip">' + soy.$$filterNoAutoescape(AJS.format('You can continue editing your customized sidebar in the space admin. \x3ca href\x3d\x22{0}\x22 class\x3d\x22{1}\x22\x3eGo to space admin\x3c/a\x3e.',opt_data.customContentAdminLink,'custom-sidebar-tip')) + '</p>' + Confluence.Templates.Sidebar.renderCustomContent(opt_data) : '') + '<div class="acs-nav-list-page-tree-section' + ((opt_data.pageTreeState == 'hide') ? ' hidden-section' : '') + '"><div class="page-tree-header"><h5>' + soy.$$escapeHtml('Navigation display options') + '</h5><a href="#" class="aui-icon aui-icon-small ' + ((opt_data.pageTreeState == 'hide') ? 'aui-iconfont-add-circle" aria-disabled="true"' : 'aui-iconfont-plan-disabled" aria-disabled="false"') + ' data-tooltip="' + soy.$$escapeHtml('Hide/Show navigation display options') + '"></a></div><form class="aui page-tree-options"><div class="radio"><input ' + ((opt_data.pageTreeState == 'hide') ? 'disabled ' : '') + ' class="radio acs-nav-type" type="radio" name="nav-type" value="pages" id="nav-type-pages" ' + ((! opt_data.pageTree) ? 'checked' : '') + '><label for="nav-type-pages">' + soy.$$escapeHtml('Child pages') + '</label></div><div class="radio"><input ' + ((opt_data.pageTreeState == 'hide') ? 'disabled ' : '') + ' class="radio acs-nav-type" type="radio" name="nav-type" value="page-tree" id="nav-type-tree" ' + ((opt_data.pageTree) ? 'checked' : '') + '><label for="nav-type-tree">' + soy.$$escapeHtml('Page tree') + '</label></div></form></div><button class="aui-style aui-button acs-done-link">' + soy.$$escapeHtml('Done') + '</button></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.configure.soyTemplateName = 'Confluence.Templates.Sidebar.configure';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:soy-resources', location = 'soy/sidebar-pages.soy' */
// This file was automatically generated from sidebar-pages.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Sidebar.Pages.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Sidebar == 'undefined') { Confluence.Templates.Sidebar = {}; }
if (typeof Confluence.Templates.Sidebar.Pages == 'undefined') { Confluence.Templates.Sidebar.Pages = {}; }


Confluence.Templates.Sidebar.Pages.renderPageContextualNav = function(opt_data, opt_ignored) {
  return '<div class="ia-secondary-header"><h5 class="ia-secondary-header-title pages"><span class="label">' + soy.$$escapeHtml('Child pages') + '</span></h5></div><div class="ia-secondary-parent-content">' + Confluence.Templates.Sidebar.Pages.parentPage({parentPage: opt_data.pageContextualNav.parentPage}) + '</div><div class="ia-secondary-current-content">' + Confluence.Templates.Sidebar.Pages.currentPage({currentPage: opt_data.pageContextualNav.currentPage}) + '</div><div class="ia-secondary-content">' + Confluence.Templates.Sidebar.Pages.childPages({children: opt_data.pageContextualNav, createPermission: opt_data.hasCreatePermission}) + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.Pages.renderPageContextualNav.soyTemplateName = 'Confluence.Templates.Sidebar.Pages.renderPageContextualNav';
}


Confluence.Templates.Sidebar.Pages.childPages = function(opt_data, opt_ignored) {
  return '<div class="contextual-nav-child-pages">' + ((opt_data.children.initialChildPages.length) ? '<ul class="children">' + Confluence.Templates.Sidebar.Pages.renderChildren({children: opt_data.children.initialChildPages}) + '</ul>' + ((opt_data.children.remainingChildPages.length) ? '<ul class="more-children">' + Confluence.Templates.Sidebar.Pages.renderChildren({children: opt_data.children.remainingChildPages}) + '</ul><a class="more-children-link" href=""><span class="icon"></span><span class="label">' + soy.$$escapeHtml(AJS.format('{0} more child pages',opt_data.children.remainingChildPages.length)) + '</span></a>' : '') : '') + ((opt_data.createPermission && opt_data.children.createLink) ? '<a class="create-child-page-link" href="' + soy.$$escapeHtml(opt_data.children.createLink) + '"><span class="aui-icon aui-icon-small aui-iconfont-add-small"></span><span class="label">' + soy.$$escapeHtml('Create child page') + '</span></a>' : '') + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.Pages.childPages.soyTemplateName = 'Confluence.Templates.Sidebar.Pages.childPages';
}


Confluence.Templates.Sidebar.Pages.currentPage = function(opt_data, opt_ignored) {
  return '' + ((opt_data.currentPage) ? '<ul class="ia-secondary-currentPage-title wiki' + ((opt_data.currentPage.active) ? ' current-item' : '') + '"><li><span class="icon"></span><span class="label">' + soy.$$escapeHtml(opt_data.currentPage.title) + '</span></li></ul>' : '');
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.Pages.currentPage.soyTemplateName = 'Confluence.Templates.Sidebar.Pages.currentPage';
}


Confluence.Templates.Sidebar.Pages.parentPage = function(opt_data, opt_ignored) {
  return '' + ((opt_data.parentPage) ? '<ul class="parent ia-secondary-header-title wiki' + ((opt_data.parentPage.active) ? ' current-item' : '') + '"><li class="parent-item"><a class="parent-item-link" href="' + soy.$$escapeHtml(opt_data.parentPage.url) + '" title="' + soy.$$escapeHtml(opt_data.parentPage.title) + '"><span class="icon"></span><span class="label">' + soy.$$escapeHtml(opt_data.parentPage.title) + '</span></a></li></ul>' : '');
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.Pages.parentPage.soyTemplateName = 'Confluence.Templates.Sidebar.Pages.parentPage';
}


Confluence.Templates.Sidebar.Pages.renderChildren = function(opt_data, opt_ignored) {
  var output = '';
  var childList65 = opt_data.children;
  var childListLen65 = childList65.length;
  for (var childIndex65 = 0; childIndex65 < childListLen65; childIndex65++) {
    var childData65 = childList65[childIndex65];
    output += '<li class="child-item" data-page-id="' + soy.$$escapeHtml(childData65.pageId) + '"><span class="icon"></span><a href="' + soy.$$escapeHtml(childData65.url) + '" title="' + soy.$$escapeHtml(childData65.title) + '"><span class="label">' + soy.$$escapeHtml(childData65.title) + '</span></a></li>';
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Sidebar.Pages.renderChildren.soyTemplateName = 'Confluence.Templates.Sidebar.Pages.renderChildren';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.editor-loader:background-loading-editor', location = 'jscripts/editor-loader.js' */
define("confluence-editor-loader/editor-loader","jquery confluence/legacy wrm/context-path confluence/dark-features confluence/api/logger confluence/meta confluence/template-renderer confluence/aui-overrides ajs wrm window".split(" "),function(d,h,n,o,e,i,p,q,f,r,s){var b,c={_listening:false,_queuedHandlers:[],_watchHandler:function(){h.Editor.UI.toggleWatchPage(false)},_unwatchHandler:function(){h.Editor.UI.toggleWatchPage(true)},_createQueueAdder:function(a){return function(){c._listening&&c._queuedHandlers.push(a)}},
bind:function(){f.bind("watchpage.pageoperation",this._createQueueAdder(this._watchHandler));f.bind("unwatchpage.pageoperation",this._createQueueAdder(this._unwatchHandler))},setListening:function(a){this._listening=a},applyHandlers:function(){for(var a=this._queuedHandlers.pop();a;){a();a=this._queuedHandlers.pop()}}};c.setListening(true);c.bind();var l=function(){var a=d("#editor-preload-container");a.length||(a=d('<div id="editor-preload-container" style="display: none;"></div>'));return a},g,
m={getPreloadContainer:l,getEditorPreloadMarkup:function(){if(g)return g;h.debugTime("confluence.editor.preload");var a=n()+"/plugins/editor-loader/editor.action";return g=d.get(a,{parentPageId:i.get("parent-page-id"),pageId:i.get("page-id"),spaceKey:i.get("space-key"),atl_after_login_redirect:s.location.pathname,timeout:m.loadingTimeout})},resourcesLoaded:function(){return b&&b.state()==="resolved"},loadingTimeout:12E3,isEditorActive:function(){var a=d("#editor-preload-container");return a.length&&
a.is(":visible")},load:function(a,c){function g(){var a=[o.isEnabled("frontend.editor.v4")?"wrc!editor-v4":"wrc!editor-v3","wrc!editor","wrc!macro-browser","wrc!fullpage-editor"],b=d.Deferred();r.require(a).then(b.resolve,function(a){e.logError("Failed to load editor resources",a);b.reject(a)});return b.promise()}var k;if(b){b.fail(function(){c?c.call(this,arguments):e.log("EditorLoader: loadGuard - previous load failed.")});b.done(function(){a?b.done(function(){setTimeout(a,0)}):e.log("EditorLoader: loadGuard - editor is already loaded.")});
k=true}else k=void 0;if(!k){b=new d.Deferred;a&&b.done(a);c&&b.fail(c);var f=l();d("body").append(f);var j=new d.Deferred;i.get("page-id")?this.getEditorPreloadMarkup().always(function(a,b,c){if(b==="success"||b==="notmodified"){f.append(a);a=p.renderTemplate("dynamic-editor-metadata");d("head").append(a);q.metaToParams();e.debug("EditorLoader: Finished loading the editor template.");j.resolve();h.debugTimeEnd("confluence.editor.preload")}else j.reject("Error loading the Editor template: "+c.status+
" - "+c.statusText)}):j.resolve();j.pipe(g).then(function(){e.debug("EditorLoader: Finished loading the editor.");b.resolve()},function(){b.reject(arguments)})}},getEditorForm:function(){if(this.isEditorActive()){var a=require("tinymce");return d(a.activeEditor.getContainer()).closest("form")}return null}};return m});require("confluence/module-exporter").exportModuleAsGlobal("confluence-editor-loader/editor-loader","AJS.Confluence.EditorLoader");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.editor-loader:background-loading-editor', location = 'jscripts/block-and-buffer-keys.js' */
define("confluence-editor-loader/block-and-buffer-keys",[],function(){return{block:function(e){var d=[],f=function(a){a.preventDefault();a.stopPropagation();var c=a.which;c||(c=a.charCode?a.charCode:a.keyCode);13!==c&&48>c||d.push(c);a.preventDefault()};e.keypress(f);return function(){e.unbind("keypress",f);for(var a="",c=0;c<d.length;c++){var b;b=d[c];65535<b?(b-=65536,b=String.fromCharCode(55296+(b>>10),56320+(b&1023))):b=String.fromCharCode(b);a+=b}return a}}}});
require("confluence/module-exporter").exportModuleAsGlobal("confluence-editor-loader/block-and-buffer-keys","AJS.Confluence.BlockAndBuffer");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--fc45e4dda1', location = 'aui.chunk.fbeb34172411fa3c260c--628726ce18a2dc2640a5.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.vendors--fc45e4dda1"],{"FJx+":function(i,n,s){"use strict";s.r(n)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.sortable', location = 'aui.chunk.f42656964f3e8eb3302b--c6bb4ef4f079172f7624.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["jquery.ui.sortable"],{Ckgl:function(u,i,n){"use strict";n.r(i);n("FJx+"),n("xTPO");i.default="jquery"}},[["Ckgl","runtime","aui.splitchunk.vendors--20a97d6a33","aui.splitchunk.vendors--d18e3cafa7","aui.splitchunk.vendors--db57146687","aui.splitchunk.vendors--51504ebf10","aui.splitchunk.vendors--351ae504d7","aui.splitchunk.vendors--6ce18a1d80","aui.splitchunk.vendors--fc45e4dda1","aui.splitchunk.0d131bcbf1"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar', location = 'js/linkbrowser-editor-adapter.js' */
AJS.$(function(){$("body").hasClass("with-space-sidebar")&&(Confluence=Confluence||{},Confluence.Editor=Confluence.Editor||{},AJS.Rte=AJS.Rte||{},AJS.Rte.BookmarkManager=AJS.Rte.BookmarkManager||{},AJS.Rte.BookmarkManager.storeBookmark=AJS.$.noop,AJS.Rte.BookmarkManager.restoreBookmark=AJS.$.noop)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar', location = 'js/sidebar-ia.js' */
(function(I){Confluence.Sidebar={};AJS.toInit(function(b){function r(){AJS.trigger("sidebar.hide-overlays")}function n(a,d){b(document).tooltip(b.extend({gravity:"w",title:"data-tooltip",delayIn:500,delayOut:0,offset:5},d?d:{},{live:a}))}function z(){function a(){b(".tipsy").remove()}b(".acs-side-bar .quick-links-section").attr("data-collapsed-tooltip","Space shortcuts");b("#space-tools-menu-trigger").attr("data-collapsed-tooltip","Space tools");
"pages"==w.attr("data-tree-type")&&(b(".acs-side-bar .ia-secondary-container").attr("data-collapsed-tooltip","Child pages"),n(".collapsed .ia-secondary-container.tipsy-enabled",{title:"data-collapsed-tooltip"}));n(".expand-collapse-trigger");n(".ia-splitter-handle.tipsy-enabled");n(".collapsed .quick-links-section.tipsy-enabled, .collapsed .acs-nav-item \x3e a.tipsy-enabled, .collapsed #space-tools-menu-trigger.tipsy-enabled",{title:"data-collapsed-tooltip"});n(".configure-mode .acs-side-bar-space-info.tipsy-enabled",
{title:"data-configure-tooltip"});f.on("mousedown click scroll",r);b(window).on("scroll resize",r);AJS.bind("sidebar.hide-overlays",a);AJS.bind("sidebar.disable-tooltip",function(d,c){d=b(c).closest(".tipsy-enabled");if(1==d.size()){d.removeClass("tipsy-enabled").addClass("tipsy-disabled").attr("title","");if(d=d.data("tipsy"))d.hoverState="out";a()}});AJS.bind("sidebar.enable-all-tooltips",function(){b(".tipsy-disabled").removeClass("tipsy-disabled").addClass("tipsy-enabled")})}function C(a){"blogs"===
a?D(f,E):"pages"===a&&Confluence.Sidebar.Pages.installHandlers(f)}function E(a,d){var c=a.attr("data-group-type");a=a.attr("data-group-value");b.get(F+"/rest/ia/1.0/pagetree/blog/subtree",{spaceKey:G,groupType:c,groupValue:a}).done(d)}function D(a,d){a.delegate(".acs-tree-item \x3e .icon, .acs-tree-item \x3e .node-title","click",function(){var c=b(this).parent(),p=c.find("\x3e .icon");if(c.hasClass("opened"))c.children("ul").hide(),c.removeClass("opened").addClass("closed"),c.attr("aria-expanded",
!1),p.removeClass("aui-iconfont-expanded").addClass("aui-iconfont-collapsed");else if(c.hasClass("closed")){var g=c.children("ul");if(g.length)g.show();else{var l=b(Confluence.Templates.Sidebar.treeThrobber());c.append(l);d(c,function(x){x=b(Confluence.Templates.Sidebar.pagetreeList({pagetree:x,isSubtree:!0}));l.remove();x.appendTo(c)})}c.removeClass("closed").addClass("opened");c.attr("aria-expanded",!0);p.removeClass("aui-iconfont-collapsed").addClass("aui-iconfont-expanded")}})}function m(){var a=
y.offset().top,d=h.scrollTop(),c=h.scrollLeft();0>d||d>u.height()-h.height()||0>c||c>u.width()-h.width()||("fixed"!==b("#header").css("position")?e.css({top:Math.max(a-d,0)+"px",left:Math.min(-1*c,0)+"px"}):e.css({left:Math.min(-1*c,0)+"px"}))}function k(a){a=Math.max(a,55);a=Math.min(a,640);A.setItemQuietly("width",a);150>=a?(e.addClass("collapsed"),b(".expand-collapse-trigger").removeClass("aui-iconfont-chevron-double-left").addClass("aui-iconfont-chevron-double-right").attr("aria-expanded",!1),
v.attr("data-tooltip",Confluence.Sidebar.expandTooltip),AJS.trigger("sidebar.collapsed")):e.hasClass("collapsed")&&(e.removeClass("collapsed"),v.attr("data-tooltip",Confluence.Sidebar.collapseTooltip),b(".expand-collapse-trigger").removeClass("aui-iconfont-chevron-double-right").addClass("aui-iconfont-chevron-double-left").attr("aria-expanded",!0),AJS.trigger("sidebar.expanded"));e.width(a);B.eq(1).css("margin-left",a+"px");H.css("margin-left",e.outerWidth()+"px")}var h=b(window),u=b(document),q=
Math.min(285,h.width()/3),A=AJS.storageManager("confluence","sidebar"),F=AJS.contextPath(),G=AJS.Meta.get("space-key"),t=AJS.Meta.get("use-keyboard-shortcuts")?" "+"(\u2009[\u2009)":"";Confluence.Sidebar.collapseTooltip="Collapse sidebar"+t;Confluence.Sidebar.expandTooltip="Expand sidebar"+t;var B=b(".ia-splitter").children(),y=b(".ia-splitter-left");if(!(1>y.length)){var f=b(".acs-side-bar"),e=y.find(".ia-fixed-sidebar"),
v=b("\x3cdiv\x3e",{"class":"ia-splitter-handle tipsy-enabled","data-tooltip":Confluence.Sidebar.collapseTooltip}).appendTo(e);b("\x3cdiv\x3e",{"class":"ia-splitter-handle-highlight confluence-icon-grab-handle"}).appendTo(v);var w=b(".ia-secondary-container"),H=b("#footer, #studio-footer");Confluence.Sidebar.throbberDiv=function(){var a=b(Confluence.Templates.Sidebar.throbber()),d=a.find(".spinner"),c=Raphael.spinner(d[0],10,"#666");a.find(".throbber").bind("remove",function(){c()});return a};w.length&&
C(w.attr("data-tree-type"));h.scroll(m);h.resize(m);h.on("touchend",m);u.ready(m);AJS.bind("confluence.header-resized",m);b("#header-precursor img").load(m);Confluence.Sidebar.applyTooltip=n;z();AJS.bind("sidebar.exit-configure-mode",z);t=A.getItem("width")||q;k(150<t?t:55);(function(){u.on("mousewheel",".ia-scrollable-section",function(a,d){var c=b(this).scrollTop(),p=b(this).get(0).scrollHeight-b(this).innerHeight()-1;(0<d&&0>=c||0>d&&c>=p)&&a.preventDefault();a.stopPropagation()})})();e.css("visibility",
"visible");m();(function(){function a(){if(!Confluence.Sidebar.Configure.mode){var g=e.width();55<g?150>=g?(q=285,k(q)):(q=g,k(55)):k(q)}}var d=b("body"),c=!1,p=function(g){g.preventDefault();B.one("selectstart",function(l){l.preventDefault()});c=!1;d.on("mousemove.ia-splitter",function(l){Confluence.Sidebar.Configure.mode&&285>l.pageX||(k(l.pageX),c=!0)});d.one("mouseup mouseleave",function(){150>=e.width()?k(55):q=e.width();d.off("mousemove.ia-splitter")})};v.on("mousedown.ia-splitter",function(g){p(g);
r()}).click(function(){c?c=!1:a()});Confluence.Sidebar.toggle=a})();setTimeout(function(){Confluence.Sidebar.createFlyouts(f)},0);AJS.trigger("sidebar.finished-loading");h.one("pagetree-children-loaded",function(){var a=b(".plugin_pagetree_current");a.length&&(a=a.offset(),a.top>f.height()/2&&f.scrollTop(a.top-f.height()/3),a.left>f.width()/2&&f.scrollLeft(a.left-f.width()/2))});AJS.bind("sidebar.enter-configure-mode",function(){r();285>e.width()&&(Confluence.Sidebar.widthBeforeConfiguring=e.width(),
k(285));e.addClass("configure-mode")});AJS.bind("sidebar.exit-configure-mode",function(){r();Confluence.Sidebar.widthBeforeConfiguring&&(k(Confluence.Sidebar.widthBeforeConfiguring),Confluence.Sidebar.widthBeforeConfiguring=void 0);e.removeClass("configure-mode")})}})})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar', location = 'js/configurable-nav.js' */
(function(f){AJS.Confluence.ConfigurableNav=AJS.RestfulTable.extend({initialize:function(b){var a=this;a.options=f.extend(!0,this._getDefaultOptions(b),b,{columns:[{id:"title"}]});a._events=a._events||AJS.RestfulTable.Events;a._event=a._event||AJS.RestfulTable.Events;a.classNames=AJS.RestfulTable.ClassNames;a.dataKeys=AJS.RestfulTable.DataKeys;a.$table=b.$el.addClass(this.classNames.RESTFUL_TABLE).addClass(this.classNames.ALLOW_HOVER).addClass("aui").addClass(a.classNames.LOADING);a.$table.prepend('\x3ccolgroup\x3e\x3ccol span\x3d"1" class\x3d"aui-restfultable-order"\x3e\x3ccol span\x3d"1"\x3e\x3ccol span\x3d"1" class\x3d"aui-restfultable-operations"\x3e\x3c/colgroup\x3e');
a.$tbody=f("\x3ctbody/\x3e");a._models=this._createCollection();a._rowClass=AJS.Confluence.ConfigurableNav.Row;a.editRows=[];a.enableReordering();a._models.bind("remove",function(c){f.each(a.getRows(),function(d,g){g.model===c&&(g.hasFocus()&&a._createRow&&a._createRow.trigger(a._event.FOCUS),a.removeRow(g))})});this.fetchInitialResources();Confluence.Sidebar.applyTooltip(".aui-iconfont-add-circle, .aui-iconfont-cross-circle, .aui-iconfont-plan-disabled",{gravity:"ne"})},enableReordering:function(){var b=
this;this.$tbody.sortable({handle:"."+this.classNames.DRAG_HANDLE,helper:function(a,c){a=c.clone(!0).addClass(b.classNames.MOVEABLE);a.children().each(function(d){f(this).width(c.children().eq(d).width())});return a},start:function(a,c){var d=c.placeholder.find("td");c.item.addClass(b.classNames.MOVEABLE).children().each(function(g){f(this).width(d.eq(g).width())});c.placeholder.html('\x3ctd colspan\x3d"'+b.getColumnCount()+'"\x3e\x26nbsp;\x3c/td\x3e').css("visibility","visible");b.getRowFromElement(c.item[0]).trigger(b._event.MODAL)},
stop:function(a,c){jQuery(c.item[0]).is(":visible")&&(c.item.removeClass(b.classNames.MOVEABLE).children().attr("style",""),c.placeholder.removeClass(b.classNames.ROW),b.getRowFromElement(c.item[0]).trigger(b._event.MODELESS))},update:function(a,c){a={};var d=b.getRowFromElement(c.item[0]);if(d){c=b.options.reverseOrder?c.item.next():c.item.prev();c.length?(c=b.getRowFromElement(c).model,a.after=c.url()):a.position="First";a.spaceKey=AJS.Meta.get("space-key");f.ajax({url:d.model.url()+"/move",type:"POST",
dataType:"json",contentType:"application/json",data:JSON.stringify(a),complete:function(){d.hideLoading()},success:function(e){g(AJS.RestfulTable.Events.REORDER_SUCCESS,b,[e])},error:function(e){var h=f.parseJSON(e.responseText||e.data);g(AJS.RestfulTable.Events.SERVER_ERROR,b,[h,e])}});function g(e,h,k){f(h).trigger(e,k);f(h).trigger(e,k);h.id&&f(h).trigger(h.id+"-"+e,k)}d.showLoading()}},axis:"y",delay:0,containment:"document",cursor:"move",scroll:!0,zIndex:8E3});this.$tbody.bind("selectstart mousedown",
function(a){return!f(a.target).is("."+b.classNames.DRAG_HANDLE)})}});AJS.Confluence.ConfigurableNav.ReadView=AJS.RestfulTable.CustomReadView.extend({render:function(b){return _.template('\x3cspan class\x3d"acs-nav-item-link" title\x3d"\x3c%\x3dtitle%\x3e"\x3e\x3cspan class\x3d"'+("pinned_attachment"==b.styleClass?"aui-icon aui-icon-small aui-iconfont-attachment":"icon")+'"\x3e\x3c/span\x3e\x3cspan class\x3d"acs-nav-item-label"\x3e\x3c%\x3dtitle%\x3e\x3c/span\x3e\x3c/span\x3e')({title:AJS.escapeHtml(b.title)})}});
AJS.Confluence.ConfigurableNav.Row=AJS.RestfulTable.Row.extend({render:function(){var b=this,a=this.model.toJSON(),c=f("\x3ctd class\x3d'aui-restfultable-operations' /\x3e").append(this.renderOperations(a.canHide,a.hidden)),d=f('\x3ctd class\x3d"'+this.classNames.ORDER+'"/\x3e').append(this.renderDragHandle());b._event=b._event||b._events;b.$el.attr("data-id",this.model.id);b.$el.append(d);f.each(b.columns,function(g,e){g=f("\x3ctd /\x3e");var h=a[e.id];h&&b.$el.attr("data-"+e.id,h);e=(new AJS.Confluence.ConfigurableNav.ReadView).render(a);
g.append(e);b.$el.append(g)});b.$el.append(c);a.canHide&&a.hidden&&b.$el.addClass("hidden-link");b.$el.addClass(this.classNames.ROW+" "+b.classNames.READ_ONLY+" acs-nav-item "+a.styleClass);b.trigger(this._event.RENDER,this.$el,a);b.$el.trigger(this._event.CONTENT_REFRESHED,[b.$el]);return b},renderOperations:function(b,a){var c=this,d=f('\x3ca href\x3d"#" class\x3d"aui-icon aui-icon-small"/\x3e');if(b){function g(e){e.hasClass("aui-iconfont-plan-disabled")?e.attr("data-tooltip","Hide link"):
e.attr("data-tooltip","Show link")}d.addClass(a?"aui-iconfont-add-circle show-link":"aui-iconfont-plan-disabled hide-link").click(function(e){e.preventDefault();f.ajax({url:c.model.url()+(a?"/show":"/hide"),type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({spaceKey:AJS.Meta.get("space-key")})}).done(function(){d.closest(".acs-nav-item").toggleClass("hidden-link");d.toggleClass("aui-iconfont-plan-disabled").toggleClass("aui-iconfont-add-circle");
d.toggleClass("hide-link").toggleClass("show-link");g(d)})});g(d)}else d.addClass("aui-iconfont-cross-circle delete-link tipsy-enabled").click(function(g){g.preventDefault();"hide"!=f(".acs-nav").data("quick-links-state")&&(AJS.trigger("sidebar.disable-tooltip",this),c.destroy())}).attr("data-tooltip","Remove link");return d},destroy:function(){this.model.destroy({data:{spaceKey:AJS.Meta.get("space-key")}})}})})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar', location = 'js/sidebar-pages.js' */
(function(a){var d=AJS.Meta.get("context-path");Confluence.Sidebar.Pages={installHandlers:function(c){c.find(".more-children-link").click(function(b){b.preventDefault();c.find("ul.more-children").show();a(this).hide()})},quickLinksContent:function(){return(new a.Deferred).resolve(a(".acs-side-bar .quick-links-wrapper").html())},childPageCollapsedContent:function(){var c=a(".acs-side-bar .ia-secondary-header"),b=a(".acs-side-bar .ia-secondary-parent-content"),e=a(".acs-side-bar .ia-secondary-current-content"),
f=a(".acs-side-bar .ia-secondary-content");return(new a.Deferred).resolve(a("\x3cdiv\x3e").append(a("\x3cdiv\x3e").addClass("acs-side-bar-flyout-wiki-wrapper").append(c.clone()).append(b.clone()).append(e.clone()).append(f.clone())).html())},pageTreeCollapsedContent:function(){var c=a(".page-tree-flyout-content");return 0==c.length?a.ajax({url:d+"/rest/ia/1.0/space/childPagesContextualNav",data:{pageId:AJS.Meta.get("page-id")}}).pipe(function(b){b=a("\x3cdiv\x3e").addClass("acs-side-bar-flyout-wiki-wrapper").append(Confluence.Templates.Sidebar.Pages.renderPageContextualNav({pageContextualNav:b,
hasCreatePermission:a(".acs-nav").data("has-create-permission")}));a("body").append(a("\x3cdiv\x3e").addClass("page-tree-flyout-content hidden").append(b.clone()));return b}):(new a.Deferred).resolve(c.html())}}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar', location = 'js/sidebar-links.js' */
AJS.$(function(){function v(b){var e=a(".space-information-container .favourite-space-icon");e.addClass("disabled");if("add"===b){var f="PUT";var l="confluence.space-sidebar.favourite.click"}else f="DELETE",l="confluence.space-sidebar.favourite-remove.click";a.ajax({url:h+"/rest/experimental/relation/user/current/favourite/toSpace/"+m,type:f,dataType:"json",contentType:"application/json",data:JSON.stringify({spaceKey:m})}).done(function(){var d=a("#space-favourite-add"),c=a("#space-favourite-remove");
"add"===b?(d.prop("data-favourited","true"),d.attr("aria-pressed","true"),c.attr("aria-pressed","false"),c.show(),d.hide()):(d.prop("data-favourited","false"),d.attr("aria-pressed","false"),c.attr("aria-pressed","true"),d.show(),c.hide())}).fail(function(d){var c=require("confluence/message-controller");c.showError(c.parseError(d),c.Location.FLAG)}).always(function(){e.removeClass("disabled")});AJS.trigger("analyticsEvent",{name:l})}function x(){AJS.trigger("sidebar-before-enter-configure-mode");
var b=a(".custom-sidebar-content"),e=b.length;if(e){var f=h+"/spaces/custompagecontent.action?key\x3d"+m;var l=b.children().html()}q=g.data("nav-type");Confluence.Sidebar.Configure.mode=!0;w=a(".acs-nav-sections .acs-nav-item.current-item").data("collector-key");k=Confluence.Sidebar.throbberDiv();b=a(".acs-nav-sections");k.height(b.height());r.hide();b.replaceWith(k);e=Confluence.Templates.Sidebar.configure({pageTree:"page-tree"===q,quickLinksState:g.data("quick-links-state"),pageTreeState:g.data("page-tree-state"),
hasSidebarCustomisation:e,customContentAdminLink:f,sidebarCustomisation:l,accessMode:AJS.Meta.get("access-mode")});n=a(e).hide();k.after(n);y();z();Confluence.Sidebar.Configure.MainLinks=new AJS.Confluence.ConfigurableNav({$el:a("#acs-nav-list-main"),resources:{all:h+"/rest/ia/1.0/link/main?spaceKey\x3d"+m+"\x26includeHidden\x3dtrue",self:h+"/rest/ia/1.0/link"}});Confluence.Sidebar.Configure.QuickLinks=new AJS.Confluence.ConfigurableNav({$el:a("#acs-nav-list-quick"),resources:{all:h+"/rest/ia/1.0/link/quick?spaceKey\x3d"+
m,self:h+"/rest/ia/1.0/link"},reverseOrder:!0});var d={};a("#acs-nav-list-main").one(AJS.RestfulTable.Events.INITIALIZED,function(){d.main=!0;d.quick&&(k.replaceWith(n),n.show())});a("#acs-nav-list-quick").one(AJS.RestfulTable.Events.INITIALIZED,function(){d.quick=!0;d.main&&(k.replaceWith(n),n.show())});a(".acs-nav-type").change(function(c){t("nav-type",a(this).val(),function(p){r.data("tree-type",p);g.data("nav-type",p)})});a(".acs-done-link").click(function(c){c.preventDefault();a(".acs-done-link").attr("aria-disabled",
!0).prop("disabled",!0);A()});a(".quick-links-header a").click(function(c){c.preventDefault();c="hide"===g.data("quick-links-state")?"show":"hide";t("quick-links-state",c,B)});a(".page-tree-header a").click(function(c){c.preventDefault();c="hide"===g.data("page-tree-state")?"show":"hide";var p=a(".acs-nav-type");"show"===c?p.attr("disabled",!1):p.attr("disabled",!0);t("page-tree-state",c,C)});AJS.$(".acs-side-bar-space-info").on("click.configurelogo",D);AJS.trigger("sidebar.enter-configure-mode")}
function D(b){var e=AJS.$(".acs-side-bar-space-info \x3e .flyout-handle");e.addClass("loading").spin();WRM.require("wr!com.atlassian.confluence.plugins.confluence-space-ia:avatar-picker",function(){AJS.trigger("deferred.spaceia.open.configure.space")}).always(function(){e.removeClass("loading").spinStop()});b.preventDefault()}function t(b,e,f){a.ajax({url:h+"/rest/ia/1.0/space/option",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({spaceKey:m,option:b,value:e}),success:function(l){f(e)}})}
function A(){if(q!==g.data("nav-type")||!0===u)location.reload(),u=!1;else{var b=a(".custom-sidebar-content"),e=b.length,f;e&&(f=b.children().html());k=Confluence.Sidebar.throbberDiv();k.height(n.height());n.replaceWith(k);Confluence.Sidebar.Configure.MainLinks.remove();Confluence.Sidebar.Configure.MainLinks.unbind();Confluence.Sidebar.Configure.QuickLinks.remove();Confluence.Sidebar.Configure.QuickLinks.unbind();a(document).unbind(AJS.RestfulTable.Events.INITIALIZED);a(document).unbind(AJS.RestfulTable.Events.ROW_ADDED);
a(document).unbind(AJS.RestfulTable.Events.ROW_REMOVED);r.show().css("display","");var l=function(){var c=a(Confluence.Templates.Sidebar.renderLinks({mainLinks:d.main,quickLinks:d.quick.reverse(),advancedLinks:d.advanced,hasConfigurePermission:!0,collectorToHighlight:w,quickLinksState:g.data("quick-links-state"),hasSidebarCustomisation:e,sidebarCustomisation:f}));k.replaceWith(c);Confluence.Sidebar.Configure.mode=!1;AJS.trigger("sidebar.exit-configure-mode")},d={};a.get(h+"/rest/ia/1.0/link/main",
{spaceKey:m,includeHidden:!1}).done(function(c){d.main=c;d.quick&&d.advanced&&l()});a.get(h+"/rest/ia/1.0/link/quick",{spaceKey:m}).done(function(c){d.quick=c;d.main&&d.advanced&&l()});a.get(h+"/rest/ia/1.0/link/advanced",{spaceKey:m}).done(function(c){d.advanced=c;d.main&&d.quick&&l()});Confluence.Sidebar.Configure.Logo&&Confluence.Sidebar.Configure.Logo.unbind()}}function y(){WRM.require("wr!com.atlassian.confluence.plugins.confluence-space-ia:link-dialog",function(){var b=new a.Deferred;a(".acs-add-link").click(function(e){b.done(function(){e.preventDefault();
"hide"!==g.data("quick-links-state")&&(Confluence.Sidebar.LinkAdapter.hijackLinkBrowser(),Confluence.Editor.LinkBrowser.open(),a("#recentlyviewed-panel-id").click())})}).addClass("acs-add-link-ready");AJS.Meta.get("space-key")?AJS.Confluence.EditorLoader.load(function(){b.resolve()},function(){AJS.log("Attempted to load editor for space ia side bar. Loading the editor failed.");b.reject()}):b.resolve()})}function z(){var b=a("#acs-nav-list-quick"),e=a(".acs-nav-sections .tip").hide(),f=function(){Confluence.Sidebar.Configure.QuickLinks.isEmpty()?
(b.hide(),e.show()):(e.hide(),b.show())};a(document).bind(AJS.RestfulTable.Events.INITIALIZED,f);a(document).bind(AJS.RestfulTable.Events.ROW_ADDED,f);a(document).bind(AJS.RestfulTable.Events.ROW_REMOVED,f)}function B(b){g.data("quick-links-state",b);"hide"===b?(a(".acs-nav-list-quick-section").addClass("hidden-section"),a(".quick-links-header a").removeClass("aui-iconfont-plan-disabled").addClass("aui-iconfont-add-circle").attr("aria-disabled",!0)):(a(".acs-nav-list-quick-section").removeClass("hidden-section"),
a(".quick-links-header a").removeClass("aui-iconfont-add-circle").addClass("aui-iconfont-plan-disabled").attr("aria-disabled",!1))}function C(b){g.data("page-tree-state",b);u=!0;"hide"===b?(a(".acs-nav-list-page-tree-section").addClass("hidden-section"),a(".page-tree-header a").removeClass("aui-iconfont-plan-disabled").addClass("aui-iconfont-add-circle").attr("aria-disabled",!0)):(a(".acs-nav-list-page-tree-section").removeClass("hidden-section"),a(".page-tree-header a").removeClass("aui-iconfont-add-circle").addClass("aui-iconfont-plan-disabled").attr("aria-disabled",
!1))}Confluence.Sidebar.Configure={mode:!1};var a=AJS.$,h=AJS.Meta.get("context-path"),m=AJS.Meta.get("space-key"),r=a(".acs-side-bar").find(".ia-secondary-container"),k,n,w,q,g=a(".acs-nav"),u=!1;a.ajaxSetup({cache:!1});a("body").on("click","#acs-configure-link, a.configure-sidebar",function(b){b.preventDefault();x()});a("#space-favourite-remove").on("click",function(){v("remove")});a("#space-favourite-add").on("click",function(){v("add")})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar', location = 'js/sidebar-space-tools.js' */
define("confluence-space-ia/sidebar-space-tools",["ajs","jquery","confluence/legacy"],function(b,a,c){return function(){var h=[],k=[],f=0===b.version.indexOf("5.7");if(!f){var n=a("#space-tools-menu-trigger");var l=a("#space-tools-menu")}f?a("#space-tools-web-items").children("div").each(function(){h.push({label:a(this).data("label"),href:a(this).data("href")})}):(b.warn("Remove legacy sidebar code when upgrade to AUI 5.8+"),l.on({"aui-dropdown2-show":function(){b.trigger("sidebar.disable-tooltip",
n)},"aui-dropdown2-hide":function(){b.trigger("sidebar.enable-all-tooltips")}}),a("#space-tools-web-items").children("div").each(function(){h.push({text:a(this).data("label"),href:a(this).data("href")})}));f?a("#space-tools-menu-additional-items").children("div").each(function(){k.push({className:a(this).data("class"),label:a(this).data("label"),href:a(this).data("href")})}):a("#space-tools-menu-additional-items").children("div").each(function(){k.push({extraClasses:a(this).data("class"),text:a(this).data("label"),
href:a(this).data("href")})});if(f){var p={hideDelay:null,width:170,displayShadow:!1,calculatePositions:function(g,d){d=d.target.offset();return{popupCss:{top:d.top-g.height(),left:d.left},arrowCss:{display:"none"}}},hideCallback:function(){b.trigger("sidebar.enable-all-tooltips")}};var m=b.InlineDialog(a("#space-tools-menu-trigger"),"space-tools",function(g,d,q){g.html(c.Templates.Sidebar.spaceToolsMenu({spaceToolLinks:h,spaceLinks:k,isAuiFiveSeven:f}));a(d).one("click",function(r){a("#inline-dialog-space-tools").is(":visible")&&
setTimeout(function(){m.hide()},0)});b.trigger("sidebar.disable-tooltip",d);b.trigger("sidebar.spacetools-loaded");q();return!1},p);m.addClass("aui-dropdown2 aui-style-default space-tools-dropdown");b.bind("sidebar.hide-overlays",m.hide)}else l.html(c.Templates.Sidebar.spaceToolsMenu({spaceToolLinks:h,spaceLinks:k})),b&&b.Confluence&&b.Confluence.Analytics&&b.Confluence.Analytics.setAnalyticsSource&&b.Confluence.Analytics.setAnalyticsSource(l.find("a:not(.configure-sidebar)"),"spacetools"),b.bind("sidebar.hide-overlays",
function(){l.filter('[aria-hidden\x3d"false"]').length&&a("#space-tools-menu-trigger").trigger("aui-button-invoke")});var e=a(".expand-collapse-trigger");e.click(function(g){g.preventDefault();c.Sidebar.toggle()});e.attr("data-tooltip",a(".ia-fixed-sidebar").hasClass("collapsed")?c.Sidebar.expandTooltip:c.Sidebar.collapseTooltip);e.attr("aria-label",a(".ia-fixed-sidebar").hasClass("collapsed")?c.Sidebar.expandTooltip:c.Sidebar.collapseTooltip);b.bind("sidebar.collapsed",function(){e.attr("data-tooltip",
c.Sidebar.expandTooltip);e.attr("aria-label",c.Sidebar.expandTooltip)});b.bind("sidebar.expanded",function(){e.attr("data-tooltip",c.Sidebar.collapseTooltip);e.attr("aria-label",c.Sidebar.collapseTooltip)})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar', location = 'js/sidebar-space-tools-require.js' */
require(["confluence-space-ia/sidebar-space-tools"],function(a){AJS.toInit(function(){a()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar', location = 'js/sidebar-flyouts.js' */
(function(c){function e(a,b,d,h){var g=AJS.InlineDialog(a,d,function(f,k,m){c(f).addClass("acs-side-bar-flyout ia-scrollable-section");c(f).empty().append(Confluence.Sidebar.throbberDiv());b().done(function(l){c(f).html(l)});AJS.trigger("sidebar.flyout-triggered",h);m();c(k).one("click",function(l){c("#inline-dialog-"+d).is(":visible")&&setTimeout(function(){g.hide()},0)});AJS.trigger("sidebar.disable-tooltip",k)},{gravity:"w",calculatePositions:n,useLiveEvents:!0,hideDelay:null,hideCallback:function(){AJS.trigger("sidebar.enable-all-tooltips")}});
AJS.bind("sidebar.hide-overlays",g.hide);return g}function n(a,b,d,h){a=b.target.offset();d=b.target.width();b=b.target.height();b={top:a.top+b/2-15,left:a.left+d+5,right:"auto"};a=c(window);b.maxHeight=a.height()+a.scrollTop()-b.top-20;return{popupCss:b,arrowCss:{top:9},gravity:"w"}}Confluence.Sidebar.createFlyouts=function(a){e(c(".collapsed .quick-links-section"),Confluence.Sidebar.Pages.quickLinksContent,"sidebar-quick-links-flyout",{flyout:"quick-links"});a=a.find(".ia-secondary-container");
a.length&&"pages"==a.attr("data-tree-type")&&e(c(".collapsed .ia-secondary-header-title.wiki"),Confluence.Sidebar.Pages.childPageCollapsedContent,"sidebar-children-flyout",{flyout:"children"});a.length&&"page-tree"==a.attr("data-tree-type")&&e(c(".collapsed .ia-secondary-header-title.page-tree"),Confluence.Sidebar.Pages.pageTreeCollapsedContent,"sidebar-page-tree-flyout",{flyout:"pagetree"})}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar', location = 'js/external/jquery.mousewheel.min.js' */
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar', location = 'js/sidebar-logo.js' */
AJS.toInit(function(c){Confluence.Sidebar.Configure.Logo={};var k=c(".acs-side-bar-space-info div.name a"),d,g,l=function(f){d||(d=new f({onCrop:function(h,b){c.ajax({type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({spaceKey:AJS.Meta.get("space-key"),spaceName:b,logoDataURI:h}),url:AJS.Meta.get("context-path")+"/rest/ia/1.0/space/setLogo",success:function(a){var e=a.logoDownloadPath;c(".space-logo .avatar-img").attr("src",AJS.Meta.get("context-path")+e);a=a.name;k.attr("title",
a).text(a);d.hide()},error:function(a){d.setMessage("An error occurred while updating space details");d._removeSaveImageLoadingIcon()}})}}));d.show(c(".acs-side-bar-space-info div.name a").text());return!1},m=function(){function f(b,a,e,n){b=a.target.offset();e=a.target.width();a=a.target.height();return{popupCss:{top:b.top+a/2-15,left:b.left+e+5,right:"auto"},arrowCss:{top:9},gravity:"w"}}var h=function(b,a,e){c(b).addClass("acs-side-bar-flyout");c(b).empty();b.html(AJS.template.load("logo-config-content"));
b.unbind("mouseover mouseout");AJS.trigger("sidebar.disable-tooltip",a);e()};g||(g=AJS.InlineDialog(c(".acs-side-bar-space-info"),"space-logo-config",h,{gravity:"w",calculatePositions:f,useLiveEvents:!0,hideCallback:function(){AJS.trigger("sidebar.enable-all-tooltips")},hideDelay:null,noBind:!0,width:635}));g.show()};AJS.bind("sidebar-before-enter-configure-mode",function(){AJS.bind("deferred.spaceia.open.configure.space",function(f){AJS.Meta.get("space-key")=="~"+AJS.Meta.get("remote-user")?m():
require(["confluence-space-ia/avatar-picker/avatar-picker-dialog"],l);f.preventDefault();return!1})});Confluence.Sidebar.Configure.Logo.unbind=function(){c("#inline-dialog-space-logo-config .cancel").click();c(".acs-side-bar-space-info").off("click.configurelogo");AJS.unbind("deferred.spaceia.open.configure.space")}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-fixed-headers:utils', location = '/js/utils/dom.js' */
define("confluence/fh/utils/dom",["jquery","ajs","exports"],function(d,q,f){function g(a){if(!g.done||a)l=0!==d("#main .aui-page-panel-outer-content").length?d("#main .aui-page-panel-outer-content"):d("#main"),r=d("#header"),h=d("#main-header"),m=!1,t=d("#main-header #title-text"),g.done=!0}function u(){g();var a=parseInt(h.css("top"))+h.outerHeight();isNaN(a)||a===u.lastValue||(u.lastValue=a,q.trigger("sticky-table-headers.change.options",{fixedOffset:a,cacheHeaderHeight:!0}))}function k(a,b,c){if(c){k[c]=
k[c]||{};if(b===k[c].lastValue)return;k[c].lastValue=b}a.css({transform:"translateY("+b+"px)","-webkit-transform":"translateY("+b+"px)","-ms-transform":"translateY("+b+"px)"})}function v(a,b,c){var n={};c.forEach(function(x){n[x]=a.css(x)});b.css(n)}function y(a){g();if(e){var b=h.height(),c=a?b-t.height():b+parseInt(t.css("padding-top"));p||(p=e.find("h1"));p.css({paddingTop:c});a=a?b:p.outerHeight();e.height(a)}}var e,l,r,h,t,p,m;var z=["margin-top","margin-right","margin-left","margin-bottom"];
var A=["padding-top","padding-right","padding-left","padding-bottom"];var w=["font-family","font-size","font-style","font-weight"];f.forceInitialize=function(){g(!0)};f.addClassToPage=function(){var a=q.Meta.get("content-type");"page"!==a&&"blogpost"!==a||q.bind("init.rte",function(){d(tinymce.activeEditor.getWin().document).find("body#tinymce").addClass("page-edit")})};f.adjustMainHeaderSize=function(){g();h.css({width:l.outerWidth()-(parseInt(l.css("padding-left"))+parseInt(l.css("padding-right")))});
var a=!r.hasClass("fixed-header");y(a)};f.updateTableStickyHeaderOption=u;f.translateVertical=k;f.createMainHeaderPlaceHolder=function(){g();if(e)return e;e=d('\x3cdiv id\x3d"main-header-placeholder"\x3e\x3c/div\x3e');var a=d("#title-text"),b=a.find("a"),c=a.clone().removeAttr("id"),n=c.find("a");v(h,e,z.concat(A));e.css({height:h.outerHeight()});v(a,c,w.concat("text-decoration","letter-spacing","text-align","padding-right","padding-bottom","padding-left","margin-right","margin-bottom","margin-left"));
c.css({paddingTop:parseInt(a.css("padding-top"))+Math.round(a.offset().top-h.offset().top)});v(b,n,w.concat(z,A,w,"color","text-decoration","letter-spacing","text-align"));e.append(c);return e};f.removeMainHeaderPlaceHolder=function(){e&&e.remove()};f.scrollIfAnchor=function(a){var b;if(b="object"===typeof a)b=a,b=d.contains(document.querySelector("#header"),b.target);if(!b&&(a="string"===typeof a?a:d(this).attr("href"))){g();b=r.outerHeight();var c=d(a.replace(/(!|"|\$|%|&|'|\(|\)|\*|\+|,|\.|\/|:|;|<|=|>|\?|@|\[|\\|\]|\^|`|\{|\||\}|~)/g,
"\\$1"));if(c.length&&(m=!0,window.scrollTo(0,c.offset().top-b),history&&"pushState"in history))return history.pushState({},document.title,window.location.pathname+window.location.search+a),!1}};f.isScrollingToAnchorLink=function(){return m};f.unsetScrollingToAnchorLinkFlag=function(){m=!1};f.adjustMainHeaderPlaceHolderSize=y});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-fixed-headers:handlers', location = '/js/handlers/page-view-handler.js' */
define("confluence/fh/handlers/page-view-handler",["confluence/fh/utils/dom","jquery","ajs","exports"],function(l,m,C,c){function r(d){if(!r.done||d)q=m("#header"),f=m("#main .aui-page-panel-outer-content"),0===f.length&&(f=m("#main")),a=m("#main-header"),m("#action-menu-link"),D=l.createMainHeaderPlaceHolder(),A=m(".ia-splitter-left .ia-fixed-sidebar"),g=a.prop("style"),E=f.prop("style"),F=Math.round(q.offset().top),e=q.height(),G=Math.round(a.offset().top)-e-(parseInt(f.css("padding-top"))+parseInt(a.css("margin-top"))),
r.done=!0}function H(){n&&0!==h&&(h=0,a.addClass("overlay-header"),a.css({top:e+"px",zIndex:100}),l.updateTableStickyHeaderOption())}var q,f,a,D,A,g,E,F,e,G,v=!1,n=!1,x=!1,B=0,h=0,t=0,y="by-other",I=function(){r();var d=l.isScrollingToAnchorLink();l.unsetScrollingToAnchorLinkFlag();var p=m(window).scrollTop(),b=p>F;b&&parseInt(A.css("top"))<e&&A.css({top:e+"px"});!v&&b?(v=!0,q.addClass("fixed-header"),D.css("padding-top",q.height())):b||(q.removeClass("fixed-header"),E.marginTop="",v=!1);b=p>G;!n&&
b?(n=!0,a.find("#title-text").hide(),a.css({position:"fixed",width:f.outerWidth()-(parseInt(f.css("padding-left"))+parseInt(f.css("padding-right"))),right:0,top:e+"px",marginTop:0,paddingTop:parseInt(f.css("padding-top"))+parseInt(a.css("margin-top")),paddingBottom:parseInt(f.css("padding-top"))+parseInt(a.css("margin-top")),paddingLeft:f.css("padding-left"),paddingRight:f.css("padding-right"),zIndex:100}),a.before(l.createMainHeaderPlaceHolder()),window.scrollTo(0,p)):b||(g.position="",g.width="",
g.right="",g.top="",g.marginTop="",g.paddingTop="",g.paddingBottom="",g.paddingLeft="",g.paddingRight="",g.zIndex="",a.removeClass("overlay-header"),a.find("#title-text").show(),x=n=!1,l.removeMainHeaderPlaceHolder());b=a.outerHeight();var u=B-p,z=parseInt(a.css("top"))+u;if(0>=p){h=t=0;var k=e}else if(d){t=0;h=b;k=e-b;var w=100}else if(n&&0<u){if(z>e)t=e,h=0,k=e,w=100;else if(t+=Math.abs(u),50<=t||p<=b)h-=Math.abs(u),k=z,w=100;p>b+50&&!x&&(a.addClass("overlay-header"),x=!0);y="by-scroll"}else n&&
0>u&&(z<e-b?(t=0,h=b,k=e-b,w=100):(h+=Math.abs(u),k=z));void 0!==w&&void 0!==k?a.css({top:k+"px",zIndex:w}):void 0!==k&&a.css({top:k+"px"});l.updateTableStickyHeaderOption();B=p};c.forceInitialize=function(){r(!0)};c.onScrollHandler=I;c.onHoverActionMenuLinkHandler=function(){r();H();y="by-hover"};c.onClickEditPageLinkHandler=function(){r();H();C.bind("quick-edit.viewport.saved",function(){q.removeAttr("style");l.removeMainHeaderPlaceHolder()});m(window).off("scroll",I).off("resize.confluence-fixed-headers-responsive");
C.trigger("analyticsEvent",{name:"view.edit.transition.edit.button.clicked",data:{method:y}})};c.isKeepDotDotDotButton=!1;c.__getShowMainHeaderBy=function(){return y};c.__getFixedHeader=function(){return v};c.__getFixedMainHeader=function(){return n};c.__setFixedHeader=function(d){v=d};c.__setFixedMainHeader=function(d){n=d};c.__setMainHeaderOverlay=function(d){x=d};c.__setScrollPosition=function(d){B=d};c.__setMovingDistance=function(d){h=d}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-fixed-headers:confluence-fixed-headers-view-content-resources', location = '/js/confluence-fixed-headers.js' */
require(["confluence/fh/utils/dom","confluence/fh/handlers/page-view-handler","ajs","jquery"],function(c,d,e,a){e.toInit(function(){if(e.Meta.get("content-type")&&!(0<a("#main-content").find("style").length||a("body").hasClass("theme-documentation"))){var l=a("#header"),m=a("#main-header"),h=a("#main"),f=a("#content"),n=a("#editPageLink"),p=a("#action-menu-link"),q=["inline-dialog-notifications-miniview","inline-dialog-confluence-watch","inline-dialog-shareContentPopup","inline-dialog-ap-inline-dialog-content-confstats-connect-dev__confstats-live-watcher",
"inline-dialog-jira-metadata-dialog"];(new MutationObserver(function(b){c.adjustMainHeaderSize()})).observe(h[0],{attributes:!0,attributeFilter:["style"]});var g=new MutationObserver(function(b){"0px"===f.css("padding-right")&&f.css({paddingRight:"28px"})});g.observe(f[0],{attributes:!0,attributeFilter:["style"]});a(window).on("resize.confluence-fixed-headers-responsive",e.debounce(c.adjustMainHeaderSize,100)).on("scroll",d.onScrollHandler).scroll(e.debounceImmediate(function(){var b=a('.aui-dropdown2[aria-hidden\x3d"false"]');
b.length&&a('.aui-dropdown2-trigger[aria-owns\x3d"'+b.attr("id")+'"]').trigger("aui-button-invoke");b=a(".aui-inline-dialog:visible");b.length&&(b=b.filter(function(){var k=a(this),r=k.attr("id");return k.hasClass("non-persistence-dialog")||-1!==q.indexOf(r)}),b.css({display:"none"}),l.find(".aui-button.active, .aui-nav-imagelink.active").removeClass("active"),m.find(".aui-button.active, .aui-nav-imagelink.active").removeClass("active"),document.activeElement.blur())},250));d.isKeepDotDotDotButton&&
(h.addClass("floating-action-menu"),p.on("hover",d.onHoverActionMenuLinkHandler));n.click(function(){g&&g.disconnect();d.onClickEditPageLinkHandler()});setTimeout(function(){c.scrollIfAnchor(window.location.hash)});a("body").on("click",'a[href^\x3d"#"]',c.scrollIfAnchor)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-like:content-like-resources', location = '/com/atlassian/confluence/plugins/like/js/like-namespace.js' */
define("confluence-like/like-namespace",["confluence/legacy"],function(a){return a.Likes||{}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-like/like-namespace","Confluence.Likes");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-like:content-like-resources', location = '/com/atlassian/confluence/plugins/like/js/like.js' */
define("confluence-like/like",["ajs","confluence/legacy","jquery","confluence/meta","confluence/message-controller"],function(e,c,d,g,q){function r(a){return e.contextPath()+"/rest/likes/1.0/content/"+a+"/likes"}function v(){return 0<(g.get("remote-user")||"").length&&!1!==g.get("remote-user-has-licensed-access")}function t(a,b,h){var d=g.get("remote-user")||"";b=c.Likes.LikeSummaryFactory.getLikeSummary(a.likes,b,d);b.key||!n||"page"!==a.content_type&&"blogpost"!==a.content_type||(b.text="Be the first to like this");
a=[];a.push(b.text);a=a.concat(b.args);(a=e.format.apply(e,a))&&0<a.length?(n&&h.addClass("like-summary-margin-left"),h.html(a)):(h.removeClass("like-summary-margin-left"),h.empty());a&&(h.find(".likes").click(p.showLikeUsers),c.Binder.userHover())}function m(a,b,h){var k=g.get("remote-user")||"";if(void 0===a)throw Error("type is required");if(void 0===b)throw Error("contentId is required");if(void 0===h)throw Error("contentType is required");return function(){if("object"!==typeof this||!this.nodeType||
1!==this.nodeType||"A"!==this.nodeName)throw Error("this handler should be bound to a DOM anchor element");var u=d(this),f=arguments.callee,c=u.next(".like-summary");d.ajax({type:0===a?"POST":"DELETE",url:r(b),contentType:"application/json",data:{"atlassian-token":g.get("atlassian-token")},dataType:"json",timeout:1E4}).fail(function(d){var k;405===d.status?q.showError(q.parseError(d),q.Location.FLAG):k=0===a?"Like failed":"Unlike failed";d=c.siblings(".like-error");
0===d.length&&void 0!==k?c.after('\x3cspan class\x3d"like-error" title\x3d"'+k+'"\x3e\x3c/span\x3e'):d.attr("title",k);u.off("click").on("click",null,0===a?m(0,b,h):m(1,b,h)).find(".like-button-text").html(0===a?"Like":"Unlike")}).success(function(){c.attr("data-liked",0===a);c.parent().find(".like-error").remove();t(l[b],b,c)});x(u,a,f,k,b,h,c);return!1}}function x(a,b,h,k,c,f){a.off("click",null,h).on("click",null,0===b?m(1,c,f):m(0,c,f)).find(".like-button-text").html(0===
b?"Unlike":"Like");l[c]=l[c]||{content_type:f,likes:[]};0===b?l[c].likes.push({user:{name:k}}):l[c].likes=d.grep(l[c].likes,function(a){return a.user.name!==k});0===b&&e.trigger("analytics",{name:"confluence."+f+".like.create",data:{pageID:g.get("page-id")}})}var f,l={},n=v()&&"READ_ONLY"!==g.get("access-mode"),w=d.Deferred(),p={getLikesCache:function(){return w.promise()},showLikeUsers:function(a){a&&a.preventDefault();a=d(this);var b=a.data("content-id");
a.blur();f&&(f.remove(),f=void 0);f=new e.Dialog(400,365,"likes-dialog");f.addHeader("People who like this");f.addPanel("Panel 1","\x3cdiv class\x3d'spinner-container'\x3e\x3c/div\x3e");f.addCancel("Close",function(a){a.remove();f=void 0});f.getCurrentPanel().setPadding(0);f.show();d.ajax({type:"GET",url:r(b),data:{expand:"user",max:50},dataType:"json"}).done(function(a){f.popup.element.is(":visible")&&(a.showFollowActions=v(),f.getCurrentPanel().html(c.Templates.Likes.likesDialog(a)),
d("#likes-dialog").find(".likes-dialog-follow-button").click(function(){var a=d(this);d.ajax({type:"PUT",url:e.contextPath()+"/rest/likes/1.0/user/"+g.get("remote-user")+"/following?username\x3d"+a.data("username"),contentType:"application/json",dataType:"json"}).done(function(){a.replaceWith("Following")})}))})},appendAction:function(a){a=a.find(".comment-actions-primary");var b=a.find("li[class~\x3d'comment-date']"),h=d(c.Templates.Likes.commentLikeSection({showLikeButton:n}));
0===b.length?a.find("li:last-child").after(h):b.before(h)},reload:function(a){d.each(a,function(a,b){var e=d("#comment-"+a).find(".like-summary");t(b,a,e);l[a]=b});var b=d("#page-comments");!n&&b.find(".like-summary:empty").each(function(){d(this).closest(".comment-action-like").hide()});b.find(".comment").each(function(){p.updateComment(d(this),a)});w.resolve(l)},updateComment:function(a,b){var c=a.attr("id");if(!c)return!0;var f=(/^comment-(\d+)$/.exec(c)||[])[1];if(!f)throw Error('Expecting ID attribute of comment to be in format "comment-XXX", found: '+
c);b=b[f]&&g.get("remote-user")&&0<d.grep(b[f].likes,function(a){return a.user.name===g.get("remote-user")}).length;a.find(".like-button").click(b?m(1,f,"comment"):m(0,f,"comment")).find(".like-button-text").html(b?"Unlike":"Like")},init:function(){var a=d(c.Templates.Likes.likeSection({showLikeButton:n}));g.get("page-id")&&d.ajax({type:"GET",url:r(g.get("page-id")),data:{commentLikes:!0},dataType:"json"}).done(function(b){if(g.get("remote-user")){var c=
0<d.grep(b.likes,function(a){return a.user.name===g.get("remote-user")}).length,f=b.content_type;a.find(".like-button").click(c?m(1,g.get("page-id"),f):m(0,g.get("page-id"),f)).find(".like-button-text").html(c?"Unlike":"Like")}c=a.find(".like-summary");t(b,b.content_id,c);""!==c.html()||n||a.hide();d("\x3cdiv id\x3d'likes-and-labels-container'\x3e\x3c/div\x3e").insertBefore("#labels-section").append(a).append(d("#labels-section"));l[b.content_id]=b;p.reload(b.commentLikes)});
p.appendAction(d("#page-comments"))}};return p});require("confluence/module-exporter").safeRequire("confluence-like/like",function(e){var c=require("confluence/legacy"),d=require("ajs");c.Likes.getLikesCache=e.getLikesCache;d.PageGadget||window.parent.AJS&&window.parent.AJS.PageGadget||(d.toInit(e.init),c.Likes.showLikeUsers=e.showLikeUsers,c.Likes.appendAction=e.appendAction,c.Likes.reload=e.reload,c.Likes.updateComment=e.updateComment)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-like:content-like-resources', location = '/com/atlassian/confluence/plugins/like/js/like-summary-factory.js' */
define("confluence-like/like-summary-factory",["ajs","confluence/templates","jquery"],function(a,g,h){var k={"likes.summary.you":"You like this","likes.summary.1.promoted":"{0} likes this","likes.summary.2.promoted":"{0} and {1} like this","likes.summary.3.promoted":"{0}, {1} and {2} like this","likes.summary.1.non-promoted":"{0} likes this","likes.summary.x.non-promoted":"\u003ca href=\u0022\u0022 {1}\u003e{0} people\u003c/a\u003e like this",
"likes.summary.you.1.promoted":"You and {0} like this","likes.summary.you.2.promoted":"You, {0} and {1} like this","likes.summary.you.3.promoted":"You, {0}, {1} and {2} like this","likes.summary.you.1.non-promoted":"You and {0} like this","likes.summary.you.x.non-promoted":"You and \u003ca href=\u0022\u0022 {1}\u003e{0} others\u003c/a\u003e like this","likes.summary.1.promoted.1.non-promoted":"{0} and {1} like this",
"likes.summary.1.promoted.x.non-promoted":"{0} and \u003ca href=\u0022\u0022 {2}\u003e{1} others\u003c/a\u003e like this","likes.summary.2.promoted.1.non-promoted":"{0}, {1} and {2} like this","likes.summary.2.promoted.x.non-promoted":"{0}, {1} and \u003ca href=\u0022\u0022 {3}\u003e{2} others\u003c/a\u003e like this","likes.summary.3.promoted.1.non-promoted":"{0}, {1}, {2} and {3} like this","likes.summary.3.promoted.x.non-promoted":"{0}, {1}, {2} and \u003ca href=\u0022\u0022 {4}\u003e{3} others\u003c/a\u003e like this","likes.summary.you.1.promoted.1.non-promoted":"You, {0} and {1} like this",
"likes.summary.you.1.promoted.x.non-promoted":"You, {0} and \u003ca href=\u0022\u0022 {2}\u003e{1} others\u003c/a\u003e like this","likes.summary.you.2.promoted.1.non-promoted":"You, {0}, {1} and {2} like this","likes.summary.you.2.promoted.x.non-promoted":"You, {0}, {1} and \u003ca href=\u0022\u0022 {3}\u003e{2} others\u003c/a\u003e like this","likes.summary.you.3.promoted.1.non-promoted":"You, {0}, {1}, {2} and {3} like this","likes.summary.you.3.promoted.x.non-promoted":"You, {0}, {1}, {2} and \u003ca href=\u0022\u0022 {4}\u003e{3} others\u003c/a\u003e like this"};
return{getLikeSummary:function(a,c,m){if(!a||0===a.length)return{key:"",text:""};if(!c)throw Error("contentId is required.");var l,e=[],f=[];h.each(a,function(a,b){b.user&&b.user.name==m?l=b:3>e.length&&b.user.followedByRemoteUser?e.push(b):f.push(b)});a=["likes.summary"];var d=[];null!=l&&a.push(".you");0<e.length&&(a.push("."),a.push(e.length),a.push(".promoted"),h.each(e,function(a,b){d.push(g.Likes.userLink(b))}));1===f.length?(a.push(".1.non-promoted"),d.push(g.Likes.userLink(f[0]))):1<f.length&&
(a.push(".x.non-promoted"),d.push(f.length),d.push('class\x3d"likes" data-content-id\x3d"'+c+'"'));c=a.join("");return{key:c,args:0===d.length?void 0:d,text:c in k?k[c]:""}}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-like/like-summary-factory","Confluence.Likes.LikeSummaryFactory");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-like:content-like-resources', location = '/templates/com/atlassian/confluence/plugins/like/soy/like.soy' */
// This file was automatically generated from like.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Likes.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Likes == 'undefined') { Confluence.Templates.Likes = {}; }


Confluence.Templates.Likes.likeButton = function(opt_data, opt_ignored) {
  return '<a href="" class="like-button">' + ((opt_data.useIcon) ? '<span class="aui-icon aui-icon-small aui-iconfont-like"></span>' : '') + '<span class="like-button-text">' + soy.$$escapeHtml('Like') + '</span></a>';
};
if (goog.DEBUG) {
  Confluence.Templates.Likes.likeButton.soyTemplateName = 'Confluence.Templates.Likes.likeButton';
}


Confluence.Templates.Likes.likeSection = function(opt_data, opt_ignored) {
  return '<div id="likes-section" class="no-print">' + ((opt_data.showLikeButton) ? Confluence.Templates.Likes.likeButton({useIcon: true}) : '') + '<span class="like-summary"></span></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Likes.likeSection.soyTemplateName = 'Confluence.Templates.Likes.likeSection';
}


Confluence.Templates.Likes.commentLikeSection = function(opt_data, opt_ignored) {
  return '<li class="comment-action-like">' + ((opt_data.showLikeButton) ? Confluence.Templates.Likes.likeButton({useIcon: false}) : '') + '<span class="like-summary"></span></li>';
};
if (goog.DEBUG) {
  Confluence.Templates.Likes.commentLikeSection.soyTemplateName = 'Confluence.Templates.Likes.commentLikeSection';
}


Confluence.Templates.Likes.likesDialog = function(opt_data, opt_ignored) {
  var output = '<div id="likes-dialog-body"><ol>';
  var likeList26 = opt_data.likes;
  var likeListLen26 = likeList26.length;
  for (var likeIndex26 = 0; likeIndex26 < likeListLen26; likeIndex26++) {
    var likeData26 = likeList26[likeIndex26];
    output += '<li><div class="avatar-container"><a href="' + soy.$$escapeHtml(likeData26.user.url) + '"><img class="like-user-avatar" src="' + soy.$$escapeHtml(likeData26.user.avatarUrl) + '"></a></div><div class="like-user"><a class="like-user-link" href="' + soy.$$escapeHtml(likeData26.user.url) + '">' + soy.$$escapeHtml(likeData26.user.fullName) + '</a></div>' + ((opt_data.showFollowActions) ? '<div class="follow-button-container aui-toolbar"><ul class="toolbar-group"><li class="toolbar-item">' + ((likeData26.user.followedByRemoteUser) ? soy.$$escapeHtml('Following') : '<button data-username="' + soy.$$escapeHtml(likeData26.user.name) + '" class="likes-dialog-follow-button toolbar-trigger">' + soy.$$escapeHtml('Follow') + '</button>') + '</li></ul></div>' : '') + '</li>';
  }
  output += '</ol></div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Likes.likesDialog.soyTemplateName = 'Confluence.Templates.Likes.likesDialog';
}


Confluence.Templates.Likes.userLink = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.user.url) + '" class="confluence-userlink" data-username="' + soy.$$escapeHtml(opt_data.user.name) + '">' + soy.$$escapeHtml(opt_data.user.fullName) + '</a>';
};
if (goog.DEBUG) {
  Confluence.Templates.Likes.userLink.soyTemplateName = 'Confluence.Templates.Likes.userLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:shared-templates', location = '/includes/soy/user.soy' */
// This file was automatically generated from user.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.User.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.User == 'undefined') { Confluence.Templates.User = {}; }


Confluence.Templates.User.userLinkUrl = function(opt_data, opt_ignored) {
  return soy.$$escapeHtml("/confluence") + '/display/~' + soy.$$escapeUri(opt_data.username);
};
if (goog.DEBUG) {
  Confluence.Templates.User.userLinkUrl.soyTemplateName = 'Confluence.Templates.User.userLinkUrl';
}


Confluence.Templates.User.logo = function(opt_data, opt_ignored) {
  return '' + ((opt_data.profilePictureInfo['default'] && opt_data.username == opt_data.currentUsername) ? '<a ' + ((opt_data.canView) ? ' ' + ((! opt_data.disableUserHover) ? 'class="userLogoLink"' : '') + ' data-username="' + soy.$$escapeHtml(opt_data.username) + '"' : '') + ' href="' + soy.$$escapeHtml("/confluence") + '/users/profile/editmyprofilepicture.action" title="' + soy.$$escapeHtml('Add a picture of yourself') + '"><img class="userLogo logo defaultLogo" src="' + soy.$$escapeHtml("/confluence/s/-bkktep/8803/fjj6gm/_") + '/images/icons/profilepics/add_profile_pic.svg" alt="' + soy.$$escapeHtml('User icon') + ': ' + soy.$$escapeHtml('Add a picture of yourself') + '"></a>' : (opt_data.profilePictureInfo.anonymous) ? '<img class="userLogo logo anonymous" src="' + soy.$$escapeHtml("/confluence/s/-bkktep/8803/fjj6gm/_") + '/images/icons/profilepics/anonymous.svg" alt="' + soy.$$escapeHtml('User icon') + ': ' + soy.$$escapeHtml('Anonymous') + '" title="' + soy.$$escapeHtml('Anonymous') + '">' : (opt_data.canView) ? '<a ' + ((! opt_data.disableUserHover) ? 'class="userLogoLink"' : '') + ' data-username="' + soy.$$escapeHtml(opt_data.username) + '" href="' + Confluence.Templates.User.userLinkUrl(opt_data) + '"><img class="userLogo logo" src="' + soy.$$escapeHtml(opt_data.profilePictureInfo.uriReference) + '" alt="' + soy.$$escapeHtml('User icon') + ': ' + soy.$$escapeHtml(opt_data.username) + '" title="' + soy.$$escapeHtml(opt_data.username) + '"></a>' : '<img class="userLogo logo anonymous" src="' + soy.$$escapeHtml("/confluence/s/-bkktep/8803/fjj6gm/_") + '/images/icons/profilepics/anonymous.svg" alt="' + soy.$$escapeHtml('User icon') + ': ' + soy.$$escapeHtml(opt_data.username) + '" title="' + soy.$$escapeHtml(opt_data.username) + '">');
};
if (goog.DEBUG) {
  Confluence.Templates.User.logo.soyTemplateName = 'Confluence.Templates.User.logo';
}


Confluence.Templates.User.usernameLink = function(opt_data, opt_ignored) {
  return '' + ((opt_data.username && opt_data.username != '') ? '<a href="' + Confluence.Templates.User.userLinkUrl(opt_data) + '"' + ((opt_data.canView) ? 'class="url fn confluence-userlink" data-username="' + soy.$$escapeHtml(opt_data.username) + '"' : 'class="url fn"') + '>' + ((opt_data.fullName && opt_data.fullName != '') ? soy.$$escapeHtml(opt_data.fullName) : soy.$$escapeHtml(opt_data.username)) + '</a>' : soy.$$escapeHtml('Anonymous'));
};
if (goog.DEBUG) {
  Confluence.Templates.User.usernameLink.soyTemplateName = 'Confluence.Templates.User.usernameLink';
}


Confluence.Templates.User.fullNameOrAnonymous = function(opt_data, opt_ignored) {
  return '' + ((opt_data.user && opt_data.user.fullName) ? soy.$$escapeHtml(opt_data.user.fullName) : soy.$$escapeHtml('Anonymous'));
};
if (goog.DEBUG) {
  Confluence.Templates.User.fullNameOrAnonymous.soyTemplateName = 'Confluence.Templates.User.fullNameOrAnonymous';
}


Confluence.Templates.User.usernameOrAnonymous = function(opt_data, opt_ignored) {
  return '' + ((opt_data.user && opt_data.user.name) ? soy.$$escapeHtml(opt_data.user.name) : soy.$$escapeHtml('Anonymous'));
};
if (goog.DEBUG) {
  Confluence.Templates.User.usernameOrAnonymous.soyTemplateName = 'Confluence.Templates.User.usernameOrAnonymous';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:shared-templates', location = '/includes/soy/icons.soy' */
// This file was automatically generated from icons.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Icons.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Icons == 'undefined') { Confluence.Templates.Icons = {}; }


Confluence.Templates.Icons.contentIcon = function(opt_data, opt_ignored) {
  return '<a' + ((opt_data.linkColour) ? ' ' + soy.$$escapeHtml(opt_data.linkColour) : '') + ' href="' + soy.$$escapeHtml(opt_data.linkHref) + '" class="icon ' + soy.$$escapeHtml(opt_data.iconCss) + '" title="' + soy.$$escapeHtml(opt_data.iconTitle) + '">' + soy.$$escapeHtml(opt_data.iconTitle) + '</a>';
};
if (goog.DEBUG) {
  Confluence.Templates.Icons.contentIcon.soyTemplateName = 'Confluence.Templates.Icons.contentIcon';
}


Confluence.Templates.Icons.contentIconFont = function(opt_data, opt_ignored) {
  return '<a' + ((opt_data.linkColour) ? ' ' + soy.$$escapeHtml(opt_data.linkColour) : '') + ' href="' + soy.$$escapeHtml(opt_data.linkHref) + '" title="' + soy.$$escapeHtml(opt_data.iconTitle) + '"><span class="aui-icon ' + soy.$$escapeHtml(opt_data.iconCss) + '">' + soy.$$escapeHtml(opt_data.iconTitle) + '</span></a>';
};
if (goog.DEBUG) {
  Confluence.Templates.Icons.contentIconFont.soyTemplateName = 'Confluence.Templates.Icons.contentIconFont';
}


Confluence.Templates.Icons.iconSpan = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<span class="icon' + ((opt_data.type) ? ' aui-icon aui-icon-small aui-iconfont-' + soy.$$escapeHtml(opt_data.type) : '') + ' ' + ((opt_data.additionalClasses) ? soy.$$escapeHtml(opt_data.additionalClasses) : '') + '">' + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + '</span>';
};
if (goog.DEBUG) {
  Confluence.Templates.Icons.iconSpan.soyTemplateName = 'Confluence.Templates.Icons.iconSpan';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:shared-templates', location = '/includes/soy/captcha.soy' */
// This file was automatically generated from captcha.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Captcha.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Captcha == 'undefined') { Confluence.Templates.Captcha = {}; }


Confluence.Templates.Captcha.form = function(opt_data, opt_ignored) {
  var output = '<div class="captcha field-group"><label id="captcha-response-label" for="captcha-response"><span class="assistive">' + soy.$$escapeHtml('If you are unable to use this CAPTCHA please \x3ca href\x3d\x22administrators.action\x22 tabindex\x3d\x225\x22\x3econtact your administrator\x3c/a\x3e for assistance.') + '</span></label>' + Confluence.Templates.Captcha.image(opt_data) + '<input type="text" id="captcha-response" name="captchaResponse" value="" class="text" placeholder="' + soy.$$escapeHtml('Type the word above') + '">';
  if (opt_data.captchaErrors && opt_data.captchaErrors.length) {
    var errorList13 = opt_data.captchaErrors;
    var errorListLen13 = errorList13.length;
    for (var errorIndex13 = 0; errorIndex13 < errorListLen13; errorIndex13++) {
      var errorData13 = errorList13[errorIndex13];
      output += aui.message.warning({content: errorData13});
    }
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Captcha.form.soyTemplateName = 'Confluence.Templates.Captcha.form';
}


Confluence.Templates.Captcha.image = function(opt_data, opt_ignored) {
  return '<img src="' + soy.$$escapeHtml("/confluence") + '/jcaptcha?id=' + soy.$$escapeHtml(opt_data.captchaId) + '" class="captcha-image" alt="' + soy.$$escapeHtml('CAPTCHA image') + '"><input type="hidden" name="captchaId" value="' + soy.$$escapeHtml(opt_data.captchaId) + '" placeholder="' + soy.$$escapeHtml('Type the word above') + '">';
};
if (goog.DEBUG) {
  Confluence.Templates.Captcha.image.soyTemplateName = 'Confluence.Templates.Captcha.image';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:shared-templates', location = '/includes/soy/notifications.soy' */
// This file was automatically generated from notifications.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Notifications.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Notifications == 'undefined') { Confluence.Templates.Notifications = {}; }


Confluence.Templates.Notifications.notLoggedIn = function(opt_data, opt_ignored) {
  return '' + ((! opt_data.isUserAuthenticated) ? '<div id="anonymous-warning" class="aui-message aui-message-warning closeable">' + soy.$$filterNoAutoescape('You are not logged in. Any changes you make will be marked as \x3cspan class\x3d\x22smalltext\x22\x3eanonymous\x3c/span\x3e.') + ((! opt_data.isExternalUserManagementEnabled) ? ' ' + soy.$$filterNoAutoescape(AJS.format('You may want to \x3ca href\x3d\x22{0}\x22\x3eLog In\x3c/a\x3e if you already have an account.',opt_data.loginURL)) : '') + '</div>' : '');
};
if (goog.DEBUG) {
  Confluence.Templates.Notifications.notLoggedIn.soyTemplateName = 'Confluence.Templates.Notifications.notLoggedIn';
}


Confluence.Templates.Notifications.actionErrors = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.actionErrors.length > 0) {
    output += '<div class="aui-message aui-message-error ' + ((opt_data.closeable) ? 'closeable' : '') + '"><p class="title">' + soy.$$escapeHtml('The following error(s) occurred:') + '</p><ul>';
    var errorHtmlList24 = opt_data.actionErrors;
    var errorHtmlListLen24 = errorHtmlList24.length;
    for (var errorHtmlIndex24 = 0; errorHtmlIndex24 < errorHtmlListLen24; errorHtmlIndex24++) {
      var errorHtmlData24 = errorHtmlList24[errorHtmlIndex24];
      output += '<li>' + soy.$$filterNoAutoescape(errorHtmlData24) + '</li>';
    }
    output += '</ul></div>';
  }
  output += '<div id="action-messages-notifications"></div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Notifications.actionErrors.soyTemplateName = 'Confluence.Templates.Notifications.actionErrors';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'probe.js' */
!function(e){"use strict";const t=[],n=()=>t;function r(e){n().unshift({addReporter:e})}function i(e){const t=n();for(;t.length;)e(t.splice(0,1)[0]);t.unshift=e,t.push=e}const o=()=>window,s=()=>o().performance;function a({key:e,entityId:t}){const r=s().now();console.debug("[BM]",e,"Probe.end",{timestamp:r}),n().push({end:{key:e,timestamp:r,entityId:t}})}const c=e=>!e||null==e||"null"===e||"undefined"===e,u=()=>o().document,l=(e,t)=>{var n=u().querySelectorAll(e);return n.length&&(c(t)||Array.prototype.every.call(n,(function(e){return!e.querySelector(t)})))};function f(){this._={}}var d=function(e){var t=e[0],n=e[1];n instanceof f?e.length>=3?Object.keys(n._).forEach((function(r){d([t,n._[r],r].concat(e.slice(2)))})):Object.keys(n._).forEach((function(e){d([t,n._[e],e])})):Array.isArray(n)&&t.apply(null,[n].concat(e.slice(2)))};f.prototype.forEach=function(e){d([e,this])},f.prototype.add=function(){for(var e=this,t=null,n=0;n<arguments.length;n++){if(t=arguments[n],n===arguments.length-1&&Array.isArray(e)){e.push(t);break}n<arguments.length-2&&!e._.hasOwnProperty(t)?e._[t]=new f:n!==arguments.length-2||e._.hasOwnProperty(t)||(e._[t]=[]),e=e._[t]}};var h=function(e,t){if(0!==e.length){var n=e.pop(),r=n[0],i=n[1];r===t?h(e,r):i._.hasOwnProperty(t)&&delete i._[t],0===Object.keys(i).length&&h(e,r)}};let y;f.prototype.remove=function(){for(var e,t=!1,n=null,r=this,i=[[n,r]],o=null,s=0;s<arguments.length;s++)if(o=arguments[s],Array.isArray(r))(e=r.indexOf(o))>-1&&(r.splice(e,1),0===r.length&&i.length>1&&h(i,n),t=!0);else{if(!r._.hasOwnProperty(o))break;s===arguments.length-1&&(delete r._[o],0===Object.keys(r).length&&i.length>1&&h(i,n),t=!0),n=o,r=r._[o],i.push([n,r])}return t},f.prototype.get=function(e){return this._.hasOwnProperty(e)?this._[e]:[]};function p(e,t){var n;e.forEach||(e=[e]),!c(t)&&Array.isArray(t)&&(t=t.join(", "));var r=new Promise((function(r,i){var s=[],a=[];e.forEach((function(e){var n;l(e,t)||(n=new Promise((function(n){const r=(()=>{if(y)return y;var e,t,n=o().MutationObserver,r=!1;return t=new f,e=new n((function(){t.forEach((function(e,n,r){l(r,n)&&(e.forEach((function(e){e()})),t.remove(r,n))}))})),y={addTarget:function(n,i,o){return r||(e.observe(u(),{attributes:!0,childList:!0,subtree:!0}),r=!0),t.add(n,i,o),()=>{t.remove(n,i,o)}}},y})().addTarget(e,t,n);a.push(r)})),s.push(n))}));var c=function(){a.forEach((function(e){e()}))};Promise.all(s).then(c).then(r,i),n=function(){c(),i()}}));return r.dismiss=n,r}var m,b="visibilitychange",v="animationend",w="browser-metrics-visibility-test",g="browser-metrics-visibility-animation",k=function(){var e=u().createElement("style"),t=["."+w+" {","-webkit-animation-duration: 0.001s;","animation-duration: 0.001s;","-webkit-animation-name: "+g+";","animation-name: "+g+";","-webkit-animation-iteration-count: 1;","animation-iteration-count: 1;","}","@keyframes "+g+" {}","@-webkit-keyframes "+g+" {","from {}","to {}","}"].join("\n");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(u().createTextNode(t)),u().head.appendChild(e),k=function(){}};function P(){if(m)return m;var e,t,n=!1;function r(){u().body.classList.remove(w),u().removeEventListener(b,t),u().removeEventListener(v,e),m=null}return(m=new Promise((function(r,i){"visible"!==u().visibilityState?i():(t=function(){n=!0},e=function(e){e.animationName===g&&(n?i():r())},u().addEventListener(b,t),u().addEventListener(v,e),k(),u().body.classList.add(w))}))).then(r,r),m}function _(e){var t,n;return t=e,(Array.isArray(t)||"string"==typeof t)&&(e={rules:e}),e.rules=(n=e.rules,Array.isArray(n)||(n=[n]),n.map((function(e){return"string"==typeof e?{selector:e,hasNone:null}:e}))),e.requirePaint=void 0!==e.requirePaint&&e.requirePaint,e}const A=u();let E=!1;switch(A.readyState){case"interactive":case"complete":E=!0;break;default:A.addEventListener("DOMContentLoaded",(()=>{o().setTimeout((()=>E=!0))}),{once:!0})}let O;function L(){O=null}function M(e){const t="isInitial"in e?e.isInitial:!1===E,r="threshold"in e?e.threshold:1e3,i="reporters"in e?e.reporters:[],o=t?0:s().now();console.debug("[BM]",e.key,"Probe.start",{timestamp:o}),n().push({start:{key:e.key,isInitial:t,threshold:r,timestamp:o,reporters:Array.isArray(i)?i:[i],entityId:e.entityId}}),O&&(O.cancel(),L()),e.ready&&(O=function(e,t){e=_(e);var n=function(){},r=new Promise((function(t,r){var i=[],o=e.rules.map((function(e){var t=new p(e.selector,e.hasNone);return i.push((function(){t.dismiss()})),t}));n=function(){i.forEach((function(e){e()})),r()},Promise.all(o).then((function(e){})).then(t,r)}));return r.cancel=n,e.requirePaint&&(r=r.then(P)),"function"==typeof t&&r.then(t),r}(e.ready),O.then((function(){console.debug("[BM]",e.key,"Probe.end invoked by ready"),a({key:e.key})})).then(L,L))}function j(e){console.debug("[BM]","Probe.subscribe",e.name),n().push({subscribe:e})}window.define&&window.define("internal/browser-metrics",(function(){return{start:M,end:a,addReporter:r,delegateTo:i,subscribe:j}})),console.debug("[BM]","Probe loaded"),e.addReporter=r,e.delegateTo=i,e.end=a,e.start=M,e.subscribe=j,Object.defineProperty(e,"__esModule",{value:!0})}(this["browser-metrics"]=this["browser-metrics"]||{});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'browser-metrics-aa-beacon/browser-metrics-aa-beacon.js' */
!function(e){"use strict";const n=[],t=[];let r;const s=e=>{t.push(e)},a=e=>t.reduce(((n,t)=>{const r=t(e);return r.length>n.length?r:n}),""),o=e=>{n.push(e)},c=e=>{r=e},i=e=>{const t={};n.forEach((n=>{const r=n(e);"object"==typeof r&&Object.assign(t,r)}));const s={name:"browser.metrics.navigation",properties:t};(r||AJS.EventQueue).push(s),console.debug("[BM-AA] ","AJS Event pushed",s)};window.define&&window.define("internal/browser-metrics-aa-beacon",(function(){return{beacon:i,setEventQueue:c,addReportMarshaller:o,cleanUrl:a,addUrlCleaner:s}})),e.addReportMarshaller=o,e.addUrlCleaner=s,e.beacon=i,e.cleanUrl=a,e.setEventQueue=c,Object.defineProperty(e,"__esModule",{value:!0})}(this["browser-metrics-aa-beacon"]=this["browser-metrics-aa-beacon"]||{});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'loader.js' */
!function(){"use strict";let r=window;const n=r.WRM;let i=0,l=0,t=null;function e(){i===l&&t&&(t(),t=null)}const c={install(r){i+=1,r((()=>{l+=1,e()}))}};r["browser-metrics-plugin"]=c,n.require(["wrc!browser-metrics-plugin.contrib"],(()=>{r.require(["internal/browser-metrics-plugin/collector"],(r=>{t=()=>{r.install()},e()}))}))}();

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:viewcontent', location = '/js/viewcontent.js' */
require(["confluence/api/event","internal/browser-metrics","ajs","jquery"],function(f,e,c,g){function b(i){if(!g(i.target).hasClass("full-load")){var h=i.data.type;if(c.Meta.getBoolean("collaborative-content")){var j="confluence."+h+".edit.collaborative.quick-view";e.start({key:j});c.bind("rte-collab-ready",function(){e.end({key:j});e.start({key:j+".connected"})});c.bind("synchrony.connected",function(){e.end({key:j+".connected"})})}else{if(!c.Meta.getBoolean("shared-drafts")){e.start({key:"confluence."+h+".edit.quick-view",ready:".active-richtext"})}}}}function a(){e.start({key:"confluence.file.preview.firstpage"});f.bind("confluence-previews.fileviewer.completed",function(){e.end({key:"confluence.file.preview.firstpage"})})}function d(){var j=c.Meta.get("content-type");var i=g("#confluence-ui.confluence-dashboard").length;var h=window.location.href.indexOf("/content-only/")>-1;if(j){if(!i&&!h){e.start({key:"confluence."+j+".view",ready:".wiki-content",isInitial:true})}g("#editPageLink").on("click",{type:j},b);g(".confluence-embedded-file-wrapper").on("click",a)}}c.toInit(d)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:util-resource', location = 'util/utils.js' */
define("confluence/ic/util/utils",["jquery","underscore","ajs","backbone","exports"],function(f,l,e,z,c){function A(a){return 0<a.filter(function(){return 0<f(this).text().length}).length}function q(a,b,d,g){null!=b&&(b.isResolved()?(new d({collection:a,focusCommentId:b.get("id")})).render():b.isDangling()||z.trigger("ic:view",b,"permalink",{isReplyComment:g}))}function r(a){if("number"===typeof a.selectionStart){var b=a.value.length;a.selectionStart=b;a.selectionEnd=b}else a.focus(),a=a.createTextRange(),
a.collapse(!1),a.select()}function t(a){var b=f(a).closest("a");b.length||(b=f(a).find("a"));return b}function u(){return!!f(".ic-sidebar #wysiwygTextarea_ifr").length}function v(){void 0===m&&(m=!!w().length);return m}function x(){void 0===n&&(n=f("#content"));return n}function w(){void 0===p&&(p=f("#splitter-content"));return p}var B={INLINE_COMMENTS:e.DarkFeatures.isEnabled("confluence-inline-comments"),RESOLVED_INLINE_COMMENTS:e.DarkFeatures.isEnabled("confluence-inline-comments-resolved"),RICH_TEXT_EDITOR:e.DarkFeatures.isEnabled("confluence-inline-comments-rich-editor"),
DANGLING_COMMENT:e.DarkFeatures.isEnabled("confluence-inline-comments-dangling-comment")},C=["dateautocomplete","confluencemacrobrowser","propertypanel","jiraconnector","dfe"],D=["autoresize","confluenceleavecomment"],E=["code","include"],n,p,m;c.overlappedSelection=function(a,b){if(a&&b){var d=f(a.containingElement);d.is(".inline-comment-marker.valid")||(d=f("\x3cdiv/\x3e").append(a.html).find(".inline-comment-marker.valid"));if(0<d.length&&A(d))return a=d.first().data("ref"),b=b.findWhere({markerRef:a})}};
c.focusedCommentUrl=function(a){return e.contextPath()+"/pages/viewpage.action?pageId\x3d"+e.Meta.get("latest-page-id")+"\x26focusedCommentId\x3d"+a+"#comment-"+a};c.showFocusedComment=function(a,b,d){b=b.match(/(focusedCommentId|replyToComment)=(\d+)/);if(null!=b){var g="replyToComment"===b[1];b=parseInt(b[2],10);var h=a.findWhere({id:b});null!=h?q(a,h,d,g):f.ajax({url:e.contextPath()+"/rest/inlinecomments/1.0/comments/replies/"+b+"/commentId"}).done(function(k){h=a.findWhere({id:k});q(a,h,d,g)})}};
c.getAuthorAvatarUrl=function(){return e.Meta.get("current-user-avatar-url")?e.contextPath()+e.Meta.get("current-user-avatar-url"):e.Meta.get("static-resource-url-prefix")+"/images/icons/profilepics/anonymous.png"};c.moveCaretToEnd=function(a){r(a);window.setTimeout(function(){r(a)},1)};c.animateSidebar=function(a,b){var d=a.$wikiContent,g=f.Deferred();if(b){var h=f(".inline-comment-marker.active");d.addClass("ic-fade-in-animation");d.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",
function(){f(this).removeClass("ic-fade-in-animation")});a.$el.addClass("ic-slide-in");a.$el.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){f(this).removeClass("ic-slide-in");h.addClass("ic-highlight-pulse");h.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){h.removeClass("ic-highlight-pulse")})});g.resolve()}else{d.bind("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(y){"ic-fade-out-animation"==y.originalEvent.animationName?
(a.$wikiContent.removeClass("ic-fade-out-animation"),a.$wikiContent.css("opacity","0.5")):"ic-fade-in-animation"==y.originalEvent.animationName&&(a.$wikiContent.css("opacity","1"),a.$wikiContent.removeClass("ic-fade-in-animation"),a.$wikiContent.unbind("webkitAnimationEnd oanimationend msAnimationEnd animationend"))});d.addClass("ic-fade-out-animation");a.$el.addClass("ic-slide-out");var k=function(){a.$el.removeClass("ic-slide-out");a._emptySidebar();x().css("padding-right","0");d.addClass("ic-fade-in-animation");
d.css("position","static");g.resolve();a.$el.off("webkitAnimationEnd oanimationend msAnimationEnd animationend",k)};a.$el.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",k)}return g.promise()};c.getDarkFeatures=function(){return l.clone(B)};c.getInlineLinks=t;c.removeInlineLinksDialog=function(a){a.each(function(){var b=t(this);b.length&&b.off("mousemove")})};c.isAnimationSupported=function(){return void 0!==document.body.style.animation||void 0!==document.body.style.webkitAnimation};
c.showHighlightContent=function(a){a.parents(".expand-content.expand-hidden").each(function(b){f(this).siblings(".expand-control").click()})};c.getUnsupportedRtePlugins=function(){return l.clone(C)};c.getSupportedRtePlugins=function(){return l.clone(D)};c.confirmProcess=function(a){var b=e.Rte&&e.Rte.getEditor();if(!0===a){if(u()&&b&&b.isDirty())return confirm("Your comment will be lost.")}else if(b&&b.isDirty()&&Confluence.Editor&&!Confluence.Editor.getContentType)return confirm("Your comment will be lost.");
return!0};c.getAuthorDisplayName=function(){return e.Meta.get("user-display-name")||e.Meta.get("current-user-fullname")};c.isKeyboardShortcutsEnable=function(){return e.Meta.get("use-keyboard-shortcuts")&&Confluence.KeyboardShortcuts&&Confluence.KeyboardShortcuts.enabled};c.addSidebarHeadingTooltip=function(a){a.$("button.ic-action-hide").tooltip({gravity:"se"});a.$("#ic-nav-next").tooltip({gravity:"s"});a.$("#ic-nav-previous").tooltip({gravity:"s"})};c.hasEditorInSidebar=u;c.recalculateContentHeight=
function(a){if(v())a.css("padding-bottom","20px");else{var b=a.height();a=a.offset().top+b;b=this.getPageContainer().offset().top;a-=b;this.getPageContainer().css({"min-height":a+"px"})}};c.resizeContentAfterLoadingImages=function(a){a=a.closest(".ic-display-comment-view");var b=this,d=f(".confluence-embedded-image, .confluence-embedded-file img",a),g=d.length,h=0;0<g&&d.off("load").one("load",function(){++h===g&&b.recalculateContentHeight(a)}).each(function(){this.complete&&f(this).load()})};c.isDocTheme=
v;c.getPageContainer=x;c.getSplitterContent=w;c.scrollToCommentAfterToggleSideBar=function(a,b){(!b||b.is(":visible"))&&a&&(this.isDocTheme()?this.getSplitterContent().scrollTop(b.offset().top-a):window.scrollTo(0,b.offset().top-a))};c.getEditorFormat=function(a){var b=f.Deferred();f.ajax({url:e.contextPath()+"/rest/api/content/"+a+"?expand\x3dbody.editor",type:"GET",dataType:"json",contentType:"application/json; charset\x3dutf-8"}).then(function(d){b.resolve(d.body.editor.value)}).fail(function(d,
g,h){b.reject(d,g,h)});return b.promise()};c.containsUnsupportedMacro=function(a){var b=null;a.parents(".conf-macro").each(function(d,g){d=f(g);if(!1===d.data("hasbody")||-1!==E.indexOf(d.data("macro-name")))return b=d.data("macro-name"),!1});return null===b&&(a=a.find('.conf-macro[data-hasbody\x3d"false"]'),0<a.length)?a.eq(0).data("macro-name"):b};c.containsInternalLink=function(a){return 0<a.closest("a[href^\x3d'/']:not('.user-mention')").length||0<a.find("a[href^\x3d'/']:not('.user-mention')").length};
c.containsUserMention=function(a){return 0<a.closest(".user-mention").length||0<a.find(".user-mention").length};c.containsDateLozenge=function(a){return 0<a.closest("time[class^\x3ddate-]").length||0<a.find("time[class^\x3ddate-]").length};c.getCurrentUserInfo=function(){var a={isDefault:!0,path:e.Meta.get("static-resource-url-prefix")+"/images/icons/profilepics/default.png"};"/images/icons/profilepics/default.png"!==e.Meta.get("current-user-avatar-url")&&(a={isDefault:!1,path:e.contextPath()+e.Meta.get("current-user-avatar-url")});
var b=e.Meta.get("remote-user");return{userName:""==b?null:b,displayName:e.Meta.get("current-user-fullname"),profilePicture:a}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:util-resource', location = 'util/text-highlighter.js' */
define("confluence/ic/util/text-highlighter",["jquery"],function(b){function c(){b.textHighlighter.createWrapper=function(a){return b("\x3cspan\x3e\x3c/span\x3e").addClass(a.highlightedClass)};this.$el=b("#content .wiki-content").first();0<this.$el.length&&this.$el.textHighlighter({highlightedClass:"ic-current-selection"})}c.prototype.highlight=function(a){if(0!==this.$el.length)return a=b(this.$el.getHighlighter().doHighlight(a)),this.$el.getHighlighter().serializeHighlights(a)};c.prototype.removeHighlight=
function(){if(0!==this.$el.length)return this.$el.getHighlighter().removeHighlights(),this};c.prototype.deserializeHighlights=function(a,d){if(0!==this.$el.length)return d='\x3cspan class\x3d"inline-comment-marker" data-ref\x3d"'+d+'"\x3e\x3c/span\x3e',this.$el.getHighlighter().deserializeHighlights(a,d)};return c});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:models', location = '/model/comment.js' */
define("confluence/ic/model/comment","jquery underscore backbone ajs confluence/ic/util/utils confluence/ic/model/reply-collection".split(" "),function(g,e,h,b,l,p){return h.Model.extend({defaults:{authorDisplayName:l.getAuthorDisplayName(),authorUserName:b.Meta.get("remote-user"),authorAvatarUrl:b.contextPath()+b.Meta.get("current-user-avatar-url"),body:"",originalSelection:"",containerId:b.Meta.get("latest-page-id"),containerVersion:b.Meta.get("page-version"),parentCommentId:"0",lastFetchTime:g("meta[name\x3dconfluence-request-time]").attr("content"),
hasDeletePermission:!0,hasEditPermission:!0,hasResolvePermission:!0,resolveProperties:{resolved:!1,resolvedTime:0},serializedHighlights:"",deleted:!1},urlRoot:b.contextPath()+"/rest/inlinecomments/1.0/comments",initialize:function(a){a=a||{};this._setHighlights(a.markerRef);this.set({containerVersion:b.Meta.get("page-version")});var c=this;this.replies=new p;this.replies.url=function(){return c.url()+"/replies"};l.getDarkFeatures().DANGLING_COMMENT&&b.Meta.get("page-id")===b.Meta.get("latest-page-id")&&
this.isDangling()&&!this.isResolved()&&this.resolve(!0,{wait:!0,dangling:!0,success:e.bind(function(){h.trigger("ic:open:dangled",this)},this),error:e.bind(function(k,d){h.trigger("ic:resolve:dangled:failed",this)},this)})},validate:function(){if(!this.get("body"))return!0},resolve:function(a,c){c=c||{};this.save({},e.extend(c,{url:this.urlRoot+"/"+this.get("id")+"/resolve/"+a+"/dangling/"+(!0===c.dangling)}))},isResolved:function(){return this.get("resolveProperties").resolved},isDangling:function(){return void 0===
this.highlight},isDeleted:function(){return this.get("deleted")},_setHighlights:function(a){a=void 0!==a?g("#content .wiki-content:first").find('.inline-comment-marker[data-ref\x3d"'+a+'"]'):g(".ic-current-selection");0!==a.length?(this.highlights=a,this.highlight=a.first()):this.highlight=this.highlights=void 0},destroy:function(a){a=a?e.clone(a):{};var c=this,k=a.success;a.success=function(d){k&&k(c,d,a)};(function(d,f){var m=f.error;f.error=function(n){m&&m(d,n,f);d.trigger("error",d,n,f)}})(this,
a);return this.sync("delete",this,a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:models', location = '/model/comment-collection.js' */
define("confluence/ic/model/comment-collection",["jquery","backbone","ajs","underscore","confluence/ic/model/comment"],function(f,g,e,c,h){return g.Collection.extend({model:h,initialize:function(){this.listenTo(this,"sort",this._removeCachedMarkers)},url:function(){var a=e.contextPath(),b=e.Meta.get("page-id");return a+"/rest/inlinecomments/1.0/comments?containerId\x3d"+b},getResolvedCount:function(){return this.getResolvedComments().length},getUnresolveCount:function(){return this.reject(function(a){return!0===
a.isResolved()&&!1===a.isDeleted()}).length},getResolvedComments:function(){return this.filter(function(a){return!0===a.isResolved()&&!1===a.isDeleted()})},getResolvedCommentsDesc:function(){return c.sortBy(this.getResolvedComments(),function(a){return 0-a.get("resolveProperties").resolvedTime})},getNextCommentOnPage:function(){return this._getCommentAtRelativeOffset(1)},getPrevCommentOnPage:function(){return this._getCommentAtRelativeOffset(-1)},_getCommentAtRelativeOffset:function(a){var b=this.getCommentsOnPage(),
d=this.findWhere({active:!0});if(void 0===d||1>=b.length)return null;var k=c.pluck(b,"id");d=c.indexOf(k,d.get("id"));return b[(d+a+b.length)%b.length]},getCommentsOnPage:function(){return this.filter(function(a){return!1===a.isResolved()&&!a.isDangling()&&!1===a.isDeleted()||!0===a.get("active")})},getCommentsOnPageCount:function(){return this.getCommentsOnPage().length},getActiveIndexWithinPageComments:function(){var a=c.pluck(this.getCommentsOnPage(),"id"),b=this.findWhere({active:!0});if(void 0===
b)return null;b=b.get("id");return c.indexOf(a,b)},comparator:function(a,b){void 0===this.markers&&(this.markers=f("#content .wiki-content:first").find(".inline-comment-marker"));return void 0===a.highlight?1:void 0===b.highlight?-1:this.markers.index(a.highlight)-this.markers.index(b.highlight)},_removeCachedMarkers:function(){this.markers=void 0}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:models', location = '/model/reply.js' */
define("confluence/ic/model/reply",["jquery","backbone","ajs","confluence/ic/util/utils"],function(g,c,a,e){return c.Model.extend({defaults:{authorDisplayName:e.getAuthorDisplayName(),authorUserName:a.Meta.get("remote-user"),authorAvatarUrl:a.contextPath()+a.Meta.get("current-user-avatar-url"),body:"",commentId:"0",hasDeletePermission:!0,hasEditPermission:!!a.Meta.get("remote-user")},urlRoot:function(){return a.contextPath()+"/rest/inlinecomments/1.0/comments/"+this.get("commentId")+"/replies"},sync:function(d,
f,b){b=b||{};"create"===d&&(b.url=this.urlRoot()+"?containerId\x3d"+a.Meta.get("latest-page-id"));return c.sync.call(this,d,f,b)},validate:function(){if(!this.get("body"))return!0}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:models', location = '/model/reply-collection.js' */
define("confluence/ic/model/reply-collection",["backbone","confluence/ic/model/reply"],function(a,b){return a.Collection.extend({model:b})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:app', location = 'analytics/ic-analytics.js' */
define("confluence/ic/analytics",["ajs","underscore","backbone"],function(c,f,a){var d={};f.extend(d,a.Events);d.start=function(){!0!==this.running&&(this.running=!0,this.send=function(b,e){c.trigger("analytics",{name:b,data:e})},this.listenTo(a,"ic:highlight-panel-click",function(){this.send("confluence.highlight.actions.comment.inline")}),this.listenTo(a,"ic:view",function(b,e){this.send("confluence.comment.inline.view");"nav"===e&&this.send("confluence.comment.inline.view.nav");"permalink"===e&&
this.send("confluence.comment.inline.view.permalink")}),this.listenTo(a,"ic:overlap",function(){this.send("confluence.comment.inline.overlap")}),this.listenTo(a,"ic:edit",function(){this.send("confluence.comment.inline.edit")}),this.listenTo(a,"ic:persist",function(){this.send("confluence.comment.inline.create")}),this.listenTo(a,"ic:sidebar:close",function(){this.send("confluence.comment.inline.sidebar.close")}),this.listenTo(a,"ic:reply:persist",function(){this.send("confluence.comment.inline.reply")}),
this.listenTo(a,"ic:delete ic:reply:delete",function(){this.send("confluence.comment.inline.delete")}),this.listenTo(a,"ic:resolved",function(){this.send("confluence.comment.inline.resolved")}),this.listenTo(a,"ic:unresolved",function(){this.send("confluence.comment.inline.unresolved")}),this.listenTo(a,"ic:resolved:view",function(b){this.send("confluence.comment.inline.resolved.view",{total:b})}),this.listenTo(a,"ic:resolved:dismiss:recovery",function(){this.send("confluence.comment.inline.resolved.dismiss")}),
this.listenTo(a,"ic:resolved:show:recovery",function(){this.send("confluence.comment.inline.resolved.discovery")}),this.listenTo(a,"ic:open:dangled",function(b){b={commentId:b.get("id"),pageId:c.Meta.get("page-id")};this.send("confluence.comment.inline.open.dangled",b)}),this.listenTo(a,"ic:editor:load:fail",function(){var b={pageId:c.Meta.get("page-id")};this.send("confluence.comment.inline.editor.load.fail",b)}),this.listenTo(a,"ic:resolve:dangled:failed",function(b){b={commentId:b.get("id"),pageId:c.Meta.get("page-id")};
this.send("confluence.comment.inline.resolved.dangled.failed",b)}))};d.stop=function(){this.running=!1;this.stopListening()};return d});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:app', location = '/app/app.js' */
define("confluence/ic/app/app","jquery backbone ajs confluence/ic/model/comment confluence/ic/model/comment-collection confluence/ic/analytics exports".split(" "),function(h,k,f,r,t,u,v){v.init=function(){function l(){e().done(function(a){a.afterSyncCommentCollection();a.displayPermalinkedComment(c)})}function e(){if(p){p=!1;if(g)return g.promise();g=h.Deferred();WRM.require("wrc!inline-comments-load-sidebar").then(function(){var a=require("confluence/ic/app/loader");a.init(c);g.resolve(a)})}m=!1;
return g.promise()}u.start();var p=!0,c=new t;h("body").on("click","#view-resolved-comments",function(a){a.preventDefault();e().done(function(b){b.createResolvedCommentListView()})});c.fetch({cache:!1}).done(function(){0<c.getCommentsOnPageCount()&&l();0<c.getResolvedCount()&&e().done(function(a){a.updateResolvedCommentCountInToolsMenu()})});-1!==window.location.search.indexOf("focusedCommentId")&&l();k.listenTo(k,"ic:resolved",function(){l()});h("#view-resolved-comments\x3espan").text("Resolved comments"+
f.format(" ({0})",c.getResolvedCount()));var w=function(a,b){var d=c.get(b),q=!1;void 0===d&&(d=new r({id:b}),q=!0);d.fetch({success:function(n){n._setHighlights(n.get("markerRef"));q?c.add(n):d.replies.isFetched=!1;k.trigger("ic:view",d,"quickreload")}})};f.bind("qr:show-new-thread",function(a,b){e().done(function(){w(a,b)})});f.bind("qr:add-new-highlight",function(a,b,d){e().done(function(){f.trigger("qr:add-new-highlight-text",[b,d])})});var g,m;Confluence&&Confluence.HighlightAction&&Confluence.HighlightAction.registerButtonHandler("com.atlassian.confluence.plugins.confluence-inline-comments:create-inline-comment",
{onClick:function(a){e().done(function(b){m||(m=!0,b.loadSidebarOnClick(a))})},shouldDisplay:Confluence.HighlightAction.WORKING_AREA.MAINCONTENT_ONLY})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:likes', location = '/model/like.js' */
define("confluence/ic/model/like",["backbone"],function(b){return b.Model.extend({initialize:function(a,c){if(!a)throw Error("Attributes is required");if(!a.username)throw Error("username is a required attribute");}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:likes', location = '/model/likes.js' */
define("confluence/ic/model/likes",["ajs","underscore","backbone","confluence/ic/model/like","confluence/ic/likes/likes-manager"],function(d,g,e,h,c){return e.Collection.extend({model:h,url:function(){return d.contextPath()+"/rest/likes/1.0/content/"+this.contentId+"/likes"},initialize:function(a,b){g.bindAll(this,"_handleSaveSuccess","_handleDestroySuccess","_handleError");b=b||{};if(void 0===b.contentId)throw Error("content ID is required.");this.contentId=b.contentId;c.getLikes(b.contentId)&&this.reset(c.getLikes(b.contentId));
this.listenTo(e,"ic:likes-received",this.updateLikes);this.bind("add",function(f){f.save(null,{success:this._handleSaveSuccess,error:this._handleError})});this.bind("remove",function(f){f.id="";f.destroy({success:this._handleDestroySuccess,error:this._handleError})});this.currentUserName=d.Meta.get("remote-user")},updateLikes:function(){this.reset(c.getLikes(this.contentId))},addUser:function(a){return this.add({username:a})},removeUser:function(a){return this.remove(this.getUserByName(a))},isLikedByUser:function(a){return!!this.getUserByName(a)},
getUserByName:function(a){return this.findWhere({username:a})},toggleLike:function(){this.isLikedByUser(this.currentUserName)?this.removeUser(this.currentUserName):this.addUser(this.currentUserName)},_handleSaveSuccess:function(a){c.add(this.contentId,this.currentUserName)},_handleDestroySuccess:function(a){c.remove(this.contentId,this.currentUserName)},_handleError:function(a,b){this.updateLikes();405===b.status&&b.responseText?e.trigger("ic:error","This site is read-only. You can\u0027t make changes right now."):
e.trigger("ic:error","Likes cannot be updated.")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:confirm-dialog-view', location = 'view/confirm-dialog/confirm-dialog.soy' */
// This file was automatically generated from confirm-dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.IC.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.IC == 'undefined') { Confluence.Templates.IC = {}; }


Confluence.Templates.IC.confirmDialog = function(opt_data, opt_ignored) {
  return '<strong class="ic-confirm-label">' + soy.$$escapeHtml(opt_data.label) + '</strong><div class="ic-confirm-message">' + soy.$$escapeHtml(opt_data.message) + '</div><div class="ic-confirm-buttons">' + aui.buttons.button({text: 'Delete', tagName: 'button', extraClasses: ['ic-action-delete-confirm', 'aui-button-compact']}) + aui.buttons.button({text: 'Cancel', tagName: 'button', type: 'link', extraClasses: ['ic-action-cancel-confirm', 'aui-button-compact']}) + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.IC.confirmDialog.soyTemplateName = 'Confluence.Templates.IC.confirmDialog';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:confirm-dialog-view', location = 'view/confirm-dialog/confirm-dialog.js' */
define("confluence/ic/view/confirm-dialog",["backbone","underscore","jquery"],function(b,c,d){return b.View.extend({tagName:"div",className:"ic-confirm-container",initialize:function(a){this.$menuEl=a.$menuEl;this.$bodyEl=a.$bodyEl;this.$menuEl.addClass("ic-action-menu-active");this.render();c.bindAll(this,"clickOutside");this.$bodyEl.on("click",this.clickOutside)},events:{"click .ic-action-cancel-confirm":"cancel","click .ic-action-delete-confirm":"confirm"},template:Confluence.Templates.IC.confirmDialog,
render:function(){this.$el.html(this.template(this.model.toJSON()));return this},clickOutside:function(a){d.contains(this.el,a.target)||this.el===a.target||this.cancel()},cancel:function(){this.destroy()},confirm:function(){this.trigger("ic:confirm");this.destroy()},destroy:function(){this.$bodyEl.off("click",this.clickOutside);this.$menuEl.removeClass("ic-action-menu-active");this.remove()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:common-resource', location = 'common/common.soy' */
// This file was automatically generated from common.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.IC.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.IC == 'undefined') { Confluence.Templates.IC = {}; }


Confluence.Templates.IC.authorAvatar = function(opt_data, opt_ignored) {
  return '' + ((opt_data.authorUserName == '') ? aui.avatar.avatar({size: opt_data.size, avatarImageUrl: opt_data.authorAvatarUrl, extraClasses: 'ic-author-avatar'}) : '<a data-username="' + soy.$$escapeHtml(opt_data.authorUserName) + '" href="' + soy.$$escapeHtml("/confluence") + '/display/~' + soy.$$escapeHtml(opt_data.authorUserName) + '" title="" data-user-hover-bound="true">' + aui.avatar.avatar({size: opt_data.size, avatarImageUrl: opt_data.authorAvatarUrl, extraClasses: 'ic-author-avatar'}) + '</a>');
};
if (goog.DEBUG) {
  Confluence.Templates.IC.authorAvatar.soyTemplateName = 'Confluence.Templates.IC.authorAvatar';
}


Confluence.Templates.IC.sidebarHeading = function(opt_data, opt_ignored) {
  return '<div class="ic-sidebar-heading"><div id="ic-nav-container">' + ((opt_data.createComment == true) ? Confluence.Templates.IC.navigation({disabled: true, showIndex: false}) : '') + '</div><div class="ic-right-toolbar">' + ((opt_data.showMenu) ? Confluence.Templates.IC.commentMenu(opt_data) : '') + aui.buttons.button({type: 'text', extraClasses: 'aui-button-text ic-action-hide', iconType: 'aui', iconClass: 'aui-icon-small aui-iconfont-close-dialog', text: '', extraAttributes: {title: 'Close sidebar (])'}}) + '</div></div><div class="ic-error"></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.IC.sidebarHeading.soyTemplateName = 'Confluence.Templates.IC.sidebarHeading';
}


Confluence.Templates.IC.commentHeader = function(opt_data, opt_ignored) {
  return '<div class="ic-author">' + Confluence.Templates.IC.authorAvatar({authorUserName: opt_data.authorUserName, authorAvatarUrl: opt_data.authorAvatarUrl, size: 'small'}) + Confluence.Templates.User.usernameLink({canView: opt_data.authorUserName != '', username: opt_data.authorUserName, fullName: opt_data.authorDisplayName}) + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.IC.commentHeader.soyTemplateName = 'Confluence.Templates.IC.commentHeader';
}


Confluence.Templates.IC.timeLink = function(opt_data, opt_ignored) {
  return '<a class="ic-date-link" title="' + soy.$$escapeHtml(opt_data.time) + '" href="' + soy.$$escapeHtml("/confluence" + opt_data.commentUrl) + '"><span>' + soy.$$escapeHtml(opt_data.time) + '</span></a>';
};
if (goog.DEBUG) {
  Confluence.Templates.IC.timeLink.soyTemplateName = 'Confluence.Templates.IC.timeLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:editor-core-resources', location = 'loader/profiles.js' */
define("confluence-editor/profiles",["jquery","ajs"],function(d,c){return{createProfileForCommentEditor:function(){return{plugins:"searchreplace confluenceimagedialog autocompletemacro confluencemacrobrowser confluenceleavecomment confluencewatch autoresize".split(" ")}},createProfileForPageEditor:function(a){var b="searchreplace confluencedrafts confluenceimagedialog autocompletemacro confluencemacrobrowser flextofullsize referrer".split(" ");c.Meta.getBoolean("shared-drafts")&&c.DarkFeatures.isEnabled("unpublished-changes-lozenge")&&
b.push("unpublishedchanges");a&&a.versionComment&&b.push("confluenceversioncomment");a&&a.notifyWatchers&&b.push("confluencenotifywatchers");return{plugins:b}},createProfileForTemplateEditor:function(){return{plugins:"searchreplace confluenceimagedialog autocompletemacro confluencemacrobrowser confluenceleavetemplate flextofullsize confluencetemplateeditor".split(" ")}}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-editor/profiles","AJS.Confluence.Editor._Profiles");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-edit-util', location = 'jscripts/util.js' */
define("confluence-quick-edit/util",["window","ajs"],function(c,d){return{generateUUID:function(){var a=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getBaseUrl:function(){var a=c.location.protocol.replace(/:$/,"")+"://"+c.location.host+"/"+c.location.pathname.replace(/^\//,""),b=c.location.search.replace(/^\?/,""),b=b.replace(/&?focusedCommentId=\d+/,""),b=b.replace(/^&/,"");return{url:a,search:b,addQueryParam:function(a,
b){this.search=this.search?this.search+"&"+a+"="+b:a+"="+b},toString:function(){return this.url+"?"+this.search}}},timeoutDeferred:function(a,b,c){"function"!==typeof b.reject&&d.log("WARNING: invalid, not rejectable object passed to AJS.Confluence.QuickEdit.Util.timeoutDeferred. You should use a Deferred object");setTimeout(function(){"pending"===b.state()&&(d.logError("Timeout: "+a),b.reject("timeout"))},c);return b}}});
require("confluence/module-exporter").exportModuleAsGlobal("confluence-quick-edit/util","AJS.Confluence.QuickEdit.Util");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:querystring', location = '/includes/js/api/querystring.js' */
define("confluence/api/querystring",[],function(){return{stringify:function(a){var b="",c;for(c in a)for(var d=0;d<a[c].length;d++)b+="&"+c,a[c][d]&&(b+="="+a[c][d]);return b.substring(1)},parse:function(a){var b={};if(a){"?"===a.substr(0,1)&&(a=a.substr(1));for(var a=a.split("&"),c=0;c<a.length;c++){var d=a[c].split("=");b[d[0]]||(b[d[0]]=[]);b[d[0]].push(a[c].substring(d[0].length+1))}}return b}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:url', location = '/includes/js/api/url.js' */
define("confluence/api/url",["confluence/api/querystring","jquery"],function(d,e){var g=/([^?|#]+)[?]?([^#]*)[#]?(.*)/,f=["source","urlPath","queryParams","anchor"];return{parse:function(a){var b={};if(a=g.exec(a)){for(var c=0;c<f.length;c++)b[f[c]]=a[c];b.queryParams=d.parse(b.queryParams)}return b},format:function(a){return e.isEmptyObject(a)?"":(!a.urlPath?"":a.urlPath)+(e.isEmptyObject(a.queryParams)?"":"?"+d.stringify(a.queryParams))+(!a.anchor?"":"#"+a.anchor)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:analytics-support', location = '/includes/js/analytics-support.js' */
define("confluence/analytics-support","jquery ajs confluence/meta window document confluence/api/url".split(" "),function(j,o,l,k,m,h){var b={},n;b.setAnalyticsSource=function(a,d){if(typeof n==="undefined"){var c=j._data(k,"events");n=c&&c.analytics&&c.analytics.length>0}n&&a.attr("href",function(a,c){var b=encodeURIComponent(d),g=h.parse(c);if(!j.isEmptyObject(g))g.queryParams.src=[b];return h.format(g)})};b.srcRemovedUrl=function(a){a=h.parse(a);delete a.queryParams.src;for(var d=Object.keys(a.queryParams),
c=0;c<d.length;c++){var b=d[c],f=b.split(".");f.length===3&&f[0]==="src"&&delete a.queryParams[b];b==="jwt"&&delete a.queryParams[b]}return h.format(a)};b.srcParamValues=function(a){return(a=h.parse(a).queryParams)&&a.src?a.src:[]};b.srcAttrParamValues=function(a){for(var a=h.parse(a).queryParams,b={},c=Object.keys(a),e=0;e<c.length;e++){var f=c[e],i=f.split(".");if(i.length===3&&i[0]==="src"){var g=i[1],i=i[2];b[g]=b[g]||{};b[g][i]=decodeURIComponent(a[f][0])}}return b};b.extractAnalyticsData=function(a){for(var d=
[],c=b.srcParamValues(a),a=b.srcAttrParamValues(a),e=0;e<c.length;e++){var f=c[e];d.push({src:f,attr:a[f]||{}})}return d};b.publish=function(a,b){o.trigger("analytics",{name:a,data:b||{}})};b.init=function(){var a=b.extractAnalyticsData(m.URL),d={userKey:l.get("remote-user-key"),pageID:l.get("page-id"),draftID:l.get("draft-id")};if(a.length>0){for(var c=0;c<a.length;c++){var e=a[c],f=j.extend({},d,e.attr);b.publish("confluence.viewpage.src."+e.src,f)}if(k.history&&k.history.replaceState){a=b.srcRemovedUrl(m.URL);
m.URL!==a&&k.history.replaceState(null,"",a)}}else b.publish("confluence.viewpage.src.empty",d)};return b});require("confluence/module-exporter").exportModuleAsGlobal("confluence/analytics-support","AJS.Confluence.Analytics",function(j){require("ajs").toInit(j.init)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:browser', location = '/includes/js/api/browser.js' */
define("confluence/api/browser",[],function(){return function(a){function c(){return-1!==a.indexOf("Firefox/")}function b(){return-1!==a.indexOf("Edge/")}function d(){return-1!==a.indexOf("MSIE")||-1!==a.indexOf("Trident/")||b()}function e(){return-1!==a.indexOf("Chrome/")}function f(){return-1!==a.indexOf("Safari/")&&-1===a.indexOf("Chrome/")}function g(){return-1!==a.indexOf("PhantomJS")}return{isFirefox:c,notFirefox:function(){return!c()},isMSEdge:b,notMSEdge:function(){return!b()},isIE:d,notIE:function(){return!d()},
isChrome:e,notChrome:function(){return!e()},isSafari:f,notSafari:function(){return!f()},isPhantom:g,notPhantom:function(){return!g()},version:function(){if(d()){var b=a.match(/MSIE\s([\d.]+)/)||a.match(/rv:([\d.]+)/)||a.match(/Edge\/([\d.]+)/);return parseInt(b[1])}if(e())return parseInt(a.match(/Chrome\/([\d.]+)/)[1]);if(f())return parseInt(a.match(/Version\/([\d.]+)/)[1]);if(c())return parseInt(a.match(/Firefox\/([\d.]+)/)[1])},friendlyName:function(){if(b())return"MSEdge";if(d())return"IE";if(e())return"Chrome";
if(f())return"Safari";if(c())return"Firefox"}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:page-editor-message', location = 'editor/page-editor-message.js' */
define("confluence-editor/editor/page-editor-message",["jquery","ajs","aui/flag","document","underscore"],function(f,i,g,h,d){var b=Object.create(null),e=Object.create(null);h.addEventListener("aui-flag-close",function(a){a&&a.target&&(b=d.filter(Object.keys(b),function(c){return!f(a.target).find("span").hasClass(c)}))});return{handleMessage:function(a,c,d){b[a]||(e[a]?delete e[a]:c&&(b[a]=g({title:c.title?c.title:"",type:c.type,close:c.close?c.close:"manual",persistent:!1,body:"<span class='"+a+
"'>"+c.message+"</span>"}),d&&d()))},closeMessages:function(a){d.each(a,function(a){b[a]&&(b[a].close(),delete b[a])})},isDisplayed:function(a){return a in b},displayedErrors:function(){return Object.keys(b)},suppressMessage:function(a){e[a]={}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-edit-general', location = 'jscripts/captcha-manager.js' */
define("confluence-quick-edit/captcha-manager",["jquery","ajs"],function(d,e){return function(f){function a(a){return d(f||"body").find(a)}return{refreshCaptcha:function(){var b=a("img.captcha-image");if(0<b.length){var c=Math.random();b.attr("src",e.contextPath()+"/jcaptcha?id="+c);a('input[name="captchaId"]').val(c);a('input[name="captchaResponse"]').val("")}},getCaptchaData:function(){return{id:a('input[name="captchaId"]').val(),response:a('input[name="captchaResponse"]').val()}}}}});
require("confluence/module-exporter").exportModuleAsGlobal("confluence-quick-edit/captcha-manager","AJS.Confluence.QuickEditCaptchaManager");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-edit-general', location = 'jscripts/quick-edit.js' */
define("confluence-quick-edit/quick-edit","ajs confluence-editor-loader/block-and-buffer-keys confluence/legacy confluence/templates confluence/meta jquery window document confluence-editor-loader/editor-loader confluence/api/event confluence/api/logger confluence-quick-edit/captcha-manager confluence-quick-edit/util wrm".split(" "),function(i,u,e,r,j,a,v,w,o,c,g,k,x,y){function z(){var b=new a.Deferred;o.load(function(){setTimeout(function(){b.resolve()},0)},function(){b.reject()});return b}var s=
{enableShortcut:function(){a("#editPageLink").addClass("full-load")},disableShortcut:function(){a("#editPageLink").removeClass("full-load")}},l=[],q={loadingContentTimeout:4E3,register:function(b){l.push(b)},disableHandlers:function(){a.each(l,function(b,a){return a.disable()})},enableHandlers:function(){a.each(l,function(b,a){return a.enable()})},SaveBarBinder:{bind:function(b,a){b&&e.Editor.addSaveHandler(b);a&&e.Editor.addCancelHandler(a)}},activateEditor:function(b){function e(){function f(b){var c=
new a.Deferred;y.require(b).then(c.resolve,c.reject);return c}var l,m=new a.Deferred;if(j.get("access-mode")==="READ_ONLY"){g.logError("activateEditor could not be initialised: Read-only mode is enabled");return m.reject("READ_ONLY")}if(i.Rte&&i.Rte.getEditor()){g.debug("there is already an editor open");return m.reject("EDITOR_OPEN")}if(!b.$container||!b.$form){g.logError("activateEditor could not be initialised: bad arguments",b);return m.reject("BAD_ARGS")}l=u.block(a(w));b.preActivate&&b.preActivate();
s.disableShortcut();var t=b.timeoutResources||o.loadingTimeout,k=q.loadingContentTimeout,n=x.timeoutDeferred;a.when(n("resources",z(),t),n("fetch content",b.fetchContent||a.Deferred().resolve(),k),n("additional resources",b.additionalResources?f(b.additionalResources):a.Deferred().resolve(),t)).done(function(e,f){var d={$container:b.$container,content:f,$form:b.$form,replayBufferedKeys:l};b.preInitialise&&b.preInitialise(d);var h=o.getPreloadContainer();a(".quick-comment-prompt",d.$container).hide();
a(".quick-comment-body",d.$container).addClass("comment-body");if(d.content&&d.content.title){var p=d.content.title;h.find("#content-title").val(p)}d.$form.append(h.children());h.show();a("#editor-precursor").hide();a("#rte-savebar").find(".toolbar-split-left").hide();if(j.get("content-type")==="comment"){a("#pluggable-status").hide();var h=r.Editor.Page.cancelButton({contentType:j.get("content-type"),sharedDraftsEnabled:j.getBoolean("shared-drafts")}),p=a("#rte-button-cancel"),k=p.parent(".rte-toolbar-group-done");
if(k.length){k.remove();a("#rte-button-discard").remove()}else p.remove();a("#rte-savebar").find(".toolbar-split-right").append(h);h=r.Editor.Page.previewButton({});a("#rte-button-ellipsis").parent().remove();a("#rte-savebar").find(".toolbar-group-preview").empty().append(h)}var n=function(){d.editor=i.Rte.getEditor();d.$container.find(".quick-comment-loading-container").hide();d.$form.show();d.$form.addClass("fadeIn");var a=d.editor,e=d.content?d.content.editorContent:"",f=d.replayBufferedKeys;if(e){g.debug("Initial Editor Content from quick edit: ",
e);a.setContent(e);a.startContent=a.getContent({format:"raw",no_events:1});a.undoManager.clear()}f()&&a.undoManager.add();c.trigger("quickedit.success");c.trigger("quickedit.visible");c.trigger("add-bindings.keyboardshortcuts");c.trigger("active.dynamic.rte");b.postInitialise&&b.postInitialise(d);q.SaveBarBinder.bind(b.saveHandler,b.cancelHandler);c.trigger("rte-quick-edit-ready");a=j.get("content-type");j.get("collaborative-content")&&(a==="page"||a==="blogpost")&&c.trigger("rte-collab-editor-loaded");
c.unbind("rte-ready",n);m.resolve()};c.bind("rte-ready",n);c.bind("rte-destroyed",b.postDeactivate||function(){});i.Rte.BootstrapManager.initialise({plugins:b.plugins,toolbar:b.toolbar,excludePlugins:b.excludePlugins,isQuickEdit:true,onInitialise:b.onInitialise})}).fail(function(a,e){m.reject(a,e);g.logError("Error loading page quick edit. Falling back to normal edit URL...");c.trigger("analytics",{name:"rte.quick-edit.activate-editor.failed"});if(b.fallbackUrl){g.log("This parameter is deprecated. To be removed in the next major version (5.8 or 6.0). Please use the promise returned to bind custom action if the editor fails to load instead.");
v.location=b.fallbackUrl}});return m.promise()}if(b.closeAnyExistingEditor&&i.Rte&&i.Rte.getEditor()){var f=new a.Deferred;this.deactivateEditor().done(function(){e().done(function(){f.resolve()}).fail(function(a){f.reject(a)})}).fail(function(){g.debug("Could not deactivate current editor.");f.reject("Could not deactivate current editor.")});return f.promise()}return e()},deactivateEditor:function(){require("tinymce").majorVersion>=4?require("tinymce").execCommand("mceRemoveEditor",true,"wysiwygTextarea"):
require("tinymce").execCommand("mceRemoveControl",true,"wysiwygTextarea");e.Editor.UI.toggleSavebarBusy(false);var b=o.getPreloadContainer().empty();a(".editor-container").remove();a("#editor-precursor").remove();a("#anonymous-warning").remove();a(".quick-comment-prompt").show();a(".bottom-comment-panels").show();a("#editor-notification-container").empty();a(".action-reply-comment").removeAttr("reply-disabled");s.enableShortcut();e.Editor.removeAllSaveHandlers();e.Editor.removeAllCancelHandlers();
return o.getEditorPreloadMarkup().done(function(a){b.append(a);b.hide();(new k(b)).refreshCaptcha();c.trigger("rte-destroyed");c.unbind("rte-destroyed")})}};return q});require("confluence/module-exporter").exportModuleAsGlobal("confluence-quick-edit/quick-edit","AJS.Confluence.QuickEdit");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-edit-general', location = 'jscripts/handlers/view.js' */
define("confluence-quick-edit/handlers/view",["jquery","ajs","window"],function(c,d,e){return function(){var a;sessionStorage.viewPort&&(a=JSON.parse(sessionStorage.viewPort));if(a&&a.pageId==d.params.pageId){var b;b=c("#main-content");var f=c("#header");b=-1!==a.blockIndex?b.children().first().children().eq(a.blockIndex).find(".innerCell").eq(a.columnIndex).children().eq(a.index):b.children().eq(a.index);e.scrollTo(0,b.offset().top+a.offset-f.outerHeight())}delete sessionStorage.viewPort}});
require("confluence/module-exporter").safeRequire("confluence-quick-edit/handlers/view",function(c){require("ajs").toInit(c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-edit-general', location = 'jscripts/handlers/shortcut.js' */
define("confluence-quick-edit/handlers/shortcut",["ajs"],function(a){var d=!1;a.bind("initialize.keyboardshortcuts add-bindings.keyboardshortcuts",function(){d=!0});a.bind("remove-bindings.keyboardshortcuts",function(){d=!1});return{createShortcut:function(f,g){function b(){c=c||a.whenIType(f).moveToAndClick(g)}function e(){c&&c.unbind();c=null}var c;return{bind:function(){d&&b();a.bind("initialize.keyboardshortcuts",b);a.bind("add-bindings.keyboardshortcuts",b);a.bind("remove-bindings.keyboardshortcuts",
e)},unbind:function(){e();a.unbind("initialize.keyboardshortcuts",b);a.unbind("add-bindings.keyboardshortcuts",b);a.unbind("remove-bindings.keyboardshortcuts",e)}}}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-quick-edit/handlers/shortcut","AJS.Confluence.QuickEdit.KeyboardShortcuts");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-edit-general', location = 'jscripts/handlers/page.js' */
define("confluence-quick-edit/handlers/page","jquery ajs confluence/legacy confluence/analytics-support wrm/context-path confluence/dark-features confluence/api/event confluence/api/logger confluence/meta confluence/aui-overrides window confluence/api/browser confluence-editor/editor/page-editor-message confluence/message-controller confluence-quick-edit/quick-edit confluence-quick-edit/handlers/shortcut".split(" "),function(b,i,l,p,s,I,f,o,g,A,m,B,C,n,t,D){function q(){var a=b("#editPageLink");a.find(".aui-icon").css("visibility",
"visible");a.parent().spinStop()}function u(){var a=g.get("content-type");return g.get("collaborative-content")&&(a==="page"||a==="blogpost")}function v(a,c,d){var e={pageId:d,blockIndex:-1,columnIndex:-1,index:-1,offset:0,hasBlock:function(){return this.blockIndex!==-1}},h=false,f=function(a){var b=a.offset();return b.top-8<=c&&b.top+a.height()>=c},g=function(a,b){var d=a.offset();if(f(a)){e.index=b;e.offset=c-d.top;h=true}};if(a.children().length===1&&a.children().first().hasClass("contentLayout2")){a.children().first().children().each(function(a){if(!e.hasBlock()&&
f(b(this)))e.blockIndex=a});if(e.hasBlock()){a=a.children().first().children().eq(e.blockIndex).find(".innerCell");a.each(function(a){if(e.columnIndex===-1){var d=b(this).children().length;if(d>0)if(d<2){if(b(this).children().first().height()>25)e.columnIndex=a}else e.columnIndex=a}});a.eq(e.columnIndex).children().each(function(a){h||g(b(this),a)})}}else a.children().each(function(a){h||g(b(this),a)});return h?e:null}function E(a){var c=require("tinymce");j.disable();A.metaToParams();var d=b("#main-content"),
e=b("#header"),h=b("#main-header"),e=m.pageYOffset+e.outerHeight()+h.outerHeight();k=v(d,e,i.params.pageId);f.trigger("quick-edit.viewport.saved");var w=function(){b(c.activeEditor.getWin().document).find("body#tinymce").addClass("page-edit");b("#content").css({paddingRight:0});f.unbind("quickedit.visible",w)};f.bind("quickedit.visible",w);d=a.$form;e=g.get("content-type")==="page"?"doeditpage":"doeditblogpost";e=s()+"/pages/"+e+".action?pageId="+l.getContentId();b(".ia-splitter-left").remove();try{b("#main").unwrap()}catch(n){}b("#rte").removeClass("editor-default").addClass("editor-fullheight");
a.$container.children().remove();b(".editor-container").children().eq(0).unwrap();d.attr({"class":"editor aui",action:e,name:"editpageform",id:"editpageform",style:""});a.$container.append(d);a.$container.removeClass("view").addClass("edit");b("body").addClass("contenteditor edit")}function F(a){require("tinymce");b("#editor-precursor").show();b("#rte-savebar").find(".toolbar-split-left").show();if(m.history.pushState){var c=b("#editPageLink").attr("href");if(c!==m.location.pathname+m.location.search){history.pushState({quickEdit:true},
"",c);f.trigger("rte-quick-edit-push-state",c)}}else{m.location.hash="editor";f.trigger("rte-quick-edit-push-hash")}c=a.content;if(c.permissions)for(var d in c.permissions)b("#"+d).attr("value",c.permissions[d]);b("#originalVersion").val(a.content.pageVersion);g.set("page-version",a.content.pageVersion);g.set("page-title",a.content.title);b('meta[name="page-version"]').attr("content",a.content.pageVersion);b('meta[name="ajs-page-version"]').attr("content",a.content.pageVersion);b("#syncRev").val(a.content.syncRev);
g.set("conf-revision",a.content.confRev);b('meta[name="ajs-conf-revision"]').attr("content",a.content.confRev);d=a.content.atlToken;g.set("atl-token",d);b('input[name="atl_token"]').val(d);f.trigger("analyticsEvent",{name:"quick-edit-success"});b("#navigation").remove();var e=new Date,h=function(b){if(e&&!(b.type==="keydown"&&[91,92,93,224,33,34,37,38,39,40,16,17,18,20,112,113,114,115,116,117,118,119,120,121,122,123].indexOf(b.keyCode)>-1)){b=new Date-e;e=null;p.publish("confluence.editor.transition.firstkeydown",
{delay:b});a.editor.off("keydown",h);a.editor.off("Change",h)}};a.editor.on("keydown",h);a.editor.on("Change",h);l.debugTimeEnd("confluence.editor")}function G(a){var c=function(){f.unbind("rte-ready",c);if(k){var d;d=b(a.getBody());d=k.hasBlock()?d.children().first().children().eq(k.blockIndex).find(".innerCell").eq(k.columnIndex).children().eq(k.index):d.children().eq(k.index);a.getWin().scrollTo(0,d.offset().top+k.offset);b("#main").css("visibility","visible")}};return function(){f.bind("rte-ready",
c)}}function x(a){f.trigger("rte-collaborative-content-ready",a)}function H(){var a=new b.Deferred;l.debugTime("confluence.editor.quick.fetchContent");var c=b.ajax({url:s()+"/rest/tinymce/1/content/"+l.getContentId()+".json",cache:false});c.success(function(b){g.get("edit-mode")&&g.get("edit-mode")!==b.editMode&&a.reject("edit mode change",c);l.debugTimeEnd("confluence.editor.quick.fetchContent");u()&&x(b);f.bind("synchrony-events-bound",function h(){x(b);f.unbind("synchrony-events-bound",h)});a.resolve(b)});
c.error(function(b){a.reject("error fetching content",b)});return a}function y(a,c){if(c)switch(c.status){case 405:q();n.showError(n.parseError(c),n.Location.FLAG);return;case 423:var d=JSON.parse(c.responseText).user;q();d={title:"Unable to edit",body:i.format("Collaborative editing is offline right now, and {0} is editing this page. Try again in a few minutes.",i.escapeHtml(d))};n.showError(d,n.Location.FLAG);return;case 412:q();C.handleMessage("collab.edit.user.limit.reached",{type:"warning",title:"You can\u0027t edit this page right now",
message:"\u003cp\u003eThis page is so popular, you\u0027ve reached the maximum number of simultaneous editors.\u003c/p\u003e\u003cp\u003eTry again when it\u0027s not so busy.\u003c/p\u003e",close:"manual"});p.publish("collab.edit.user.limit.reached",{browserName:z.friendlyName(),browserVersion:z.version(),pageId:g.get("page-id"),editMode:"quick",numEditors:g.get("max-number-editors")});return}m.location=b("#editPageLink").attr("href")}var r,k,z=new B(m.navigator.userAgent),j={editShortcut:D.createShortcut("e","#editPageLink"),activateEventHandler:function(a){if(!a.metaKey&&!a.shiftKey&&!a.ctrlKey&&!a.altKey&&!(a.which===2||a.which===
3)){a.preventDefault();if(r&&r.state()==="pending")o.debug("Editor is being activated. Ignoring handler...");else{r=j.activateEditor();a=b("#editPageLink");a.find(".aui-icon").css("visibility","hidden");a.spin();a=b("#draft-status-lozenge");a.text()!==""&&p.publish("confluence.drafts.referrer",{referrerPage:"view",lozengeType:a.text()})}}},enable:function(){if(b("body").is(".theme-default")){var a=b("#editPageLink");a.bind("click",j.activateEventHandler);a.removeClass("full-load");j.editShortcut.bind();
o.debug("QuickPageEdit enabled")}else o.debug("QuickPageEdit not enabled")},activateEditor:function(){l.debugTime("confluence.editor");u()&&f.trigger("rte-quick-edit-init");var a=b("#content").find(".quick-comment-form"),c=function(){var a=require("tinymce").activeEditor.getWin(),c=b(a.document).find("#tinymce");if(a=v(c,a.pageYOffset,i.params.pageId))sessionStorage.viewPort=JSON.stringify(a)};return t.activateEditor({fetchContent:H(),$container:b("#content"),$form:a.length?a:b('<form method="post"></form>'),
preInitialise:E,postInitialise:F,saveHandler:function(){c()},cancelHandler:function(){c()},plugins:l.Editor._Profiles.createProfileForPageEditor({versionComment:true,notifyWatchers:true}).plugins,onInitialise:function(a){a.on("Load",G(a));i.messages.setup()}}).fail(y)},disable:function(){o.debug("QuickPageEdit disabled.");j.editShortcut.unbind();b("#editPageLink").unbind("click",j.activateEventHandler)}};t.register(j);return{disable:j.disable,_objForTesting:{onFailActivateEditor:y}}});
require("confluence/module-exporter").exportModuleAsGlobal("confluence-quick-edit/handlers/page","AJS.Confluence.QuickEdit.QuickEditPage");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-edit-general', location = 'jscripts/init.js' */
define("confluence-quick-edit/init",["ajs","jquery","window"],function(a,b,c){return function(){b("body").hasClass("page-gadget")?a.debug("QuickComment: editor preload is disabled"):b(c).load(function(){a.debug("QuickComment: instigated background loading of the comment editor.");a.Confluence.EditorLoader.load()});a.Confluence.QuickEdit.enableHandlers();a.trigger("rte-quick-edit-enable-handlers")}});
require("confluence/module-exporter").safeRequire("confluence-quick-edit/init",function(a){var b=require("ajs"),c=require("jquery");b.DarkFeatures.isEnabled("disable-quick-edit")?b.log("disable-quick-edit is turned on; run AJS.Confluence.EditorLoader.load() manually."):c(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-comment-page', location = 'soy/comments.soy' */
// This file was automatically generated from comments.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Comments.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Comments == 'undefined') { Confluence.Templates.Comments = {}; }


Confluence.Templates.Comments.displayReplyEditorLoadingContainer = function(opt_data, opt_ignored) {
  return '<ol class="comment-threads"><li class="comment-thread">' + Confluence.Templates.Comments.displayCommentEditorCommon({comment: {ownerId: opt_data.contentId, parentId: opt_data.parentCommentId}, commenter: opt_data.commenter, state: 'loading', mode: 'reply'}) + '</li></ol>';
};
if (goog.DEBUG) {
  Confluence.Templates.Comments.displayReplyEditorLoadingContainer.soyTemplateName = 'Confluence.Templates.Comments.displayReplyEditorLoadingContainer';
}


Confluence.Templates.Comments.displayTopLevelCommentEditorPlaceholder = function(opt_data, opt_ignored) {
  return '' + Confluence.Templates.Comments.displayCommentEditorCommon({comment: {ownerId: opt_data.contentId}, commenter: opt_data.commenter, state: 'placeholder', mode: 'add'});
};
if (goog.DEBUG) {
  Confluence.Templates.Comments.displayTopLevelCommentEditorPlaceholder.soyTemplateName = 'Confluence.Templates.Comments.displayTopLevelCommentEditorPlaceholder';
}


Confluence.Templates.Comments.displayEditEditorContainer = function(opt_data, opt_ignored) {
  return '' + Confluence.Templates.Comments.displayCommentEditorCommon({comment: {ownerId: opt_data.contentId, id: opt_data.commentId}, commenter: opt_data.commenter, state: 'placeholder', mode: 'edit'});
};
if (goog.DEBUG) {
  Confluence.Templates.Comments.displayEditEditorContainer.soyTemplateName = 'Confluence.Templates.Comments.displayEditEditorContainer';
}


Confluence.Templates.Comments.editorLoadErrorMessage = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml(opt_data.message) + '</p><p><a href="' + soy.$$escapeHtml(opt_data.fallbackUrl) + '">' + soy.$$escapeHtml('Try again') + '</a></p>';
};
if (goog.DEBUG) {
  Confluence.Templates.Comments.editorLoadErrorMessage.soyTemplateName = 'Confluence.Templates.Comments.editorLoadErrorMessage';
}


Confluence.Templates.Comments.displayCommentEditorCommon = function(opt_data, opt_ignored) {
  var output = '<div class="quick-comment-container comment ' + soy.$$escapeHtml(opt_data.mode) + '">' + Confluence.Templates.Comments.userLogo({userInfo: opt_data.commenter}) + '<div class="quick-comment-body"><div class="quick-comment-loading-container" style="display:' + ((opt_data.state == 'loading') ? 'block' : 'none') + ';"></div><div id="editor-messages"></div><div id="any-messages"></div><form style="display:' + ((opt_data.state == 'loading') ? 'none' : 'block') + ';" class="quick-comment-form aui" method="post" ';
  switch (opt_data.mode) {
    case 'add':
      output += 'name="inlinecommentform" action="' + soy.$$escapeHtml("/confluence") + '/pages/doaddcomment.action?pageId=' + soy.$$escapeHtml(opt_data.comment.ownerId) + '"';
      break;
    case 'edit':
      output += 'name="editcommentform" action="' + soy.$$escapeHtml("/confluence") + '/pages/doeditcomment.action?pageId=' + soy.$$escapeHtml(opt_data.comment.ownerId) + '&commentId=' + soy.$$escapeHtml(opt_data.comment.id) + '"';
      break;
    case 'reply':
      output += 'name="threadedcommentform"  action="' + soy.$$escapeHtml("/confluence") + '/pages/doaddcomment.action?pageId=' + soy.$$escapeHtml(opt_data.comment.ownerId) + '&parentId=' + soy.$$escapeHtml(opt_data.comment.parentId) + '"';
      break;
  }
  output += ' >' + ((opt_data.mode == 'add') ? '<div title="' + soy.$$escapeHtml('Add a Comment') + '" role="button" tabindex="0" aria-label="' + soy.$$escapeHtml('Add a Comment') + '" class="quick-comment-prompt"><span>' + soy.$$escapeHtml('Write a comment...') + '</span></div>' : '') + '</form></div></div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Comments.displayCommentEditorCommon.soyTemplateName = 'Confluence.Templates.Comments.displayCommentEditorCommon';
}


Confluence.Templates.Comments.userLogo = function(opt_data, opt_ignored) {
  return '<p class="comment-user-logo">' + ((opt_data.userInfo.userName == null) ? '<img class="userLogo logo anonymous" src="' + soy.$$escapeHtml("/confluence/s/-bkktep/8803/fjj6gm/_") + '/images/icons/profilepics/anonymous.svg" alt="' + soy.$$escapeHtml('User icon') + ': ' + soy.$$escapeHtml('Anonymous') + '" title="' + soy.$$escapeHtml('Anonymous') + '">' : (opt_data.userInfo.profilePicture.isDefault) ? '<a class="userLogoLink" data-username="' + soy.$$escapeHtml(opt_data.userInfo.userName) + '" href="' + soy.$$escapeHtml("/confluence") + '/users/profile/editmyprofilepicture.action" title="' + soy.$$escapeHtml('Add a picture of yourself') + '"><img class="userLogo logo defaultLogo" src="' + soy.$$escapeHtml("/confluence/s/-bkktep/8803/fjj6gm/_") + '/images/icons/profilepics/add_profile_pic.svg" alt="' + soy.$$escapeHtml('User icon') + ': ' + soy.$$escapeHtml('Add a picture of yourself') + '"></a>' : '<a class="userLogoLink" data-username="' + soy.$$escapeHtml(opt_data.userInfo.userName) + '" href="' + Confluence.Templates.User.userLinkUrl({username: opt_data.userInfo.userName}) + '"><img class="userLogo logo" src="' + soy.$$escapeHtml(opt_data.userInfo.profilePicture.path) + '" alt="' + soy.$$escapeHtml('User icon') + ': ' + soy.$$escapeHtml(opt_data.userInfo.userName) + '" title="' + soy.$$escapeHtml(opt_data.userInfo.userName) + '"></a>') + '</p>';
};
if (goog.DEBUG) {
  Confluence.Templates.Comments.userLogo.soyTemplateName = 'Confluence.Templates.Comments.userLogo';
}


Confluence.Templates.Comments.displayComment = function(opt_data, opt_ignored) {
  return '' + ((opt_data.comment.parentId == 0 && opt_data.firstReply) ? '<div id="comments-section" class="pageSection group"><div class="section-header"><h2 id="comments-section-title" class="section-title">' + soy.$$escapeHtml('1 Comment') + '</h2>' + Confluence.Templates.Comments.commentThread({comment: opt_data.comment, commenter: opt_data.commenter, highlight: opt_data.highlight, topLevel: true}) + '</div></div>' : (opt_data.firstReply) ? Confluence.Templates.Comments.commentThread({comment: opt_data.comment, commenter: opt_data.commenter, highlight: opt_data.highlight, topLevel: false}) : Confluence.Templates.Comments.commentThreadItem({comment: opt_data.comment, commenter: opt_data.commenter, highlight: true}));
};
if (goog.DEBUG) {
  Confluence.Templates.Comments.displayComment.soyTemplateName = 'Confluence.Templates.Comments.displayComment';
}


Confluence.Templates.Comments.commentThread = function(opt_data, opt_ignored) {
  return '<ol class="comment-threads' + ((opt_data.topLevel) ? ' top-level" id="page-comments' : '') + '">' + Confluence.Templates.Comments.commentThreadItem(opt_data) + '</ol>';
};
if (goog.DEBUG) {
  Confluence.Templates.Comments.commentThread.soyTemplateName = 'Confluence.Templates.Comments.commentThread';
}


Confluence.Templates.Comments.commentThreadItem = function(opt_data, opt_ignored) {
  return '<li id="comment-thread-' + soy.$$escapeHtml(opt_data.comment.id) + '" class="comment-thread">' + Confluence.Templates.Comments.commentView(opt_data) + '</li>';
};
if (goog.DEBUG) {
  Confluence.Templates.Comments.commentThreadItem.soyTemplateName = 'Confluence.Templates.Comments.commentThreadItem';
}


Confluence.Templates.Comments.commentView = function(opt_data, opt_ignored) {
  return '<div class="comment' + ((opt_data.highlight == true) ? ' focused' : '') + '" id="comment-' + soy.$$escapeHtml(opt_data.comment.id) + '">' + Confluence.Templates.Comments.userLogo({userInfo: opt_data.commenter}) + '<div class="comment-header"><h4 class="author">' + ((opt_data.commenter.userName == null) ? soy.$$escapeHtml('Anonymous') : '<a href="' + soy.$$escapeHtml("/confluence") + '/display/~' + soy.$$escapeUri(opt_data.commenter.userName) + '" class="url fn confluence-userlink" data-username="' + soy.$$escapeHtml(opt_data.commenter.userName) + '">' + soy.$$escapeHtml(opt_data.commenter.displayName) + '</a>') + '</h4></div><div class="comment-body"><div class="comment-content wiki-content">' + soy.$$filterNoAutoescape(opt_data.comment.html) + '</div><div class="comment-actions">' + Confluence.Templates.Comments.displayCommentActions({section: 'secondary', actions: opt_data.comment.secondaryActions, commentId: opt_data.comment.id}) + Confluence.Templates.Comments.displayCommentActions({section: 'primary', actions: opt_data.comment.primaryActions, commentId: opt_data.comment.id}) + '</div></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.Comments.commentView.soyTemplateName = 'Confluence.Templates.Comments.commentView';
}


Confluence.Templates.Comments.displayCommentActions = function(opt_data, opt_ignored) {
  var output = '<ul class="comment-actions-' + soy.$$escapeHtml(opt_data.section) + '">';
  if (opt_data.actions != null) {
    var itemList213 = opt_data.actions;
    var itemListLen213 = itemList213.length;
    for (var itemIndex213 = 0; itemIndex213 < itemListLen213; itemIndex213++) {
      var itemData213 = itemList213[itemIndex213];
      output += '<li ' + ((itemData213.style != null) ? ' class="' + soy.$$escapeHtml(itemData213.style) + '"' : '') + '><a ' + ((itemData213.tooltip != null) ? ' title="' + soy.$$escapeHtml(itemData213.tooltip) + '"' : '') + ' href="' + soy.$$escapeHtml(itemData213.url) + '" ' + ((itemData213.id) ? ' id="' + soy.$$escapeHtml(itemData213.id) + '-' + soy.$$escapeHtml(opt_data.commentId) + '"' : '') + '><span>' + soy.$$escapeHtml(itemData213.label) + '</span></a></li>\n';
    }
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Comments.displayCommentActions.soyTemplateName = 'Confluence.Templates.Comments.displayCommentActions';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-comment-page', location = 'jscripts/comment-display-manager.js' */
define("confluence-quick-edit/comment-display-manager",["ajs","confluence/legacy","confluence/templates","jquery"],function(g,j,h,c){var i={_updateCommentSectionTitle:function(){var a=c("#comments-section-title");if(0!==a.length){var b=this.commentCount();1===b?a.text("1 Comment"):a.text(g.format("{0} Comments",b))}},addComment:function(a,b,f,d){a={comment:b,commenter:a,highlight:f,context:{contextPath:g.Meta.get("context-path"),staticResourceUrlPrefix:g.Meta.get("static-resource-url-prefix")}};
if(this.hasComments()){if(0===b.parentId)a.firstReply=!1,f=c("#comments-section").find(".comment-threads.top-level");else{var f=c("#comment-thread-"+b.parentId),e=f.children(".commentThreads");e.length?(a.firstReply=!1,f=e):a.firstReply=!0}d||this.clearFocus();d=c(h.Comments.displayComment(a));d.addClass("fadeInComment");f.append(d);this._updateCommentSectionTitle()}else a.firstReply=!0,d=c(h.Comments.displayComment(a)),d.addClass("fadeInComment"),c("#comments-section").prepend(d);j.Comments.bindRemoveConfirmation(b.id);
b=this.getCommentNode(b.id);b.scrollToElement();return b},addOrUpdateComment:function(a,b,c,d){var e=this.getCommentNode(b.id);return e?(e.find(".comment-content").html(b.html),d||this.clearFocus(),c&&e.addClass("focused"),e.addClass("fadeInComment"),e.scrollToElement(),e):this.addComment.apply(this,arguments)},isVisible:function(){return!c("#page-comments").hasClass("hidden")},hasComments:function(){return 0<this.commentCount()},commentCount:function(){return c("#comments-section .comment").not(".quick-comment-container").length},
clearFocus:function(){c(".comment").removeClass("focused")},getCommentNode:function(a){a=c("#comment-"+a);return!a.length?null:a},getParentId:function(a){a=i.getCommentNode(a);return null!=a&&(a=a.closest("div.comment"),a.length)?(a=a.attr("id"),a=/\d+/.exec(a),parseInt(a)):0}};return i});require("confluence/module-exporter").exportModuleAsGlobal("confluence-quick-edit/comment-display-manager","Confluence.CommentDisplayManager");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-comment-page', location = 'jscripts/scroll-util.js' */
define("confluence-quick-edit/scroll-util",["window","document","jquery"],function(a,c,e){return{scrollToElement:function(){this.scrollWindowToElement()||this.scrollOverflowContainerToElement();return this},scrollWindowToElement:function(){function b(){return"pageYOffset"in a?a.pageYOffset:c.documentElement.scrollTop}var f=b(),d;if("number"===typeof a.innerWidth)d=a.innerHeight;else if(c.documentElement&&c.documentElement.clientWidth)d=c.documentElement.clientHeight;else return this[0].scrollIntoView(!1),
!0;var g=this.offset().top,h=this.height();return g+h+40>f+d?(this[0].scrollIntoView(!1),a.scrollBy(0,40),f!=b()):!0},scrollOverflowContainerToElement:function(){var b=null;this.parents().each(function(){var a=e(this).css("overflow");if("auto"==a||"scroll"==a)return b=e(this),!1});if(!b)return!1;var a=b.height(),d=this.offset().top,c=this.height(),a=a-(d+c+40);0>a&&(b[0].scrollTop-=a);return!0}}});require("confluence/module-exporter").safeRequire("confluence-quick-edit/scroll-util",function(a){require("jquery").fn.extend(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-comment-initial', location = 'jscripts/handlers/comment.js' */
define("confluence-quick-edit/handlers/comment","jquery ajs confluence/legacy wrm/context-path confluence-editor-loader/editor-loader confluence/api/event aui/flag confluence/api/logger confluence-editor/editor/page-editor-message confluence/message-controller confluence/meta confluence-quick-edit/captcha-manager confluence-quick-edit/handlers/page confluence-quick-edit/util".split(" "),function(f,b,i,o,p,l,t,q,e,g,c,r,s,m){function n(a,h){var b=a.match(RegExp("[?&]"+h+"=(\\d+)"));return b&&b.length>
1?parseInt(b[1],10):0}f(function(){b.AppLinksInitialisationBinder=function(a){l.bind("init.rte",a)}});var j={timeout:8E3,showLoadingEditorErrorMessage:function(a){var h={};l.trigger("rte-quick-comment-loading-failed");if(a==="READ_ONLY"){h.title="This site is read-only";h.body="You can\u0027t make changes right now."}else{h.title="Error";h.body="Error loading the comment editor. Please refresh the page to try again."}g.showError(h,
g.Location.FLAG)},preInitialise:function(){s.disable();c.set("content-type","comment");c.set("draft-type","");b.params.contentType="comment";b.params.draftType="";c.set("use-inline-tasks","false");f("#editor-precursor").children().eq(0).hide();f("#pagelayout-menu").parent().hide();f("#page-layout-2-group").hide();f("#rte-button-tasklist").remove();f("#pluggable-status-container").remove();f("#rte-insert-tasklist").parent().remove()},postInitialise:function(a){b.Rte.editorFocus(a.editor)},delegatingSaveCommentHandler:function(a){return a.asyncRenderSafe?
j.ajaxSaveCommentHandler(a):j.reloadPageSaveCommentHandler(a)},reloadPageSaveCommentHandler:function(a){var b=m.getBaseUrl();b.addQueryParam("focusedCommentId",a.id);b.addQueryParam("refresh",+new Date);window.location.href=b.toString()+"#comment-"+a.id},ajaxSaveCommentHandler:function(a){var b={isDefault:true,path:c.get("static-resource-url-prefix")+"/images/icons/profilepics/default.png"};c.get("current-user-avatar-uri-reference")!==o()+"/images/icons/profilepics/default.png"&&(b={isDefault:false,
path:c.get("current-user-avatar-uri-reference")});var d=c.get("remote-user"),f={userName:d===""?null:d,displayName:c.get("current-user-fullname"),profilePicture:b};j.cancelComment().done(function(){i.CommentDisplayManager.addOrUpdateComment(f,a,true,false);l.trigger("page.commentAddedOrUpdated",{commentId:a.id})})},cancelHandler:function(){var a=require("confluence-quick-edit/quick-edit");b.Rte.Content.editorResetContentChanged();a.deactivateEditor()},createCommenterParam:function(a,b,d){return{userName:b||
c.get("remote-user")||null,displayName:d||c.get("user-display-name"),profilePicture:{isDefault:a.hasClass("defaultLogo"),path:a.attr("src")}}},createSaveHandler:function(a,h){var d=m.generateUUID();return function(c){var k=require("confluence/editor-notifications");c.preventDefault();if(b.Rte.Content.isEmpty()){k.notify("warning","Comment text is empty. Cannot create empty comments.");i.Editor.UI.toggleSavebarBusy(false)}else{var k=c=0,e=p.getEditorForm();if(e.is("form")){k=e.attr("action");c=n(k,"parentId");k=n(k,"commentId")}var g=
new r(e),e=function(a,b){h(a,b);g.refreshCaptcha()},j=f("#watchPage").is(":checked");k>0?i.Editor.CommentManager.updateComment(i.getContentId(),k,b.Rte.Content.getHtml(),j,g.getCaptchaData(),a,e):i.Editor.CommentManager.saveComment(i.getContentId(),c,b.Rte.Content.getHtml(),j,d,g.getCaptchaData(),a,e)}}},saveCommentErrorHandler:function(a,c){var d;i.Editor.UI.toggleSavebarBusy(false);if(a&&a.search(/captcha/i)!==-1){d="The typed word did not match the text in the picture.";e.closeMessages(["captcha-response-failed"]);
e.handleMessage("captcha-response-failed",{type:"error",message:d})}else if(a&&a.search(/Unsupported character found in content: (.{12})/i)!==-1){d=JSON.parse(a.replace(/error: {2}- /,"")).message.split("Unsupported character found in content: ")[1];d=b.format("We can\u0027\u0027t save your comment because the {0} character isn\u0027\u0027t supported by your database.\u003cbr\u003e\u003cbr\u003eRemove this character or use a Confluence symbol or emoticon instead. \u003ca href = \u0022https://confluence.atlassian.com/x/BYfsNg\u0022 target=\u0022_blank\u0022\u003eLearn more\u003c/a\u003e",d);e.closeMessages(["utf8-validation-failed"]);e.handleMessage("utf8-validation-failed",{title:"Unsupported character",type:"error",message:d})}else{d=
"Failed to save the comment. Please try again later.";if(c)g.showError(g.parseError(c,d),g.Location.FLAG);else{e.closeMessages(["server-offline"]);e.handleMessage("server-offline",{type:"error",message:d})}}q.logError("Error saving comment",a)},cancelComment:function(){b.Rte.Content.editorResetContentChanged();return require("confluence-quick-edit/quick-edit").deactivateEditor()},proceedWithActivation:function(){var a=new f.Deferred,c=b.Rte&&b.Rte.getEditor();if(c){if(c.isDirty()&&!i.Editor.isEmpty()&&
!confirm("Your comment will be lost."))return a.reject();a=j.cancelComment()}else a.resolve();return a}};return j});require("confluence/module-exporter").exportModuleAsGlobal("confluence-quick-edit/handlers/comment","AJS.Confluence.QuickEdit.QuickComment");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-comment-initial', location = 'jscripts/handlers/comment/top-level.js' */
define("confluence-quick-edit/handlers/comment/top-level","jquery confluence/dark-features confluence-editor-loader/editor-loader confluence/api/event confluence/api/logger confluence-editor/profiles confluence-quick-edit/handlers/comment confluence-quick-edit/quick-edit confluence-quick-edit/handlers/shortcut window".split(" "),function(a,i,j,k,e,l,b,f,m,g){function n(a){b.preInitialise(a)}function o(c){a("#comments-section").one("click",".quick-comment-prompt",d.activateEventHandler);a("#rte-savebar").scrollWindowToElement();
b.postInitialise(c)}function p(){if(!j.resourcesLoaded()){k.trigger("analytics",{name:"rte.quick-edit.top-comment.spinner"});a(".quick-comment-prompt").hide();a(".quick-comment-loading-container").fadeIn().spin("medium")}}function q(b){b.preventDefault();g.location=a("#add-comment-rte").attr("href")}var r=i.isEnabled("editor.slow.comment.disable"),d={commentShortcut:m.createShortcut("m",".quick-comment-prompt"),activateEventHandler:function(c){c.preventDefault();b.proceedWithActivation().done(function(){var c=
b.createSaveHandler(b.delegatingSaveCommentHandler,b.saveCommentErrorHandler),h=a("form[name=inlinecommentform]");return f.activateEditor({preActivate:p,$container:h.closest(".quick-comment-container"),$form:h,preInitialise:n,saveHandler:c,cancelHandler:b.cancelHandler,postInitialise:o,plugins:l.createProfileForCommentEditor().plugins,additionalResources:["wrc!comment-editor"],timeoutResources:b.timeout}).fail(function(c){e.logError("activateEventHandler failed because of: "+c);if(c==="READ_ONLY"||
r){b.showLoadingEditorErrorMessage(c);a("#comments-section").one("click",".quick-comment-prompt",d.activateEventHandler)}else g.location=a("#add-comment-rte").attr("href")})}).fail(function(){a("#comments-section").one("click",".quick-comment-prompt",d.activateEventHandler)})},enable:function(){a("#comments-section").one("click",".quick-comment-prompt",d.activateEventHandler);a(".quick-comment-prompt").on("keydown",function(b){b.keyCode===a.ui.keyCode.ENTER&&d.activateEventHandler(b)});a("#add-comment-rte").removeClass("full-load");
this.commentShortcut.bind()},disable:function(){a("#comments-section").off("click",".quick-comment-prompt");this.commentShortcut.unbind()}};f.register(d);return{bindCommentAreaFallbackHandler:function(){a("#comments-section").delegate(".quick-comment-prompt","click",q)},cancelComment:function(){e.log("'AJS.Confluence.QuickEdit.QuickComment.TopLevel.cancelComment' is deprecated in 5.7, consider using 'AJS.Confluence.QuickEdit.QuickComment.cancelComment' instead.");return b.cancelComment()}}});
require("confluence/module-exporter").exportModuleAsGlobal("confluence-quick-edit/handlers/comment/top-level","AJS.Confluence.QuickEdit.QuickComment.TopLevel");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-comment-initial', location = 'jscripts/handlers/comment/reply.js' */
define("confluence-quick-edit/handlers/comment/reply","confluence/root confluence/templates wrm/context-path confluence/dark-features confluence-editor-loader/editor-loader confluence/api/event confluence/api/logger confluence/meta confluence-editor/profiles confluence-quick-edit/handlers/comment confluence-quick-edit/quick-edit jquery".split(" "),function(l,m,n,o,p,g,h,i,q,b,j,a){function r(a){b.preInitialise(a);a.$container.scrollWindowToElement()}function s(a){b.postInitialise(a)}function k(a){var b=
a.attr("id").match(/comment-(\d+)/),e=0;if(b)e=parseInt(b[1],10);else{g.trigger("analytics",{name:"rte.quick-edit.get-reply-parent.failed"});h.logError("replyHandler: activateEventHandler - could not extract a parent comment Id from the comment id "+a.attr("id"))}return e}function t(){a(".comment.reply").closest(".comment-threads").remove()}var d,u=o.isEnabled("editor.slow.comment.disable");d={activateEventHandler:function(d){var f=this;d.preventDefault();d.stopPropagation();if(a(f).attr("reply-disabled"))return false;
b.proceedWithActivation().done(function(){var e=a(f).closest("div.comment"),c;c=a(".quick-comment-container img.userLogo");c=b.createCommenterParam(c);c={contentId:l.getContentId(),parentCommentId:k(e),commenter:c,context:{contextPath:n(),staticResourceUrlPrefix:i.get("static-resource-url-prefix")}};c=a(m.Comments.displayReplyEditorLoadingContainer(c));var d=a(".quick-comment-loading-container",c);d.hide();e.after(c);if(p.resourcesLoaded())g.trigger("analytics",{name:"rte.quick-edit.reply-comment.no-spinner"});
else{g.trigger("analytics",{name:"rte.quick-edit.reply-comment.spinner"});e.after(c);d.fadeIn();d.spin("medium");d[0].scrollIntoView()}c=a(f).closest(".comment-thread").find(".quick-comment-container");i.set("form-name",a("form",c).attr("name"));j.activateEditor({$container:c,$form:a("form.quick-comment-form[name=threadedcommentform]"),preInitialise:r,postInitialise:s,saveHandler:b.createSaveHandler(b.delegatingSaveCommentHandler,b.saveCommentErrorHandler),cancelHandler:b.cancelHandler,plugins:q.createProfileForCommentEditor().plugins,
postDeactivate:t,additionalResources:["wrc!comment-editor"],timeoutResources:b.timeout}).fail(function(){u?b.showLoadingEditorErrorMessage():window.location=a("#reply-comment-"+k(e)).attr("href")});a(f).attr("reply-disabled",true)})},enable:function(){a("#comments-section").delegate(".action-reply-comment","click",d.activateEventHandler)},disable:function(){a("#comments-section").undelegate(".action-reply-comment","click")}};j.register(d);return{cancelComment:function(){h.log("'AJS.Confluence.QuickEdit.QuickComment.Reply.cancelComment' is deprecated in 5.7, consider using 'AJS.Confluence.QuickEdit.QuickComment.cancelComment' instead.");
return b.cancelComment()}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-quick-edit/handlers/comment/reply","AJS.Confluence.QuickEdit.QuickComment.Reply");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-comment-initial', location = 'jscripts/handlers/comment/edit.js' */
define("confluence-quick-edit/handlers/comment/edit","confluence/root confluence/templates wrm/context-path confluence/dark-features confluence/api/logger confluence/meta confluence-editor/profiles confluence-quick-edit/handlers/comment confluence-quick-edit/quick-edit jquery".split(" "),function(j,k,l,m,n,g,o,b,i,d){function p(a){b.preInitialise(a);a.$container.scrollWindowToElement()}function q(a){b.postInitialise(a)}function h(a){return(a=a.attr("id").match(/comment-(\d+)/))?parseInt(a[1],10):
0}function r(a){var b=new d.Deferred;d.ajax({url:l()+"/rest/api/content/"+a+"?expand=body.editor",cache:false}).done(function(a){!a||!a.body||!a.body.editor?b.reject("invalid response from loading comment rest endpoint"):b.resolve({editorContent:a.body.editor.value})}).fail(function(){b.reject("error fetching content")});return b}function s(){var a=d(".comment.edit");a.prev(".comment").show();a.remove()}var t=m.isEnabled("editor.slow.comment.disable"),f={activateEventHandler:function(a){var f=this;
a.preventDefault();a.stopPropagation();b.proceedWithActivation().done(function(){var a=d(f).closest("div.comment"),c;c=a.find(".author .confluence-userlink");var e=a.find(".comment-user-logo img.userLogo");c=b.createCommenterParam(e,c.attr("data-username"),c.text());c={contentId:j.getContentId(),commentId:h(a),commenter:c,context:{contextPath:g.get("context-path"),staticResourceUrlPrefix:g.get("static-resource-url-prefix")},mode:"edit"};c=d(k.Comments.displayEditEditorContainer(c));e=d(".quick-comment-loading-container",
c);a.hide();a.after(c);e.fadeIn().spin("medium");e[0].scrollIntoView();c=a.next(".quick-comment-container");g.set("form-name",d("form",c).attr("name"));i.activateEditor({$container:c,$form:d("form.quick-comment-form[name=editcommentform]"),fetchContent:r(h(a)),preInitialise:p,postInitialise:q,saveHandler:b.createSaveHandler(b.delegatingSaveCommentHandler,b.saveCommentErrorHandler),cancelHandler:b.cancelHandler,plugins:o.createProfileForCommentEditor().plugins,postDeactivate:s,additionalResources:["wrc!comment-editor"],
timeoutResources:b.timeout}).fail(function(){t?b.showLoadingEditorErrorMessage():window.location=d("#edit-comment-"+h(a)).attr("href")})})},enable:function(){d("#comments-section").delegate(".comment-action-edit","click",f.activateEventHandler)},disable:function(){d("#comments-section").undelegate(".comment-action-edit","click")}};i.register(f);return{cancelComment:function(){n.log("'AJS.Confluence.QuickEdit.QuickComment.Edit.cancelComment' is deprecated in 5.7, consider using 'AJS.Confluence.QuickEdit.QuickComment.cancelComment' instead.");
return b.cancelComment()}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-quick-edit/handlers/comment/edit","AJS.Confluence.QuickEdit.QuickComment.Edit");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-comment-initial', location = 'jscripts/editor-comment-manager.js' */
define("confluence-quick-edit/editor-comment-manager",["ajs","jquery","confluence/legacy"],function(d,e,j){return function(){function k(a,f,l,i,b,g,h){d.trigger("analytics",{name:"confluence.page.comment.create",data:{pageID:d.Meta.get("page-id")}});a={type:"POST",url:a,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:{html:f,watch:l,uuid:i},dataType:"json",cache:!1,headers:{"X-Atlassian-Token":"no-check"},success:function(a){g(a)},error:function(a,c,b){c=c+": "+b;a.responseText&&
(c=c+" - "+a.responseText);h(c,a)},timeout:12E4};b&&b.id&&(a.headers["X-Atlassian-Captcha-Id"]=b.id,a.headers["X-Atlassian-Captcha-Response"]=b.response);e.ajax(a)}return{addComment:function(a,f,d,i,b,g,h,e,c){j.Editor.CommentManager.saveComment(a,f,d,function(a){j.CommentDisplayManager.addComment(h,a,g);e(a)},c)},saveComment:function(a,f,e,i,b,g,h,j){var c=null,c=f?d.contextPath()+"/rest/tinymce/1/content/"+a+"/comments/"+f+"/comment?actions=true":d.contextPath()+"/rest/tinymce/1/content/"+a+"/comment?actions=true";
k(c,e,i,b,g,h,j)},updateComment:function(a,f,e,i,b,g,h){a=d.contextPath()+"/rest/tinymce/1/content/"+a+"/comments/"+f+"?actions=true";k(a,e,i,null,b,g,h)}}}});require("confluence/module-exporter").safeRequire("confluence-quick-edit/editor-comment-manager",function(d){var e=require("confluence/legacy");require("ajs").bind("init.rte",function(){e.Editor.CommentManager=d()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:editor', location = 'editor/editor.js' */
define("confluence/ic/editor/editor",["jquery","ajs","confluence/ic/util/utils","exports"],function(c,b,f,d){function h(){b.Confluence.EditorLoader.resourcesLoaded()||this.$form.find(".loading-container").spin("small")}function k(){b.Meta.set("content-type","comment");b.Meta.set("use-inline-tasks","false");b.Meta.set("min-editor-height",80)}function l(a){a.$form.find(".loading-container").hide();a.$form.find("#rte-button-publish").text("Save").removeAttr("title");
a.$form.find("#toolbar-hints-draft-status").hide();this.hideCancelButton&&a.$form.find("#rte-button-cancel").hide();a.editor.on("PostProcess",m("PostProcess",a.editor));Confluence.Editor&&!Confluence.Editor.getContentType&&b.Confluence.QuickEdit.QuickEditPage.disable();Confluence.Editor.removeAllCancelHandlers();Confluence.Editor.removeAllSaveHandlers()}function m(a,e){var g=function(){tinymce.DOM.setStyle(tinymce.DOM.get(e.id+"_ifr"),"height","80px");e.execCommand("mceAutoResize",{forceExec:!0});
e.off(a,g)};return g}d.init=function(a){return b.Confluence.QuickEdit.activateEditor({preActivate:h,preInitialise:k,postInitialise:c.proxy(l,a),toolbar:!1,$container:a.container,$form:a.form,saveHandler:a.saveHandler,cancelHandler:a.cancelHandler,fetchContent:a.fetchContent(),closeAnyExistingEditor:!0,postDeactivate:a.postDeactivate,plugins:f.getSupportedRtePlugins(),excludePlugins:f.getUnsupportedRtePlugins()})};d.remove=function(){return b.Rte&&b.Rte.getEditor()?b.Confluence.QuickEdit.deactivateEditor():
c.Deferred().resolve()};d.getContent=function(){return b.Rte.Content.getHtml()};d.setEditorBusy=function(a){a?c(".ic-sidebar #rte-spinner").spin():c(".ic-sidebar #rte-spinner").spinStop();c("#rte-button-publish").prop("disabled",a)};d.isEmptyContent=function(a){return""===a}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:create-comment-view', location = 'view/create-comment/create-comment.soy' */
// This file was automatically generated from create-comment.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.IC.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.IC == 'undefined') { Confluence.Templates.IC = {}; }


Confluence.Templates.IC.createComment = function(opt_data, opt_ignored) {
  return '<div class="ic-comment-container">' + ((opt_data.type == 'topLevel' || opt_data.type == 'pageComment') ? Confluence.Templates.IC.sidebarHeading({showMenu: false, createComment: true, darkFeatures: opt_data.darkFeatures}) : '') + Confluence.Templates.IC.commentForm(opt_data) + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.IC.createComment.soyTemplateName = 'Confluence.Templates.IC.createComment';
}


Confluence.Templates.IC.commentForm = function(opt_data, opt_ignored) {
  var output = '<div class="ic-container ic-create-comment">' + Confluence.Templates.IC.commentHeader(opt_data) + '<div class="ic-body"><form class="aui" action="">';
  if (! opt_data.darkFeatures.RICH_TEXT_EDITOR) {
    var placeholder__soy27 = '' + ((opt_data.type == 'reply') ? soy.$$escapeHtml('Reply') : soy.$$escapeHtml('write a comment...'));
    output += '<textarea class="textarea ic-textarea" name="body" placeholder="' + soy.$$escapeHtml(placeholder__soy27) + '">' + soy.$$escapeHtml(opt_data.text) + '</textarea><div class="ic-actions"><ul><li>' + aui.buttons.button({tagName: 'button', text: 'Save', type: 'link', extraClasses: 'ic-action-save', isDisabled: true}) + '</li>' + ((opt_data.type != 'topLevel') ? '<li>' + aui.buttons.button({text: 'Cancel', type: 'link', extraClasses: 'ic-action-discard'}) + '</li>' : '') + '</ul></div>';
  } else {
    output += '<div class="loading-container"></div>';
  }
  output += '</form></div></div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.IC.commentForm.soyTemplateName = 'Confluence.Templates.IC.commentForm';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:create-comment-view', location = 'view/create-comment/create-comment.js' */
define("confluence/ic/view/create-comment","underscore jquery backbone ajs confluence/ic/model/comment confluence/ic/model/reply confluence/ic/util/utils confluence/ic/editor/editor".split(" "),function(e,k,d,b,m,n,f,l){return d.View.extend({tagName:"div",className:"ic-create-comment-view",events:{"click .ic-action-save":"saveComment","click .ic-action-discard":"discardComment","keyup .ic-textarea":"onInput","focus .ic-textarea":"onFocus","click #show-page-comment":"showPageComment"},template:Confluence.Templates.IC.createComment,
initialize:function(a){this.selection=a.selection;this.type=a.type;this.warningData=a.warningData;this.onFinished=a.onFinished||function(){};this.commentText=a.commentText||"";this.stopFocus=a.stopFocus;this.serializedHighlights=a.serializedHighlights;if("edit"===a.type||"reply"===a.type)this.template=Confluence.Templates.IC.commentForm,d.trigger("ic:discard-edit"),this.listenTo(d,"ic:discard-edit",this.discardComment)},finish:function(){this.onFinished();b.trigger("ic-jim-async-supported")},render:function(){var a=
this._getAuthorObject();a=e.extend({},a,{type:this.type,text:this.commentText,showMenu:!1},{darkFeatures:f.getDarkFeatures()});this.$el.html(this.template(a));f.getDarkFeatures().RICH_TEXT_EDITOR?this.renderEditor():this.stopFocus||setTimeout(e.bind(this.focusEditor,this),1);f.addSidebarHeadingTooltip(this);return this},onInput:function(a){a=""!==this.$(a.target).val().trim();this._saveDisable(!a)},onFocus:function(){if("edit"===this.type){var a=this.$(".textarea");f.moveCaretToEnd(a[0]);this._saveDisable(""===
a.text())}},saveComment:function(a){a.preventDefault();this._isValid()&&(this._disableForm(),"reply"===this.type?this._addReply():"edit"===this.type?this._saveEdit():this._addComment())},_getAuthorObject:function(){if("edit"===this.type){var a=this.model.get("authorUserName");var c=this.model.get("authorAvatarUrl");var g=this.model.get("authorDisplayName")}else a=b.Meta.get("remote-user"),c=f.getAuthorAvatarUrl(),g=f.getAuthorDisplayName();return{authorUserName:a,authorAvatarUrl:c,authorDisplayName:g}},
_saveEdit:function(){var a=this._getContent(),c={wait:!0,beforeSend:e.bind(this.beforeSendAjax,this),success:e.bind(this._onSaveSuccess,this),error:e.bind(this._showEditError,this)};this.model.save({body:a},c)},_showEditError:function(a,c){if(!this.showCaptchaError(c)){switch(c.status){case 401:a="You don\u0027t have permission to edit this comment.";break;case 405:if(c.responseText&&"READ_ONLY"===JSON.parse(c.responseText).reason){a="This site is read-only. You can\u0027t make changes right now.";break}case 400:if(c.responseText&&
0<=c.responseText.indexOf("Unsupported character found in content: ")){a=c.responseText.split("Unsupported character found in content: ")[1];a=b.format("We can\u0027\u0027t save your inline comment because the {0} character isn\u0027\u0027t supported by your database.\u003cbr\u003e\u003cbr\u003eRemove this character or use a Confluence symbol or emoticon instead. \u003ca href = \u0022https://confluence.atlassian.com/x/BYfsNg\u0022 target=\u0022_blank\u0022\u003eLearn more\u003c/a\u003e",a);break}default:a="We can\u0027t save your edit. The comment might have been deleted."}this._triggerError(a)}},_triggerError:function(a,c){d.trigger("ic:error",a,c);this._disableForm(!1)},_addReply:function(){(new n({body:this._getContent(),commentId:this.model.get("id"),hasDeletePermission:!!b.Meta.get("remote-user")||
this.model.get("hasDeletePermission")})).save(null,{beforeSend:e.bind(this.beforeSendAjax,this),success:e.bind(this._onSaveSuccess,this),error:e.bind(function(a,c){this.showCaptchaError(c)||(405===c.status&&c.responseText?"READ_ONLY"===JSON.parse(c.responseText).reason&&d.trigger("ic:error","This site is read-only. You can\u0027t make changes right now."):400===c.status&&c.responseText?(a=c.responseText.split("Unsupported character found in content: ")[1],this._triggerError(b.format("We can\u0027\u0027t save your inline comment because the {0} character isn\u0027\u0027t supported by your database.\u003cbr\u003e\u003cbr\u003eRemove this character or use a Confluence symbol or emoticon instead. \u003ca href = \u0022https://confluence.atlassian.com/x/BYfsNg\u0022 target=\u0022_blank\u0022\u003eLearn more\u003c/a\u003e",
a))):this._triggerError("Could not save the reply"))},this)})},_addComment:function(){var a=new m({originalSelection:this.selection.searchText.selectedText.replace(/\n/g,""),body:this._getContent(),matchIndex:this.selection.searchText.index,numMatches:this.selection.searchText.numMatches,serializedHighlights:this.serializedHighlights}),c={callback:this.bindPageReloadLink};a.save(null,{beforeSend:e.bind(this.beforeSendAjax,this),success:e.bind(this._onSaveSuccess,this),
error:e.bind(function(g,h){if(!this.showCaptchaError(h))switch(h.status){case 405:this._triggerError("This site is read-only. You can\u0027t make changes right now.");break;case 409:this._triggerError(b.format("Page content is out of date, please {0}refresh{1} and try again.",'\x3ca href\x3d"#" class\x3d"ic-reload-page"\x3e',"\x3c/a\x3e"),c);break;case 412:b.trigger("analytics",{name:"confluence.comment.inline.cannot.create"});this._triggerError("We can\u0027t add your inline comment; the section you highlighted may contain a macro or user mention. Try highlighting plain text.");break;case 400:if(h.responseText&&
0<=h.responseText.indexOf("Unsupported character found in content: ")){g=h.responseText.split("Unsupported character found in content: ")[1];this._triggerError(b.format("We can\u0027\u0027t save your inline comment because the {0} character isn\u0027\u0027t supported by your database.\u003cbr\u003e\u003cbr\u003eRemove this character or use a Confluence symbol or emoticon instead. \u003ca href = \u0022https://confluence.atlassian.com/x/BYfsNg\u0022 target=\u0022_blank\u0022\u003eLearn more\u003c/a\u003e",g));break}default:this._triggerError("Could not save the comment")}},this)})},_isValid:function(){return l.isEmptyContent(k.trim(this._getContent()))?(d.trigger("ic:error","You cannot save an empty comment."),!1):
!0},_onSaveSuccess:function(a){switch(this.type){case "topLevel":a.set("hasDeletePermission",!0);d.trigger("ic:persist",a);d.trigger("ic:view",a,void 0,{ignoreConfirmDialog:!0});break;case "reply":this.model.replies.push(a);d.trigger("ic:reply:persist",a);this.finish();break;case "edit":d.trigger("ic:edit"),this.finish()}},_setEditorIsNotDirty:function(){b.Rte.getEditor()&&(b.Rte.getEditor().isNotDirty=1)},_disableForm:function(a){void 0===a&&(a=!0);this._saveDisable(a);f.getDarkFeatures().RICH_TEXT_EDITOR||
this.$(".ic-action-discard,.ic-textarea").prop("disabled",a).attr("aria-disabled",a)},_saveDisable:function(a){f.getDarkFeatures().RICH_TEXT_EDITOR?(l.setEditorBusy(a),k("#rte-button-cancel")[0].disabled=a):this.$(".ic-action-save").prop("disabled",a).attr("aria-disabled",a)},renderEditor:function(){var a=this.$(".ic-body"),c=this.commentText,g=b.Confluence.QuickEdit.QuickComment;return l.init({container:a,form:a.find("form.aui"),saveHandler:"pageComment"===this.type?g.createSaveHandler(e.bind(this._successCreatePageComment,
this),g.saveCommentErrorHandler):e.bind(this.saveComment,this),cancelHandler:e.bind(this.discardComment,this),fetchContent:function(){var h=new k.Deferred;h.resolve({editorContent:c});return h},postDeactivate:e.bind(function(){d.trigger("ic:clearError");this.finish()},this),hideCancelButton:"topLevel"===this.type}).done(e.bind(this.renderEditorCompleted,this)).fail(e.bind(this.renderEditorFail,this))},showPageComment:function(a){a=k(a.target).data("comment-id");a=k("#comment-"+a);a.addClass("focused");
a.scrollToElement()},_successCreatePageComment:function(a){Confluence.CommentDisplayManager.addComment(f.getCurrentUserInfo(),a,!1,!1,!0);b.trigger("page.commentAddedOrUpdated",{commentId:a.id});this._setEditorIsNotDirty();f.getDarkFeatures().RICH_TEXT_EDITOR&&(this.keepSidebar=!0,l.remove());this.$el.html(Confluence.Templates.IC.pageComment({commentId:a.id}));f.addSidebarHeadingTooltip(this)},renderEditorCompleted:function(){d.trigger("ic:clearError");if("topLevel"===this.type||"pageComment"===this.type)if(this.$("#rte-button-cancel").hide(),
this.warningData){switch(this.warningData.type){case "mention":d.trigger("ic:error","We can\u0027t add an inline comment here because the selected text includes a mention.  We\u0027ll add it as a page comment instead.");break;case "internalLink":d.trigger("ic:error","We can\u0027t add an inline comment because the selected text includes a relative link. We\u0027ll add it as a page comment instead.");break;case "dateLozenge":d.trigger("ic:error","We can\u0027t add an inline comment here because the selected text includes a date lozenge.");break;case "unsupportedMacro":if(b.MacroBrowser)var a=b.MacroBrowser.getMacroMetadata(this.warningData.macro).title;a?d.trigger("ic:error",b.format("We can\u0027\u0027t add an inline comment because the selected text includes the {0} macro. We\u0027\u0027ll add it as a page comment instead.",
a)):d.trigger("ic:error","We can\u0027t add an inline comment to this content. We\u0027ll add it as a page comment instead.")}this.focusEditor()}else"pageComment"===this.type&&(d.trigger("ic:error","We can\u0027t add an inline comment to this content. We\u0027ll add it as a page comment instead."),this.focusEditor());this.captchaManager=new b.Confluence.QuickEditCaptchaManager(b.Confluence.EditorLoader.getEditorForm())},renderEditorFail:function(a){var c={closeable:!0,callback:this.bindPageReloadLink};switch(this.type){case "pageComment":this._setEditorIsNotDirty();break;case "topLevel":this.$(".loading-container").hide();
this.$(".ic-create-comment").hide();c.closeable=!1;break;case "edit":case "reply":this.finish()}switch(a){case "READ_ONLY":c.closeable=!1;a="This site is read-only. You can\u0027t make changes right now.";break;default:a=b.format("The editor didn\u0027\u0027t load properly. Please {0}reload the page{1} to try again.",'\x3ca href\x3d"#" class\x3d"ic-reload-page"\x3e',"\x3c/a\x3e")}d.trigger("ic:error",a,c);d.trigger("ic:editor:load:fail")},bindPageReloadLink:function(){k(".ic-error").off("click",".ic-reload-page").on("click",".ic-reload-page",function(){window.location.reload();
return!1})},discardComment:function(a){a&&a.preventDefault();d.trigger("ic:clearError");this.finish()},_getContent:function(){return f.getDarkFeatures().RICH_TEXT_EDITOR?l.getContent():this.$("textarea").val()},focusEditor:function(){if(f.getDarkFeatures().RICH_TEXT_EDITOR)if("pageComment"===this.type){var a=k(b.Rte.getEditor()&&b.Rte.getEditor().getBody()).find("div")[0];b.Rte.getEditor().selection.select(a,1);b.Rte.getEditor().selection.collapse(1);a.focus()}else b.Rte.getEditor()&&b.Rte.getEditor().focus();
else this.$(".ic-textarea:visible").focus()},destroy:function(){f.getDarkFeatures().RICH_TEXT_EDITOR&&l.remove();this.remove()},beforeSendAjax:function(a){var c=this.captchaManager.getCaptchaData();c&&c.id&&(a.setRequestHeader("X-Atlassian-Captcha-Id",c.id),a.setRequestHeader("X-Atlassian-Captcha-Response",c.response))},showCaptchaError:function(a){return 404===a.status&&a.responseText&&-1!=a.responseText.search(/captcha/i)?(this.captchaManager.refreshCaptcha(),this._triggerError("The typed word did not match the text in the picture."),
!0):!1}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:display-reply-view', location = 'view/display-reply/display-reply.soy' */
// This file was automatically generated from display-reply.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.IC.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.IC == 'undefined') { Confluence.Templates.IC = {}; }


Confluence.Templates.IC.renderReply = function(opt_data, opt_ignored) {
  return Confluence.Templates.IC.commentHeader(opt_data) + '<div class="ic-body wiki-content"><div class="ic-content ic-reply-content">' + soy.$$filterNoAutoescape(opt_data.body) + '</div></div>' + ((opt_data.darkFeatures.INLINE_COMMENTS && ! opt_data.resolved) ? Confluence.Templates.IC.renderReplyActions(opt_data) : '<div>' + Confluence.Templates.IC.timeLink({time: opt_data.lastModificationDate, commentUrl: opt_data.commentDateUrl}) + '</div>');
};
if (goog.DEBUG) {
  Confluence.Templates.IC.renderReply.soyTemplateName = 'Confluence.Templates.IC.renderReply';
}


Confluence.Templates.IC.renderReplyActions = function(opt_data, opt_ignored) {
  return '<div class="ic-actions"><ul>' + ((opt_data.hasDeletePermission) ? '<li>' + aui.buttons.button({text: 'Delete', type: 'link', extraClasses: 'ic-action-delete-reply'}) + '</li>' : '') + ((opt_data.hasEditPermission) ? '<li>' + aui.buttons.button({text: 'Edit', type: 'link', extraClasses: 'ic-action-edit-reply'}) + '</li>' : '') + '<li class="ic-action-like-reply"></li><li class="ic-date">' + Confluence.Templates.IC.timeLink({time: opt_data.lastModificationDate, commentUrl: opt_data.commentDateUrl}) + '</li></ul></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.IC.renderReplyActions.soyTemplateName = 'Confluence.Templates.IC.renderReplyActions';
}


Confluence.Templates.IC.showmoreReply = function(opt_data, opt_ignored) {
  return '<div id="ic-showmore-container"><div class="ic-decor-line"></div><div class="ic-decor-line"></div><div class="ic-collapse-decor-center"><span>' + soy.$$escapeHtml(AJS.format('{0} more replies',opt_data.totalReplies)) + '</span></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.IC.showmoreReply.soyTemplateName = 'Confluence.Templates.IC.showmoreReply';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:display-reply-view', location = 'view/display-reply/display-reply.js' */
define("confluence/ic/view/display-reply","jquery ajs underscore backbone confluence/ic/util/utils confluence/ic/view/create-comment confluence/ic/view/likes".split(" "),function(g,c,f,d,e,h,k){return d.View.extend({tagName:"div",className:"ic-display-reply",template:Confluence.Templates.IC.renderReply,events:{"click .ic-action-edit-reply":"editReply","click .ic-action-delete-reply":"confirmDelete"},initialize:function(){f.bindAll(this,"onEditCallback");this.$el.attr("data-comment-id",this.model.get("id"))},
render:function(){var a=f.extend(this.model.toJSON(),{resolved:this.options.resolved,darkFeatures:e.getDarkFeatures()});"READ_ONLY"===c.Meta.get("render-mode")&&(a.hasEditPermission=!1,a.hasDeletePermission=!1);a=this.template(a);this.$el.html(a);this._renderLikes();return this},_renderLikes:function(){this.likesView&&this.likesView.remove();this.likesView=(new k({contentId:this.model.id})).render();this.likesView.$el.is(":empty")?this.$(".ic-action-like-reply").remove():this.$(".ic-action-like-reply").html(this.likesView.el)},
editReply:function(a){var b=this;e.confirmProcess()?e.getEditorFormat(this.model.get("id")).done(function(l){b.editView=new h({model:b.model,type:"edit",selection:{},onFinished:b.onEditCallback,commentText:l});b.$el.html(b.editView.$el);b.editView.render()}).fail(function(){d.trigger("ic:error","We can\u0027t edit this reply. The reply might have been deleted.")}):a&&a.currentTarget.blur()},onEditCallback:function(){this.editView&&this.editView.destroy();this.editView=null;this.render()},deleteFail:function(a,
b){switch(b.status){case 401:d.trigger("ic:error","You don\u0027t have permission to delete this comment.");break;case 405:if(b.responseText&&"READ_ONLY"===JSON.parse(b.responseText).reason){d.trigger("ic:error","This site is read-only. You can\u0027t make changes right now.");break}default:d.trigger("ic:error","Could not complete your request.")}},confirmDelete:function(a){!0===window.confirm("Are you sure you want to delete this reply?")&&this.deleteReply(a)},deleteReply:function(a){g(a.target).attr("aria-disabled",
!0).prop("disabled",!0);this.model.destroy({wait:!0,error:this.deleteFail,success:function(){d.trigger("ic:reply:delete")}})},destroy:function(){this.likesView&&this.likesView.remove();this.editView&&this.editView.destroy();this.remove()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:reply-list-view', location = 'view/reply-list/reply-list.js' */
define("confluence/ic/view/reply-list","jquery ajs underscore backbone confluence/ic/view/display-reply confluence/ic/util/utils".split(" "),function(f,b,g,c,d,e){return c.View.extend({tagName:"div",className:"ic-replies",events:{"click #ic-showmore-container":"forceShowAllReplies"},initialize:function(a){if(!a.commentModel)throw Error("Inline Comment Model should be passed as a parameter when init ReplyListView","ReplyListView");this.replyViews=[];this.collection=a.commentModel.replies;this.source=
a.source;this.listenTo(this.collection,"add remove",this.render);!0!==this.collection.isFetched&&(this.listenToOnce(this.collection,"sync",this.fetchComplete),this.collection.fetch({reset:!0}));this.expandReplies=!1;this.COMMENT_NUMBER_TO_COLLAPSE=4},fetchComplete:function(){this.collection.isFetched=!0;this.render();e.resizeContentAfterLoadingImages(this.$el)},render:function(a){if(!0!==this.collection.isFetched)return this;if(a&&this.collection.last()===a)this.appendReply(a);else return this.cleanUpReplyViews(),
this.$el.empty(),this.collection.length>this.COMMENT_NUMBER_TO_COLLAPSE&&!1===this.expandReplies&&"permalink"!==this.source&&this.options.commentModel&&!this.options.commentModel.isResolved()?this.renderCollapsibleReplies():this.renderFullReplies(),this.trigger("ic:reply-rendered",this.options.commentModel),this._hightlightReply(),b.trigger("ic-jim-async-supported"),this},renderFullReplies:function(){this.collection.each(function(a){this.appendReply(a)},this)},forceShowAllReplies:function(){this.expandReplies=
!0;this.render()},renderCollapsibleReplies:function(){this.renderExpendButton();var a=this.collection.last();this.appendReply(a)},appendReply:function(a){a=this.createReplyView(a);this.replyViews.push(a);this.$el.append(a.render().el)},renderExpendButton:function(){this.$el.append(Confluence.Templates.IC.showmoreReply({totalReplies:this.collection.length-1}))},createReplyView:function(a){return new d({model:a,resolved:this.options.commentModel.isResolved()})},_hightlightReply:function(){if("permalink"===
this.source){var a=window.location.search.match(/(focusedCommentId|replyToComment)=(\d+)/);null!=a&&(a=parseInt(a[2],10))&&0!==a&&this.$("[data-comment-id\x3d"+a+"]").addClass("ic-comment-reply-highlight")}},cleanUpReplyViews:function(){var a;for(a=0;a<this.replyViews.length;a++)this.replyViews[a].destroy(),this.replyViews[a]=null;this.replyViews=[]},destroy:function(){this.cleanUpReplyViews();this.remove()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:navigation-view', location = 'view/navigation/navigation.soy' */
// This file was automatically generated from navigation.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.IC.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.IC == 'undefined') { Confluence.Templates.IC = {}; }


Confluence.Templates.IC.navigation = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button({type: 'text', id: 'ic-nav-next', extraClasses: 'aui-button-text', iconType: 'aui', iconClass: 'aui-icon-small aui-iconfont-arrow-down', text: '', isDisabled: opt_data.disabled, extraAttributes: {tabIndex: opt_data.disabled ? '' : 0, title: 'Next comment (N)'}}) + aui.buttons.button({type: 'text', id: 'ic-nav-previous', extraClasses: 'aui-button-text', iconType: 'aui', iconClass: 'aui-icon-small aui-iconfont-arrow-up', text: '', isDisabled: opt_data.disabled, extraAttributes: {tabIndex: opt_data.disabled ? '' : 0, title: 'Previous comment (P)'}}) + ((opt_data.showIndex) ? '<span class="ic-nav-x-out-of-y">' + soy.$$escapeHtml(AJS.format('{0} of {1}',opt_data.index,opt_data.size)) + '</span>' : '');
};
if (goog.DEBUG) {
  Confluence.Templates.IC.navigation.soyTemplateName = 'Confluence.Templates.IC.navigation';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:navigation-view', location = 'view/navigation/navigation.js' */
define("confluence/ic/view/navigation",["backbone"],function(a){return a.View.extend({tagName:"div",events:{"click #ic-nav-previous":"showPrevious","click #ic-nav-next":"showNext"},template:Confluence.Templates.IC.navigation,initialize:function(){this.collection=this.model.collection;this.listenTo(this.collection,"change:resolveProperties",this.onResolveToggle);this.disabled=1>=this.collection.getCommentsOnPageCount();this.listenTo(a,"ic:show-previous",this.showPrevious);this.listenTo(a,"ic:show-next",
this.showNext)},render:function(){this.$el.html(this.template({disabled:this.disabled,showIndex:!(this.model.isResolved()||this.model.get("deleted")),index:this.collection.getActiveIndexWithinPageComments()+1,size:this.collection.getCommentsOnPageCount()}));return this},onResolveToggle:function(){this.disabled=1>=this.collection.getCommentsOnPageCount();this.render()},showPrevious:function(){if(!this.disabled){var b=this.collection.getPrevCommentOnPage();null!=b&&a.trigger("ic:view",b,"nav")}},showNext:function(){if(!this.disabled){var b=
this.collection.getNextCommentOnPage();null!=b&&a.trigger("ic:view",b,"nav")}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:likes-view', location = 'view/likes/likes.soy' */
// This file was automatically generated from likes.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.IC.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.IC == 'undefined') { Confluence.Templates.IC = {}; }


Confluence.Templates.IC.likes = function(opt_data, opt_ignored) {
  return '' + ((opt_data.showLikeButton) ? aui.buttons.button({text: opt_data.isLikedByUser ? 'Unlike' : 'Like', type: 'link', extraClasses: 'ic-like-button'}) : '') + ((opt_data.likesCount > 0) ? '<span class="ic-like-summary"><span class="ic-small-like-icon"></span><a class="ic-likes-count" data-content-id="' + soy.$$escapeHtml(opt_data.contentId) + '"><span class="ic-like-summary">' + soy.$$escapeHtml(opt_data.likesCount) + '</span></a></span>' : '');
};
if (goog.DEBUG) {
  Confluence.Templates.IC.likes.soyTemplateName = 'Confluence.Templates.IC.likes';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:likes-view', location = 'view/likes/likes.js' */
define("confluence/ic/view/likes",["backbone","ajs","confluence/ic/model/likes","confluence/ic/likes/likes-manager"],function(c,b,d,e){return c.View.extend({className:"ic-likes",events:{"click .ic-like-button":"toggleLike","click .ic-likes-count":function(a){Confluence.Likes.showLikeUsers&&Confluence.Likes.showLikeUsers.apply(a.currentTarget,[a])}},initialize:function(a){this.collection=new d(null,{contentId:a.contentId});this.listenTo(this.collection,"add remove reset",this.render);this.currentUserName=
b.Meta.get("remote-user")||"";this.showLikeButton=void 0===a.showLikeButton?!0:a.showLikeButton},render:function(){this.$el.empty();if(e.isLikable()){var a=""!==this.currentUserName&&!1!==b.Meta.get("remote-user-has-licensed-access"),f=this.collection.length,g=this.collection.isLikedByUser(this.currentUserName);this.showLikeButton="READ_ONLY"!==b.Meta.get("render-mode");a=Confluence.Templates.IC.likes({showLikeButton:this.showLikeButton&&a,isLikedByUser:g,likesCount:f,contentId:this.collection.contentId});
this.$el.html(a)}return this},toggleLike:function(){this.collection.toggleLike()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:likes-view', location = 'view/likes/likes-manager.js' */
define("confluence/ic/likes/likes-manager",["underscore"],function(c){return{init:function(a){this.likesCache=c.clone(a)||{}},getLikes:function(a){return this.likesCache&&this.likesCache[a]?c.map(this.likesCache[a].likes,function(b){return{username:b.user.name}}):null},add:function(a,b){this.likesCache[a]||(this.likesCache[a]={likes:[]});this.likesCache[a].likes.push({user:{name:b}})},remove:function(a,b){if(this.likesCache[a]&&this.likesCache[a].likes){var e=c.reject(this.likesCache[a].likes,function(d){return d.user.name===
b});this.likesCache[a].likes=e}},isLikable:function(){return void 0!==this.likesCache}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:display-comment-view', location = 'view/display-comment/display-comment.soy' */
// This file was automatically generated from display-comment.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.IC.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.IC == 'undefined') { Confluence.Templates.IC = {}; }


Confluence.Templates.IC.displayComment = function(opt_data, opt_ignored) {
  return '<div class="ic-comment-container">' + Confluence.Templates.IC.sidebarHeading({authorUserName: opt_data.authorUserName, hasDeletePermission: opt_data.hasDeletePermission, hasResolvePermission: opt_data.hasResolvePermission, hasEditPermission: opt_data.hasEditPermission, hasReplyPermission: opt_data.hasReplyPermission, showMenu: opt_data.showMenu && ! opt_data.resolveProperties.resolved, darkFeatures: opt_data.darkFeatures}) + ((opt_data.resolveProperties.resolved) ? Confluence.Templates.IC.resolvedMask(null) : Confluence.Templates.IC.comment(opt_data)) + '</div>' + ((! opt_data.resolveProperties.resolved) ? '<div class="ic-list"></div><div class="ic-reply-container">' + ((opt_data.darkFeatures.INLINE_COMMENTS && opt_data.hasReplyPermission) ? '<div class="ic-reply-placeholder">' + Confluence.Templates.IC.commentHeader({authorUserName: opt_data.currentAuthorUserName, authorAvatarUrl: opt_data.currentAuthorAvatarUrl, authorDisplayName: opt_data.currentAuthorDisplayName}) + '<div class="ic-body"><form class="aui"><textarea class="textarea ic-textarea" name="body" placeholder="' + soy.$$escapeHtml('Reply') + '"></textarea></form></div></div>' : '') + '</div>' : '');
};
if (goog.DEBUG) {
  Confluence.Templates.IC.displayComment.soyTemplateName = 'Confluence.Templates.IC.displayComment';
}


Confluence.Templates.IC.deleteComment = function(opt_data, opt_ignored) {
  return '<div class="ic-comment-container ic-deleted">' + Confluence.Templates.IC.sidebarHeading({createComment: false, showMenu: false}) + '<div class="ic-delete-comment-view"><h2><span class="aui-icon ic-delete-image line">::before</span>' + soy.$$escapeHtml('Deleted') + '</h2></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.IC.deleteComment.soyTemplateName = 'Confluence.Templates.IC.deleteComment';
}


Confluence.Templates.IC.comment = function(opt_data, opt_ignored) {
  return '<div data-comment-id="' + soy.$$escapeHtml(opt_data.id) + '" class="ic-container ic-display-comment">' + Confluence.Templates.IC.commentHeader(opt_data) + '<div class="ic-body wiki-content"><div class="ic-content">' + ((opt_data.resolveProperties.resolved) ? '<blockquote><span class="ic-resolved-marker">' + soy.$$escapeHtml(opt_data.originalSelection) + '</span></blockquote>' : '') + soy.$$filterNoAutoescape(opt_data.body) + '</div></div>' + ((opt_data.resolveProperties.resolved) ? Confluence.Templates.IC.renderResolvedActions(opt_data) : Confluence.Templates.IC.renderActions(opt_data)) + '</div>' + ((! opt_data.resolveProperties.resolved && opt_data.resolveProperties.resolvedTime > 0 && opt_data.resolveProperties.resolvedUser) ? '<div class="ic-unresolved-message">' + soy.$$escapeHtml(AJS.format('Reopened by {0} {1}',opt_data.resolveProperties.resolvedUser,opt_data.resolveProperties.resolvedFriendlyDate)) + '</div>' : '');
};
if (goog.DEBUG) {
  Confluence.Templates.IC.comment.soyTemplateName = 'Confluence.Templates.IC.comment';
}


Confluence.Templates.IC.commentMenu = function(opt_data, opt_ignored) {
  return '' + ((opt_data.darkFeatures.INLINE_COMMENTS && (opt_data.hasDeletePermission || opt_data.hasReplyPermission || opt_data.hasResolvePermission && opt_data.darkFeatures.RESOLVED_INLINE_COMMENTS)) ? aui.buttons.button({type: 'subtle', extraClasses: 'aui-button-compact aui-dropdown2-trigger-arrowless aui-style-default ic-action-menu', iconType: 'aui', iconClass: 'aui-icon-small aui-iconfont-more', text: '', dropdown2Target: 'ic-menu-items'}) + aui.dropdown2.contents({id: 'ic-menu-items', extraClasses: 'aui-style-default', content: '<ul class="aui-list-truncate">' + ((opt_data.hasResolvePermission && opt_data.darkFeatures.RESOLVED_INLINE_COMMENTS) ? '<li class="ic-action-resolve"><a href="#">' + soy.$$escapeHtml('Resolve') + '</a></li>' : '') + ((opt_data.hasReplyPermission) ? '<li class="ic-action-reply"><a href="#">' + soy.$$escapeHtml('Reply') + '</a></li>' : '') + ((opt_data.hasEditPermission) ? '<li class="ic-action-edit"><a href="#">' + soy.$$escapeHtml('Edit') + '</a></li>' : '') + ((opt_data.hasDeletePermission) ? '<li class="ic-action-delete"><a href="#">' + soy.$$escapeHtml('Delete') + '</a></li>' : '') + '</ul>'}) : '');
};
if (goog.DEBUG) {
  Confluence.Templates.IC.commentMenu.soyTemplateName = 'Confluence.Templates.IC.commentMenu';
}


Confluence.Templates.IC.renderResolvedActions = function(opt_data, opt_ignored) {
  return '' + ((opt_data.darkFeatures.INLINE_COMMENTS) ? '<div class="ic-actions"><ul class="aui-list-truncate">' + ((opt_data.hasResolvePermission && ! opt_data.isDangling) ? '<li>' + aui.buttons.button({text: 'Reopen', type: 'link', extraClasses: 'ic-action-unresolve'}) + '</li>' : '') + '<li class="hidden">' + aui.buttons.button({type: 'link', extraClasses: 'ic-action-show-reply'}) + '</li>' + ((opt_data.hasReply) ? '' : '') + ((opt_data.resolveProperties.resolvedTime > 0) ? '<li class="ic-resolved-message">' + aui.icons.icon({useIconFont: true, size: 'small', icon: 'success'}) + '  <span>' + Confluence.Templates.IC.timeLink({time: '' + ((opt_data.isDangling && opt_data.resolveProperties.resolvedByDangling) ? soy.$$filterNoAutoescape(AJS.format('Resolved because the text was deleted by {0} {1}',opt_data.resolveProperties.resolvedUser,opt_data.resolveProperties.resolvedFriendlyDate)) : soy.$$filterNoAutoescape(AJS.format('Resolved by {0} {1}',opt_data.resolveProperties.resolvedUser,opt_data.resolveProperties.resolvedFriendlyDate))), commentUrl: opt_data.commentDateUrl}) + '</span></li>' : '') + '</ul></div>' : '');
};
if (goog.DEBUG) {
  Confluence.Templates.IC.renderResolvedActions.soyTemplateName = 'Confluence.Templates.IC.renderResolvedActions';
}


Confluence.Templates.IC.renderActions = function(opt_data, opt_ignored) {
  return '' + ((opt_data.darkFeatures.INLINE_COMMENTS) ? '<div class="ic-actions"><ul class="aui-list-truncate">' + ((opt_data.hasResolvePermission && opt_data.darkFeatures.RESOLVED_INLINE_COMMENTS) ? '<li>' + aui.buttons.button({text: 'Resolve', type: 'link', extraClasses: 'ic-action-resolve'}) + '</li>' : '') + '<li class="ic-action-like"></li><li class="ic-date">' + Confluence.Templates.IC.timeLink({time: opt_data.lastModificationDate, commentUrl: opt_data.commentDateUrl}) + '</li></ul></div>' : '');
};
if (goog.DEBUG) {
  Confluence.Templates.IC.renderActions.soyTemplateName = 'Confluence.Templates.IC.renderActions';
}


Confluence.Templates.IC.resolvedMask = function(opt_data, opt_ignored) {
  return '<div class="ic-resolved-mask"><div class="ic-resolved-mask-content"><h2 class="ic-resolved-icon">' + aui.icons.icon({useIconFont: true, size: 'large', icon: 'success', extraClasses: 'line'}) + soy.$$escapeHtml('Resolved') + '</h2></div><div class="resolved-message-container"><div class="resolved-message-sideline"><p>' + soy.$$escapeHtml('This comment isn\x27t gone forever! You can see resolved comments at any time.') + '</p>' + aui.buttons.button({text: 'Show me', type: 'link', id: 'show-resolved-comments'}) + '</div></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.IC.resolvedMask.soyTemplateName = 'Confluence.Templates.IC.resolvedMask';
}


Confluence.Templates.IC.pageComment = function(opt_data, opt_ignored) {
  return '<div class="ic-comment-container">' + Confluence.Templates.IC.sidebarHeading({createComment: false, showMenu: false}) + '<div class="ic-page-comment-view"><div class="ic-page-comment"><div class="ic-page-comment-content"><h2 class="ic-resolved-icon">' + aui.icons.icon({useIconFont: true, size: 'large', icon: 'success', extraClasses: 'line'}) + soy.$$escapeHtml('Saved') + '</h2></div><div class="ic-page-comment-message-container"><div class="ic-page-comment-message-sideline"><p>' + soy.$$escapeHtml('Your comment has been saved as a page comment.') + '</p><button id="show-page-comment" class="aui-button aui-button-link" data-comment-id="' + soy.$$escapeHtml(opt_data.commentId) + '">' + soy.$$escapeHtml('Show me') + '</button></div></div></div></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.IC.pageComment.soyTemplateName = 'Confluence.Templates.IC.pageComment';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:display-comment-view', location = 'view/display-comment/display-comment.js' */
define("confluence/ic/view/display-comment","jquery ajs underscore backbone confluence/ic/util/utils confluence/ic/view/create-comment confluence/ic/view/confirm-dialog confluence/ic/view/reply-list confluence/ic/view/resolved-dialog-discovery confluence/ic/view/navigation confluence/ic/view/likes".split(" "),function(f,c,g,d,e,h,k,l,m,n,p){return d.View.extend({tagName:"div",className:"ic-display-comment-view",template:Confluence.Templates.IC.displayComment,events:{"click .ic-action-reply":"replyComment",
"click .ic-action-resolve":"resolveComment","click .ic-action-edit":"editComment","click .ic-action-delete":"confirm","click #show-resolved-comments":"showResolvedDialogDiscovery","click .ic-reply-placeholder .textarea":"replyComment","focus .ic-reply-container .textarea":"onReplyPlaceholderFocus","keyup .ic-reply-container .textarea":"onReplyPlaceholderType"},initialize:function(a){g.bindAll(this,"confirm","destroy","deleteFail","replyComment","resolveComment","editComment","renderCommentOnly");
this.model.set("active",!0);this.listenTo(this.model,"change:resolveProperties",this.render);if(9>parseInt(c.version)){var b=f("body");b.on("click",".ic-action-delete a",this.confirm);b.on("click",".ic-action-reply a",this.replyComment);b.on("click",".ic-action-resolve a",this.resolveComment);b.on("click",".ic-action-edit a",this.editComment)}this.replyListView=new l({commentModel:this.model,source:a.source})},render:function(){this.$el.html(this.template(g.extend(this.model.toJSON(),{showMenu:"READ_WRITE"===
c.Meta.get("render-mode"),currentAuthorUserName:c.Meta.get("remote-user"),currentAuthorAvatarUrl:e.getAuthorAvatarUrl(),currentAuthorDisplayName:e.getAuthorDisplayName(),darkFeatures:e.getDarkFeatures()})));this.model.isResolved()?this.$(".ic-comment-container").addClass("ic-resolved"):this.$(".ic-list").append(this.replyListView.render().el);this._renderNavigation();this._renderLikes();e.addSidebarHeadingTooltip(this);return this},_renderNavigation:function(){this.navigationView&&this.navigationView.remove();
this.navigationView=new n({model:this.model});this.navigationView.render();this.$("#ic-nav-container").html(this.navigationView.el)},_renderLikes:function(){this.likesView&&this.likesView.remove();this.likesView=(new p({contentId:this.model.id})).render();this.likesView.$el.is(":empty")?this.$(".ic-action-like").remove():this.$(".ic-action-like").html(this.likesView.el)},editComment:function(a){a.preventDefault();var b=this;this.editView?this.editView.focusEditor():e.confirmProcess()&&e.getEditorFormat(this.model.get("id")).done(function(q){b.editView=
new h({model:b.model,type:"edit",selection:{},onFinished:b.renderCommentOnly,commentText:q});b.$(".ic-display-comment").html(b.editView.$el);b.editView.render()}).fail(function(){d.trigger("ic:error","We can\u0027t edit this comment. The comment might have been deleted.")})},renderCommentOnly:function(){this.editView&&this.editView.destroy();this.editView=null;var a=g.extend(this.model.toJSON(),{darkFeatures:e.getDarkFeatures()});this.$(".ic-display-comment").html(f(Confluence.Templates.IC.comment(a)).children());
this._renderLikes()},replyComment:function(a){a&&a.preventDefault();this.createReplyView?this.createReplyView.focusEditor():e.confirmProcess()?(this.createReplyView=new h({model:this.model,type:"reply",onFinished:g.bind(function(){this.createReplyView&&this.createReplyView.destroy();this.createReplyView=null},this)}),this.$(".ic-reply-container").prepend(this.createReplyView.$el),this.createReplyView.render()):a&&a.currentTarget.blur()},confirm:function(a){a.preventDefault();a.stopImmediatePropagation();
if(0<this.model.replies.length)return d.trigger("ic:error","You can\u0027t delete inline comment threads with replies."),!1;a=new k({model:new d.Model({label:"Delete",message:"Are you sure you want to delete the comment?"}),$menuEl:f(".ic-action-menu"),$bodyEl:f("body")});this.$(".ic-sidebar-heading").append(a.$el);this.listenTo(a,"ic:confirm",this.deleteComment)},deleteComment:function(){var a=g.bind(function(){this.$el.html(Confluence.Templates.IC.deleteComment());
this.model.set("deleted",!0);this._renderNavigation();e.removeInlineLinksDialog(this.model.highlights);e.addSidebarHeadingTooltip(this);d.trigger("ic:delete")},this);this.model.destroy({wait:!0,success:a,error:this.deleteFail})},deleteFail:function(a,b){switch(b.status){case 401:d.trigger("ic:error","You don\u0027t have permission to delete this comment.");break;case 405:b.responseText?"READ_ONLY"===JSON.parse(b.responseText).reason&&d.trigger("ic:error","This site is read-only. You can\u0027t make changes right now."):
d.trigger("ic:error","Could not complete your request.");break;case 409:d.trigger("ic:error",b.responseText);break;default:d.trigger("ic:error","Could not complete your request.")}},destroy:function(a){if(9>parseInt(c.version)){var b=f("body");b.off("click",".ic-action-delete a",this.confirm);b.off("click",".ic-action-reply a",this.replyComment);b.off("click",".ic-action-resolve a",this.resolveComment);b.off("click",".ic-action-edit a",this.editComment)}this.createReplyView&&
this.createReplyView.destroy();this.editView&&this.editView.destroy();this.replyListView.destroy();this.navigationView&&this.navigationView.remove();this.likesView&&this.likesView.remove();!0!==a&&this.remove()},resolveComment:function(a){a&&a.preventDefault();e.confirmProcess(!0)&&this.model.resolve(!0,{wait:!0,success:g.bind(this.onResolveComplete,this),error:this.onResolveFail})},onResolveComplete:function(){this.createReplyView&&this.createReplyView.destroy();this.createReplyView=null;d.trigger("ic:resolved");
e.removeInlineLinksDialog(this.model.highlights)},onResolveFail:function(a,b){switch(b.status){case 401:d.trigger("ic:error","You don\u0027t have permission to resolve this comment.");break;case 405:if(b.responseText&&"READ_ONLY"===JSON.parse(b.responseText).reason){d.trigger("ic:error","This site is read-only. You can\u0027t make changes right now.");break}default:d.trigger("ic:error","Could not complete your request.")}},showResolvedDialogDiscovery:function(){(new m).show();d.trigger("ic:resolved:show:recovery")},
onReplyPlaceholderFocus:function(a){if(e.getDarkFeatures().RICH_TEXT_EDITOR){var b=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome");("READ_ONLY"===c.Meta.get("access-mode")||b)&&a.currentTarget.blur()}},onReplyPlaceholderType:function(a){"READ_ONLY"===c.Meta.get("access-mode")&&(a=f(a.currentTarget),a.val(""),a.blur())}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:resolved-comment-view', location = 'view/resolved-comment/resolved-comment-list.soy' */
// This file was automatically generated from resolved-comment-list.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.IC.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.IC == 'undefined') { Confluence.Templates.IC = {}; }


Confluence.Templates.IC.resolvedCommentDialog = function(opt_data, opt_ignored) {
  return '' + aui.dialog.dialog2({id: 'ic-resolved-comment-dialog', removeOnHide: true, extraClasses: 'ic-resolved-comment-dialog-content', modal: true, titleText: 'Resolved comments', footerActionContent: '' + aui.buttons.button({id: 'resolved-dialog-close-button', text: 'Close', type: 'link'}), content: '<!-- Placeholder for error message --><div id="ic-resolved-comment-dialog-error"></div>'});
};
if (goog.DEBUG) {
  Confluence.Templates.IC.resolvedCommentDialog.soyTemplateName = 'Confluence.Templates.IC.resolvedCommentDialog';
}


Confluence.Templates.IC.resolvedDiscovery = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml('Got more to say? You can reopen resolved comments to continue the discussion.') + '</p>' + aui.buttons.button({id: 'ic-resolved-discovery-dismiss', text: 'OK, got it', type: 'link'});
};
if (goog.DEBUG) {
  Confluence.Templates.IC.resolvedDiscovery.soyTemplateName = 'Confluence.Templates.IC.resolvedDiscovery';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:resolved-comment-view', location = 'view/resolved-comment/resolved-comment.js' */
define("confluence/ic/view/resolved-comment-item","jquery underscore ajs backbone confluence/ic/util/utils confluence/ic/view/reply-list confluence/ic/view/likes".split(" "),function(k,e,c,b,f,g,h){return b.View.extend({tagName:"div",className:"ic-display-comment-view",template:Confluence.Templates.IC.comment,events:{"click .ic-action-unresolve":"unresolveComment","click .ic-action-show-reply":"showReply"},initialize:function(){e.bindAll(this,"onUnresolveComplete","destroy");this.replyListView=new g({commentModel:this.model});
this.listenTo(this.replyListView,"ic:reply-rendered",function(){this.renderNumberOfReplies()})},render:function(){var a=this.template(e.extend(this.model.toJSON(),{showMenu:!1,isDangling:this.model.isDangling(),darkFeatures:f.getDarkFeatures(),hasReply:0<this.model.replies.length}));this.$el.html(a);this.likesView&&this.likesView.remove();this.likesView=(new h({contentId:this.model.id,showLikeButton:!1})).render();this.$(".ic-action-like").html(this.likesView.el);this.$el.append(this.replyListView.$el.hide());
this.replyListView.render();return this},unresolveComment:function(){b.trigger("ic:resolvedClearError");this.model.resolve(!1,{wait:!0,success:this.onUnresolveComplete,error:this.onUnresolveFail})},onUnresolveComplete:function(){b.trigger("ic:unresolved");this.$el.slideUp(this.destroy)},onUnresolveFail:function(a,d){switch(d.status){case 401:b.trigger("ic:resolvedError","You don\u0027t have permission to resolve this comment.");break;case 405:"READ_ONLY"===JSON.parse(d.responseText).reason?b.trigger("ic:resolvedError",
"This site is read-only. You can\u0027t make changes right now."):b.trigger("ic:resolvedError","Could not complete your request.");break;default:b.trigger("ic:resolvedError","Could not complete your request.")}},showReply:function(){this.$(".ic-action-show-reply").parent().remove();this.$(".ic-replies").slideDown()},renderNumberOfReplies:function(){var a=this.model.replies.length,d=this.$(".ic-action-show-reply");0<a?(a=1===a?c.format("{0} reply",
1):c.format("{0} replies",a),d.text(a),d.parent().removeClass("hidden")):d.parent().remove()},destroy:function(){this.replyListView.destroy();this.remove()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:resolved-comment-view', location = 'view/resolved-comment/resolved-comment-list.js' */
define("confluence/ic/view/resolved-comment-list",["jquery","underscore","backbone","ajs","confluence/ic/view/resolved-comment-item"],function(c,f,d,b,h){return d.View.extend({events:{"click #resolved-dialog-close-button":"destroy"},template:Confluence.Templates.IC.resolvedCommentDialog,initialize:function(){f.bindAll(this,"render","destroy","_onKeyDown");this._resolvedCommentViews=[];this.listenTo(this.collection,"change:resolveProperties",this.onResolvedChanged);this.listenTo(d,"ic:resolvedError",
this.displayError);this.listenTo(d,"ic:resolvedClearError",this.clearErrors);var a=c(this.template());this.setElement(a);this.dialog=b.dialog2(this.$el);c(document).bind("keydown",this._onKeyDown);b.trigger("remove-bindings.keyboardshortcuts")},render:function(){var a=c("\x3cdiv\x3e"),g=this.collection.getResolvedCount();0!==g?f.each(this.collection.getResolvedCommentsDesc(),function(e){e=new h({model:e});this._resolvedCommentViews.push(e);a.append(e.render().$el)},this):this.displayNoCommentMessage();
this.$(".aui-dialog2-content").append(a);this.dialog.show();this.options.focusCommentId&&this.scrollToComment(this.options.focusCommentId);d.trigger("ic:resolved:view",g);b.trigger("ic-jim-async-supported");return this},onResolvedChanged:function(){0===this.collection.getResolvedCount()&&this.displayNoCommentMessage()},displayNoCommentMessage:function(){b.messages.generic(this.$(".aui-dialog2-content"),{body:"There are no resolved comments on this page.",closeable:!1})},displayError:function(a){this.clearErrors();
b.messages.error(this.$("#ic-resolved-comment-dialog-error"),{body:a,closeable:!1})},clearErrors:function(){this.$("#ic-resolved-comment-dialog-error").empty()},scrollToComment:function(a){a=this.$(b.format("[data-comment-id\x3d{0}]",a));return a.length?(a.addClass("focused"),this.$(".aui-dialog2-content").animate({scrollTop:a.parent().position().top},100)):(new c.Deferred).reject()},_onKeyDown:function(a){this.$el&&this.$el.is(":visible")&&a.keyCode===b.keyCode.ESCAPE&&this.destroy()},destroy:function(){b.trigger("add-bindings.keyboardshortcuts");
c(document).unbind("keydown",this._onKeyDown);this.dialog.hide();this.dialog.remove();f.each(this._resolvedCommentViews,function(a){a.destroy()});this._resolvedCommentViews=null;this.remove()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:resolved-comment-view', location = 'view/resolved-comment/resolved-dialog-discovery.js' */
define("confluence/ic/view/resolved-dialog-discovery",["jquery","underscore","backbone","ajs"],function(b,e,d,f){return d.View.extend({DIALOG_BACKGROUND_COLOR:"#ffffff",DIALOG_BORDER_COLOR:"#f79232",initialize:function(){e.bindAll(this,"getDiscoveryDialogContent","destroy","onEndScroll")},template:Confluence.Templates.IC.resolvedDiscovery,show:function(){b.when(this.scrollTop()).done(this.onEndScroll)},onEndScroll:function(){this.showToolsMenu();this._discoveryDialog=this.createDiscoveryDialog();
this._discoveryDialog.show()},showToolsMenu:function(){var a=b("#action-menu");a.on("aui-dropdown2-hide",this.destroy);b("#action-menu-link").trigger("aui-button-invoke");a.find("a.active").removeClass("active");var c=a.find("#view-resolved-comments").addClass("active");setTimeout(function(){c.focus()})},createDiscoveryDialog:function(){var a={gravity:"w",hideCallback:this.destroy,width:280,noBind:!0};a=f.InlineDialog(b("#view-resolved-comments"),"ic-resolved-dialog-discovery",this.getDiscoveryDialogContent,
a);a.on("click focusin mousedown",function(c){c.stopPropagation()});return a},getDiscoveryDialogContent:function(a,c,g){c=this.template();a.html(c);var h=this;a.find("#ic-resolved-discovery-dismiss").on("click",function(){d.trigger("ic:resolved:dismiss:recovery");h._discoveryDialog.hide()});g();return!1},scrollTop:function(){var a=b("#splitter-content");a=a.length?a:b("html, body");var c=0===a.scrollTop()?1:300;return a.animate({scrollTop:0},c)},destroy:function(){var a=b("#action-menu");a.off("aui-dropdown2-hide");
a.is(":visible")&&b("#action-menu-link").trigger("aui-button-invoke");this._discoveryDialog.remove();this.remove()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:highlight-view', location = 'view/highlight-text/highlight-text.js' */
define("confluence/ic/view/highlight-text",["backbone","ajs","confluence/ic/util/text-highlighter","confluence/ic/util/utils"],function(d,e,f,g){return d.View.extend({el:"#content .wiki-content:first",events:{"click .inline-comment-marker.valid":"commentClick"},initialize:function(){this.collection&&(this.listenTo(this.collection,"sync remove change:deleted",this.render),this.listenTo(this.collection,"change:active",this.setActive));this.listenTo(d,"ic:view ic:overlap ic:sidebar-hidden",this.clearSelection);
this.listenTo(d,"ic:persist",this.persistComment);this.listenTo(d,"ic:delete",this.render);e.bind("qr:add-new-highlight-text",this._addQuickReloadMarker)},render:function(){this.inlineLinks=[];this.$(".inline-comment-marker").removeClass("valid");this.collection.each(function(a){a.isResolved()||a.get("deleted")||!a.highlights||(a.highlights.addClass("valid"),this._pushToInlineLinks(a.highlights))},this);this._setupLinkDialog()},_pushToInlineLinks:function(a){var b=this;a.each(function(){g.getInlineLinks(this).each(function(){$(this).attr("href")&&
b.inlineLinks.push($(this))})})},_setupLinkDialog:function(){var a={width:200,onHover:!0,noBind:!0,calculatePositions:this._calculatePositions,hideDelay:1E3};$(this.inlineLinks).each(function(){var b=this;e.InlineDialog(b,"inline-comment-link",function(c,k,h){c.addClass("inline-comment-link");c.html(Confluence.Templates.IC.highlightTextLink({link:b.attr("href")}));h();return!1},a)})},_calculatePositions:function(a,b,c){return{displayAbove:!0,popupCss:{top:b.target.offset().top-a.height()-10,left:c.x-
a.width()/2},arrowCss:{top:a.height(),left:a.width()/2-4}}},setActive:function(a){this.$(".inline-comment-marker").removeClass("active");var b=this.$('.inline-comment-marker[data-ref\x3d"'+a.get("markerRef")+'"]');a.get("active")&&b.length&&b.addClass("active")},commentClick:function(a){a.preventDefault();var b=this.$(a.currentTarget);b.hasClass("active")?d.trigger("ic:hide-sidebar",a,!0):this.displayComment(b)},displayComment:function(a,b){a=a.data("ref");a=this.collection.findWhere({markerRef:a});
d.trigger("ic:view",a,b)},clearSelection:function(){(new f).removeHighlight()},persistComment:function(a){this.$(".ic-current-selection").removeClass("ic-current-selection").addClass("inline-comment-marker").attr("data-ref",a.get("markerRef"));this.collection.add(a)},_addQuickReloadMarker:function(a,b,c){a=b.comment;this.$('.inline-comment-marker[data-ref\x3d"'+a.dataRef+'"]').length?c.resolve(b):(new f).deserializeHighlights(a.serializedHighlights,a.dataRef)?c.resolve(b):c.reject(b)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:highlight-view', location = 'view/highlight-text/highlight-text.soy' */
// This file was automatically generated from highlight-text.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.IC.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.IC == 'undefined') { Confluence.Templates.IC = {}; }


Confluence.Templates.IC.highlightTextLink = function(opt_data, opt_ignored) {
  return aui.icons.icon({useIconFont: true, size: 'small', icon: 'link'}) + '<a href=\'' + soy.$$escapeHtml(opt_data.link) + '\'>' + soy.$$escapeHtml(opt_data.link) + '</a>';
};
if (goog.DEBUG) {
  Confluence.Templates.IC.highlightTextLink.soyTemplateName = 'Confluence.Templates.IC.highlightTextLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:sidebar-view', location = 'view/sidebar/sidebar.js' */
define("confluence/ic/view/sidebar","underscore backbone jquery confluence/ic/view/display-comment confluence/ic/view/create-comment confluence/ic/util/utils ajs".split(" "),function(h,k,g,m,n,c,l){return k.View.extend({tagName:"div",className:"ic-sidebar",events:{"click button.ic-action-hide":function(a){this.hide(a,!0);k.trigger("ic:sidebar:close")}},initialize:function(a){var b=this;this.listenTo(k,"ic:view ic:overlap",this.displayComment);this.listenTo(k,"ic:create",this.displayCreateComment);
this.listenTo(k,"ic:error",this.displayError);this.listenTo(k,"ic:hide-sidebar",this.hide);this.listenTo(k,"ic:clearError",this.clearError);c.getDarkFeatures().RICH_TEXT_EDITOR?l.bind("rte-quick-edit-ready",function(){var d=b.$el.find("#wysiwygTextarea_ifr");0!==d.length?((new MutationObserver(function(){d.resize()})).observe(d[0],{attributes:!0,attributeFilter:["style"]}),l.Rte.getEditor().getContent()||b._scrollToEditorView(d)):b.$el.is(":visible")||(c.getPageContainer().css("padding-right","0"),
b.$wikiContent.css("position","static"),c.getPageContainer().css({"min-height":0}))}):l.bind("init.rte",h.bind(this.hideInEditMode,this));this.defaultNavOffset=130;this.defaultPermalinkedCommentOffset=100;this.$wikiContent=a.$wikiContent||g("#content .wiki-content").first();this.sidebarObserver=new MutationObserver(h.bind(this.setSidebarYPos,this));this.sidebarObserver.observe(this.el,{childList:!0,subtree:!0});g(window).resize(h.debounce(h.bind(this.setSidebarYPos,this),100));l.bind("sidebar.expanded sidebar.collapsed",
h.debounce(h.bind(this.setSidebarYPos,this),50))},displayComment:function(a,b,d){var f=function(){if(a.highlight.is(":hidden")&&(c.showHighlightContent(a.highlight),a.highlight.is(":hidden")))return;this.distanceToTop=this.previousHighlightOffset||this.defaultNavOffset;this._emptySidebar(!0);this.commentView=new m({model:a,source:b});this.show(!0);var e=a.highlight;for(this.previousHighlightOffset=e.position().top;e.offsetParent().hasClass("conf-macro output-block");)e=e.offsetParent(),this.previousHighlightOffset+=
e.position().top;e=this.commentView.render().$el;e.css("visibility","hidden");"nav"===b?this._scrollToComment(a):"permalink"===b?this._scrollToPermalinkedComment(a,this.defaultPermalinkedCommentOffset,d):"quickreload"===b&&this._scrollToQuickReloadComment(a);this.$el.html(e);Confluence.Binder&&Confluence.Binder.userHover()};void 0===d||!1===d.ignoreConfirmDialog?c.confirmProcess(!0)&&f.call(this):f.call(this);l.trigger("ic-jim-async-supported")},_scrollToQuickReloadComment:function(a){var b=g(".qr-feedback:first"),
d=this.defaultPermalinkedCommentOffset;0<b.length&&(d=b.height()+67);this._scrollToPermalinkedComment(a,d)},_scrollToEditorView:function(a){var b=c.isDocTheme()?c.getSplitterContent():g("body, html"),d=this.$(".ic-display-comment-view").position().top;a=a.closest(".ic-create-comment-view").position().top+d;(b.height()<a||b.scrollTop()>a)&&b.animate({scrollTop:a},100)},_scrollToPermalinkedComment:function(a,b,d){c.isDocTheme()?(a=a.highlight.offset().top+c.getSplitterContent().scrollTop()-40,c.getSplitterContent().animate({scrollTop:a-
b},100).promise().done(h.bind(this._scrollToPermalinkedCommentCompleted,this,d))):(a=a.highlight.offset().top,g("html, body").animate({scrollTop:a-b},100).promise().done(h.bind(this._scrollToPermalinkedCommentCompleted,this,d)))},_scrollToPermalinkedCommentCompleted:function(a){a&&a.isReplyComment&&this.commentView.replyComment()},_scrollToComment:function(a){a=a.highlight;for(var b=a.position().top;a.offsetParent().hasClass("conf-macro output-block");)a=a.offsetParent(),b+=a.position().top;c.isDocTheme()?
c.getSplitterContent().animate({scrollTop:c.getSplitterContent().scrollTop()+b-this.distanceToTop},100):g("html, body").animate({scrollTop:window.pageYOffset+b-this.distanceToTop},100)},displayCreateComment:function(a,b,d){var f=this.warningData(),e=null===f;this._emptySidebar(!0);this.createCommentView=new n({collection:a,selection:b,type:e?"topLevel":"pageComment",warningData:f,isFocus:!1,stopFocus:!0,commentText:e?"":"\x3cblockquote\x3e"+l.escapeHtml(b.text)+"\x3c/blockquote\x3e \x3cdiv\x3e\x3c/div\x3e",
onFinished:h.bind(function(){this.createCommentView.keepSidebar||this.isShowing&&this.hide()},this),serializedHighlights:d});this.show();this.createCommentView.$el.css("visibility","hidden");this.$el.html(this.createCommentView.$el);this.createCommentView.render()},warningData:function(){var a=g(".ic-current-selection"),b=c.containsUnsupportedMacro(a);return b?{type:"unsupportedMacro",macro:b}:c.containsInternalLink(a)?{type:"internalLink"}:c.containsUserMention(a)?{type:"mention"}:c.containsDateLozenge(a)?
{type:"dateLozenge"}:null},displayError:function(a,b){b=h.extend({closeable:!1},b);this.clearError();l.messages.error(".ic-error",{body:a,closeable:b.closeable});b.callback&&b.callback()},clearError:function(){g(".ic-error").empty()},show:function(a){this.isShowing||(this._toggleSidebar(a),this.isShowing=!0)},hideInEditMode:function(a){"comment"!==l.Meta.get("content-type")&&(this.sidebarObserver.disconnect(),this.hide(a))},hide:function(a,b){a&&a.preventDefault();c.confirmProcess(!0)&&this.isShowing&&
(c.getPageContainer().css({"min-height":"initial"}),this._toggleSidebar(b),k.trigger("ic:sidebar-hidden"),this.isShowing=!1)},_toggleSidebar:function(a){var b=g(".inline-comment-marker.active:first, .ic-current-selection:first"),d,f=c.isDocTheme()?c.getSplitterContent().scrollTop():window.pageYOffset;0<b.length&&(d=b.offset().top-f);f=g.Deferred();var e=f.promise();this.isShowing?a&&c.isAnimationSupported()?e=c.animateSidebar(this,!1):(c.getPageContainer().css("padding-right","0"),this.$wikiContent.css("position",
"static"),this._emptySidebar(),f.resolve()):(c.getPageContainer().css("padding-right","280px"),a&&c.isAnimationSupported()?e=c.animateSidebar(this,!0):f.resolve(),this.$wikiContent.css("position","relative"));e.done(function(){c.scrollToCommentAfterToggleSideBar(d,b)})},_emptySidebar:function(a){this.commentView&&(this.commentView.model.unset&&this.commentView.model.unset("active"),this.commentView.destroy(),this.commentView=null);this.createCommentView&&(this.createCommentView.keepSidebar=a,this.createCommentView.destroy(),
this.createCommentView=null)},setSidebarYPos:function(){if(this.isShowing){var a=this.$el.offset().top;if(null!=this.commentView){var b=this.commentView.$el;var d=this.commentView.model.highlight}else if(null!=this.createCommentView)b=this.createCommentView.$el,d=g(".ic-current-selection");else return;if(d){var f=this.$(".ic-sidebar-heading").height();b.css({visibility:"visible",position:"absolute",top:d.offset().top-a-f+"px"});c.recalculateContentHeight(b)}}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources', location = '/js/doctheme-utils.js' */
Confluence.DocThemeUtils=Confluence.DocThemeUtils||function(a){function c(){return b().length?!0:!1}function b(){d||(d=a("#splitter-content"));return d}var d;return{isDocTheme:c,appendAbsolutePositionedElement:function(e){var f=a(e);a(e).appendTo(c()?b():a("body"));return f},getMainContentScrollTop:function(){return c()?b().scrollTop():a(document).scrollTop()},getMainContentScrollLeft:function(){return c()?b().scrollLeft():a(document).scrollLeft()},getDocThemeContentElement:b}}(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources', location = '/js/scrolling-inline-dialog.js' */
Confluence.ScrollingInlineDialog=function(y,z,A,h){var f=Confluence.DocThemeUtils.getDocThemeContentElement(),g=Confluence.DocThemeUtils.isDocTheme();h=h||{};!h.container&&g&&(h.container=f);var B=function(d,b,t,e){var p="auto",v=-7,w=g?f.width():AJS.$(window).width(),a=b.target.position();a.top+=g?f.scrollTop():0;a.left+=g?f.scrollLeft():0;var l=b.target.outerWidth();var u=a.left+l/2,x=g?f.scrollTop()+AJS.$(window).height()-AJS.$("#footer").outerHeight():(window.pageYOffset||document.documentElement.scrollTop)+
AJS.$(window).height();l=a.top+b.target.outerHeight()+e.offsetY;var n=d.find(".arrow").outerWidth(),k=d.outerWidth();var c=b.target.outerWidth();e.centerOnHighlight?k>c?(b=a.left-(k-c)/2,c=u-b-n/2):(b=a.left+e.offsetX,c=(k-n)/2):(b=a.left+e.offsetX,c=k>c?u-b-n/2:(k-n)/2);c=0>c?0:c;var m=g?a.top-f.scrollTop():a.top-(window.pageYOffset||document.documentElement.scrollTop),q=e.maxHeight||0,r=d.height();m=m>Math.max(r,q);q=l+d.height()<x;d=!q&&m||e.onTop;e.onTop=d;m=w-(b+k+10);d&&(l=a.top-r-8,v=r);!1===
d&&!1===q&&(a=l+r-x,a=g?f.scrollTop()+a+AJS.$("#footer").outerHeight():(window.pageYOffset||document.documentElement.scrollTop)+a+20,(g?f:AJS.$("html, body")).stop().animate({scrollTop:a},500));e.isRelativeToMouse?0>m?(p=10,b="auto",c=t.x-(AJS.$(window).width()-e.width)):(b=t.x-20,c=t.x-b):0>m&&(p=10,b="auto",c=u-(w-p-k)-n/2);return{displayAbove:d,popupCss:{left:b,right:p,top:l},arrowCss:{position:"absolute",left:c,right:"auto",top:v}}};h.calculatePositions||(h.calculatePositions=B);return AJS.InlineDialog.call(this,
y,z,A,h)};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources', location = '/js/highlight-panel.js' */
Confluence.HighlightAction=function(e){function t(h){var b={};b.pageId=h.pageId;b.selectedText=h.selectedText;b.index=h.index;b.numMatches=h.numMatches;b.lastFetchTime=e("meta[name\x3d'confluence-request-time']").attr("content");return b}var p={},q,u={MAINCONTENT_AND_COMMENT:function(h){return Confluence.HighlightAction.RangeHelper.isSelectionInsideContent(e(".wiki-content"),h)},MAINCONTENT_ONLY:function(h){q=q||e(".wiki-content").first();return Confluence.HighlightAction.RangeHelper.isSelectionInsideContent(q,
h)},COMMENT_ONLY:function(h){return Confluence.HighlightAction.RangeHelper.isSelectionInsideContent(e(".comment-content"),h)}};return{registerButtonHandler:function(h,b){p[h]=e.extend({onClick:function(){},shouldDisplay:u.MAINCONTENT_AND_COMMENT},b)},getButtonHandler:function(h){var b=p[h];b||(b=function(){AJS.logError("The button with key "+h+" doesn't have a registered handler")});return b},insertContentAtSelectionEnd:function(h){var b=Confluence.getContextPath()+"/rest/highlighting/1.0/insert-storage-fragment";
return e.ajax({type:"POST",contentType:"application/json",url:b,data:JSON.stringify(h)})},insertContentsInTableColumnCells:function(h){var b=Confluence.getContextPath()+"/rest/highlighting/1.0/insert-storage-column-table";return e.ajax({type:"POST",contentType:"application/json",url:b,data:JSON.stringify(h)})},createTableInsertionBean:function(h,b,n){n=t(n);n.tableColumnIndex=b;n.cellModifications=h;return n},createInsertionBean:function(h,b){b=t(b);b.xmlModification=h[0].xmlInsertion;return b},createXMLModificationBean:function(h,
b){b=t(b);b.xmlModification=h;return b},clearTextSelection:function(){window.getSelection?(window.getSelection().empty&&window.getSelection().empty(),window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges()):window.document.selection&&window.document.selection.empty()},WORKING_AREA:u}}(AJS.$);
Confluence.HighlightAction.RangeHelper=function(e){function t(a){var c=Confluence.DocThemeUtils.getMainContentScrollTop(),f=Confluence.DocThemeUtils.getMainContentScrollLeft(),g=a.getClientRects();if(!g.length&&a.parentElement()){g=e(a.parentElement());var l=g.offset();g=[{top:l.top-(Confluence.DocThemeUtils.isDocTheme()?0:c),left:l.left-(Confluence.DocThemeUtils.isDocTheme()?0:f),bottom:l.top+g.height(),right:l.left+g.width()}]}g=h(a,g);l=function(d){if(Confluence.DocThemeUtils.isDocTheme()){var k=
Confluence.DocThemeUtils.getDocThemeContentElement().offset();d.left-=k.left;d.right-=k.left;d.top-=k.top;d.bottom-=k.top}return d};a=l(function(d,k){var m={};m.top=d.top;m.left=d.left+f;m.bottom=k.bottom;m.right=d.left>=k.right?d.right:k.right;m.right+=f;m.top+=c;m.bottom+=c;m.width=m.right-m.left;m.height=m.bottom-m.top;return m}(g.first,g.last));g=l(function(d){var k={};k.width=d.right-d.left;k.height=d.bottom-d.top;k.left=d.left+f;k.right=d.right+f;k.top=d.top+c;k.bottom=d.bottom+c;return k}(g.first));
Confluence.HighlightAction.debug&&(l=e("\x3cdiv\x3e").attr("id","highlight-actions-debug-helper"),Confluence.DocThemeUtils.appendAbsolutePositionedElement(l).css(e.extend({position:"absolute",outline:"1px solid red"},a)));return{first:g,average:a}}function p(a){return(void 0!=a.text?a.text:a.cloneContents().textContent).replace(/\u00a0/g," ")}function q(a){return a.cloneContents?e("\x3cdiv\x3e").append(a.cloneContents()).html():a.htmlText}function u(a){if(a.commonAncestorContainer)return a=a.commonAncestorContainer,
3==a.nodeType?a.parentNode:a;if(a.parentElement)return a.parentElement()}function h(a,c){var f={};f.first=c[0];f.last=c[c.length-1];"undefined"!==a.endOffset&&0==a.endOffset&&1<c.length&&(f.last=c[c.length-2]);return f}function b(a,c){var f=u(c);return function(){var g=!1;e.each(a,function(l,d){if(d===f||e.contains(d,f))return g=!0,!1});return g}()}function n(a){if(document.createRange)return a.text();range=document.body.createTextRange();range.moveToElementText(a.get(0));return range.text}function v(a,
c,f){var g=c.find('.user-mention, a[href^\x3d"/"], a[href^\x3d"#"], thead:hidden.tableFloatingHeader, div[data-macro-name\x3d"panel"] .panelHeader');c.find('.conf-macro[data-hasbody\x3d"false"], .jira-issue, .jira-issues').each(function(){-1<e(this).text().indexOf(a)&&(g=g.add(this))});if(0<g.length){var l=a.replace(/\S/g," "),d=new RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g");g.each(function(){var k=e(this).text();e(this).text(k.replace(d,l))});return n(c)}return f}return{getRangeOption:function(a){return{area:t(a),
text:p(a),html:q(a),containingElement:u(a),range:a}},getUserSelectionRange:function(){if(window.getSelection&&window.getSelection().isCollapsed||document.selection&&("None"==document.selection.type||""==document.selection.createRange().htmlText))return!1;if(window.getSelection){var a=window.getSelection();a=a.getRangeAt(a.rangeCount-1)}else document.selection&&(a=document.selection.createRange());if(/^\s*$/.test(p(a))){var c=q(a);if(!c||-1==c.toLowerCase().indexOf("\x3cimg "))return!1}return b(e(".wiki-content"),
a)?a:!1},getSelectionRects:t,getSelectionText:p,getSelectionHTML:q,getContainingElement:u,getFirstAndLastSelectionRect:h,isSelectionInsideContent:b,computeSearchTextObject:function(a,c){if(document.createRange){var f=document.createRange();f.setStart(a.get(0),0);f.setEnd(c.endContainer,c.originalEndOffset)}else f=document.body.createTextRange(),f.moveToElementText(a.get(0)),f.setEndPoint("EndToEnd",c);f=p(f);c=e.trim(p(c));var g=n(a);g=v(c,a.clone(),g);g=g.replace(/\u00a0/g," ");var l=0;for(a=[];-1<
(l=g.indexOf(c,l));)a.push(l),l+=1;f=f.replace(/\s*$/,"");return{pageId:AJS.Meta.get("page-id"),selectedText:c,index:e.inArray(f.length-c.length,a),numMatches:a.length}}}}(AJS.$);
AJS.toInit(function(e){function t(a){var c=q(),f=29*a.length,g=Confluence.HighlightPanel.Templates.panelContent({webItems:a}),l=!1,d=function(k){var m=!1;k.find("button").each(function(w){w=e(this);var r=w.attr("data-key");r=Confluence.HighlightAction.getButtonHandler(r).shouldDisplay(n);w.css("display",r?"inline-block":"none");m=m||r});m?k.find(".contents").width("auto"):b.hide()};b=Confluence.ScrollingInlineDialog(h,"selection-action-panel",function(k,m,w){l||(k.append(g),k.find(".aui-button").tooltip({gravity:"s"}),
k.parent().children().attr("unselectable","on").on("selectstart",!1),k.find("button").click(function(r){r=e(this).attr("data-key");r=Confluence.HighlightAction.getButtonHandler(r);b.hide();var x=Confluence.HighlightAction.RangeHelper.getRangeOption(n);""!==e.trim(x.text)&&(x.searchText=Confluence.HighlightAction.RangeHelper.computeSearchTextObject(u,n));r.onClick(x)}));w();l=!0;return!1},{centerOnHighlight:!0,onTop:!0,fadeTime:0,width:f,persistent:!0,initCallback:function(){Confluence.HighlightAction.Analytics.sendAnalyticsForOpeningHighlightOptionPanel();
d(this.popup);c.bindHideEvents();h.show()},hideCallback:function(){c.unbindHideEvents();h.hide()}})}function p(a){var c;e(document).on("mouseup",function(f){a.done(function(g){g&&0<g.length&&0===e(f.target).closest(".aui-inline-dialog").length&&setTimeout(function(){clearTimeout(c);var l=1E3;e(b[0]).is(":visible")&&(l=0);c=setTimeout(function(){n=Confluence.HighlightAction.RangeHelper.getUserSelectionRange();n.originalEndOffset=n.endOffset;if(n&&""!==e.trim(n.toString())){var d=Confluence.HighlightAction.RangeHelper.getSelectionRects(n),
k;if(k=d)Confluence.DocThemeUtils.appendAbsolutePositionedElement(h),k=!1,v&&d.first.top==v.first.top&&d.first.height==v.first.height&&d.first.left==v.first.left&&d.first.width==v.first.width||(h.css({top:d.first.top,height:d.first.height,left:d.first.left,width:d.first.width}),v=d,k=!0),k=k||!e(b[0]).is(":visible");k&&(e(b[0]).hide(),b.show())}else b.hide()},l)},0)})});a.done(function(){AJS.bind("quickedit.success",function(){b.hide()})})}function q(){var a=!1,c=function(){a||(e("body").bind("click.selection-action-panel.inline-dialog-check",
function(g){0===e(g.target).closest("#inline-dialog-selection-action-panel .contents").length&&(n||b.hide())}),a=!0)},f=function(g){27===g.keyCode&&b.hide()};return{bindHideEvents:function(){c();e(document).on("keydown",f)},unbindHideEvents:function(){a&&e("body").unbind("click.selection-action-panel.inline-dialog-check");a=!1;e(document).off("keydown",f)}}}var u=e(".wiki-content").first(),h=e("\x3cdiv\x3e").attr("id","action-dialog-target"),b,n,v;(function(){var a=Confluence.getContextPath()+"/rest/highlighting/1.0/panel-items",
c=AJS.Meta.get("page-id");void 0!=c&&(a=a+"?pageId\x3d"+c);a=e.get(a,function(f){f.length&&t(f)});p(a)})()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources', location = '/js/quote-in-comment.js' */
AJS.toInit(function(c){function f(){if(Confluence.DocThemeUtils.isDocTheme()){var a=Confluence.DocThemeUtils.getDocThemeContentElement(),b=a.scrollTop()-c("#header").height()+c("#rte-toolbar").offset().top;a.scrollTop(b-40)}else b=c("#rte-toolbar").offset().top,c(document).scrollTop(b-40)}function d(a,b){a.execCommand("mceInsertContent",!1,"\x3cblockquote\x3e\x3cp\x3e"+b.html+"\x3c/p\x3e\x3c/blockquote\x3e\x3cp\x3e\x3cbr/\x3e\x3c/p\x3e")}function g(a){Confluence.HighlightAction.clearTextSelection();
setTimeout(function(){var b=AJS&&AJS.Rte&&AJS.Rte.getEditor&&AJS.Rte.getEditor();if(b)Confluence.HighlightAction.Analytics.sendAnalyticsForQuoteInComment(),f(),d(b,a);else{Confluence.HighlightAction.Analytics.sendAnalyticsForQuoteInComment(!0);var e=function(){d(AJS.Rte.getEditor(),a);AJS.unbind("quickedit.visible",e)};AJS.bind("quickedit.visible",e);h(c(a.containingElement).closest("div.comment"))}},0)}function h(a){0< !a.length?c(".quick-comment-prompt").click():a.find(".comment-actions .action-reply-comment").click()}
Confluence&&Confluence.HighlightAction&&Confluence.HighlightAction.registerButtonHandler("com.atlassian.confluence.plugins.confluence-highlight-actions:quote-comment",{onClick:g,shouldDisplay:Confluence.HighlightAction.WORKING_AREA.MAINCONTENT_AND_COMMENT})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources', location = '/js/highlight-analytics.js' */
Confluence.HighlightAction.Analytics=function(d){function a(b,c){AJS.trigger("analytics",{name:b,data:c})}return{sendAnalyticsForOpeningHighlightOptionPanel:function(){a("confluence.highlight.actions.open")},sendAnalyticsForQuoteInComment:function(b){b?a("confluence.quote.in.comment.insert"):a("confluence.quote.in.comment.append")}}}(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources', location = '/soy/templates.soy' */
// This file was automatically generated from templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.HighlightPanel.Templates.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.HighlightPanel == 'undefined') { Confluence.HighlightPanel = {}; }
if (typeof Confluence.HighlightPanel.Templates == 'undefined') { Confluence.HighlightPanel.Templates = {}; }


Confluence.HighlightPanel.Templates.panelContent = function(opt_data, opt_ignored) {
  var output = '';
  var webItemList3 = opt_data.webItems;
  var webItemListLen3 = webItemList3.length;
  for (var webItemIndex3 = 0; webItemIndex3 < webItemListLen3; webItemIndex3++) {
    var webItemData3 = webItemList3[webItemIndex3];
    output += '<button data-key="' + soy.$$escapeHtml(webItemData3.key) + '" class="aui-button aui-button-compact aui-button-subtle" title="' + soy.$$escapeHtml(webItemData3.label) + '"><span class="aui-icon aui-icon-small ' + soy.$$escapeHtml(webItemData3.styleClass) + '"></span></button>';
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.HighlightPanel.Templates.panelContent.soyTemplateName = 'Confluence.HighlightPanel.Templates.panelContent';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:loader', location = '/app/loader.js' */
define("confluence/ic/app/loader","jquery backbone ajs confluence/ic/model/comment confluence/ic/model/comment-collection confluence/ic/view/highlight-text confluence/ic/view/sidebar confluence/ic/view/resolved-comment-list confluence/ic/util/text-highlighter confluence/ic/util/utils confluence/ic/analytics confluence/ic/likes/likes-manager".split(" "),function(e,f,g,p,q,k,l,h,m,d,r,n){var c=null;return{init:function(a){c=a;a=new l({$wikiContent:e("#content .wiki-content").first()});d.getPageContainer().append(a.$el);
(new k({collection:c})).render();Confluence&&Confluence.Likes&&Confluence.Likes.getLikesCache&&Confluence.Likes.getLikesCache().done(function(b){n.init(b);f.trigger("ic:likes-received")});d.getDarkFeatures()},loadSidebarOnClick:function(a){if(d.confirmProcess()){f.trigger("ic:highlight-panel-click");e(".inline-comment-marker").removeClass("active");var b=d.overlappedSelection(a,c);b?(a=e('.inline-comment-marker[data-ref\x3d"'+b.get("markerRef")+'"]'),Confluence.HighlightAction.clearTextSelection(),
b.highlight=a,f.trigger("ic:overlap",b)):(b=(new m).removeHighlight().highlight(a.range),f.trigger("ic:create",c,a,b))}},updateResolvedCommentCountInToolsMenu:function(){e("#view-resolved-comments\x3espan").text("Resolved comments"+g.format(" ({0})",c.getResolvedCount()))},afterSyncCommentCollection:function(){var a=this;c.once("sync",function(b){a.displayPermalinkedComment(b)});c.on("change:resolveProperties",function(){a.updateResolvedCommentCountInToolsMenu()});
this.updateResolvedCommentCountInToolsMenu()},displayPermalinkedComment:function(a){d.showFocusedComment(a,window.location.search,h)},createResolvedCommentListView:function(){(new h({collection:c})).render()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'biz.artemissoftware.confluence.multiexcerpt.MultiExcerptMacro:multi-include-inline-comments', location = 'js/multiexcerpt-util.js' */
// https://stackoverflow.com/questions/21646738/convert-hex-to-rgba
// supported formats: #fff, #ffffff
function hexToRgbA(hex, alpha) {
  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {
    var c = hex.substring(1).split('');
    if (c.length === 3) {
      c = [c[0], c[0], c[1], c[1], c[2], c[2]];
    }
    c = '0x' + c.join('');
    return 'rgba(' + [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',')
        + ',' + alpha + ')';
  } else {
    console.warn("Incorrect Hex to convert to RGBa color")
    return "";
  }
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'biz.artemissoftware.confluence.multiexcerpt.MultiExcerptMacro:multi-include-inline-comments', location = 'js/multi-include-inline-comments.js' */
(function (AJS, $) {
  "use strict";

  $(document).ready(function () {
    var PAGE_ID = AJS.Meta.get('page-id');

    if (PAGE_ID) {
      var SHOW_IC_LABEL = "Show Inline Comments";

      var HIDE_IC_LABEL = "Hide Inline Comments";

      var shouldDisplayInlineComments = true;

    $.ajax({
      url: AJS.contextPath()
          + "/rest/multiexcerpt/1.0/inline-comments-visibility/" + PAGE_ID,
      success: function (data) {
        shouldDisplayInlineComments = data.icShouldDisplay;
        if (shouldDisplayInlineComments) {
          colorizeInlineComments();
          registerColorizeDeleting();
        }
        registerMenuItemClick();
      },
      error: function (err) {
        console.error(err);
      }
    });}

    function registerColorizeDeleting() {
      $(document).on('click', '.ic-action-delete-confirm', function () {
        $('.include-inline-comment-active')
        .removeClass('include-inline-comment')
        .removeClass('include-inline-comment-active');
      })
    }

    function registerMenuItemClick() {
      $('#displayed-status-inline-comments').on('click', function (event) {
        var menuItem = event.currentTarget;
        // toggle the visibility
        shouldDisplayInlineComments = !shouldDisplayInlineComments;
        changeVisibility(shouldDisplayInlineComments);
        if (!shouldDisplayInlineComments) {
          event.preventDefault();
          hideInlineComments();
          menuItem.text = SHOW_IC_LABEL;
        }
      });
    }

    function changeVisibility(shouldDisplay) {
      $.ajax({
        type: 'PUT',
        url: AJS.contextPath()
            + "/rest/multiexcerpt/1.0/inline-comments-visibility/"
            + PAGE_ID,
        data: JSON.stringify({
          "icShouldDisplay": shouldDisplay
        }),
        success: function () {
        },
        error: function (err) {
          console.error(err);
        }
      });
    }

    function colorizeInlineComments() {
      AJS.$.ajax({
        url: AJS.contextPath() + "/rest/multiexcerpt/1.0/markers?pageId="
            + PAGE_ID,
        success: function (data) {
          if (!data.includeInlineCommentColoringEnabled) {
            return;
          }

          var colorHex = data.includeInlineCommentColor;
          var colorHexActive = data.includeInlineCommentColorChecked;
          var rgbaColor = hexToRgbA(colorHex, 0.3);
          var rgbaColorActive = hexToRgbA(colorHexActive, 0.5);

          $('head').add('style').append(
              '.include-inline-comment {background-color: '
              + rgbaColor + ' !important} '
              + '.include-inline-comment-active {background-color: '
              + rgbaColorActive + ' !important}'
              + ' .include-ic-container-active {border-left: 4px solid '
              + rgbaColorActive + ' !important}');

          data.markersRefs.forEach(function (data) {
            if (data.isResolved === "false") {
              var elemAttr = "span[data-ref='" + data.markerRef + "']";
              var $elem = $(elemAttr);
              $elem.addClass('include-inline-comment');
            }
          })
          $('.include-inline-comment').click(function () {
            var includeInlineCommentActive = 'include-inline-comment-active';
            $('.include-inline-comment').removeClass(
                includeInlineCommentActive);
            $(this).addClass(includeInlineCommentActive);
            setTimeout(function () {
              $('.ic-comment-container').addClass(
                  'include-ic-container-active');
            }, 10);
          })
        },
        error: function (err) {
          console.error(err);
        }
      });
    }

    function hideInlineComments() {
      $('.inline-comment-marker').addClass('hidden-inline-comment-marker');
      var $hiddenInlineComment = $('.hidden-inline-comment-marker');
      $hiddenInlineComment.removeClass('inline-comment-marker');
      $hiddenInlineComment.removeClass('active');
      $hiddenInlineComment.removeClass('include-inline-comment');
      $hiddenInlineComment.removeClass('include-inline-comment-active');
      // hide inline comments display sidebar if needed
      var $icDisplaySidebar = $(
          '.ic-display-comment-view .ic-comment-container .aui-iconfont-close-dialog');
      if ($icDisplaySidebar.length) {
        $icDisplaySidebar.click();
      }
      $hiddenInlineComment.unbind('click');
    }

  });
})(AJS, AJS.$);


}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.gatekeeper.gatekeeper-plugin:who-can-view-entry', location = 'who-can-view-entry.js' */
!function(e){function n(n){for(var t,r,a=n[0],u=n[1],i=0,l=[];i<a.length;i++)r=a[i],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&l.push(o[r][0]),o[r]=0;for(t in u)Object.prototype.hasOwnProperty.call(u,t)&&(e[t]=u[t]);for(c&&c(n);l.length;)l.shift()()}var t={},o={"who-can-view-entry":0};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(e){var n=[];return 0===o[e]?Promise.resolve():o[e]?o[e][2]:(n.push(new Promise((function(n,t){o[e]=[n,t]})),new Promise((function(n,t){WRM.require("wrc!com.atlassian.confluence.plugins.gatekeeper.gatekeeper-plugin:"+e).then(n,t)}))),o[e][2]=Promise.all(n))},r.m=e,r.c=t,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r.oe=function(e){throw console.error(e),e},"undefined"!=typeof AJS&&(r.p=AJS.contextPath()+"/download/resources/com.atlassian.confluence.plugins.gatekeeper.gatekeeper-plugin:assets-cf4b4b2a-b2cb-4d74-baac-9fefbb77d88f/");var a=window.atlassianWebpackJsonp714631d0c4f9ce0999d5f515f37461f0=window.atlassianWebpackJsonp714631d0c4f9ce0999d5f515f37461f0||[],u=a.push.bind(a);a.push=n,a=a.slice();for(var i=0;i<a.length;i++)n(a[i]);var c=u;r(r.s=418)}({174:function(e,n){e.exports=require("ajs")},418:function(e,n,t){e.exports=t(419)},419:function(e,n,t){"use strict";var o,r=(o=t(174))&&o.__esModule?o:{default:o};"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;r.default.toInit((function(){var e=document.getElementById("who-can-view-button-ak-button");null!==e&&e.addEventListener("click",(function(e){e.preventDefault(),Promise.all([t.e("vendors~who-can-view-controller"),t.e("who-can-view-controller")]).then(t.t.bind(null,421,7)).then((function(e){(0,e.show)(!0)}))}))}))}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-init', location = 'sh/asyncLoader.js' */
/**
 * Load the Code Macro resources via WRM.require(). This avoids any extra blocking resources being added to the <head>
 */
define('confluence/code-macro/async-loader', ['jquery', 'wrm', 'underscore'], function ($, WRM, _) {
    return function () {
        _.defer(function () {
            const $controlButtons = $('.codeHeader .collapse-source');
            _showSpinner($controlButtons);
            const $codeBlocks = $('#content, div.cq-viewquestion, div.view-template').find('pre.syntaxhighlighter-pre');

            const wrmResources = [];
            const wrmPrefix = 'wr!com.atlassian.confluence.ext.newcode-macro-plugin:';

            if ($codeBlocks.length > 0) {
                const themeResourcePrefix = wrmPrefix + 'sh-theme-';
                wrmResources.push('wrc!code-macro');

                $codeBlocks.each(function () {
                    wrmResources.push(themeResourcePrefix + $(this).data('theme').toLowerCase());

                    // If the macro is using a custom language, we need to download it
                    const customLanguageResource = $(this).data('custom-language-resource');
                    if (typeof customLanguageResource !== 'undefined' && wrmResources.indexOf(customLanguageResource) === -1) {
                        wrmResources.push('wr!' + customLanguageResource);
                    }
                });
            } else {
                // Only the bidi marker resource
                wrmResources.push(wrmPrefix + 'code-macro-bidi');
            }

            WRM.require(wrmResources).done(function () {
                if (window.SyntaxHighlighter && typeof window.SyntaxHighlighter.highlight === 'function') {
                    window.SyntaxHighlighter.highlight();
                }
                _hideSpinner($controlButtons);
            });
        });

        /**
         * Hide the expand/collapse buttons until the highlighter is finished, and show a spinner instead
         * @param $controlButtons The expand/collapse buttons
         * @private
         */
        function _showSpinner($controlButtons) {
            $controlButtons.hide();
            // Avoiding searching the entire dom again
            _.forEach($controlButtons, function (button) {
                $(button).next('.collapse-spinner-wrapper').spin();
            });
        }

        /**
         * Show the expand/collapse buttons and hide the spinner once the highlighter is ready.
         * @param $controlButtons The expand/collapse buttons
         * @private
         */
        function _hideSpinner($controlButtons) {
            $controlButtons.show();
            $controlButtons.next('.collapse-spinner-wrapper').remove();
        }
    };
});

require('confluence/module-exporter').safeRequire('confluence/code-macro/async-loader', function (CodeMacroLoader) {
    AJS.toInit(CodeMacroLoader);
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:skate-0.12.6', location = 'libs/skate/0.12.6/skate-0.12.6.js' */
(function e(g,c,j){function h(a,k){if(!c[a]){if(!g[a]){var d="function"==typeof require&&require;if(!k&&d)return d(a,!0);if(f)return f(a,!0);d=Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d;}d=c[a]={exports:{}};g[a][0].call(d.exports,function(c){var f=g[a][1][c];return h(f?f:c)},d,d.exports,e,g,c,j)}return c[a].exports}for(var f="function"==typeof require&&require,d=0;d<j.length;d++)h(j[d]);return h})({1:[function(b,g,c){Object.defineProperty(c,"__esModule",{value:!0});"use strict";
c.ATTR_IGNORE="data-skate-ignore";c.types={ANY:"act",ATTR:"a",CLASS:"c",NOATTR:"ct",NOCLASS:"at",NOTAG:"ac",TAG:"t"}},{}],2:[function(b,g){g.exports={get:function(c,b){if(c.__SKATE_DATA)return c.__SKATE_DATA[b]},set:function(c,b,h){c.__SKATE_DATA||(c.__SKATE_DATA={});c.__SKATE_DATA[b]=h;return c}}},{}],3:[function(b,g){function c(c){for(var f=c.length,b=0;b<f;b++){var i=c[b],o=i.addedNodes,i=i.removedNodes;o&&(o.length&&!p(o[0].parentNode))&&d(o);i&&i.length&&a(i)}}var j=function(c){return c&&c.__esModule?
c["default"]:c},h=j(b("./globals")),f=b("./lifecycle"),d=f.initElements,a=f.removeElements,k=j(b("./mutation-observer")),p=b("./utils").getClosestIgnoredElement;g.exports={register:function(a){a&&(k.fixIe(),this.unregister());h.observer||(a=new k(c),a.observe(document,{childList:!0,subtree:!0}),h.observer=a);return this},unregister:function(){h.observer&&(h.observer.disconnect(),h.observer=void 0);return this}}},{"./globals":4,"./lifecycle":5,"./mutation-observer":6,"./utils":9}],4:[function(b,g){window.__skate||
(window.__skate={observer:void 0,registry:{}});g.exports=window.__skate},{}],5:[function(b,g,c){function j(o,c,a){if(k.get(o,c.id+":lifecycle:"+a))return!0;k.set(o,c.id+":lifecycle:"+a,!0);return!1}function h(c,a){if(!j(c,a,"created")){m(c,a.prototype,!0);a.template&&a.template(c);var b=function(a,b){return function(f){if(!b)return a(c,f,c);for(var d=f.target;d&&d!==document&&d!==c.parentNode;){if(i.call(d,b))return a(c,f,d);d=d.parentNode}}};"object"===typeof a.events&&l(a.events,function(a,d){var f,
i;i=d.split(" ");f=i.shift();i=i.join(" ");c.addEventListener(f,b(a,i),!!i&&("blur"===f||"focus"===f))});var f=function(i,f,d,b){var k;a.attributes&&a.attributes[f]&&"function"===typeof a.attributes[f][i]?k=a.attributes[f][i]:a.attributes&&"function"===typeof a.attributes[f]?k=a.attributes[f]:"function"===typeof a.attributes&&(k=a.attributes);k&&k(c,{type:i,name:f,newValue:d,oldValue:b})},d,k=c.attributes,h=[],g=k.length;(new p(function(a){a.forEach(function(a){var c,i=a.attributeName,d=k[i];d&&null===
a.oldValue?c="created":d&&null!==a.oldValue?c="updated":d||(c="removed");f(c,i,d?d.value||d.nodeValue:void 0,a.oldValue)})})).observe(c,{attributes:!0,attributeOldValue:!0});for(d=0;d<g;d++)h.push(k[d]);for(d=0;d<g;d++){var n=h[d];f("created",n.nodeName,n.value||n.nodeValue)}a.created&&a.created(c)}}function f(c){for(var i=c.length,d=0;d<i;d++){var b=c[d];if(!(1!==b.nodeType||b.attributes[a])){for(var k=n.getForElement(b),g=k.length,m=0;m<g;m++){var l=b,p=k[m];h(l,p);j(l,p,"attached")||(l.removeAttribute(p.unresolvedAttribute),
l.setAttribute(p.resolvedAttribute,""),p.attached&&p.attached(l))}b=b.childNodes;b.length&&f(b)}}}function d(a){for(var c=a.length,i=0;i<c;i++){var f=a[i];if(1===f.nodeType){d(f.childNodes);for(var b=n.getForElement(f),g=b.length,j=0;j<g;j++){var h=f,m=b[j];m.detached&&m.detached(h);k.set(h,m.id+":lifecycle:attached",!1)}}}}g=function(a){return a&&a.__esModule?a["default"]:a};Object.defineProperty(c,"__esModule",{value:!0});"use strict";var a=b("./constants").ATTR_IGNORE,k=g(b("./data")),p=g(b("./mutation-observer")),
n=g(b("./registry")),b=b("./utils"),m=b.inherit,l=b.objEach,b=window.HTMLElement.prototype,i=b.matches||b.msMatchesSelector||b.webkitMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector;c.triggerCreated=h;c.initElements=f;c.removeElements=d},{"./constants":1,"./data":2,"./mutation-observer":6,"./registry":7,"./utils":9}],6:[function(b,g){function c(a,c){return{addedNodes:null,attributeName:null,attributeNamespace:null,nextSibling:null,oldValue:null,previousSibling:null,removedNodes:null,target:a,
type:c||"childList"}}function j(a,c){var f=a.childNodes;if(f)for(var d=f.length,b=0;b<d;b++){var k=f[b];c(k);j(k,c)}}function h(a){if(n&&!m)return new n(a);this.callback=a;this.elements=[]}var f=b("./utils"),d=f.debounce,a=f.objEach,k=window.HTMLElement.prototype,p=window.HTMLElement.prototype.contains,n=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver,m=!1,l=-1<window.navigator.userAgent.indexOf("Trident");h.fixIe=function(){if(l&&!m){var a=Object.getOwnPropertyDescriptor(k,
"innerHTML");Object.defineProperty(k,"innerHTML",{get:function(){return a.get.call(this)},set:function(c){j(this,function(a){var c=document.createEvent("MutationEvent");c.initMutationEvent("DOMNodeRemoved",!0,!1,null,null,null,null,null);a.dispatchEvent(c)});a.set.call(this,c)}});m=!0}};Object.defineProperty(h,"isFixingIe",{get:function(){return m}});h.prototype={observe:function(a,f){function b(a){h.push(a);n()}var k=this,j,g,h=[],l=[],n=d(function(){for(var b=h.length,d=0;d<b;d++){var n=h[d],r=
n.target;if(r){var n=n.type,q=r.parentNode;if(f.childList&&(f.subtree||q===a)){var s=m&&"DOMNodeRemoved"===n,t=j&&(1!==j.nodeType?!1:j.contains?j.contains(r):p.call(j,r));if(s||!t){if(!g||g.target!==q)l.push(g=c(q));"DOMNodeInserted"===n?(g.addedNodes||(g.addedNodes=[]),g.addedNodes.push(r)):(g.removedNodes||(g.removedNodes=[]),g.removedNodes.push(r));j=r}}}}k.callback(l);h=[];l=[];g=j=void 0}),t={},q=[],u=d(function(){var a=q.length;k.callback(q);q.splice(0,a)}),s={target:a,options:f,insertHandler:b,
removeHandler:b,attributeHandler:function(d){var b=d.target;if(f.attributes&&(f.subtree||b===a)){var k=d.attrName,g=d.prevValue,d=d.newValue,b=c(b,"attributes");b.attributeName=k;f.attributeOldValue&&(b.oldValue=t[k]||g||null);q.push(b);f.attributeOldValue&&(t[k]=d);u()}}};this.elements.push(s);f.childList&&(a.addEventListener("DOMNodeInserted",s.insertHandler),a.addEventListener("DOMNodeRemoved",s.removeHandler));f.attributes&&a.addEventListener("DOMAttrModified",s.attributeHandler);return this},
disconnect:function(){a(this.elements,function(a){a.target.removeEventListener("DOMNodeInserted",a.insertHandler);a.target.removeEventListener("DOMNodeRemoved",a.removeHandler);a.target.removeEventListener("DOMAttrModified",a.attributeHandler)});this.elements=[];return this}};g.exports=h},{"./utils":9}],7:[function(b,g){function c(a,c){return d(j.registry,a)&&-1<j.registry[a].type.indexOf(c)}var j,h=b("./globals");j=h&&h.__esModule?h["default"]:h;var f=b("./constants.js").types,d=b("./utils").hasOwn;
g.exports={clear:function(){j.registry={};return this},getForElement:function(a){var d=a.attributes,b=d.length,g=[],h=d.is,l=h&&(h.value||h.nodeValue),h=a.tagName.toLowerCase(),i=l||h,o;c(i,f.TAG)&&(i=j.registry[i],o=i["extends"],l?h===o&&g.push(i):o||g.push(i));for(l=0;l<b;l++)i=d[l].nodeName,c(i,f.ATTR)&&(i=j.registry[i],o=i["extends"],(!o||h===o)&&g.push(i));(d=a.classList)?a=d:(a=a.attributes,a=a["class"]&&a["class"].nodeValue.split(/\s+/)||[]);d=a.length;for(b=0;b<d;b++)i=a[b],c(i,f.CLASS)&&
(i=j.registry[i],o=i["extends"],(!o||h===o)&&g.push(i));return g},has:function(a){return d(j.registry,a)},set:function(a,c){if(this.has(a))throw Error('A definition of type "'+c.type+'" with the ID of "'+a+'" already exists.');j.registry[a]=c;return this},remove:function(a){this.has(a)&&delete j.registry[a];return this}}},{"./constants.js":1,"./globals":4,"./utils":9}],8:[function(b,g){function c(a,b){b=n(b||{},c.defaults);b.id=a;if(k.has(b.id))throw Error('A definition of type "'+b.type+'" with the ID of "'+
a+'" already exists.');k.set(b.id,b);i();h.register(b.remove);if(-1<b.type.indexOf(m.TAG)){var f=b,g=function(){var a;a=f["extends"];var b=f.id;a?(a=document.createElement(a),a.setAttribute("is",b)):a=document.createElement(b);f.prototype=g.prototype;d(a,f);return a};g.prototype=f.prototype;return g}}var j=function(a){return a&&a.__esModule?a["default"]:a},h=j(b("./document-observer")),f=b("./lifecycle"),d=f.triggerCreated,a=f.initElements,k=j(b("./registry")),p=b("./utils"),f=p.debounce,n=p.inherit,
j=j(b("./version")),m=b("./constants").types,l=!!document.attachEvent,i=f(function(){var b=function(){a(document.getElementsByTagName("html"))},c;c=l?"complete"===document.readyState:"interactive"===document.readyState||"complete"===document.readyState;c?b():l?window.addEventListener("load",b):document.addEventListener("DOMContentLoaded",b)});c.init=function(b){if(b)return"string"===typeof b&&(b=document.querySelectorAll(b)),a("undefined"===typeof b.length?[b]:b),b};c.types=m;c.version=j;c.defaults=
{attributes:void 0,events:void 0,"extends":"",id:"",prototype:{},resolvedAttribute:"resolved",template:void 0,type:m.ANY,unresolvedAttribute:"unresolved"};var o=window.skate;c.noConflict=function(){window.skate=o;return this};window.skate=c;g.exports=c},{"./constants":1,"./document-observer":3,"./lifecycle":5,"./registry":7,"./utils":9,"./version":10}],9:[function(b,g,c){function j(b,c){return Object.prototype.hasOwnProperty.call(b,c)}c.hasOwn=j;c.debounce=function(b){var c=!1;return function(){c||
(c=!0,setTimeout(function(){c=!1;b()},1))}};c.getClosestIgnoredElement=function(b){for(;b&&b!==document&&!(b instanceof DocumentFragment);){if(b.hasAttribute(h))return b;b=b.parentNode}};c.inherit=function(b,c,a){for(var g=Object.getOwnPropertyNames(c),h=g.length,j=0;j<h;j++){var m=g[j];if(a||void 0===b[m]){var l=Object.getOwnPropertyDescriptor(c,m);l.get||l.set||!l.writable||!l.enumerable||!l.configurable?Object.defineProperty(b,m,l):b[m]=c[m]}}return b};c.objEach=function(b,c){for(var a in b)j(b,
a)&&c(b[a],a)};Object.defineProperty(c,"__esModule",{value:!0});"use strict";var h=b("./constants").ATTR_IGNORE},{"./constants":1}],10:[function(b,g){g.exports="0.12.6"},{}]},{},[8]);(function(b){var g=b.skate.noConflict();define("atlassian/libs/skate-0.12.6",[],function(){return g})})(window);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.aui.staging:skate', location = '/includes/js/amd/shim/skate-amd.js' */
define("skate",["atlassian/libs/skate-0.12.6"],function(a){return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-page-banner:soy-resources', location = 'soy/page-banner.soy' */
// This file was automatically generated from page-banner.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.PageBanner.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.PageBanner == 'undefined') { Confluence.Templates.PageBanner = {}; }


Confluence.Templates.PageBanner.banner = function(opt_data, opt_ignored) {
  var output = '<div id="page-metadata-banner"><ul class="banner">' + Confluence.Templates.PageBanner.renderSystemContentItems(opt_data);
  var itemList6 = opt_data.pageBannerItems;
  var itemListLen6 = itemList6.length;
  for (var itemIndex6 = 0; itemIndex6 < itemListLen6; itemIndex6++) {
    var itemData6 = itemList6[itemIndex6];
    output += Confluence.Templates.PageBanner.renderPageBannerItem(itemData6);
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.PageBanner.banner.soyTemplateName = 'Confluence.Templates.PageBanner.banner';
}


Confluence.Templates.PageBanner.renderSystemContentItems = function(opt_data, opt_ignored) {
  var output = '<li id="system-content-items" class="noprint">';
  var itemList12 = opt_data.systemContentItems;
  var itemListLen12 = itemList12.length;
  for (var itemIndex12 = 0; itemIndex12 < itemListLen12; itemIndex12++) {
    var itemData12 = itemList12[itemIndex12];
    output += Confluence.Templates.PageBanner.itemAnchor(soy.$$augmentMap(itemData12, {isSystemContentItem: true}));
  }
  output += '</li>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.PageBanner.renderSystemContentItems.soyTemplateName = 'Confluence.Templates.PageBanner.renderSystemContentItems';
}


Confluence.Templates.PageBanner.renderPageBannerItem = function(opt_data, opt_ignored) {
  return '<li class="' + ((! opt_data.suppressDefaultStyle) ? 'page-metadata-item noprint' : '') + ((opt_data.isAuiButton) ? 'has-button' : '') + '" ' + ((opt_data.linkId) ? ' id="' + soy.$$escapeHtml(opt_data.linkId) + '-wrapper"' : '') + '>' + Confluence.Templates.PageBanner.itemAnchor(soy.$$augmentMap(opt_data, {isSystemContentItem: false})) + '</li>';
};
if (goog.DEBUG) {
  Confluence.Templates.PageBanner.renderPageBannerItem.soyTemplateName = 'Confluence.Templates.PageBanner.renderPageBannerItem';
}


Confluence.Templates.PageBanner.itemAnchor = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.href) + '" title="' + soy.$$escapeHtml(opt_data.tooltip) + '" ' + ((opt_data.linkId) ? 'id="' + soy.$$escapeHtml(opt_data.linkId) + '"' : '') + ' ' + ((opt_data.styleClasses) ? 'class="' + soy.$$escapeHtml(opt_data.styleClasses) + '"' : '') + '>' + Confluence.Templates.PageBanner.itemIcon(opt_data) + ((! opt_data.isSystemContentItem) ? '<span>' + soy.$$escapeHtml(opt_data.label) + '</span>' : '') + '</a>';
};
if (goog.DEBUG) {
  Confluence.Templates.PageBanner.itemAnchor.soyTemplateName = 'Confluence.Templates.PageBanner.itemAnchor';
}


Confluence.Templates.PageBanner.itemIcon = function(opt_data, opt_ignored) {
  return '' + ((opt_data.icon) ? '<img class="page-banner-item-icon" src="' + soy.$$escapeHtml(opt_data.icon.url) + '" style="height: ' + soy.$$escapeHtml(opt_data.icon.height) + 'px; width: ' + soy.$$escapeHtml(opt_data.icon.width) + 'px;"/>' : '');
};
if (goog.DEBUG) {
  Confluence.Templates.PageBanner.itemIcon.soyTemplateName = 'Confluence.Templates.PageBanner.itemIcon';
}


Confluence.Templates.PageBanner.draftStatusDiscovery = function(opt_data, opt_ignored) {
  return '<aui-inline-dialog id="' + soy.$$escapeHtml(opt_data.elementId) + '" alignment="bottom left" open><p><strong>' + soy.$$escapeHtml('Didn\x27t publish?') + '</strong></p><p>' + soy.$$filterNoAutoescape(AJS.format('All good, we\x27\x27ve saved your changes! Find them any time under \x3ca href\x3d\x22{0}\x22\x3eRecently worked on\x3c/a\x3e. Just keep editing, and publish when you\x27\x27re ready.',opt_data.linkToMyWork)) + '</p><p><a class="aui-button">' + soy.$$escapeHtml('Okay, got it!') + '</a></p></aui-inline-dialog>';
};
if (goog.DEBUG) {
  Confluence.Templates.PageBanner.draftStatusDiscovery.soyTemplateName = 'Confluence.Templates.PageBanner.draftStatusDiscovery';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-page-banner:page-banner-common-resources', location = 'js/page-banner.js' */
define("confluence-page-banner/page-banner",["ajs","jquery","confluence/templates","confluence/legacy","skate"],function(d,c,q,r,e){function f(){var a=c("#system-content-items");0==a.children(":not(.hidden)").length?a.addClass("hidden"):a.removeClass("hidden")}function l(){g("#system-content-items a:not(.tipsy-disabled),.page-metadata-item a:not(.tipsy-disabled),.page-metadata-modification-info a.last-modified:not(tipsy-disabled),#draft-status-lozenge");c("#system-content-items a:not(.tipsy-disabled),.page-metadata-item a:not(.tipsy-disabled),.page-metadata-modification-info a.last-modified:not(tipsy-disabled),#draft-status-lozenge").click(function(a){h(c(a.target).closest("a"))});
c(window).on("click scroll resize",h)}function g(a){c(document).tooltip({live:a,gravity:"n",title:"title",delayIn:500})}function h(a){c(".tipsy").remove();a&&(a=c(a).data("tipsy"))&&(a.hoverState="out")}var k=function(a,b){a=c("#content-metadata-page-restrictions");a.removeClass("aui-iconfont-locked aui-iconfont-unlocked restricted");var m=b.hasRestrictions&&!(b.hasExplicitRestrictions||b.hasInheritedRestrictions);b.hasExplicitRestrictions||m?(a.addClass("aui-icon aui-icon-small aui-iconfont-locked restricted"),
b="Restrictions apply"):b.hasInheritedRestrictions?(a.addClass("aui-icon aui-icon-small aui-iconfont-unlocked restricted"),b="Restrictions apply"):(a.addClass("aui-icon aui-icon-small aui-iconfont-unlocked"),b=b.hasAnyExplicitRestrictions?"Restrictions apply":"Unrestricted");a.attr("title",b);g("#content-metadata-page-restrictions");f()},n=function(){f();d.bind("system-content-metadata.toggled-restrictions",k);
c("#page-metadata-banner").css("visibility","visible");l()},p=function(){d.unbind("system-content-metadata.toggled-restrictions",k)};(function(){e("system-metadata-restrictions",{type:e.types.CLASS,events:{click:function(a,b){b.preventDefault();d.trigger("system-content-metadata.open-restrictions-dialog")}},attached:n,detached:p})})()});require("confluence/module-exporter").safeRequire("confluence-page-banner/page-banner");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-page-banner:page-banner-common-resources', location = 'js/page-banner-analytics.js' */
AJS.toInit(function(c){AJS.bind("breadcrumbs.expanded",function(){AJS.trigger("analyticsEvent",{name:"breadcrumbs-expanded"})});(function(){if(AJS.Confluence.Analytics&&AJS.Confluence.Analytics.setAnalyticsSource){var a=AJS.Confluence.Analytics.setAnalyticsSource,b=c("#breadcrumbs \x3e li");a(b.filter(":not(#ellipsis)").find("a"),"breadcrumbs");a(b.filter(".hidden-crumb").find("a"),"breadcrumbs-expanded");a(b.filter(":last").find("a"),"breadcrumbs-parent");var d=c("#com-atlassian-confluence").hasClass("theme-documentation")?
"breadcrumbs-homepage":"breadcrumbs-collector";a(b.filter(".first").find("a"),d)}else AJS.log("WARNING: Could not initialise analytics for the page banner: AJS.Confluence.Analytics.setAnalyticsSource is not defined.")})()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources', location = '/js/confluence-feature-discovery-plugin.js' */
(function(n){function k(a){void 0===d&&(d=JSON.parse(AJS.Meta.get("discovered-plugin-features")||"{}"));return a?d[a]||[]:d}function l(a,g){a=k(a);for(var f=0,e=a.length;f<e;f++)if(a[f]===g)return!0;return!1}Confluence.FeatureDiscovery={};var d,m=!1,p=WRM.data.claim("com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources.test-mode");Confluence.FeatureDiscovery.forPlugin=function(a,g){function f(b){b=parseInt(e.getItem(b),10);return isNaN(b)?
0:b}var e=Confluence.storageManager("feature-discovery."+a);g=g||3;return{addDiscoveryView:function(b){var a=f(b)+1;e.setItem(b,a)},shouldShow:function(b,c){if(c=!0===c&&p){a:{c="com.atlassian.webdriver.discovery\x3d"+a+":"+b;for(var e=document.cookie.split(";"),d=0;d<e.length;d++){for(var h=e[d];" "===h.charAt(0);)h=h.substring(1);if(-1!==h.indexOf(c)){c=!0;break a}}c=!1}c=!c}return c||m||l(a,b)?!1:f(b)>=g?(this.markDiscovered(b),!1):m=!0},markDiscovered:function(b,c){l(a,b)||AJS.safeAjax({url:AJS.contextPath()+
"/rest/feature-discovery/1.0/discovered/"+a+"/"+b,type:"POST",data:{},success:function(){k(a).unshift(b);e.removeItem(b);AJS.trigger("feature-discovered",{pluginKey:a,featureKey:b});c&&n.isFunction(c)&&c()}})},listDiscovered:function(){return k(a).slice(0)}}}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-page-banner:status-lozenge-onboarding', location = 'js/status-lozenge-onboarding.js' */
define("confluence-page-banner/status-lozenge-onboarding",["ajs","jquery","confluence/templates","confluence/legacy"],function(d,a,e,b){d.toInit(function(){if(!b.FeatureDiscovery||!b.FeatureDiscovery.forPlugin||0===a("#draft-status-lozenge").length||0>document.referrer.indexOf("resumedraft.action")&&0>document.referrer.indexOf("editpage.action")?0:b.FeatureDiscovery.forPlugin("com.atlassian.confluence.plugins.confluence-page-banner").shouldShow("recently-work-on-contributor-lozenge")){var c=a(e.PageBanner.draftStatusDiscovery({elementId:"dope-draft-discovery",
linkToMyWork:d.contextPath()+"/#recently-worked"}));a("#draft-status-lozenge").attr("aria-controls","dope-draft-discovery");a("body").append(c);c.find(".aui-button").click(function(){c.removeAttr("open");b.FeatureDiscovery.forPlugin("com.atlassian.confluence.plugins.confluence-page-banner").markDiscovered("recently-work-on-contributor-lozenge")})}})});require("confluence/module-exporter").safeRequire("confluence-page-banner/status-lozenge-onboarding");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:view-comment', location = '/includes/js/comments.js' */
define("confluence/comments",["ajs","jquery","confluence/storage-manager","confluence/message-controller"],function(d,a,g,c){function f(b){confirm("Are you sure you want to delete the comment?")&&a.ajax({type:"DELETE",url:d.contextPath()+"/rest/api/content/"+b,contentType:"application/json",dataType:"json"}).done(function(){var a=document.location.search;-1===a.indexOf("showComments")?(a+=-1!==a.indexOf("?")?"&showComments=true":"?showComments=true",document.location.search=a):document.location.reload()}).fail(function(a){c.showError(c.parseError(a),
c.Location.FLAG)})}return{binder:{bindRemoveConfirmation:function(b){a("#comment-"+b+" .comment-action-remove a").click(function(a){a.preventDefault();f(b);return!1})}},initialiser:function(){var b=g("confluence","comments");if(a("#comments-section").length){a("#comments-section").find(".comment:odd").addClass("odd");a(".comment-action-remove a").click(function(){var b=a(this).attr("id").replace(/remove-comment-/g,"");f(b);return!1});var c=a("#addcomment.comment-text"),e=a("#comments-text-editor").find("textarea");
e.focus(function(){c.addClass("active")}).blur(function(){a.trim(e.val()).length||c.removeClass("active")}).bind("reset.default-text",function(){c.removeClass("active")});a("form[name='textcommentform']").submit(function(){var b=e.val();return!a.trim(b)?(alert("Comment text is empty. Cannot create empty comments."),!1):!0});a("#add-comment-rte").click(function(){e.hasClass("placeholded")||b.setItem("text-comment",a.trim(e.val()))});a("#addcomment #rte").length&&d.bind("init.rte",function(a,d){var c=b.getItem("text-comment");
c&&(d.editor.setContent(c),b.setItem("text-comment",""))})}}}});require("confluence/module-exporter").safeRequire("confluence/comments",function(d){require("confluence/legacy").Comments=d.binder;require("ajs").toInit(d.initialiser)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:page-message', location = '/includes/js/page-message.js' */
define("confluence/page-message","ajs jquery confluence/meta window confluence/api/browser confluence-editor/editor/page-editor-message".split(" "),function(a,h,d,f,i,j){var e={},g=new i(f.navigator.userAgent);e._getQueryString=function(){return f.location.search};e.displayPageMessage=function(){var c=e._getQueryString(),b=d.get("editing-user");if(c.indexOf("editingLocked")!==-1&&b)a.MessageHandler.flag({type:"info",title:"Unable to edit",body:a.format("Collaborative editing is offline right now, and {0} is editing this page. Try again in a few minutes.",
a.escapeHtml(b)),close:"manual"});else if(c.indexOf("editingFailed")!==-1)a.MessageHandler.flag({type:"info",title:"Unable to edit",body:"Editing is unavailable right now. Try again in a few minutes.",close:"manual"});else if(c.indexOf("userLimitReached")!==-1){j.handleMessage("collab.edit.user.limit.reached",{type:"warning",title:"You can\u0027t edit this page right now",message:"\u003cp\u003eThis page is so popular, you\u0027ve reached the maximum number of simultaneous editors.\u003c/p\u003e\u003cp\u003eTry again when it\u0027s not so busy.\u003c/p\u003e",close:"manual"});a.Confluence.Analytics.publish("collab.edit.user.limit.reached",
{browserName:g.friendlyName(),browserVersion:g.version(),pageId:d.get("page-id"),editMode:"slow",numEditors:d.get("max-number-editors")})}else if(c.indexOf("spaceEditingRestriction")!==-1){b=d.get("space-key");c=d.get("content-type")==="blogpost"?"You can\u0027t edit blog posts in this space":"You can\u0027t edit pages in this space";b=d.get("context-path")+"/spaces/viewspacesummary.action?key="+encodeURIComponent(b);b=d.get("content-type")==="blogpost"?a.format("Ask a {0}space admin{1}, or the person who invited you, to give you \u0027\u0027add blog\u0027\u0027 permission in this space.",
'<a href="'+b+'">',"</a>"):a.format("Ask a {0}space admin{1}, or the person who invited you, to give you \u0027\u0027add page\u0027\u0027 permission in this space.",'<a href="'+b+'">',"</a>");c=a.MessageHandler.flag({type:"info",title:c,body:b,close:"manual"});h(c).addClass("spaceEditingRestriction")}};return e});require("confluence/module-exporter").safeRequire("confluence/page-message",function(a){require("ajs").toInit(a.displayPageMessage)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:legacy-scroll-to-hash-anchors', location = '/includes/js/legacy-scroll-to-hash-anchors.js' */
define("confluence/legacy-scroll-to-hash-anchors",["window","confluence/api/logger"],function(b,f){function g(){e=!0}function h(){var a,c;if(!(e||0<b.pageYOffset))for(c=b.location.hash;c;){var d=c;a=d.indexOf("-");d=d.indexOf("#");a=0>a?d:0>d?a:Math.min(d,a);if(0>a)break;c=c.substring(0,a).concat(c.substring(a+1));if(a=b.document.getElementById(c)){f.log("Legacy anchor found. Scrolling the page to ",a);b.location.hash="#"+c;break}}}var e=!1;return{bindToWindowEvents:function(){b.addEventListener("load",
h,{passive:!0});b.addEventListener("scroll",g,{passive:!0})}}});require("confluence/module-exporter").safeRequire("confluence/legacy-scroll-to-hash-anchors",function(b){b.bindToWindowEvents()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-core', location = 'utils/quick-reload-timer.js' */
define("confluence-quick-reload/utils/quick-reload-timer",["jquery","underscore"],function(c,d){function a(b,a){this.options=c.extend({min:3E4,max:36E5,inactivity:12E4},a);d.bindAll(this,"start","stop","_now","_timeSinceLastSeen","_setActive","_setActivityTrigger","_clamp","_intervalMultiplier");this.callback=b;this._timer=null;this._setActivityTrigger(this._setActive)}a.prototype.start=function(b){this.lastSeenTimestamp=this._now();this.stop();b&&this.callback();var a=function(){this.callback();
c.call(this)},c=function(){this.stop();this._timer=setTimeout(d.bind(a,this),this.options.min*this._intervalMultiplier())};c.call(this)};a.prototype.stop=function(){null!==this._timer&&(clearTimeout(this._timer),this._timer=null)};a.prototype._setActive=function(){if(null!==this._timer){var b=this._timeSinceLastSeen()>this.options.inactivity;this.lastSeenTimestamp=this._now();b&&this.start(!0)}};a.prototype._setActivityTrigger=function(b){document.addEventListener("visibilitychange",function(){document.hidden||
b()},!1);c(window).focus(b);c("body").click(b);c(window).scroll(b)};a.prototype._now=function(){return(new Date).getTime()};a.prototype._timeSinceLastSeen=function(){return this._now()+1-this.lastSeenTimestamp};a.prototype._clamp=function(b,a,c){a=Math.max(Math.min(a,c),b);return isNaN(a)?b:a};a.prototype._intervalMultiplier=function(){var a=(document.hidden?3:1)*Math.ceil(this._timeSinceLastSeen()/this.options.inactivity);return this._clamp(1,this.options.max/this.options.min,a)};return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-core', location = 'main/quick-reload-manager.js' */
define("confluence-quick-reload/main/quick-reload-manager","underscore jquery ajs confluence/api/constants confluence-quick-reload/utils/quick-reload-timer confluence/meta confluence/api/logger".split(" "),function(f,e,m,h,k,g,l){function a(){this.enabled=!1;this.handlers=[];this.lastFetchTime=e('meta[name\x3d"confluence-request-time"]').attr("content")||(new Date).getTime();this.timer=null;f.bindAll(this,"addHandler","removeHandler","update","enable","disable","onUpdateSuccess","onUpdateError")}
a.prototype.addHandler=function(b){var a=!1,d;for(d=0;d<this.handlers.length;d++)this.handlers[d]===b&&(a=!0);!0!==a&&this.handlers.push(b)};a.prototype.removeHandler=function(b){var a;if(b)for(a=0;a<this.handlers.length;a++)if(this.handlers[a]===b){this.handlers.splice(a,1);break}};a.prototype.update=function(){var a=void 0!==g.get("page-id")?g.get("page-id"):"0";e("body").hasClass("contenteditor")?this.disable():e.ajax({type:"GET",url:h.CONTEXT_PATH+"/rest/quickreload/latest/"+a+"?since\x3d"+encodeURIComponent(this.lastFetchTime),
dataType:"json"}).done(this.onUpdateSuccess).fail(this.onUpdateError)};a.prototype.enable=function(){this.enabled||(null===this.timer&&(this.timer=new k(this.update)),this.timer.start(),this.enabled=!0)};a.prototype.disable=function(){null!==this.timer&&this.timer.stop();this.enabled=!1};a.prototype.isEnabled=function(){return this.enabled};a.prototype.onUpdateSuccess=function(a,e,d){204!==d.status&&(this.lastFetchTime=a.time,f.map(this.handlers,function(b){var c=a[b.property];Array.isArray(c)||(c=
[c]);c=b.filterNewResults(b.results,c);0<c.length&&(b.results=b.results.concat(c),b.render(c))},this))};a.prototype.onUpdateError=function(a){if(a={404:"not found - the plugin has been probably been removed or disabled from Confluence",500:"generic server error",503:"service unavailable",504:"gateway timeout"}[(a||{}).status])this.disable(),l.error('Quick comment reload plugin has been disabled in this page due to a server error: "'+a+'". Please refresh the page to get it back.')};return new a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-read-only-mode-handler', location = 'handlers/quick-reload-read-only-mode.js' */
define("confluence-quick-reload/handlers/quick-reload-read-only-mode",["ajs","jquery","confluence/message-controller","confluence/meta","confluence/api/event"],function(f,k,a,e,g){return{results:[],property:"readOnlyMode",filterNewResults:function(a,c){return 0<c.length&&"string"!==typeof c[0]?c:[]},render:function(b){b=b[0];var c=e.get("access-mode"),d=b.isEnabled?"READ_ONLY":"READ_WRITE",h="READ_ONLY"===e.get("render-mode")?"We\u0027re back! \u003ca onclick=\u0022location.reload()\u0022\u003eRefresh\u003c/a\u003e the page to edit and make changes.":"We\u0027re back! You can now edit and make changes.";
if(!a.hasSuccess(a.Location.BANNER)||b.isEnabled)e.set("access-mode",d),d!==c&&g.trigger("qr:access-mode",{accessMode:d}),this.shouldDisplayError(b)?a.hasErrors(a.Location.BANNER)||this.showError(b.bannerMessage):"READ_ONLY"===c&&"READ_WRITE"===d?this.showSuccess(h):this.clearAll()},clearAll:function(){a.clearErrors(a.Location.ALL);a.clearSuccess(a.Location.ALL)},showError:function(b){a.clearSuccess(a.Location.ALL);a.showError(b,a.Location.BANNER)},showSuccess:function(b){a.clearErrors(a.Location.ALL);
a.showSuccess(b,a.Location.BANNER,{closeable:!0})},shouldDisplayError:function(a){return a.isBannerMessageOn||a.isEnabled}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-resources', location = 'main/quick-reload.soy' */
// This file was automatically generated from quick-reload.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace QuickReload.Templates.
 */

if (typeof QuickReload == 'undefined') { var QuickReload = {}; }
if (typeof QuickReload.Templates == 'undefined') { QuickReload.Templates = {}; }


QuickReload.Templates.pageAttachments = function(opt_data, opt_ignored) {
  return '' + QuickReload.Templates.container({content: '<div class="qr-notice-authors"></div><div class="qr-notice-summary qr-notice-summary-attachments">' + aui.buttons.button({text: 'Reload page', type: 'text', extraClasses: 'qr-notice-show aui-button-link'}) + '</div>'});
};
if (goog.DEBUG) {
  QuickReload.Templates.pageAttachments.soyTemplateName = 'QuickReload.Templates.pageAttachments';
}


QuickReload.Templates.pageEdit = function(opt_data, opt_ignored) {
  return '' + QuickReload.Templates.container({content: '<div class="qr-notice-authors">' + QuickReload.Templates.noticeHeader({users: opt_data.pageEditors}) + '</div><div class="qr-notice-summary">' + aui.buttons.button({text: 'Reload page', type: 'text', extraClasses: 'qr-notice-show aui-button-link'}) + QuickReload.Templates.summaryText({users: opt_data.pageEditors}) + '</div>'});
};
if (goog.DEBUG) {
  QuickReload.Templates.pageEdit.soyTemplateName = 'QuickReload.Templates.pageEdit';
}


QuickReload.Templates.pageComment = function(opt_data, opt_ignored) {
  return '' + QuickReload.Templates.container({content: '<div class="qr-notice-authors">' + QuickReload.Templates.noticeHeader({users: opt_data.commentUsers}) + ((opt_data.commentUsers.length == 1) ? '<span class="qr-notice-text">"' + soy.$$escapeHtml(opt_data.noticeText) + '"</span>' : '') + '</div><div class="qr-notice-summary">' + aui.buttons.button({text: '' + ((opt_data.commentUsers.length > 1) ? soy.$$escapeHtml('Show all') : soy.$$escapeHtml('Show')), type: 'text', extraClasses: 'qr-notice-show aui-button-link'}) + QuickReload.Templates.summaryText({users: opt_data.commentUsers}) + '</div>'});
};
if (goog.DEBUG) {
  QuickReload.Templates.pageComment.soyTemplateName = 'QuickReload.Templates.pageComment';
}


QuickReload.Templates.inlineComment = function(opt_data, opt_ignored) {
  return '' + QuickReload.Templates.container({content: '<div class="qr-notice-authors">' + QuickReload.Templates.noticeHeader({users: opt_data.user}) + '<span class="qr-notice-text">"' + soy.$$escapeHtml(opt_data.noticeText) + '"</span></div><div class="qr-notice-summary">' + aui.buttons.button({text: '' + ((opt_data.reloadRequired) ? soy.$$escapeHtml('Reload page') : soy.$$escapeHtml('Show')), type: 'text', extraClasses: 'qr-notice-show aui-button-link', extraAttributes: ['data-reload-required', opt_data.reloadRequired]}) + QuickReload.Templates.summaryText({users: opt_data.user}) + '</div>'});
};
if (goog.DEBUG) {
  QuickReload.Templates.inlineComment.soyTemplateName = 'QuickReload.Templates.inlineComment';
}


QuickReload.Templates.container = function(opt_data, opt_ignored) {
  return '<div class="qr-container">' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  QuickReload.Templates.container.soyTemplateName = 'QuickReload.Templates.container';
}


QuickReload.Templates.noticeHeader = function(opt_data, opt_ignored) {
  var output = '';
  var userList77 = opt_data.users;
  var userListLen77 = userList77.length;
  for (var userIndex77 = 0; userIndex77 < userListLen77; userIndex77++) {
    var userData77 = userList77[userIndex77];
    output += (userIndex77 < 8) ? aui.avatar.avatar({size: 'small', avatarImageUrl: userData77.profilePicture.path, title: userData77.displayName != '' ? userData77.displayName : 'Anonymous', extraClasses: 'qr-author-avatar'}) : '';
  }
  return output;
};
if (goog.DEBUG) {
  QuickReload.Templates.noticeHeader.soyTemplateName = 'QuickReload.Templates.noticeHeader';
}


QuickReload.Templates.summaryText = function(opt_data, opt_ignored) {
  var output = '';
  var lastModifier__soy87 = opt_data.users[0];
  var others__soy88 = opt_data.users.length - 1;
  output += '<span class="qr-notice-summary-text">' + soy.$$escapeHtml('by') + ' ' + Confluence.Templates.User.usernameLink({canView: false, username: lastModifier__soy87.userName, fullName: lastModifier__soy87.displayName != '' ? lastModifier__soy87.displayName : 'Anonymous'}) + ((others__soy88 == 1) ? ' ' + soy.$$escapeHtml('and 1 other') : '') + ((others__soy88 > 1) ? ' ' + soy.$$escapeHtml(AJS.format('and {0} others',others__soy88)) : '') + '</span>';
  return output;
};
if (goog.DEBUG) {
  QuickReload.Templates.summaryText.soyTemplateName = 'QuickReload.Templates.summaryText';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-resources', location = 'utils/quick-reload-count.js' */
define("confluence-quick-reload/utils/quick-reload-count",[],function(){function a(){this.count=0}var b=document.title;a.prototype.getCount=function(){return this.count};a.prototype.setCount=function(a){this.count=a;this._displayCount()};a.prototype._displayCount=function(){document.title=(0<this.count?"("+this.count+") ":"")+b};return new a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-resources', location = 'handlers/quick-reload-comments.js' */
define("confluence-quick-reload/handlers/quick-reload-comments","ajs underscore jquery confluence/flag confluence/api/event confluence-quick-reload/utils/quick-reload-count confluence/legacy".split(" "),function(l,c,e,m,n,h,b){function p(a){a=c.clone(a);a.reverse();a=c.uniq(a,function(a){return a.commenter.userName});return c.map(a,function(a){return a.commenter})}function q(a){b&&b.CommentDisplayManager&&(b.CommentDisplayManager.clearFocus(),c.map(a,function(a){var c=null!==b.CommentDisplayManager.getCommentNode(g(a));
a=b.CommentDisplayManager.addOrUpdateComment(a.commenter,a.comment,!0,!0);b.Likes&&!c&&(b.Likes.appendAction(e(a)),b.Likes.updateComment(e(a),{}))}),b.CommentDisplayManager._updateCommentSectionTitle(),n.trigger("ic-jim-async-supported"))}function g(a){return a.comment.id}var d,f=[];return{results:[],property:"comments",ignoreOnce:function(a){f.push(a)},filterNewResults:function(a,b){if(0===b.length)return b;var d=c.map(a,g);return c.filter(b,function(a){if(a.comment.isInlineComment)return!1;a=g(a);
if(c.contains(d,a))return!1;a=e.inArray(a,f);return 0<=a?(f.splice(a,1),!1):!0})},render:function(a){h.setCount(h.getCount()+a.length);a={close:"manual",type:"info",extraClasses:"qr-flag",fifo:!0,stack:"quickreload"};var b=1<this.results.length?l.format("{0} New comments",this.results.length):"New comment",k=p(this.results),g=e("\x3cdiv\x3e\x3c/div\x3e").html(this.results[this.results.length-1].comment.html).text();k=QuickReload.Templates.pageComment({commentUsers:k,
noticeText:g});var f=this;void 0===d||"true"===d.getAttribute("aria-hidden")?(d=new m(e.extend({},{body:k,title:b},a)),e(d).on("click",".qr-notice-show",c.bind(function(){q(f.results);d.close()},this)),e(d).on("aui-flag-close",c.bind(function(){h.setCount(h.getCount()-f.results.length);f.results=[]},this))):(e(d).find(".qr-container").replaceWith(k),e(d).find(".title").text(b))}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-resources', location = 'handlers/quick-reload-inline-comments.js' */
define("confluence-quick-reload/handlers/quick-reload-inline-comments","underscore jquery ajs confluence/flag confluence/meta confluence/api/event confluence-quick-reload/utils/quick-reload-count".split(" "),function(c,e,l,u,r,t,h){function n(a,b,c,f,d){a=QuickReload.Templates.inlineComment({user:[a.commenter],noticeText:v(a),reloadRequired:b});d=1<d?"New inline comments":"New inline comment";d=new u(e.extend({},{title:d,body:a},{close:"manual",
type:"info",extraClasses:"qr-flag",fifo:!0,stack:"quickreload"}));e(d).find(".qr-notice-show").click(c);b||e(d).find(".qr-notice-show").click(d.close);e(d).on("aui-flag-close",f)}function v(a){return a&&a.comment&&e("\x3cdiv\x3e\x3c/div\x3e").text(a.comment.html).text()}function m(a){return 0===a.comment.parentId}function k(a){return m(a)?a.comment.id:a.comment.parentId}return{results:[],property:"comments",filterNewResults:function(a,b){b=c.clone(b);b=c.filter(b,function(a){return a.comment.isInlineComment&&
a.commenter.userName!==r.get("remote-user")});if(0<b.length){var e=c.map(a,k);a=c.filter(b,m);b=c.filter(b,function(a){return!m(a)});var f=c.map(a,k),d=c.map(b,k),h=c.difference(d,f),g=[];b=c.filter(b,function(a){return-1!==h.indexOf(a.comment.parentId)&&-1===g.indexOf(a.comment.parentId)?(g.push(a.comment.parentId),!0):!1});a=a.concat(b);b=c.filter(a,function(a){return-1===e.indexOf(k(a))})}return b},render:function(a){h.setCount(h.getCount()+a.length);var b=this;c.each(a,function(a){var f=k(a),
d=function(){t.trigger("qr:show-new-thread",f)},l=function(){var a=r.Links.canonical(),b=-1===a.indexOf("?")?"?":"\x26";window.location=a+b+"focusedCommentId\x3d"+f+"#comment-"+f},g=function(){b.results=c.filter(b.results,function(a){return k(a)!==f});h.setCount(h.getCount()-1)};g=c.bind(g,this);var p=this.results.length;if(m(a)){var q=new e.Deferred;q.fail(function(a){n(a,!0,l,g,p)});q.done(function(a){n(a,!1,d,g,p)});t.trigger("qr:add-new-highlight",[a,q])}else n(a,!1,d,g,p)},this)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-resources', location = 'handlers/quick-reload-page.js' */
define("confluence-quick-reload/handlers/quick-reload-page",["underscore","jquery","ajs","confluence/flag","confluence-quick-reload/utils/quick-reload-count"],function(d,c,g,l,e){function m(a){a=d.clone(a);a.reverse();a=d.uniq(a,function(a){return a.editor.userName});return d.map(a,function(a){return a.editor})}var b;return{results:[],property:"page",filterNewResults:function(a,b){return 0<b.length&&"string"!==typeof b[0]?b:[]},render:function(a){e.setCount(e.getCount()+a.length);a={close:"manual",
type:"info",extraClasses:"qr-flag",fifo:!0,stack:"quickreload"};var h=1<this.results.length?g.format("{0} new edits",this.results.length):"New page edits",f=m(this.results);f=QuickReload.Templates.pageEdit({pageEditors:f});var k=this;void 0===b||"true"===b.getAttribute("aria-hidden")?(b=new l(c.extend({},{body:f,title:h},a)),c(b).on("click",".qr-notice-show",function(){c(this).prop("disabled",!0).prepend('\x3cspan class\x3d"aui-icon aui-icon-wait"\x3e\x3c/span\x3e\x26nbsp;');
window.location.reload()}),c(b).on("aui-flag-close",d.bind(function(){e.setCount(e.getCount()-k.results.length);k.results=[]},this))):(c(b).find(".qr-container").replaceWith(f),c(b).find(".title").text(h))}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-resources', location = 'handlers/quick-reload-attachments.js' */
define("confluence-quick-reload/handlers/quick-reload-attachments",["underscore","jquery","ajs","confluence/flag","confluence-quick-reload/utils/quick-reload-count"],function(h,a,k,l,d){var b;return{results:[],property:"attachmentsCount",filterNewResults:function(b,a){const c=a[0];return"number"===typeof c&&0<c?(b.length=0,a):[]},render:function(c){c=c[0]||0;d.setCount(d.getCount()+c);c={close:"manual",type:"info",extraClasses:"qr-flag",fifo:!0,stack:"quickreload"};const e="Files on this page have changed",
f=QuickReload.Templates.pageAttachments({});if(void 0===b||"true"===b.getAttribute("aria-hidden")){b=new l(a.extend({},{body:f,title:e},c));a(b).on("click",".qr-notice-show",function(){a(this).prop("disabled",!0).prepend('\x3cspan class\x3d"aui-icon aui-icon-wait"\x3e\x3c/span\x3e\x26nbsp;');window.location.reload()});const g=this;a(b).on("aui-flag-close",h.bind(function(){d.setCount(d.getCount()-(g.results[0]||0));g.results=[]},this))}else a(b).find(".qr-container").replaceWith(f),a(b).find(".title").text(e)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-bootstrap', location = 'main/quick-reload-main.js' */
require("ajs confluence/dark-features confluence-quick-reload/main/quick-reload-manager confluence-quick-reload/handlers/quick-reload-comments confluence-quick-reload/handlers/quick-reload-inline-comments confluence-quick-reload/handlers/quick-reload-page confluence-quick-reload/handlers/quick-reload-read-only-mode confluence-quick-reload/handlers/quick-reload-attachments confluence/legacy".split(" "),function(b,d,a,c,e,f,g,h,k){b.toInit(function(){if(d.isEnabled("quickreload.disabled")||!k.CommentDisplayManager?
0:void 0!==b.Meta.get("page-id"))a.addHandler(c),a.addHandler(e),a.addHandler(f),a.addHandler(h),a.addHandler(g),a.enable(),b.bind("page.commentAddedOrUpdated",function(a,b){c.ignoreOnce(b.commentId)})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-sortable-tables:sortable-table-hooks', location = 'js/hooks.js' */
define("confluence-sortable-tables/hooks",[],function(){var a=[];return{onBeforeInit:function(b){a.push(b)},beforeInitHooks:function(){return a}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-content-report-plugin:resources', location = 'com/atlassian/confluence/plugins/content_report/js/tablesorter-date-parser.js' */
require(["ajs","jquery","confluence-sortable-tables/hooks"],function(g,b,c){c.onBeforeInit(function(d){d.addParser({id:"dateAttributeParser",is:function(e,f,a){return b(a).is(".content-report-table-macro .modified")},format:function(e,f,a,h){return b(a).attr("data-sortable-date")},type:"numeric"})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-content-report-plugin:resources', location = 'com/atlassian/confluence/plugins/content_report/soy/content-report-table.soy' */
// This file was automatically generated from content-report-table.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Plugins.ContentReport.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Plugins == 'undefined') { Confluence.Templates.Plugins = {}; }
if (typeof Confluence.Templates.Plugins.ContentReport == 'undefined') { Confluence.Templates.Plugins.ContentReport = {}; }


Confluence.Templates.Plugins.ContentReport.contentReportTable = function(opt_data, opt_ignored) {
  var output = '';
  var hasSocialColumn__soy3 = opt_data.showCommentsCount || opt_data.showLikesCount;
  if (opt_data.results.length == 0 && opt_data.blueprintKey) {
    output += '<div class="blueprint-blank-experience ' + soy.$$escapeHtml(opt_data.blueprintKey) + '"><div class="content"><h2>' + soy.$$escapeHtml(opt_data.blankTitle) + '</h2><p>' + soy.$$escapeHtml(opt_data.blankDescription) + '</p></div>' + ((opt_data.createButtonLabel) ? '<p><button class="create-from-template-button aui-button aui-button-primary" data-space-key="' + soy.$$escapeHtml(opt_data.dataSpaceKey) + '" data-content-blueprint-id="' + soy.$$escapeHtml(opt_data.contentBlueprintId) + '" href="' + soy.$$escapeHtml(opt_data.createContentUrl) + '" >' + soy.$$escapeHtml(opt_data.createButtonLabel) + '</button></p>' : '') + '</div>';
  } else {
    output += '<table class="aui content-report-table-macro' + ((hasSocialColumn__soy3) ? ' with-extra-columns' : '') + '"' + ((opt_data.analyticsKey) ? ' data-analytics-key="' + soy.$$escapeHtml(opt_data.analyticsKey) + '"' : '') + '><thead><tr><th>' + soy.$$escapeHtml('Title') + '</th><th>' + soy.$$escapeHtml('Creator') + '</th><th>' + soy.$$escapeHtml('Modified') + '</th></tr></thead><tbody>';
    var resultList43 = opt_data.results;
    var resultListLen43 = resultList43.length;
    if (resultListLen43 > 0) {
      for (var resultIndex43 = 0; resultIndex43 < resultListLen43; resultIndex43++) {
        var resultData43 = resultList43[resultIndex43];
        output += '<tr><td class="title"><a href="' + soy.$$escapeHtml(resultData43.urlPath) + '">' + soy.$$escapeHtml(resultData43.title) + '</a></td><td class="creator">' + Confluence.Templates.User.usernameLink({canView: opt_data.canViewProfiles, username: resultData43.creatorName, fullName: resultData43.creatorFullName, contextPath: opt_data.contextPath}) + '</td><td class="modified" data-sortable-date="' + soy.$$escapeHtml(resultData43.sortableDate) + '">' + soy.$$escapeHtml(resultData43.friendlyModificationDate) + '</td>' + ((hasSocialColumn__soy3) ? '<td class="social">' + ((opt_data.showCommentsCount && resultData43.commentCount != 0) ? '<span class="icon icon-comment"></span> <span class="count">' + soy.$$escapeHtml(resultData43.commentCount) + '</span>' : '') + ((opt_data.showLikesCount && resultData43.likeCount != 0) ? '<span class="icon icon-like"></span> <span class="count">' + soy.$$escapeHtml(resultData43.likeCount) + '</span>' : '') + '</td>' : '') + '</tr>';
      }
    } else {
      output += '<tr><td colspan="3">' + soy.$$escapeHtml('No content found.') + '</td></tr>';
    }
    output += '</tbody></table>' + ((opt_data.searchMoreResultsLinkUrl) ? '<div class="more-results"><a href="' + soy.$$escapeHtml("/confluence") + soy.$$escapeHtml(opt_data.searchMoreResultsLinkUrl) + '">' + soy.$$escapeHtml('Find more results') + '</a></div>' : '');
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Plugins.ContentReport.contentReportTable.soyTemplateName = 'Confluence.Templates.Plugins.ContentReport.contentReportTable';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-content-report-plugin:resources', location = 'com/atlassian/confluence/plugins/content_report/js/content-report-analytics.js' */
require(["ajs"],function(b){b.toInit(function(c){c(".content-report-table-macro").on("click",".title a",function(a){(a=c(a.delegateTarget).data("analytics-key"))&&b.trigger("analytics",{name:"content-report-table-macro.content-click."+a})})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-sortable-tables:sortable-table-loader', location = 'js/loader.js' */
require(["ajs","wrm"],function(a,b){a.toInit(function(){a.$("#main").find("table").length&&b.require("wrc!sortable-tables-resources")})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.expand-macro:expand-macro-core', location = 'com/atlassian/confluence/plugins/expand/js/expand-macro-core.js' */
(function(){var g=function(c){this.$=c;this.createToggleFunction=function(b){var e=this.$;return function(a){if("undefined"==typeof b||b(a)){a=e(this);var f=e(".expand-icon",a),d=e(".expand-content",a.closest(".expand-container")).first();d.hasClass("expand-hidden")?(f.removeClass("aui-iconfont-chevron-right").addClass("aui-iconfont-chevron-down"),d.css("display","block"),d.animate({opacity:1}),a.attr("aria-expanded",!0),a="expand"):(f.removeClass("aui-iconfont-chevron-down").addClass("aui-iconfont-chevron-right"),
d.animate({opacity:0},{complete:function(){d.hide()}}),a.attr("aria-expanded",!1),a="collapse");d.toggleClass("expand-hidden");"expand"===a?AJS.trigger("confluence.expand-macro.expanded"):AJS.trigger("confluence.expand-macro.collapsed");AJS.trigger("analyticsEvent",{name:"confluence.expand-macro.expand-click",data:{userAction:a}})}}};this.getExpandElements=function(b){return this.$("div[id^\x3d'expander-control-'].expand-control",b)}};"undefined"===typeof Confluence&&(Confluence={});"undefined"===
typeof Confluence.Plugins&&(Confluence.Plugins={});Confluence.Plugins.ExpandMacro={bind:function(c,b,e,a){c=new g(c);b=c.getExpandElements(b);b.length&&b.bind(e,c.createToggleFunction(a))}}})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.expand-macro:expand-macro-desktop-resources', location = 'com/atlassian/confluence/plugins/expand/js/expand-macro.js' */
AJS.toInit(function(a){Confluence.Plugins.ExpandMacro.bind(a,a("body"),"click keyup",function(b){return!("keyup"==b.type&&13!=b.keyCode)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-business-blueprints:sharelinks-urlmacro-resources', location = 'com/atlassian/confluence/plugins/sharelinksurlmacro/soy/sharelinks-urlmacro-templates.soy' */
// This file was automatically generated from sharelinks-urlmacro-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Blueprints.SharelinksUrlMacro.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Blueprints == 'undefined') { Confluence.Blueprints = {}; }
if (typeof Confluence.Blueprints.SharelinksUrlMacro == 'undefined') { Confluence.Blueprints.SharelinksUrlMacro = {}; }


Confluence.Blueprints.SharelinksUrlMacro.bookmarkletLink = function(opt_data, opt_ignored) {
  return '<a class="aui-button sharelinks-urlmacro-button" href="' + Confluence.Blueprints.SharelinksUrlMacro.bookmarkletScript(opt_data) + '"><span>' + soy.$$escapeHtml('Share on Confluence') + '</span></a>';
};
if (goog.DEBUG) {
  Confluence.Blueprints.SharelinksUrlMacro.bookmarkletLink.soyTemplateName = 'Confluence.Blueprints.SharelinksUrlMacro.bookmarkletLink';
}


Confluence.Blueprints.SharelinksUrlMacro.bookmarkletScript = function(opt_data, opt_ignored) {
  return 'javascript:(function(){var screenWidth=screen.width,screenHeight=screen.height,popupWidth=640,popupHeight=580,popupLeft=0,popupTop=0; if(screenWidth>popupWidth){popupLeft=Math.round((screenWidth/2)-(popupWidth/2));}if(screenHeight>popupHeight){popupTop=Math.round((screenHeight/2)-(popupHeight/2));}window.open(\'' + soy.$$filterNoAutoescape(opt_data.bookmarkletActionURL) + '?bookmarkedURL=\'+encodeURIComponent(window.location.href), \'\',\'left=\'+popupLeft+\',top=\'+popupTop+\',width=\'+popupWidth+\',height=\'+popupHeight+\',personalbar=0,toolbar=0,scrollbars=1,resizable=1\');}());';
};
if (goog.DEBUG) {
  Confluence.Blueprints.SharelinksUrlMacro.bookmarkletScript.soyTemplateName = 'Confluence.Blueprints.SharelinksUrlMacro.bookmarkletScript';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-business-blueprints:sharelinks-urlmacro-resources', location = 'com/atlassian/confluence/plugins/sharelinksurlmacro/js/sharelinks-urlmacro.js' */
AJS.toInit(function(a){a(".sharelinks-urlmacro-button").click(function(){alert("Drag this link to your toolbar");return!1})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:jsUri', location = '/includes/js/third-party/jsUri.js' */
(function(){function g(a){a=decodeURIComponent(a);return a=a.replace("+"," ")}function h(a){var c,b,f,e,d=[];if("undefined"===typeof a||null===a||""===a)return d;0===a.indexOf("?")&&(a=a.substring(1));c=a.toString().split(/[&;]/);for(a=0;a<c.length;a++)b=c[a],f=b.split("="),e=f[0],b=-1===b.indexOf("=")?null:null===f[1]?"":f[1],d.push([e,b]);return d}function d(a){var c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*)(?::([^:@\/]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a||
""),b={};"source protocol authority userInfo user password host port relative path directory file query anchor".split(" ").forEach(function(a,e){b[a]=c[e]||""});this.uriParts=b;this.queryPairs=h(this.uriParts.query);this.hasAuthorityPrefixUserPref=null}Array.prototype.forEach||(Array.prototype.forEach=function(a,c){for(var b=0,f=this.length;b<f;++b)a.call(c||this,this[b],b,this)});"protocol userInfo host port path anchor".split(" ").forEach(function(a){d.prototype[a]=function(c){typeof c!=="undefined"&&
(this.uriParts[a]=c);return this.uriParts[a]}});d.prototype.hasAuthorityPrefix=function(a){if(typeof a!=="undefined")this.hasAuthorityPrefixUserPref=a;return this.hasAuthorityPrefixUserPref===null?this.uriParts.source.indexOf("//")!==-1:this.hasAuthorityPrefixUserPref};d.prototype.query=function(a){var c="",b;if(typeof a!=="undefined")this.queryPairs=h(a);for(a=0;a<this.queryPairs.length;a++){b=this.queryPairs[a];c.length>0&&(c=c+"&");c=b[1]===null?c+b[0]:c+b.join("=")}return c.length>0?"?"+c:c};
d.prototype.getQueryParamValue=function(a){var c,b;for(b=0;b<this.queryPairs.length;b++){c=this.queryPairs[b];if(g(a)===g(c[0]))return c[1]}};d.prototype.getQueryParamValues=function(a){var c=[],b,f;for(b=0;b<this.queryPairs.length;b++){f=this.queryPairs[b];g(a)===g(f[0])&&c.push(f[1])}return c};d.prototype.deleteQueryParam=function(a,c){var b=[],f,e,d,h;for(f=0;f<this.queryPairs.length;f++){e=this.queryPairs[f];d=g(e[0])===g(a);h=g(e[1])===g(c);(arguments.length===1&&!d||arguments.length===2&&!d&&
!h)&&b.push(e)}this.queryPairs=b;return this};d.prototype.addQueryParam=function(a,c,b){if(arguments.length===3&&b!==-1){b=Math.min(b,this.queryPairs.length);this.queryPairs.splice(b,0,[a,c])}else arguments.length>0&&this.queryPairs.push([a,c]);return this};d.prototype.replaceQueryParam=function(a,c,b){var d=-1,e,h;if(arguments.length===3){for(e=0;e<this.queryPairs.length;e++){h=this.queryPairs[e];if(g(h[0])===g(a)&&decodeURIComponent(h[1])===g(b)){d=e;break}}this.deleteQueryParam(a,b).addQueryParam(a,
c,d)}else{for(e=0;e<this.queryPairs.length;e++){h=this.queryPairs[e];if(g(h[0])===g(a)){d=e;break}}this.deleteQueryParam(a);this.addQueryParam(a,c,d)}return this};"protocol hasAuthorityPrefix userInfo host port path query anchor".split(" ").forEach(function(a){var c="set"+a.charAt(0).toUpperCase()+a.slice(1);d.prototype[c]=function(b){this[a](b);return this}});d.prototype.scheme=function(){var a="";if(this.protocol()){a=a+this.protocol();this.protocol().indexOf(":")!==this.protocol().length-1&&(a=
a+":");a=a+"//"}else this.hasAuthorityPrefix()&&this.host()&&(a=a+"//");return a};d.prototype.origin=function(){var a=this.scheme();if(this.userInfo()&&this.host()){a=a+this.userInfo();this.userInfo().indexOf("@")!==this.userInfo().length-1&&(a=a+"@")}if(this.host()){a=a+this.host();this.port()&&(a=a+(":"+this.port()))}return a};d.prototype.toString=function(){var a=this.origin();if(this.path())a=a+this.path();else if(this.host()&&(this.query().toString()||this.anchor()))a=a+"/";if(this.query().toString()){this.query().toString().indexOf("?")!==
0&&(a=a+"?");a=a+this.query().toString()}if(this.anchor()){this.anchor().indexOf("#")!==0&&(a=a+"#");a=a+this.anchor()}return a};d.prototype.clone=function(){return new d(this.toString())};define("confluence/jsUri",function(){return d})})(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-resources', location = 'js/inline-tasks.js' */
(function(c){function l(a){var b;if(void 0===a.offsetX){var f=b=0,d=a.target;do{if(0!=d.scrollTop||0!=d.scrollLeft)var g=d;b+=d.offsetLeft;f+=d.offsetTop;d=d.offsetParent}while(d&&d!=d.offsetParent);b=a.pageX+(g?g.scrollLeft:0)-b;a=a.pageY+(g?g.scrollTop:0)-f}else b=a.offsetX,a=a.offsetY;return 3<=b&&14>=b&&3<=a&&14>=a}function n(a){var b="page";a.closest("table.tasks-report").length?b="report":a.closest("#task-container").length?b="mytasks":a.closest("ul.inline-task-list").length&&(b="task");return b}
function p(a,b){var f=a.attr("data-inline-task-id");a=a.find(b).first();return a.closest("li").attr("data-inline-task-id")===f?a:c()}function q(a){a.attr("aria-checked",a.hasClass("checked")?"true":"false")}var r=!1;c(window).bind("beforeunload",function(){r=!0});var h=[];c(document).delegate("ul.inline-task-list \x3e li[data-inline-task-id]",{click:function(a){if(a.currentTarget===a.target&&l(a)){var b=c(a.target);b.toggleClass("checked");q(b);var f=b.hasClass("checked")?"CHECKED":"UNCHECKED",d=
b.data("inline-task-id");a=b.closest("ul").attr("data-inline-tasks-content-id")||AJS.params.pageId;a=AJS.contextPath()+"/rest/inlinetasks/1/task/"+a+"/"+d+"/";b.prop("disabled",!0);b.closest("tr").attr("aria-disabled",!0);h.push(d);AJS.trigger("inline-tasks.status-update.start",{status:f,taskId:d,taskListQueue:h});c.ajax({type:"POST",url:a,data:c.toJSON({status:f,trigger:"VIEW_PAGE"}),dataType:"json",contentType:"application/json",timeout:3E4,error:function(g,e,k){r||"timeout"===e||(AJS.logError("Inline Task #"+
d+" was not persisted to "+f+" because of "+k+" (status: "+e+")"),e=require("confluence/message-controller"),b.toggleClass("checked"),q(b),e.showError(e.parseError(g,"Oops! Your task change couldn\u0027t be saved. \u003cbr/\u003eThere could be a few reasons for this."),e.Location.FLAG))},success:function(){var g=p(b,"time").attr("datetime"),e=new Date;var k=""+e.getFullYear();var m=""+(e.getMonth()+1);e=""+e.getDate();2>m.length&&(m="0"+m);2>e.length&&(e="0"+e);k=[k,m,e].join("-");g={dueDate:g,completionDate:k,mode:"view",assigneeUsername:p(b,".user-mention").attr("data-username"),
context:n(b)};"CHECKED"===f&&AJS.trigger("analyticsEvent",{name:"confluence-spaces.tasks.completed",data:g})}}).always(function(){b.prop("disabled",!1);b.closest("tr").attr("aria-disabled",!1);h.splice(h.indexOf(d),1);AJS.trigger("inline-tasks.status-update.complete",{status:f,taskId:d,taskListQueue:h})})}},mousemove:function(a){a.currentTarget===a.target&&(l(a)?c(a.target).addClass("hover"):c(a.target).removeClass("hover"))},mouseout:function(a){a.currentTarget===a.target&&c(a.target).removeClass("hover")},
mousedown:function(a){a.currentTarget===a.target&&l(a)&&c(a.target).addClass("task-active")},mouseup:function(a){a.currentTarget===a.target&&l(a)&&c(a.target).removeClass("task-active")}});c(document).tooltip({title:function(){return "This task is due in less than a week"},live:"ul.inline-task-list li:not(.checked) time.date-upcoming"});c(document).tooltip({title:function(){return "This task is overdue"},live:"ul.inline-task-list li:not(.checked) time.date-past"});c(document).tooltip({title:function(){return "A completion date wasn\u0027t recorded for this task"},
live:"span.emptycompletedate"});c(document).on("click","time",function(){var a=c(this);a={date:a.attr("datetime"),mode:"view",context:n(a)};AJS.trigger("analyticsEvent",{name:"confluence-spaces.date.clicked",data:a})});AJS.toInit(function(){c(".inline-task-list").attr("role","group");c(".inline-task-list [data-inline-task-id]:not(.checked)").attr("role","checkbox").attr("aria-checked","false");c(".inline-task-list [data-inline-task-id].checked").attr("role","checkbox").attr("aria-checked","true");
"READ_ONLY"===AJS.Meta.get("access-mode")&&(c("[data-inline-task-id]").addClass("disabled"),c("[data-inline-task-id]").prop("disabled",!0))})})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-resources', location = 'js/inline-tasks-alert.js' */
Confluence.InlineTasks=Confluence.InlineTasks||{};
(function(c){var a=function(d){this.settings=c.extend({},a.DEFAULTS,d);this.template=Confluence.InlineTasks.Templates;c("#inline-tasks-notice").remove();var b=c(this.template.notice(this.settings));b.hide().appendTo("body");b.find(".notice-close").click(function(){b.hide()});this.$notice=b};a.DEFAULTS={textMessage:"Oops! Your task change couldn\u0027t be saved. \u003cbr/\u003eThere could be a few reasons for this.",className:"general-notice"};a.prototype.show=function(){this.$notice.show();return this};a.prototype.hide=function(){this.$notice.hide();
return this};Confluence.InlineTasks.Notice=a})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-resources', location = 'templates/inline-tasks.soy' */
// This file was automatically generated from inline-tasks.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.InlineTasks.Templates.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.InlineTasks == 'undefined') { Confluence.InlineTasks = {}; }
if (typeof Confluence.InlineTasks.Templates == 'undefined') { Confluence.InlineTasks.Templates = {}; }


Confluence.InlineTasks.Templates.notice = function(opt_data, opt_ignored) {
  return '<div class="aui-message error' + ((opt_data.className) ? ' ' + soy.$$escapeHtml(opt_data.className) : '') + '" id="inline-tasks-notice">' + soy.$$filterNoAutoescape(opt_data.textMessage) + '&nbsp;&nbsp;<a href="#" class="notice-close">' + soy.$$escapeHtml('Dismiss') + '</a></div>';
};
if (goog.DEBUG) {
  Confluence.InlineTasks.Templates.notice.soyTemplateName = 'Confluence.InlineTasks.Templates.notice';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-resources', location = 'js/inline-tasks-focus.js' */
AJS.$(document).ready(function(a){if(a=(new (require("confluence/jsUri"))(window.location.href)).getQueryParamValue("focusedTaskId"))a=$("li[data-inline-task-id\x3d"+a+"]"),a.length&&(a.addClass("focused"),window.scrollTo(a.offset().left,a.offset().top-$(window).height()/2))});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:sortable-table-server-side', location = 'js/jquery.tablesorter.serveronly.js' */
(function(d){d.extend({tablesorterServerOnly:new function(){this.defaults={classNameDisableSorting:"aui-table-column-unsortable",classNameHeaderDesc:"tablesorter-headerDesc",classNameHeaderAsc:"tablesorter-headerAsc",reverseSort:!1,sortColumn:"",onInit:function(){},onSort:function(){},events:{clickHeader:"click.sortServerOnly",refreshHeader:"refreshHeader.sortServerOnly",simulateClickHeader:"simulateClickHeader.sortServerOnly"}};var f={updateCurrentHeaderSort:function(b,a){f.resetHeadersSort(b,a);
a.$headers.each(function(){var c=d(this),e=c.attr("data-column-name"),g=a.reverseSort;e===a.sortColumn&&(g?c.addClass(a.classNameHeaderDesc):c.addClass(a.classNameHeaderAsc))})},resetHeadersSort:function(b,a){a.$headers.removeClass(a.classNameHeaderDesc).removeClass(a.classNameHeaderAsc)},prepareHTMLHeader:function(b,a){a.$headers.not("."+a.classNameDisableSorting).attr("unselectable","on").bind("selectstart",!1).addClass("tablesorter-header").wrapInner("\x3cspan class\x3d'aui-table-header-content'/\x3e")},
bindEvents:function(b,a){var c=d(b);c.on(a.events.refreshHeader,function(){f.updateCurrentHeaderSort(b,a)});c.on(a.events.simulateClickHeader,function(e,g,k){a.reverseSort=k;a.sortColumn=g})}},h=function(b,a){var c=d(b);a.$table=c;a.$headers=c.find("thead th");a.$tbodies=c.find("tbody");f.prepareHTMLHeader(b,a);f.updateCurrentHeaderSort(b,a);"function"===typeof a.onInit&&a.onInit.apply(b,[a]);a.$headers.on(a.events.clickHeader,function(){var e=d(this);if(e.hasClass(a.classNameDisableSorting))return!1;
e=e.attr("data-column-name");a.reverseSort=e===a.sortColumn?!a.reverseSort:!1;a.sortColumn=e;"function"===typeof a.onSort&&a.onSort.apply(b,[a]);return!1});f.bindEvents(b,a)};this.construct=function(b){return this.each(function(){var a=this,c=d.extend(!0,{},d.tablesorterServerOnly.defaults,b);this.config&&a.hasInitialized&&d.tablesorter?d.tablesorter.destroy(a,!1,function(){h(a,c)}):h(a,c)})}}});d.fn.extend({tablesorterServerOnly:d.tablesorterServerOnly.construct})})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:sortable-table-server-side', location = 'js/tasks-table-sortable.js' */
(function(e){var d=function(a){this.ajaxUrl=a.ajaxUrl;this.restUrlPagination=a.restUrlPagination;this.$wrapper=a.$wrapper;this.table=a.table;this.$table=e(this.table);this.analyticEventKey=a.analyticEventKey;this.sortColumnDefault=a.sortColumnDefault||"duedate";this.sortReverseSortDefault=a.sortReverseSortDefault||!1;this.reportParametersDefault=a.reportParametersDefault;this.pageIndex=a.pageIndex||0;this.pageSize=a.pageSize||10;this.pageTotal=a.pageTotal||0;this.pageLimit=a.pageLimit||7;this.adaptive=
a.adaptive;this.columns=a.columns;this.templates=a.templates;this.onRenderEmptyTable=a.onRenderEmptyTable;this.onBusySorting=a.onBusySorting};d.getColumnNameFromSortBy=function(a){var b={"due date":"duedate","page title":"location",assignee:"assignee"};return b[a]?b[a]:"duedate"};d.getSortByFromColumnName=function(a){var b={duedate:"due date",location:"page title"};return b[a]?b[a]:a};d.prototype.updateOptions=function(a){e.extend(this,a);this.$table=e(this.table)};d.prototype.getCurrentPageIndex=
function(){var a=this.$wrapper.find(".macro-auto-pagination").last();a=parseInt(a.attr("data-initial-page-index"),10);return isNaN(a)?0:a};d.prototype.renderPagination=function(a,b){var c=this;a||(a=c.$table);b||(b=c.reportParametersDefault);this.$wrapper.find(".macro-auto-pagination").remove();1<c.pageTotal&&f.UI.Components.Pagination.build({scope:a,pageSize:c.pageSize,totalPages:c.pageTotal,pageLimit:c.pageLimit,path:c.restUrlPagination,adaptive:c.adaptive,currentPage:c.pageIndex,data:{reportParameters:JSON.stringify(b)},
success:function(g,h){g=c.templates.tasksReportLine({task:g,columns:c.columns});h.append(g)}})};d.prototype.toggleBusyState=function(a){this.$wrapper.attr("data-loading",a);a?this.$wrapper.find(".task-blanket").show():this.$wrapper.find(".task-blanket").hide();"function"===typeof this.onBusySorting&&this.onBusySorting.apply(this,[a])};d.prototype.renderTable=function(a){var b=this;a=_.map(a,function(c){return b.templates.tasksReportLine({task:c,columns:b.columns})}).join("");b.$table.find("tbody").html(a);
f.Binder.userHover()};d.prototype._triggerAnalyticsSorting=function(){AJS.trigger("analyticsEvent",{name:this.analyticEventKey,data:{column:this.sortColumn,direction:this.reverseSort?"desc":"asc"}})};d.prototype._buildAjaxData=function(a){return{url:this.ajaxUrl,cache:!1,dataType:"json",data:{pageIndex:this.pageIndex,pageSize:this.pageSize,reportParameters:JSON.stringify(a)}}};d.prototype.init=function(){var a=this;a.sortColumn=a.sortColumnDefault;a.reverseSort=a.sortReverseSortDefault;this.$table.tablesorterServerOnly({sortColumn:a.sortColumn,
reverseSort:a.reverseSort,onInit:function(){e(this).addClass("aui-table-sortable")},onSort:function(b){var c=e(this);a.pageIndex=a.getCurrentPageIndex();a.sortColumn=b.sortColumn;a.reverseSort=b.reverseSort;a.toggleBusyState(!0);var g=e.extend({},a.reportParametersDefault,{sortColumn:d.getSortByFromColumnName(a.sortColumn),reverseSort:a.reverseSort});b=a._buildAjaxData(g);e.ajax(b).done(function(h){a.pageIndex=a.getCurrentPageIndex();a.pageTotal=h.totalPages;0===a.pageIndex&&0===a.pageTotal?"function"===
typeof a.onRenderEmptyTable&&(a.$wrapper.find(".macro-auto-pagination").remove(),c.remove(),a.onRenderEmptyTable.apply(a)):(a.renderTable(h.detailLines),a.renderPagination(null,g),c.trigger("refreshHeader.sortServerOnly"),a._triggerAnalyticsSorting())}).fail(function(){(new f.InlineTasks.Notice({textMessage:"We can\u0027t sort your tasks right now. Refresh the page to try again.",className:"forbidden-notice"})).show()}).always(function(){AJS.trigger("ic-jim-async-supported");a.toggleBusyState(!1)})}})};var f=
window.Confluence||{};f.InlineTasks=f.InlineTasks||{};f.InlineTasks.TasksTableSortable=d})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-ui-components:common', location = '/js/internal/namespace-legacy.js' */
var Confluence=require("confluence/legacy");Confluence.UI||(Confluence.UI={});Confluence.UI.Components||(Confluence.UI.Components={});Confluence.UI.Components.BlankPlaceholderBox||(Confluence.UI.Components.BlankPlaceholderBox={});Confluence.UI.Components.CQL||(Confluence.UI.Components.CQL={});Confluence.UI.Components.DatePicker||(Confluence.UI.Components.DatePicker={});Confluence.UI.Components.LabelPicker||(Confluence.UI.Components.LabelPicker={});
Confluence.UI.Components.Pagination||(Confluence.UI.Components.Pagination={});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-ui-components:common', location = 'js/internal/soy-templates.js' */
define("confluence-ui-components/js/internal/soy-templates",[],function(){return{BlankPlaceholderBox:function(){return Confluence.UI.Components.BlankPlaceholderBox.Templates},DatePicker:function(){return Confluence.UI.Components.DatePicker.templates},LabelPicker:function(){return Confluence.UI.Components.LabelPicker.templates},Pagination:function(){return Confluence.UI.Components.Pagination.Templates},Components:function(){return Confluence.UI.Components.templates},UserGroupSelect2:function(){return Confluence.UI.Components.UserGroupSelect2}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-ui-components:pagination', location = '/js/pagination.js' */
define("confluence-ui-components/js/pagination",["ajs","confluence/hover-user","confluence-ui-components/js/internal/soy-templates","jquery","underscore"],function(p,u,v,l,q){var m=function(c,a,b){var d=c.find("a").attr("aria-disabled",b);b?d.attr("disabled","disabled"):(d.removeAttr("disabled"),b=l(".aui-nav-selected",c).data("index")+1,c.find(".aui-nav-next \x3e a").attr("aria-disabled",b===a),c.find(".aui-nav-previous \x3e a").attr("aria-disabled",1===b))},w={scope:null,success:null,data:null,
path:"",url:"#",pageLimit:7,currentPage:0,adaptive:!1,totalPages:0,pageSize:0},r=function(c){var a=c.totalPages,b=c.currentPage,d=c.pageLimit,h=c.adaptive;d?(h&&(a=b+d),h=d):h=a;var e=Math.floor(d/2);d=!d||a<=d||0>b-e?0:b+e>a-1?a-d:b-e;return v.Pagination().paginationFooter({currentPage:b||0,startPage:d,itemsToRender:h,totalPages:a,pageSize:c.pageSize,url:c.url||"#"})};return{build:function(c){var a=q.extend({},w,c);"function"!==typeof a.success&&(a.success=function(){});c=r(a);a.scope.after(c);var b=
a.scope.next(),d=b.data("initial-page-index");b.on("click","a",function(h){var e=l(this),k=e.parents("ol").prev();"floating-scrollbar"===k.prop("id")&&(k=k.prev());var n=k.is("table")?k:k.find("table"),g=n.data("pageIndex")||d;e=e.parent("li");e.hasClass("aui-nav-selected")||e.find("\x3e a[aria-disabled\x3dtrue]").length||(e.hasClass("aui-nav-next")?g++:e.hasClass("aui-nav-previous")?g--:g=e.data("index"),m(b,a.totalPages,!0),e=l.extend({},{pageSize:a.pageSize,pageIndex:g},a.data),l.getJSON(p.contextPath()+
a.path,e).done(function(f){g=f.currentPage;var t=n.find("tbody");t.find("tr").remove();n.data("pageIndex",g);q.each(f.detailLines,function(x){a.success(x,t)});p.trigger("ui.components.pagination.updated",[f,a]);f=l.extend({},a,{totalPages:f.totalPages,adaptive:f.adaptive,currentPage:g});b.html(r(f));m(b,f.totalPages,!1);u()}).fail(function(){m(b,a.totalPages,!1)}),h.preventDefault())})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-ui-components:pagination', location = '/js/internal/pagination-legacy.js' */
var _=require("underscore");window.Confluence.UI.Components.Pagination=_.extend(window.Confluence.UI.Components.Pagination,require("confluence-ui-components/js/pagination"));require("ajs").deprecate.prop(window.Confluence.UI.Components.Pagination,"build",{sinceVersion:"2.1.1",extraInfo:"Use require('confluence-ui-components/js/pagination')"});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-ui-components:pagination', location = '/soy/pagination.soy' */
// This file was automatically generated from pagination.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.UI.Components.Pagination.Templates.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.UI == 'undefined') { Confluence.UI = {}; }
if (typeof Confluence.UI.Components == 'undefined') { Confluence.UI.Components = {}; }
if (typeof Confluence.UI.Components.Pagination == 'undefined') { Confluence.UI.Components.Pagination = {}; }
if (typeof Confluence.UI.Components.Pagination.Templates == 'undefined') { Confluence.UI.Components.Pagination.Templates = {}; }


Confluence.UI.Components.Pagination.Templates.paginationFooter = function(opt_data, opt_ignored) {
  var output = '<ol class="aui-nav aui-nav-pagination macro-auto-pagination" data-page-size="' + soy.$$escapeHtml(opt_data.pageSize) + '" data-initial-page-index="' + soy.$$escapeHtml(opt_data.currentPage) + '"><li class="aui-nav-previous"><a ' + ((opt_data.currentPage == 0) ? 'aria-disabled="true"' : 'href="#"') + '>' + soy.$$escapeHtml('Prev') + '</a></li>';
  var startIdx__soy16 = opt_data.startPage + 1;
  var currentIdx__soy17 = opt_data.currentPage + 1;
  var endIdx__soy18 = startIdx__soy16 + opt_data.itemsToRender;
  var totalRange__soy19 = opt_data.totalPages + 1;
  var indexInit20 = startIdx__soy16;
  var indexLimit20 = endIdx__soy18 < totalRange__soy19 ? endIdx__soy18 : totalRange__soy19;
  for (var index20 = indexInit20; index20 < indexLimit20; index20++) {
    output += (index20 == currentIdx__soy17) ? '<li class="aui-nav-selected" data-index="' + soy.$$escapeHtml(index20 - 1) + '">' + soy.$$escapeHtml(index20) + '</li>' : '<li data-index="' + soy.$$escapeHtml(index20 - 1) + '"><a href="#">' + soy.$$escapeHtml(index20) + '</a></li>';
  }
  output += '<li class="aui-nav-next"><a ' + ((currentIdx__soy17 == opt_data.totalPages) ? 'aria-disabled="true"' : 'href="' + soy.$$escapeHtml(opt_data.url) + '"') + '>' + soy.$$escapeHtml('Next') + '</a></li></ol>';
  return output;
};
if (goog.DEBUG) {
  Confluence.UI.Components.Pagination.Templates.paginationFooter.soyTemplateName = 'Confluence.UI.Components.Pagination.Templates.paginationFooter';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-ui-components:blank-placeholder-box', location = 'soy/blank-placeholder-box.soy' */
// This file was automatically generated from blank-placeholder-box.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.UI.Components.BlankPlaceholderBox.Templates.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.UI == 'undefined') { Confluence.UI = {}; }
if (typeof Confluence.UI.Components == 'undefined') { Confluence.UI.Components = {}; }
if (typeof Confluence.UI.Components.BlankPlaceholderBox == 'undefined') { Confluence.UI.Components.BlankPlaceholderBox = {}; }
if (typeof Confluence.UI.Components.BlankPlaceholderBox.Templates == 'undefined') { Confluence.UI.Components.BlankPlaceholderBox.Templates = {}; }


Confluence.UI.Components.BlankPlaceholderBox.Templates.blankBox = function(opt_data, opt_ignored) {
  return '<div class="blank-placeholder-box ' + ((opt_data.customClass) ? soy.$$escapeHtml(opt_data.customClass) : '') + '"><div class="content"><h2>' + soy.$$escapeHtml(opt_data.blankTitle) + '</h2><p>' + soy.$$escapeHtml(opt_data.blankDescription) + '</p></div>' + ((opt_data.customHtml) ? soy.$$filterNoAutoescape(opt_data.customHtml) : '') + '</div>';
};
if (goog.DEBUG) {
  Confluence.UI.Components.BlankPlaceholderBox.Templates.blankBox.soyTemplateName = 'Confluence.UI.Components.BlankPlaceholderBox.Templates.blankBox';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.sortable-table', location = 'aui.chunk.181d293799bad4927095--bd78e9093cb91b429bfe.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.component.sortable-table"],{AqzS:function(e,t){
/**!
 * TableSorter 2.17.7 - Client-side table sorting with ease!
 * @requires jQuery v1.2.6+
 *
 * Copyright (c) 2007 Christian Bach
 * Examples and docs at: http://tablesorter.com
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * @type jQuery
 * @name tablesorter
 * @cat Plugins/Tablesorter
 * @author Christian Bach/christian.bach@polyester.se
 * @contributor Rob Garrison/https://github.com/Mottie/tablesorter
 */
!function(e){"use strict";e.extend({tablesorter:new function(){var t=this;function r(){var e=arguments[0],t=arguments.length>1?Array.prototype.slice.call(arguments):e;"undefined"!=typeof console&&void 0!==console.log?console[/error/i.test(e)?"error":/warn/i.test(e)?"warn":"log"](t):alert(t)}function s(e,t){r(e+" ("+((new Date).getTime()-t.getTime())+"ms)")}function a(e){for(var t in e)return!1;return!0}function n(r,s,a){if(!s)return"";var n,o=r.config,i=o.textExtraction||"",d="";return d="basic"===i?e(s).attr(o.textAttribute)||s.textContent||s.innerText||e(s).text()||"":"function"==typeof i?i(s,r,a):"function"==typeof(n=t.getColumnData(r,i,a))?n(s,r,a):s.textContent||s.innerText||e(s).text()||"",e.trim(d)}function o(e,s,a,o){for(var i,d=t.parsers.length,c=!1,l="",u=!0;""===l&&u;)s[++a]?(l=n(e,c=s[a].cells[o],o),e.config.debug&&r("Checking if value was empty on row "+a+", column: "+o+': "'+l+'"')):u=!1;for(;--d>=0;)if((i=t.parsers[d])&&"text"!==i.id&&i.is&&i.is(l,e,c))return i;return t.getParserById("text")}function i(e){var a,n,i,d,c,l,u,p,f,g,h=e.config,m=h.$tbodies=h.$table.children("tbody:not(."+h.cssInfoBlock+")"),b=0,y="",w=m.length;if(0===w)return h.debug?r("Warning: *Empty table!* Not building a parser cache"):"";for(h.debug&&(g=new Date,r("Detecting parsers for each column")),n={extractors:[],parsers:[]};b<w;){if((a=m[b].rows)[b])for(i=h.columns,d=0;d<i;d++)c=h.$headers.filter('[data-column="'+d+'"]:last'),l=t.getColumnData(e,h.headers,d),f=t.getParserById(t.getData(c,l,"extractor")),p=t.getParserById(t.getData(c,l,"sorter")),u="false"===t.getData(c,l,"parser"),h.empties[d]=t.getData(c,l,"empty")||h.emptyTo||(h.emptyToBottom?"bottom":"top"),h.strings[d]=t.getData(c,l,"string")||h.stringTo||"max",u&&(p=t.getParserById("no-parser")),f||(f=!1),p||(p=o(e,a,-1,d)),h.debug&&(y+="column:"+d+"; extractor:"+f.id+"; parser:"+p.id+"; string:"+h.strings[d]+"; empty: "+h.empties[d]+"\n"),n.parsers[d]=p,n.extractors[d]=f;b+=n.parsers.length?w:1}h.debug&&(r(y||"No parsers detected"),s("Completed detecting parsers",g)),h.parsers=n.parsers,h.extractors=n.extractors}function d(a){var o,i,d,c,l,u,p,f,g,h,m,b,y,w=a.config,v=w.$table.children("tbody"),x=w.extractors,C=w.parsers;if(w.cache={},w.totalRows=0,!C)return w.debug?r("Warning: *Empty table!* Not building a cache"):"";for(w.debug&&(h=new Date),w.showProcessing&&t.isProcessing(a,!0),p=0;p<v.length;p++)if(y=[],o=w.cache[p]={normalized:[]},!v.eq(p).hasClass(w.cssInfoBlock)){for(m=v[p]&&v[p].rows.length||0,l=0;l<m;++l)if(b={child:[]},f=e(v[p].rows[l]),[new Array(w.columns)],g=[],f.hasClass(w.cssChildRow)&&0!==l)i=o.normalized.length-1,o.normalized[i][w.columns].$row=o.normalized[i][w.columns].$row.add(f),f.prev().hasClass(w.cssChildRow)||f.prev().addClass(t.css.cssHasChild),b.child[i]=e.trim(f[0].textContent||f[0].innerText||f.text()||"");else{for(b.$row=f,b.order=l,u=0;u<w.columns;++u)void 0!==C[u]?(i=n(a,f[0].cells[u],u),d=void 0===x[u].id?i:x[u].format(i,a,f[0].cells[u],u),c="no-parser"===C[u].id?"":C[u].format(d,a,f[0].cells[u],u),g.push(w.ignoreCase&&"string"==typeof c?c.toLowerCase():c),"numeric"===(C[u].type||"").toLowerCase()&&(y[u]=Math.max(Math.abs(c)||0,y[u]||0))):w.debug&&r("No parser found for cell:",f[0].cells[u],"does it have a header?");g[w.columns]=b,o.normalized.push(g)}o.colMax=y,w.totalRows+=o.normalized.length}w.showProcessing&&t.isProcessing(a),w.debug&&s("Building cache for "+m+" rows",h)}function c(r,n){var o,i,d,c,l,u,p,f=r.config,g=f.widgetOptions,h=r.tBodies,m=[],b=f.cache;if(a(b))return f.appender?f.appender(r,m):r.isUpdating?f.$table.trigger("updateComplete",r):"";for(f.debug&&(p=new Date),u=0;u<h.length;u++)if((d=e(h[u])).length&&!d.hasClass(f.cssInfoBlock)){for(c=t.processTbody(r,d,!0),i=(o=b[u].normalized).length,l=0;l<i;l++)m.push(o[l][f.columns].$row),f.appender&&(!f.pager||f.pager.removeRows&&g.pager_removeRows||f.pager.ajax)||c.append(o[l][f.columns].$row);t.processTbody(r,c,!1)}f.appender&&f.appender(r,m),f.debug&&s("Rebuilt table",p),n||f.appender||t.applyWidget(r),r.isUpdating&&f.$table.trigger("updateComplete",r)}function l(e){return/^d/i.test(e)||1===e}function u(a){var n,o,i,d,c,u,p,g=a.config;g.headerList=[],g.headerContent=[],g.debug&&(p=new Date),g.columns=t.computeColumnIndex(g.$table.children("thead, tfoot").children("tr")),d=g.cssIcon?'<i class="'+(g.cssIcon===t.css.icon?t.css.icon:g.cssIcon+" "+t.css.icon)+'"></i>':"",g.$headers=e(a).find(g.selectorHeaders).each((function(r){o=e(this),n=t.getColumnData(a,g.headers,r,!0),g.headerContent[r]=e(this).html(),c=g.headerTemplate.replace(/\{content\}/g,e(this).html()).replace(/\{icon\}/g,d),g.onRenderTemplate&&(i=g.onRenderTemplate.apply(o,[r,c]))&&"string"==typeof i&&(c=i),e(this).html('<div class="'+t.css.headerIn+'">'+c+"</div>"),g.onRenderHeader&&g.onRenderHeader.apply(o,[r]),this.column=parseInt(e(this).attr("data-column"),10),this.order=l(t.getData(o,n,"sortInitialOrder")||g.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,void 0!==(u=t.getData(o,n,"lockedOrder")||!1)&&!1!==u&&(this.order=this.lockedOrder=l(u)?[1,1,1]:[0,0,0]),o.addClass(t.css.header+" "+g.cssHeader),g.headerList[r]=this,o.parent().addClass(t.css.headerRow+" "+g.cssHeaderRow).attr("role","row"),g.tabIndex&&o.attr("tabindex",0)})).attr({scope:"col",role:"columnheader"}),f(a),g.debug&&(s("Built headers:",p),r(g.$headers))}function p(e,t,r){var s=e.config;s.$table.find(s.selectorRemove).remove(),i(e),d(e),w(s.$table,t,r)}function f(r){var s,a,n,o=r.config;o.$headers.each((function(i,d){a=e(d),n=t.getColumnData(r,o.headers,i,!0),s="false"===t.getData(d,n,"sorter")||"false"===t.getData(d,n,"parser"),d.sortDisabled=s,a[s?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+s),r.id&&(s?a.removeAttr("aria-controls"):a.attr("aria-controls",r.id))}))}function g(r){var s,a,n,o=r.config,i=o.sortList,d=i.length,c=t.css.sortNone+" "+o.cssNone,l=[t.css.sortAsc+" "+o.cssAsc,t.css.sortDesc+" "+o.cssDesc],u=["ascending","descending"],p=e(r).find("tfoot tr").children().add(o.$extraHeaders).removeClass(l.join(" "));for(o.$headers.removeClass(l.join(" ")).addClass(c).attr("aria-sort","none"),a=0;a<d;a++)if(2!==i[a][1]&&(s=o.$headers.not(".sorter-false").filter('[data-column="'+i[a][0]+'"]'+(1===d?":last":""))).length){for(n=0;n<s.length;n++)s[n].sortDisabled||s.eq(n).removeClass(c).addClass(l[i[a][1]]).attr("aria-sort",u[i[a][1]]);p.length&&p.filter('[data-column="'+i[a][0]+'"]').removeClass(c).addClass(l[i[a][1]])}o.$headers.not(".sorter-false").each((function(){var r=e(this),s=this.order[(this.count+1)%(o.sortReset?3:2)],a=r.text()+": "+t.language[r.hasClass(t.css.sortAsc)?"sortAsc":r.hasClass(t.css.sortDesc)?"sortDesc":"sortNone"]+t.language[0===s?"nextAsc":1===s?"nextDesc":"nextNone"];r.attr("aria-label",a)}))}function h(e,t){return e&&e[t]&&e[t].type||""}function m(r,s,a){if(r.isUpdating)return setTimeout((function(){m(r,s,a)}),50);var n,o,i,d,l,u=r.config,p=!a[u.sortMultiSortKey],f=u.$table;if(f.trigger("sortStart",r),s.count=a[u.sortResetKey]?2:(s.count+1)%(u.sortReset?3:2),u.sortRestart&&(o=s,u.$headers.each((function(){this===o||!p&&e(this).is("."+t.css.sortDesc+",."+t.css.sortAsc)||(this.count=-1)}))),o=s.column,p){if(u.sortList=[],null!==u.sortForce)for(n=u.sortForce,i=0;i<n.length;i++)n[i][0]!==o&&u.sortList.push(n[i]);if((d=s.order[s.count])<2&&(u.sortList.push([o,d]),s.colSpan>1))for(i=1;i<s.colSpan;i++)u.sortList.push([o+i,d])}else{if(u.sortAppend&&u.sortList.length>1)for(i=0;i<u.sortAppend.length;i++)(l=t.isValueInArray(u.sortAppend[i][0],u.sortList))>=0&&u.sortList.splice(l,1);if(t.isValueInArray(o,u.sortList)>=0)for(i=0;i<u.sortList.length;i++)l=u.sortList[i],d=u.$headers.filter('[data-column="'+l[0]+'"]:last')[0],l[0]===o&&(l[1]=d.order[s.count],2===l[1]&&(u.sortList.splice(i,1),d.count=-1));else if((d=s.order[s.count])<2&&(u.sortList.push([o,d]),s.colSpan>1))for(i=1;i<s.colSpan;i++)u.sortList.push([o+i,d])}if(null!==u.sortAppend)for(n=u.sortAppend,i=0;i<n.length;i++)n[i][0]!==o&&u.sortList.push(n[i]);f.trigger("sortBegin",r),setTimeout((function(){g(r),b(r),c(r),f.trigger("sortEnd",r)}),1)}function b(e){var r,n,o,i,d,c,l,u,p,f,g=0,m=e.config,b=m.textSorter||"",y=m.sortList,w=y.length,v=e.tBodies.length;if(!m.serverSideSorting&&!a(m.cache)){for(m.debug&&(d=new Date),n=0;n<v;n++)c=m.cache[n].colMax,m.cache[n].normalized.sort((function(s,a){for(r=0;r<w;r++){if(i=y[r][0],l=y[r][1],g=0===l,m.sortStable&&s[i]===a[i]&&1===w)return s[m.columns].order-a[m.columns].order;if((o=/n/i.test(h(m.parsers,i)))&&m.strings[i]?(o="boolean"==typeof m.string[m.strings[i]]?(g?1:-1)*(m.string[m.strings[i]]?-1:1):m.strings[i]&&m.string[m.strings[i]]||0,u=m.numberSorter?m.numberSorter(s[i],a[i],g,c[i],e):t["sortNumeric"+(g?"Asc":"Desc")](s[i],a[i],o,c[i],i,e)):(p=g?s:a,f=g?a:s,u="function"==typeof b?b(p[i],f[i],g,i,e):"object"==typeof b&&b.hasOwnProperty(i)?b[i](p[i],f[i],g,i,e):t["sortNatural"+(g?"Asc":"Desc")](s[i],a[i],i,e,m)),u)return u}return s[m.columns].order-a[m.columns].order}));m.debug&&s("Sorting on "+y.toString()+" and dir "+l+" time",d)}}function y(t,r){t[0].isUpdating&&t.trigger("updateComplete"),e.isFunction(r)&&r(t[0])}function w(e,r,s){var a=e[0].config.sortList;!1!==r&&!e[0].isProcessing&&a.length?e.trigger("sorton",[a,function(){y(e,s)},!0]):(y(e,s),t.applyWidget(e[0],!1))}function v(r){var s=r.config,o=s.$table;o.unbind("sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(s.namespace+" ")).bind("sortReset"+s.namespace,(function(t,a){t.stopPropagation(),s.sortList=[],g(r),b(r),c(r),e.isFunction(a)&&a(r)})).bind("updateAll"+s.namespace,(function(e,a,n){e.stopPropagation(),r.isUpdating=!0,t.refreshWidgets(r,!0,!0),t.restoreHeaders(r),u(r),t.bindEvents(r,s.$headers,!0),v(r),p(r,a,n)})).bind("update"+s.namespace+" updateRows"+s.namespace,(function(e,t,s){e.stopPropagation(),r.isUpdating=!0,f(r),p(r,t,s)})).bind("updateCell"+s.namespace,(function(t,a,i,d){t.stopPropagation(),r.isUpdating=!0,o.find(s.selectorRemove).remove();var c,l,u,p,f=o.find("tbody"),g=e(a),h=f.index(e.fn.closest?g.closest("tbody"):g.parents("tbody").filter(":first")),m=e.fn.closest?g.closest("tr"):g.parents("tr").filter(":first");a=g[0],f.length&&h>=0&&(u=f.eq(h).find("tr").index(m),p=g.index(),s.cache[h].normalized[u][s.columns].$row=m,l=void 0===s.extractors[p].id?n(r,a,p):s.extractors[p].format(n(r,a,p),r,a,p),c="no-parser"===s.parsers[p].id?"":s.parsers[p].format(l,r,a,p),s.cache[h].normalized[u][p]=s.ignoreCase&&"string"==typeof c?c.toLowerCase():c,"numeric"===(s.parsers[p].type||"").toLowerCase()&&(s.cache[h].colMax[p]=Math.max(Math.abs(c)||0,s.cache[h].colMax[p]||0)),w(o,i,d))})).bind("addRows"+s.namespace,(function(t,d,c,l){if(t.stopPropagation(),r.isUpdating=!0,a(s.cache))f(r),p(r,c,l);else{var u,g,h,m,b,y,v,x=(d=e(d).attr("role","row")).filter("tr").length,C=o.find("tbody").index(d.parents("tbody").filter(":first"));for(s.parsers&&s.parsers.length||i(r),u=0;u<x;u++){for(h=d[u].cells.length,v=[],y={child:[],$row:d.eq(u),order:s.cache[C].normalized.length},g=0;g<h;g++)m=void 0===s.extractors[g].id?n(r,d[u].cells[g],g):s.extractors[g].format(n(r,d[u].cells[g],g),r,d[u].cells[g],g),b="no-parser"===s.parsers[g].id?"":s.parsers[g].format(m,r,d[u].cells[g],g),v[g]=s.ignoreCase&&"string"==typeof b?b.toLowerCase():b,"numeric"===(s.parsers[g].type||"").toLowerCase()&&(s.cache[C].colMax[g]=Math.max(Math.abs(v[g])||0,s.cache[C].colMax[g]||0));v.push(y),s.cache[C].normalized.push(v)}w(o,c,l)}})).bind("updateComplete"+s.namespace,(function(){r.isUpdating=!1})).bind("sorton"+s.namespace,(function(s,n,i,l){var u=r.config;s.stopPropagation(),o.trigger("sortStart",this),function(t,r){var s,a,n,o,i,d=t.config,c=r||d.sortList;d.sortList=[],e.each(c,(function(t,r){if(o=parseInt(r[0],10),n=d.$headers.filter('[data-column="'+o+'"]:last')[0]){switch(a=(a=(""+r[1]).match(/^(1|d|s|o|n)/))?a[0]:""){case"1":case"d":a=1;break;case"s":a=i||0;break;case"o":s=n.order[(i||0)%(d.sortReset?3:2)],a=0===s?1:1===s?0:2;break;case"n":n.count=n.count+1,a=n.order[n.count%(d.sortReset?3:2)];break;default:a=0}i=0===t?a:i,s=[o,parseInt(a,10)||0],d.sortList.push(s),a=e.inArray(s[1],n.order),n.count=a>=0?a:s[1]%(d.sortReset?3:2)}}))}(r,n),g(r),u.delayInit&&a(u.cache)&&d(r),o.trigger("sortBegin",this),b(r),c(r,l),o.trigger("sortEnd",this),t.applyWidget(r),e.isFunction(i)&&i(r)})).bind("appendCache"+s.namespace,(function(t,s,a){t.stopPropagation(),c(r,a),e.isFunction(s)&&s(r)})).bind("updateCache"+s.namespace,(function(t,a){s.parsers&&s.parsers.length||i(r),d(r),e.isFunction(a)&&a(r)})).bind("applyWidgetId"+s.namespace,(function(e,a){e.stopPropagation(),t.getWidgetById(a).format(r,s,s.widgetOptions)})).bind("applyWidgets"+s.namespace,(function(e,s){e.stopPropagation(),t.applyWidget(r,s)})).bind("refreshWidgets"+s.namespace,(function(e,s,a){e.stopPropagation(),t.refreshWidgets(r,s,a)})).bind("destroy"+s.namespace,(function(e,s,a){e.stopPropagation(),t.destroy(r,s,a)})).bind("resetToLoadState"+s.namespace,(function(){t.refreshWidgets(r,!0,!0),s=e.extend(!0,t.defaults,s.originalSettings),r.hasInitialized=!1,t.setup(r,s)}))}t.version="2.17.7",t.parsers=[],t.widgets=[],t.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},t.css={table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",info:"tablesorter-infoOnly",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},t.language={sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},t.log=r,t.benchmark=s,t.construct=function(r){return this.each((function(){var s=this,a=e.extend(!0,{},t.defaults,r);a.originalSettings=r,!s.hasInitialized&&t.buildTable&&"TABLE"!==this.tagName?t.buildTable(s,a):t.setup(s,a)}))},t.setup=function(s,a){if(!s||!s.tHead||0===s.tBodies.length||!0===s.hasInitialized)return a.debug?r("ERROR: stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var n,o="",c=e(s),l=e.metadata;s.hasInitialized=!1,s.isProcessing=!0,s.config=a,e.data(s,"tablesorter",a),a.debug&&e.data(s,"startoveralltimer",new Date),a.supportsDataObject=((n=e.fn.jquery.split("."))[0]=parseInt(n[0],10),n[0]>1||1===n[0]&&parseInt(n[1],10)>=4),a.string={max:1,min:-1,emptyMin:1,emptyMax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},/tablesorter\-/.test(c.attr("class"))||(o=""!==a.theme?" tablesorter-"+a.theme:""),a.table=s,a.$table=c.addClass(t.css.table+" "+a.tableClass+o).attr("role","grid"),a.$headers=c.find(a.selectorHeaders),a.namespace?a.namespace="."+a.namespace.replace(/\W/g,""):a.namespace=".tablesorter"+Math.random().toString(16).slice(2),a.$table.children().children("tr").attr("role","row"),a.$tbodies=c.children("tbody:not(."+a.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),a.$table.find("caption").length&&a.$table.attr("aria-labelledby","theCaption"),a.widgetInit={},a.textExtraction=a.$table.attr("data-text-extraction")||a.textExtraction||"basic",u(s),function(t){if(t.config.widthFixed&&0===e(t).find("colgroup").length){var r=e("<colgroup>"),s=e(t).width();e(t.tBodies[0]).find("tr:first").children(":visible").each((function(){r.append(e("<col>").css("width",parseInt(e(this).width()/s*1e3,10)/10+"%"))})),e(t).prepend(r)}}(s),i(s),a.totalRows=0,a.delayInit||d(s),t.bindEvents(s,a.$headers,!0),v(s),a.supportsDataObject&&void 0!==c.data().sortlist?a.sortList=c.data().sortlist:l&&c.metadata()&&c.metadata().sortlist&&(a.sortList=c.metadata().sortlist),t.applyWidget(s,!0),a.sortList.length>0?c.trigger("sorton",[a.sortList,{},!a.initWidgets,!0]):(g(s),a.initWidgets&&t.applyWidget(s,!1)),a.showProcessing&&c.unbind("sortBegin"+a.namespace+" sortEnd"+a.namespace).bind("sortBegin"+a.namespace+" sortEnd"+a.namespace,(function(e){clearTimeout(a.processTimer),t.isProcessing(s),"sortBegin"===e.type&&(a.processTimer=setTimeout((function(){t.isProcessing(s,!0)}),500))})),s.hasInitialized=!0,s.isProcessing=!1,a.debug&&t.benchmark("Overall initialization time",e.data(s,"startoveralltimer")),c.trigger("tablesorter-initialized",s),"function"==typeof a.initialized&&a.initialized(s)},t.getColumnData=function(t,r,s,a){if(null!=r){var n,o=(t=e(t)[0]).config;if(r[s])return a?r[s]:r[o.$headers.index(o.$headers.filter('[data-column="'+s+'"]:last'))];for(n in r)if("string"==typeof n&&(a?o.$headers.eq(s).filter(n):o.$headers.filter('[data-column="'+s+'"]:last').filter(n)).length)return r[n]}},t.computeColumnIndex=function(t){var r,s,a,n,o,i,d,c,l,u,p,f,g,h=[],m={},b=0;for(r=0;r<t.length;r++)for(d=t[r].cells,s=0;s<d.length;s++){for(i=d[s],o=e(i),l=(c=i.parentNode.rowIndex)+"-"+o.index(),u=i.rowSpan||1,p=i.colSpan||1,void 0===h[c]&&(h[c]=[]),a=0;a<h[c].length+1;a++)if(void 0===h[c][a]){f=a;break}for(m[l]=f,b=Math.max(f,b),o.attr({"data-column":f}),a=c;a<c+u;a++)for(void 0===h[a]&&(h[a]=[]),g=h[a],n=f;n<f+p;n++)g[n]="x"}return b+1},t.isProcessing=function(r,s,a){var n=(r=e(r))[0].config,o=a||r.find("."+t.css.header);s?(void 0!==a&&n.sortList.length>0&&(o=o.filter((function(){return!this.sortDisabled&&t.isValueInArray(parseFloat(e(this).attr("data-column")),n.sortList)>=0}))),r.add(o).addClass(t.css.processing+" "+n.cssProcessing)):r.add(o).removeClass(t.css.processing+" "+n.cssProcessing)},t.processTbody=function(t,r,s){var a;if(t=e(t)[0],s)return t.isProcessing=!0,r.before('<span class="tablesorter-savemyplace"/>'),a=e.fn.detach?r.detach():r.remove();a=e(t).find("span.tablesorter-savemyplace"),r.insertAfter(a),a.remove(),t.isProcessing=!1},t.clearTableBody=function(t){e(t)[0].config.$tbodies.children().detach()},t.bindEvents=function(t,r,s){var n,o=(t=e(t)[0]).config;!0!==s&&(o.$extraHeaders=o.$extraHeaders?o.$extraHeaders.add(r):r),r.find(o.selectorSort).add(r.filter(o.selectorSort)).unbind("mousedown mouseup sort keyup ".split(" ").join(o.namespace+" ")).bind("mousedown mouseup sort keyup ".split(" ").join(o.namespace+" "),(function(s,i){var c,l=s.type;if(!(1!==(s.which||s.button)&&!/sort|keyup/.test(l)||"keyup"===l&&13!==s.which||"mouseup"===l&&!0!==i&&(new Date).getTime()-n>250)){if("mousedown"===l)return n=(new Date).getTime(),/(input|select|button|textarea)/i.test(s.target.tagName)?"":!o.cancelSelection;o.delayInit&&a(o.cache)&&d(t),c=e.fn.closest?e(this).closest("th, td")[0]:/TH|TD/.test(this.tagName)?this:e(this).parents("th, td")[0],(c=o.$headers[r.index(c)]).sortDisabled||m(t,c,s)}})),o.cancelSelection&&r.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},t.restoreHeaders=function(r){var s=e(r)[0].config;s.$table.find(s.selectorHeaders).each((function(r){e(this).find("."+t.css.headerIn).length&&e(this).html(s.headerContent[r])}))},t.destroy=function(r,s,a){if((r=e(r)[0]).hasInitialized){t.refreshWidgets(r,!0,!0);var n=e(r),o=r.config,i=n.find("thead:first"),d=i.find("tr."+t.css.headerRow).removeClass(t.css.headerRow+" "+o.cssHeaderRow),c=n.find("tfoot:first > tr").children("th, td");!1===s&&e.inArray("uitheme",o.widgets)>=0&&(n.trigger("applyWidgetId",["uitheme"]),n.trigger("applyWidgetId",["zebra"])),i.find("tr").not(d).remove(),n.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd resetToLoadState ".split(" ").join(o.namespace+" ")),o.$headers.add(c).removeClass([t.css.header,o.cssHeader,o.cssAsc,o.cssDesc,t.css.sortAsc,t.css.sortDesc,t.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),d.find(o.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(o.namespace+" ")),t.restoreHeaders(r),n.toggleClass(t.css.table+" "+o.tableClass+" tablesorter-"+o.theme,!1===s),r.hasInitialized=!1,delete r.config.cache,"function"==typeof a&&a(r)}},t.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i},t.sortNatural=function(e,r){if(e===r)return 0;var s,a,n,o,i,d,c,l,u=t.regex;if(u.hex.test(r)){if((a=parseInt(e.match(u.hex),16))<(o=parseInt(r.match(u.hex),16)))return-1;if(a>o)return 1}for(s=e.replace(u.chunk,"\\0$1\\0").replace(u.chunks,"").split("\\0"),n=r.replace(u.chunk,"\\0$1\\0").replace(u.chunks,"").split("\\0"),l=Math.max(s.length,n.length),c=0;c<l;c++){if(i=isNaN(s[c])?s[c]||0:parseFloat(s[c])||0,d=isNaN(n[c])?n[c]||0:parseFloat(n[c])||0,isNaN(i)!==isNaN(d))return isNaN(i)?1:-1;if(typeof i!=typeof d&&(i+="",d+=""),i<d)return-1;if(i>d)return 1}return 0},t.sortNaturalAsc=function(e,r,s,a,n){if(e===r)return 0;var o=n.string[n.empties[s]||n.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:-o||-1:""===r&&0!==o?"boolean"==typeof o?o?1:-1:o||1:t.sortNatural(e,r)},t.sortNaturalDesc=function(e,r,s,a,n){if(e===r)return 0;var o=n.string[n.empties[s]||n.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:o||1:""===r&&0!==o?"boolean"==typeof o?o?1:-1:-o||-1:t.sortNatural(r,e)},t.sortText=function(e,t){return e>t?1:e<t?-1:0},t.getTextValue=function(e,t,r){if(r){var s,a=e?e.length:0,n=r+t;for(s=0;s<a;s++)n+=e.charCodeAt(s);return t*n}return 0},t.sortNumericAsc=function(e,r,s,a,n,o){if(e===r)return 0;var i=o.config,d=i.string[i.empties[n]||i.emptyTo];return""===e&&0!==d?"boolean"==typeof d?d?-1:1:-d||-1:""===r&&0!==d?"boolean"==typeof d?d?1:-1:d||1:(isNaN(e)&&(e=t.getTextValue(e,s,a)),isNaN(r)&&(r=t.getTextValue(r,s,a)),e-r)},t.sortNumericDesc=function(e,r,s,a,n,o){if(e===r)return 0;var i=o.config,d=i.string[i.empties[n]||i.emptyTo];return""===e&&0!==d?"boolean"==typeof d?d?-1:1:d||1:""===r&&0!==d?"boolean"==typeof d?d?1:-1:-d||-1:(isNaN(e)&&(e=t.getTextValue(e,s,a)),isNaN(r)&&(r=t.getTextValue(r,s,a)),r-e)},t.sortNumeric=function(e,t){return e-t},t.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},t.replaceAccents=function(e){var r,s="[",a=t.characterEquivalents;if(!t.characterRegex){for(r in t.characterRegexArray={},a)"string"==typeof r&&(s+=a[r],t.characterRegexArray[r]=new RegExp("["+a[r]+"]","g"));t.characterRegex=new RegExp(s+"]")}if(t.characterRegex.test(e))for(r in a)"string"==typeof r&&(e=e.replace(t.characterRegexArray[r],r));return e},t.isValueInArray=function(e,t){var r,s=t.length;for(r=0;r<s;r++)if(t[r][0]===e)return r;return-1},t.addParser=function(e){var r,s=t.parsers.length,a=!0;for(r=0;r<s;r++)t.parsers[r].id.toLowerCase()===e.id.toLowerCase()&&(a=!1);a&&t.parsers.push(e)},t.getParserById=function(e){if("false"==e)return!1;var r,s=t.parsers.length;for(r=0;r<s;r++)if(t.parsers[r].id.toLowerCase()===e.toString().toLowerCase())return t.parsers[r];return!1},t.addWidget=function(e){t.widgets.push(e)},t.hasWidget=function(t,r){return(t=e(t)).length&&t[0].config&&t[0].config.widgetInit[r]||!1},t.getWidgetById=function(e){var r,s,a=t.widgets.length;for(r=0;r<a;r++)if((s=t.widgets[r])&&s.hasOwnProperty("id")&&s.id.toLowerCase()===e.toLowerCase())return s},t.applyWidget=function(r,a){var n,o,i,d=(r=e(r)[0]).config,c=d.widgetOptions,l=[];!1!==a&&r.hasInitialized&&(r.isApplyingWidgets||r.isUpdating)||(d.debug&&(n=new Date),d.widgets.length&&(r.isApplyingWidgets=!0,d.widgets=e.grep(d.widgets,(function(t,r){return e.inArray(t,d.widgets)===r})),e.each(d.widgets||[],(function(e,r){(i=t.getWidgetById(r))&&i.id&&(i.priority||(i.priority=10),l[e]=i)})),l.sort((function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1})),e.each(l,(function(t,s){s&&(!a&&d.widgetInit[s.id]||(d.widgetInit[s.id]=!0,s.hasOwnProperty("options")&&(c=r.config.widgetOptions=e.extend(!0,{},s.options,c)),s.hasOwnProperty("init")&&s.init(r,s,d,c)),!a&&s.hasOwnProperty("format")&&s.format(r,d,c,!1))}))),setTimeout((function(){r.isApplyingWidgets=!1}),0),d.debug&&(o=d.widgets.length,s("Completed "+(!0===a?"initializing ":"applying ")+o+" widget"+(1!==o?"s":""),n)))},t.refreshWidgets=function(s,a,n){var o,i=(s=e(s)[0]).config,d=i.widgets,c=t.widgets,l=c.length;for(o=0;o<l;o++)c[o]&&c[o].id&&(a||e.inArray(c[o].id,d)<0)&&(i.debug&&r('Refeshing widgets: Removing "'+c[o].id+'"'),c[o].hasOwnProperty("remove")&&i.widgetInit[c[o].id]&&(c[o].remove(s,i,i.widgetOptions),i.widgetInit[c[o].id]=!1));!0!==n&&t.applyWidget(s,a)},t.getData=function(t,r,s){var a,n,o="",i=e(t);return i.length?(a=!!e.metadata&&i.metadata(),n=" "+(i.attr("class")||""),void 0!==i.data(s)||void 0!==i.data(s.toLowerCase())?o+=i.data(s)||i.data(s.toLowerCase()):a&&void 0!==a[s]?o+=a[s]:r&&void 0!==r[s]?o+=r[s]:" "!==n&&n.match(" "+s+"-")&&(o=n.match(new RegExp("\\s"+s+"-([\\w-]+)"))[1]||""),e.trim(o)):""},t.formatFloat=function(t,r){return"string"!=typeof t||""===t?t:(t=(r&&r.config?!1!==r.config.usNumberFormat:void 0===r||r)?t.replace(/,/g,""):t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(([.\d]+)\)/,"-$1")),s=parseFloat(t),isNaN(s)?e.trim(t):s);var s},t.isDigit=function(e){return!isNaN(e)||/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,""))}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),t.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),t.addParser({id:"text",is:function(){return!0},format:function(r,s){var a=s.config;return r&&(r=e.trim(a.ignoreCase?r.toLocaleLowerCase():r),r=a.sortLocaleCompare?t.replaceAccents(r):r),r},type:"text"}),t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(r,s){var a=t.formatFloat((r||"").replace(/[^\w,. \-()]/g,""),s);return r&&"number"==typeof a?a:r?e.trim(r&&s.config.ignoreCase?r.toLocaleLowerCase():r):r},type:"numeric"}),t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((e||"").replace(/[+\-,. ]/g,""))},format:function(r,s){var a=t.formatFloat((r||"").replace(/[^\w,. \-()]/g,""),s);return r&&"number"==typeof a?a:r?e.trim(r&&s.config.ignoreCase?r.toLocaleLowerCase():r):r},type:"numeric"}),t.addParser({id:"ipAddress",is:function(e){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(e)},format:function(e,r){var s,a=e?e.split("."):"",n="",o=a.length;for(s=0;s<o;s++)n+=("00"+a[s]).slice(-3);return e?t.formatFloat(n,r):e},type:"numeric"}),t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return t?e.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},type:"text"}),t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(e)},format:function(e,r){return e?t.formatFloat(""!==e?new Date(e.replace(/-/g,"/")).getTime()||e:"",r):e},type:"numeric"}),t.addParser({id:"percent",is:function(e){return/(\d\s*?%|%\s*?\d)/.test(e)&&e.length<15},format:function(e,r){return e?t.formatFloat(e.replace(/%/g,""),r):e},type:"numeric"}),t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(e)},format:function(e,r){return e?t.formatFloat(new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||e,r):e},type:"numeric"}),t.addParser({id:"shortDate",is:function(e){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((e||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(e,r,s,a){if(e){var n=r.config,o=n.$headers.filter("[data-column="+a+"]:last"),i=o.length&&o[0].dateFormat||t.getData(o,t.getColumnData(r,n.headers,a),"dateFormat")||n.dateFormat;e=e.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===i?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===i?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===i&&(e=e.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return e?t.formatFloat(new Date(e).getTime()||e,r):e},type:"numeric"}),t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e,r){return e?t.formatFloat(new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||e,r):e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,r,s){var a=r.config,n=a.parserMetadataName?a.parserMetadataName:"sortValue";return e(s).metadata()[n]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(r,s,a){var n,o,i,d,c,l,u=new RegExp(s.cssChildRow,"i"),p=s.$tbodies;for(s.debug&&(c=new Date),l=0;l<p.length;l++)(n=p.eq(l)).children("tr").length>1&&(i=0,n.children("tr:visible").not(s.selectorRemove).each((function(){o=e(this),u.test(this.className)||i++,d=i%2==0,o.removeClass(a.zebra[d?1:0]).addClass(a.zebra[d?0:1])})));s.debug&&t.benchmark("Applying Zebra widget",c)},remove:function(t,r,s){var a,n,o=r.$tbodies,i=(s.zebra||["even","odd"]).join(" ");for(a=0;a<o.length;a++)(n=e.tablesorter.processTbody(t,o.eq(a),!0)).children().removeClass(i),e.tablesorter.processTbody(t,n,!1)}})}(jQuery)},M8Tw:function(e,t,r){"use strict";r.r(t);r("jJ4L");var s=r("+x/D"),a=(r("AqzS"),r("KloK"));const n={sortMultiSortKey:"",headers:{},debug:!1,tabIndex:!1};function o(e,t){let r=Object.assign({},n,t);return e.find("th").each((function(e,t){const a=Object(s.default)(t);r.headers[e]={},a.hasClass("aui-table-column-unsortable")?r.headers[e].sorter=!1:(a.attr("tabindex","0"),a.wrapInner("<span class='aui-table-header-content'/>"),a.hasClass("aui-table-column-issue-key")&&(r.headers[e].sorter="issue-key"))})),e.tablesorter(r)}let i={setup:function(){s.default.tablesorter.addParser({id:"issue-key",is:function(){return!1},format:function(e){const t=e.split("-"),r=t[0],s=t[1],a="..........",n="000000";let o=(r+a).slice(0,a.length);return o+=(n+s).slice(-n.length),o},type:"text"}),s.default.tablesorter.addParser({id:"textSortAttributeParser",is:function(e,t,r){return r.hasAttribute("data-sort-value")&&(!r.hasAttribute("data-sort-type")||"text"===r.getAttribute("data-sort-type"))},format:function(e,t,r){return r.getAttribute("data-sort-value")},type:"text"}),s.default.tablesorter.addParser({id:"numericSortAttributeParser",is:function(e,t,r){return"numeric"===r.getAttribute("data-sort-type")&&r.hasAttribute("data-sort-value")},format:function(e,t,r){return r.getAttribute("data-sort-value")},type:"numeric"}),Object(s.default)(".aui-table-sortable").each((function(){o(Object(s.default)(this))}))},setTableSortable:function(e,t){return o(e,t)}};Object(s.default)(i.setup),Object(a.default)("tablessortable",i)}},[["M8Tw","runtime","aui.splitchunk.0d131bcbf1","aui.splitchunk.fbbef27525","aui.splitchunk.444efc83be","aui.splitchunk.739b9ec8cc","aui.splitchunk.056561461c","aui.splitchunk.949297951c","aui.splitchunk.d7c46c2734","aui.splitchunk.fb15cffa72","aui.splitchunk.862f26d10a","aui.splitchunk.b2ecdd4179","aui.splitchunk.16f099a0da"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:tasks-report-resources', location = 'templates/tasks-report.soy' */
// This file was automatically generated from tasks-report.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.InlineTasks.Report.Templates.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.InlineTasks == 'undefined') { Confluence.InlineTasks = {}; }
if (typeof Confluence.InlineTasks.Report == 'undefined') { Confluence.InlineTasks.Report = {}; }
if (typeof Confluence.InlineTasks.Report.Templates == 'undefined') { Confluence.InlineTasks.Report.Templates = {}; }


Confluence.InlineTasks.Report.Templates.tasksReport = function(opt_data, opt_ignored) {
  var output = ((opt_data.printDebugInformation) ? '<div id="debug-information-block"><header><h1>Debug information</h1><small>This block is displayed because \'force-use-bulk-permissions\' GET parameter was provided<small></header><p>Fast permissions up and running: ' + soy.$$escapeHtml(opt_data.fastPermissionsUpAndRunning) + '</p><p><b>Fast permissions API called: ' + soy.$$escapeHtml(opt_data.shouldCallBulkPermissionsAPI) + '</b></p><p>Is the DB supported (by fast permissions): ' + soy.$$escapeHtml(opt_data.isDatabaseSupported) + '</p><p>Database dialect: ' + soy.$$escapeHtml(opt_data.databaseDialect) + '</p><p>Database version: ' + soy.$$escapeHtml(opt_data.databaseVersion) + '</p><p>Inline tasks retrieved: ' + soy.$$escapeHtml(opt_data.tasks.length) + '</p><p>Macro parameters: ' + soy.$$escapeHtml(opt_data.reportParameters) + '</p><p>Duration: ' + soy.$$escapeHtml(opt_data.duration) + '</p></div>' : '') + '<div class="table-wrapper" data-loading="false"><div class="task-blanket"></div><input type="hidden" name="reportParameters" value="' + soy.$$escapeHtml(opt_data.reportParameters) + '" /><table class="aui aui-table-interactive tasks-report" data-sortable="false" data-total-pages="' + soy.$$escapeHtml(opt_data.totalPages) + '" data-page-size="' + soy.$$escapeHtml(opt_data.pageSize) + '" data-adaptive="' + soy.$$escapeHtml(opt_data.adaptive) + '" data-page-limit="' + soy.$$escapeHtml(opt_data.pageLimit) + '"><thead><tr class="tablesorter-headerRow">';
  var headingList33 = opt_data.headings;
  var headingListLen33 = headingList33.length;
  for (var headingIndex33 = 0; headingIndex33 < headingListLen33; headingIndex33++) {
    var headingData33 = headingList33[headingIndex33];
    output += '<th class="header-' + soy.$$escapeHtml(headingData33) + ((headingData33 == 'description') ? ' aui-table-column-unsortable' : '') + '" data-column-name="' + soy.$$escapeHtml(headingData33) + '">' + soy.$$escapeHtml(opt_data.headingTexts[headingData33]) + '</th>';
  }
  output += '</tr></thead><tbody>';
  if (opt_data.tasks.length) {
    var taskList48 = opt_data.tasks;
    var taskListLen48 = taskList48.length;
    for (var taskIndex48 = 0; taskIndex48 < taskListLen48; taskIndex48++) {
      var taskData48 = taskList48[taskIndex48];
      output += Confluence.InlineTasks.Report.Templates.tasksReportLine({task: taskData48, columns: opt_data.headings});
    }
  } else {
    output += '<tr><td colspan="' + soy.$$escapeHtml(opt_data.headings.length) + '">' + soy.$$escapeHtml('Create a task list in a Confluence page to keep track of things you need to do.') + '</td></tr>';
  }
  output += '</tbody></table></div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.InlineTasks.Report.Templates.tasksReport.soyTemplateName = 'Confluence.InlineTasks.Report.Templates.tasksReport';
}


Confluence.InlineTasks.Report.Templates.tasksFeatureDiscoveryNotification = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('Hey! Did you know...') + '</h2><p>' + soy.$$escapeHtml('You can view the tasks you created, or assigned to you, in the tasks tabs of your profile.') + '</p>';
};
if (goog.DEBUG) {
  Confluence.InlineTasks.Report.Templates.tasksFeatureDiscoveryNotification.soyTemplateName = 'Confluence.InlineTasks.Report.Templates.tasksFeatureDiscoveryNotification';
}


Confluence.InlineTasks.Report.Templates.tasksReportLine = function(opt_data, opt_ignored) {
  var output = '<tr data-task-id="' + soy.$$escapeHtml(opt_data.task.taskId) + '" aria-disabled="false">';
  var columnList70 = opt_data.columns;
  var columnListLen70 = columnList70.length;
  for (var columnIndex70 = 0; columnIndex70 < columnListLen70; columnIndex70++) {
    var columnData70 = columnList70[columnIndex70];
    if (columnData70 == 'duedate') {
      output += '<td class=\'tasks-report-date\'>' + ((opt_data.task.dueDate) ? soy.$$escapeHtml(opt_data.task.dueDate) : '') + '</td>';
    } else if (columnData70 == 'description') {
      output += '<td>' + soy.$$filterNoAutoescape(opt_data.task.taskHtml) + '</td>';
    } else if (columnData70 == 'assignee') {
      output += '<td class=\'tasks-report-assignee\'>' + ((opt_data.task.assigneeUserName) ? Confluence.Templates.User.usernameLink({username: opt_data.task.assigneeUserName, fullName: opt_data.task.assigneeFullName, canView: false}) : '') + '</td>';
    } else if (columnData70 == 'location') {
      output += '<td><a class=\'task-location\' href="' + soy.$$escapeHtml("/confluence") + soy.$$escapeHtml(opt_data.task.pageUrl) + '">' + soy.$$escapeHtml(opt_data.task.pageTitle) + '</a></td>';
    } else if (columnData70 == 'completedate') {
      output += '<td class=\'tasks-report-date\'>' + ((opt_data.task.completeDate) ? soy.$$escapeHtml(opt_data.task.completeDate) : (opt_data.task.taskCompleted) ? '<span class="emptycompletedate">--</span>' : '') + '</td>';
    } else if (columnData70 == 'labels') {
      output += '<td>';
      var labelList109 = opt_data.task.labels;
      var labelListLen109 = labelList109.length;
      for (var labelIndex109 = 0; labelIndex109 < labelListLen109; labelIndex109++) {
        var labelData109 = labelList109[labelIndex109];
        output += aui.labels.label({text: labelData109});
      }
      output += '</td>';
    }
  }
  output += '</tr>';
  return output;
};
if (goog.DEBUG) {
  Confluence.InlineTasks.Report.Templates.tasksReportLine.soyTemplateName = 'Confluence.InlineTasks.Report.Templates.tasksReportLine';
}


Confluence.InlineTasks.Report.Templates.taskReportBrowserWarning = function(opt_data, opt_ignored) {
  var param117 = '<p>' + soy.$$escapeHtml('Unable to show this task report.') + '</p>';
  var messageList121 = opt_data.messages;
  var messageListLen121 = messageList121.length;
  for (var messageIndex121 = 0; messageIndex121 < messageListLen121; messageIndex121++) {
    var messageData121 = messageList121[messageIndex121];
    param117 += '<p>' + soy.$$escapeHtml(messageData121) + '</p>';
  }
  var output = '' + aui.message.warning({content: param117});
  return output;
};
if (goog.DEBUG) {
  Confluence.InlineTasks.Report.Templates.taskReportBrowserWarning.soyTemplateName = 'Confluence.InlineTasks.Report.Templates.taskReportBrowserWarning';
}


Confluence.InlineTasks.Report.Templates.taskReportWarning = function(opt_data, opt_ignored) {
  return '' + aui.message.warning({content: '<p>' + soy.$$escapeHtml('Unable to show the task report. Edit this page to resolve the issues.') + '</p>'});
};
if (goog.DEBUG) {
  Confluence.InlineTasks.Report.Templates.taskReportWarning.soyTemplateName = 'Confluence.InlineTasks.Report.Templates.taskReportWarning';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:tasks-report-resources', location = 'js/tasks-report-blank-exp.js' */
(function(d){Confluence.InlineTasks=Confluence.InlineTasks||{};Confluence.InlineTasks.TasksReport=Confluence.InlineTasks.TasksReport||{};var b={"blank.complete.title":"Task report","blank.complete.desc":"Get going, no tasks completed yet.","blank.incomplete.title":"Task report","blank.incomplete.desc":"Looking good, no incomplete tasks."};Confluence.InlineTasks.TasksReport.renderBlankExperiences=function(c,
a){a||(a="incomplete");a=Confluence.UI.Components.BlankPlaceholderBox.Templates.blankBox({blankTitle:b["blank."+a+".title"],blankDescription:b["blank."+a+".desc"],customClass:a+" tasks-report-blank"});c.html(a)}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:tasks-report-resources', location = 'js/tasks-report.js' */
AJS.$(function(b){var n=Confluence.InlineTasks.Report.Templates,h=Confluence.InlineTasks.TasksTableSortable,p=b(".tasks-report").parent();_.each(p,function(e){var f=b(e),a=f.find("table.tasks-report"),q=a.data("page-size");e=a.data("total-pages");var r=a.data("page-limit"),k=a.data("adaptive");f=f.find("input[name\x3dreportParameters]").val();var d=JSON.parse(f);AJS.bind("inline-tasks.status-update.start",function(c,g){0<g.taskListQueue.length&&(c=b("li[data-inline-task-id\x3d"+g.taskId+"]").closest(".tasks-report").siblings(".macro-auto-pagination"),
b(c).attr("aria-disabled",!0),c=c.find("li a"),c.on("click.taskreport.pagination",function(l){l.preventDefault();l.stopPropagation()}))});AJS.bind("inline-tasks.status-update.complete",function(c,g){0===g.taskListQueue.length&&(b(".macro-auto-pagination").attr("aria-disabled",!1),b(".macro-auto-pagination li a").off("click.taskreport.pagination"))});var m=a.closest(".table-wrapper");a=new h({$wrapper:m,table:a[0],sortReverseSortDefault:d.reverseSort,sortColumnDefault:h.getColumnNameFromSortBy(d.sortColumn),
reportParametersDefault:d,pageIndex:0,pageSize:q,pageTotal:e,adaptive:k,pageLimit:r,templates:n,columns:d.columns,onRenderEmptyTable:function(){Confluence.InlineTasks.TasksReport.renderBlankExperiences(m,d.status)},analyticEventKey:"confluence-spaces.tasks.report.sorted",restUrlPagination:"/rest/inlinetasks/1/task-report/",ajaxUrl:Confluence.getContextPath()+"/rest/inlinetasks/1/task-report/"});a.init();(k||1<e)&&a.renderPagination()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-help-tips:common', location = 'js/help-tip.js' */
(function(f){function b(){return false}function d(){return true}var l=0,g=new Date().getTime();var k=AJS.contextPath()+"/rest/helptips/1.0/tips";function h(n){n=""+(n||"");return n.replace(/\./g,"-")}function j(o,n){if(AJS.EventQueue&&n&&n.attributes.id){var q={};var p=h(n.attributes.id);q.name="helptips."+p+"."+o;q.properties={};AJS.EventQueue.push(q)}}function c(){return"c"+g+(l++)}var a={dismissedTipIds:[],loaded:f.Deferred(),url:function(){return k},sync:function(o,n){o||(o="get");n||(n=null);return f.ajax(this.url(),{type:o,context:this,dataType:"json",contentType:"application/json",data:n&&JSON.stringify(n),processData:false}).promise()},fetch:function(){var n=this.sync();n.done(function(o){f.merge(this.dismissedTipIds,o);this.loaded.resolve()});return n.promise()},show:function(n){this.loaded.done(n)},dismiss:function(n){var o=n.attributes.id;if(!o){n._dismissed=true}else{this.dismissedTipIds.push(o);this.sync("post",{id:o})}},undismiss:function(n){var o=n.attributes.id;if(!o){n._dismissed=false}else{this.dismissedTipIds.splice(f.inArray(o,this.dismissedTipIds),1);this.sync("delete",{id:o})}},isDismissed:function(n){var o=n.attributes.id;return(o)?f.inArray(o,this.dismissedTipIds)>=0:n._dismissed}};var e=AJS.HelpTip=function(n){var o;this.attributes=f.extend({},n);this.attributes.id||(this.attributes.id=false);if(this.attributes.body){this.attributes.bodyHtml=this.attributes.body;delete this.attributes.body}this.cid=c();o=this.attributes.anchor;delete this.attributes.anchor;this.view=o?new i(this,o):new m(this);this.view.$el.addClass("aui-help-tip")};AJS.HelpTip.Manager=a;f.extend(e.prototype,{show:function(){var n=this;AJS.HelpTip.Manager.show(function(){if(!n.isDismissed()){if(AJS.Popups&&AJS.Popups.DisplayController){AJS.Popups.DisplayController.request({name:n.id,weight:1000,show:function(){n.view.show()}})}else{n.view.show()}j("shown",n)}})},dismiss:function(){var n=h(arguments[0]||"programmatically");this.view.dismiss();if(!this.isDismissed()){AJS.HelpTip.Manager.dismiss(this);j("dismissed."+n,this)}},isVisible:function(){return this.view.$el.is(":visible")},isDismissed:function(){return AJS.HelpTip.Manager.isDismissed(this)}});var i=function(o,n){this.initialize(o,n)};f.extend(i.prototype,{initialize:function(r,q){var o=this;var s=q.prop("ownerDocument");var p=s!=window.document;if(p){var n=f("iframe").filter(function(){return this.contentDocument==s});n.contents().scroll(function(){var v=f(this).contents().find("body").scrollTop();var w=n.offset().top;var u=o.popup.data("offset-top");var t=o.popup.find(".arrow").height();o.popup.css("top",u-v);o.popup.toggle(v<=u-w-t&&v+n.height()-t+w-o.popup.height()>=u)})}this.model=r;this.beforeHide=b;this.dismissButton=f(AJS.Templates.HelpTip.tipDismiss());this.dismissButton.click(function(t){r.dismiss("close-button");t.preventDefault()});this.popup=AJS.InlineDialog(q,r.cid,function(v,u,t){v.html(AJS.Templates.HelpTip.tipContent(r.attributes));v.find(".helptip-body").after(o.dismissButton);v.unbind("mouseover mouseout");v.find(".helptip-link").click(function(){j("learn-more.clicked",r)});t()},{container:"body",noBind:true,preHideCallback:function(){return o.beforeHide()},calculatePositions:function(t,y,z,x){var w=AJS.InlineDialog.opts.calculatePositions(t,y,z,x);if(p){var v=t.find(".arrow").height();var u=n.contents().find("body").scrollTop();w.popupCss.top=n.offset().top+(q.offset().top-u)+q.height()+v;w.popupCss.left=q.offset().left;n.contents().scroll()}t.data("offset-top",w.popupCss.top);return w}});this.popup.refresh();this._popupHide=this.popup.hide;this.popup.hide=b;this.$el=f(this.popup[0]);AJS.$(document).bind("showLayer",function(v,u,t){if(u==="inlineDialog"&&t.id===r.cid){AJS.InlineDialog.current=null;AJS.$(document.body).unbind("click."+r.cid+".inline-dialog-check");t._validateClickToClose=b;t.hide=b}})},show:function(){var n=this.popup,o=function(p){if(!n.has(p.target).length){n.shadow.remove();n.remove()}};n.show()},dismiss:function(){this.beforeHide=d;this._popupHide()}});var m=function(n){this.initialize(n)};f.extend(m.prototype,{initialize:function(){this.$el=f("<div />")},show:f.noop,dismiss:f.noop});if(AJS.Meta.get("remote-user")){a.fetch()}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-help-tips:common', location = 'templates/help-tip.soy' */
// This file was automatically generated from help-tip.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace AJS.Templates.HelpTip.
 */

if (typeof AJS == 'undefined') { var AJS = {}; }
if (typeof AJS.Templates == 'undefined') { AJS.Templates = {}; }
if (typeof AJS.Templates.HelpTip == 'undefined') { AJS.Templates.HelpTip = {}; }


AJS.Templates.HelpTip.tipContent = function(opt_data, opt_ignored) {
  return ((opt_data.title) ? '<h4 class="helptip-title">' + soy.$$escapeHtml(opt_data.title) + '</h4>' : '') + '<div class="helptip-body">' + soy.$$filterNoAutoescape(opt_data.bodyHtml) + '</div>' + ((opt_data.url) ? '<a class="helptip-link" href="' + soy.$$escapeHtml(opt_data.url) + '" target="_blank">' + soy.$$escapeHtml('Learn more') + '</a>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.tipContent.soyTemplateName = 'AJS.Templates.HelpTip.tipContent';
}


AJS.Templates.HelpTip.tipDismiss = function(opt_data, opt_ignored) {
  return '<button class="helptip-dismiss aui-button" type="button">' + soy.$$escapeHtml('Dismiss') + '</button>';
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.tipDismiss.soyTemplateName = 'AJS.Templates.HelpTip.tipDismiss';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-tasks:tasks-feature-discovery-resources', location = 'js/tasks-discovery.js' */
(function(a){a(function(){if(0<a("meta[name\x3dshow-task-feature-discovery-flag]").length&&Confluence.FeatureDiscovery.forPlugin("com.atlassian.confluence.plugins.confluence-jira-metadata").shouldShow("inline-tasks-flag")&&AJS.HelpTip){var b={id:null,body:Confluence.InlineTasks.Report.Templates.tasksFeatureDiscoveryNotification(),anchor:a("#user-menu-link")};b=new AJS.HelpTip(b);AJS.trigger("analyticsEvent",{name:"confluence-spaces.tasks.feature.discovery.shown"});b.show();Confluence.FeatureDiscovery.forPlugin("com.atlassian.confluence.plugins.confluence-jira-metadata").markDiscovered("inline-tasks-flag")}})})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.drag-and-drop:drag-and-drop-for-view-content', location = 'js/viewcontent-init.js' */
require(["jquery","window","wrm/require"],function(a,c,d){function b(){return new Promise(function(e,a){d("wrc!com.atlassian.confluence.plugins.drag-and-drop:default-drop-handler").then(function(){e(require("confluence-drag-and-drop/default-drop-handler"))},a)})}a(document).one("dragenter",function(){b().then(function(a){a.initialise()})});a(c).one("load",b)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-inline-comments:bootstrap', location = '/app/bootstrap.js' */
require(["jquery","ajs","confluence/ic/app/app"],function(b,a,c){a.Meta.get("page-id")&&a.Meta.get("page-id")===a.Meta.get("latest-page-id")&&b(c.init)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-amd-resources', location = '/js/amd/confluence-amd.js' */
define("confluence",function(){return Confluence});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-amd-resources', location = '/js/amd/tinymce-amd.js' */
define("tinymce",function(){return tinymce});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:common', location = '/js/view-file-macro-utils.js' */
define("vfm/view-file-macro-utils",[],function(){return{DEFAULT_HEIGHT:"250",DEFAULT_HEIGHT_IN_COMMENT:"150",THUMBNAIL_STATUS_IN_PROGRESS:202,THUMBNAIL_STATUS_CONVERTED:200,THUMBNAIL_STATUS_ERROR:415,THUMBNAIL_STATUS_BUSY:429,THUMBNAIL_POLLING_PERIOD:1E3,THUMBNAIL_POLLING_BACKOFF_RATIO:1.25,MAP_NICE_TYPE_TO_TEXT:{"pdf document":"PDF","word document":"Document","excel spreadsheet":"Spreadsheet",
"powerpoint presentation":"Presentation","generic file":"File"},getFileNameFromUrl:function(a){if(!a)return"";var b=a.indexOf("#");b=0<=b?b:a.length;a=a.substring(0,b);b=a.indexOf("?");b=0<=b?b:a.length;a=a.substring(0,b);b=a.lastIndexOf("/");a=a.substring(b+1,a.length);return decodeURIComponent(a)},isSupportPointerEvents:function(){var a=document.createElement("x");a.style.cssText="pointer-events:auto";return"auto"===
a.style.pointerEvents},getParameterByName:function(a,b){var c=a.indexOf("#");0<=c&&(a=a.substring(0,c));return(a=(new RegExp(b+"\x3d([^\x26]*)","i")).exec(a))?decodeURIComponent(a[1]):null},addParamsToUrl:function(a,b){var c=-1===a.indexOf("?")?"?":"\x26";for(var e=Object.keys(b),d=0;d<e.length;d++){var f=e[d],g=b[f];0<d&&(c+="\x26");c+=f+"\x3d"+g}return a+c},getFileTypeTextFromNiceType:function(a){a=a?a.toLowerCase():"";return this.MAP_NICE_TYPE_TO_TEXT[a]?this.MAP_NICE_TYPE_TO_TEXT[a]:a}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:common', location = '/js/services/conversion-service.js' */
define("vfm/services/conversion-service",["ajs","jquery"],function(d,f){return{postThumbnailConversionResults:function(a){var b=d.contextPath()+"/rest/documentConversion/latest/conversion/thumbnail/results",c=Object.keys(a);c=_.map(c,function(e){return{id:e,v:a[e].version}});return f.ajax({type:"POST",url:b,contentType:"application/json",data:JSON.stringify(c)})},getThumbnailUrl:function(a,b){return d.contextPath()+"/rest/documentConversion/latest/conversion/thumbnail/"+a+"/"+b}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.editor:file-types-utils-resources', location = 'utils/file-types-utils.js' */
define("confluence-editor/utils/file-types-utils",[],function(){var b={},c={};"code|css,htm,html,java,js,xhtml,xml|text/css,text/html,text/javascript,text/x-java-source,text/xml doc|doc,docx,dot|application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document image|bmp,gif,jpe,jpeg,jpg,png,tif,tiff|image/bmp,image/gif,image/jpeg,image/png,image/tiff pdf|pdf|application/pdf ppt|pot,pps,ppt,pptx|application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation txt|asc,diff,log,text,txt|text/plain video|avi,flv,m4a,m4v,mov,mp2,mp3,mp4,mpe,mpeg,mpega,mpg,mpga,qt,rv,wav,webm,wmv|audio/mp3,audio/mp4,audio/mpeg,audio/x-wav,video/avi,video/mp4,video/mpeg,video/quicktime,video/vnd.rn-realvideo,video/webm,video/x-flv,video/x-m4v,video/x-ms-wmv xls|xlb,xls,xlsx|application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet zip|ear,jar,war,zip|application/java-archive,application/zip".split(" ").forEach(function(a){var a=
a.split("|"),d="aui-iconfont-file-"+a[0],e=a[1].split(",");a[2].split(",").forEach(function(a){b[a]=d});e.forEach(function(a){c[a]=d})});return{getAUIIconFromMime:function(a){return b[a]||"aui-iconfont-file-generic"},getAUIIconFromExt:function(a){return c[a]||"aui-iconfont-file-generic"},isImage:function(a){return b[a]&&0===a.indexOf("image/")}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-editor/utils/file-types-utils","AJS.Confluence.FileTypesUtils");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-embedded-file-view-soy-resources', location = '/templates/embedded-file-view.soy' */
// This file was automatically generated from embedded-file-view.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.ViewFileMacro.Templates.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.ViewFileMacro == 'undefined') { Confluence.ViewFileMacro = {}; }
if (typeof Confluence.ViewFileMacro.Templates == 'undefined') { Confluence.ViewFileMacro.Templates = {}; }


Confluence.ViewFileMacro.Templates.embeddedFile = function(opt_data, opt_ignored) {
  return '<span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="' + soy.$$escapeHtml(opt_data.fileSrc) + '" data-nice-type="' + soy.$$escapeHtml(opt_data.niceType) + '" data-file-src="' + soy.$$escapeHtml(opt_data.fileSrc) + '" data-linked-resource-id="' + soy.$$escapeHtml(opt_data.attachmentId) + '" data-linked-resource-type="attachment" data-linked-resource-container-id="' + soy.$$escapeHtml(opt_data.containerId) + '" data-linked-resource-default-alias="' + soy.$$escapeHtml(opt_data.fileName) + '" data-mime-type="' + soy.$$escapeHtml(opt_data.mimeType) + '" data-has-thumbnail="' + ((opt_data.hasThumbnail) ? 'true' : 'false') + '" data-linked-resource-version="' + soy.$$escapeHtml(opt_data.attachmentVersion) + '" data-can-edit="' + soy.$$escapeHtml(opt_data.canEdit) + '" aria-label="' + soy.$$escapeHtml(opt_data.fileName) + '" draggable="false"' + ((opt_data.unresolvedCommentCount && opt_data.unresolvedCommentCount >= 0) ? 'data-unresolved-comment-count=' + soy.$$escapeHtml(opt_data.unresolvedCommentCount) : '') + '><img src="' + soy.$$escapeHtml(opt_data.placeholderSrc) + '" height="' + soy.$$escapeHtml(opt_data.height) + '" alt="" draggable="false" />' + ((! opt_data.hasThumbnail) ? '<span class="title">' + soy.$$escapeHtml(opt_data.fileName) + '</span>' : '') + '</a>' + ((opt_data.canEdit) ? Confluence.ViewFileMacro.Templates.companionEditButtonPlaceholder(opt_data) : '') + '</span>';
};
if (goog.DEBUG) {
  Confluence.ViewFileMacro.Templates.embeddedFile.soyTemplateName = 'Confluence.ViewFileMacro.Templates.embeddedFile';
}


Confluence.ViewFileMacro.Templates.embeddedUnknownFile = function(opt_data, opt_ignored) {
  return '<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-file unknown-attachment" src="' + soy.$$escapeHtml(opt_data.placeholderSrc) + '" draggable="false" /></span>';
};
if (goog.DEBUG) {
  Confluence.ViewFileMacro.Templates.embeddedUnknownFile.soyTemplateName = 'Confluence.ViewFileMacro.Templates.embeddedUnknownFile';
}


Confluence.ViewFileMacro.Templates.overlayEmbeddedFile = function(opt_data, opt_ignored) {
  return '<span class="overlay"></span>';
};
if (goog.DEBUG) {
  Confluence.ViewFileMacro.Templates.overlayEmbeddedFile.soyTemplateName = 'Confluence.ViewFileMacro.Templates.overlayEmbeddedFile';
}


Confluence.ViewFileMacro.Templates.overlayEmbeddedFileCommentCount = function(opt_data, opt_ignored) {
  return '<span class="comment-count-overlay"><span class="content">' + soy.$$escapeHtml(opt_data.commentCountRep) + '</span></span>';
};
if (goog.DEBUG) {
  Confluence.ViewFileMacro.Templates.overlayEmbeddedFileCommentCount.soyTemplateName = 'Confluence.ViewFileMacro.Templates.overlayEmbeddedFileCommentCount';
}


Confluence.ViewFileMacro.Templates.overlayEmbeddedFileFileTypeDesc = function(opt_data, opt_ignored) {
  return '<span class="file-type-desc-overlay"><i class="aui-icon aui-icon-small ' + soy.$$escapeHtml(opt_data.iconClass) + '"></i><span class="content"> ' + soy.$$escapeHtml(opt_data.fileType) + '</span></span>';
};
if (goog.DEBUG) {
  Confluence.ViewFileMacro.Templates.overlayEmbeddedFileFileTypeDesc.soyTemplateName = 'Confluence.ViewFileMacro.Templates.overlayEmbeddedFileFileTypeDesc';
}


Confluence.ViewFileMacro.Templates.companionEditButtonPlaceholder = function(opt_data, opt_ignored) {
  return '<span class="companion-edit-button-placeholder edit-button-overlay" data-linked-resource-container-id="' + soy.$$escapeHtml(opt_data.containerId) + '" data-linked-resource-id="' + soy.$$escapeHtml(opt_data.attachmentId) + '" data-template-name="companionEditIcon" data-source-location="embedded-attachment"></span>';
};
if (goog.DEBUG) {
  Confluence.ViewFileMacro.Templates.companionEditButtonPlaceholder.soyTemplateName = 'Confluence.ViewFileMacro.Templates.companionEditButtonPlaceholder';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-embedded-file-view-resources', location = '/js/services/file-service.js' */
define("vfm/services/file-service",["ajs","jquery"],function(b,c){return{getCommentCount:function(d,e){var a="/rest/files/1.0/files/content/{0}/commentCount?attachmentId\x3d{1}";a=b.contextPath()+b.format(a,d,e);return c.get(a)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-embedded-file-view-resources', location = '/js/components/embedded-file-view.js' */
define("vfm/components/embedded-file-view",["jquery","backbone","ajs","confluence/legacy","vfm/view-file-macro-utils"],function(f,q,k,g,l){return{render:function(b){b=f(b.el);var a=b.find(".confluence-embedded-image, .confluence-embedded-file");if(a.hasClass("unknown-attachment")||a.attr("src")&&0<=a.attr("src").indexOf("/confluence/plugins/servlet/confluence/placeholder/unknown-attachment"))return this;var e="",h=a.hasClass("confluence-embedded-image"),c=b.parent().is("a"),m="true"===a.attr("data-has-thumbnail");
if(h)var d="image/png";else d=a.attr("data-mime-type"),e="null"!==a.attr("data-nice-type")?a.attr("data-nice-type"):"generic file";if(c)c="";else{c="";var n=a.attr("data-linked-resource-container-id"),p=a.attr("data-linked-resource-id");n&&p&&(a=a.attr("data-unresolved-comment-count"),a=parseInt(a,10),a=f.isNumeric(a)?a:0,a=9<a?"9+":a+"","0"!==a&&(c=g.ViewFileMacro.Templates.overlayEmbeddedFileCommentCount({commentCountRep:a})))}d=!h&&m?g.ViewFileMacro.Templates.overlayEmbeddedFileFileTypeDesc({fileType:l.getFileTypeTextFromNiceType(e),
iconClass:k.Confluence.FileTypesUtils.getAUIIconFromMime(d)}):"";if(c||d)e=g.ViewFileMacro.Templates.overlayEmbeddedFile(),b.append(f(e).append(c).append(d)),d&&b.addClass("has-comment-overlay")}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources', location = '/js/vfm.js' */
require(["jquery","ajs","vfm/components/embedded-file-view"],function(a,b,c){a(document).on("click",".confluence-embedded-file.unknown-attachment",function(d){d.preventDefault()});b.toInit(function(){a(".confluence-embedded-file-wrapper").each(function(){c.render({el:this})})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:editor-view-resources', location = 'jscripts/view-content/pushed-navigation-util.js' */
define("confluence-quick-edit/view-content/pushed-navigation-util",["ajs","jquery","window"],function(d,f,a){function c(){return d.Rte&&d.Rte.getEditor()&&!!f("#editpageform").length}var b=a.location.hash,e=a.location.search;return{isInEditPage:c,filterPreviewHashChange:function(){var g=c()||a.history.pushState||!(a.location.hash&&0===a.location.hash.indexOf("#!"))&&!(b&&0===b.indexOf("#!"));b=a.location.hash;return g},filterPreviewNavigationEvent:function(){var b=c()||!/[?&]preview=([^&]*)/.test(a.location.search)&&
!/[?&]preview=([^&]*)/.test(e);e=a.location.search;return b}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-quick-edit/view-content/pushed-navigation-util","Confluence.Editor.PushedNavUtil");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:editor-view-resources', location = 'jscripts/view-content/pushed-navigation.js' */
define("confluence-quick-edit/view-content/pushed-navigation","jquery underscore window confluence/legacy confluence/api/event confluence-quick-edit/view-content/pushed-navigation-util".split(" "),function(b,n,a,f,g,c){function d(){if(h){if(e.split("#")[0]!=a.location.href.split("#")[0]){b(a).unbind("popstate",k);a.location.reload()}}else e.split("#")[0]==a.location.href.split("#")[0]&&e.split("#")[1]!=="editor"||a.location.reload()}function i(){e=a.location.href}function l(){var b=f.Editor.Drafts.unloadMessage();
if(b){f.Editor.Drafts.unBindUnloadMessage();if(confirm(b+"\n\n"+"Press OK to continue, or Cancel to stay on the current page.")){g.trigger("analytics",{name:"rte.quick-edit.confirmation.leaving"});d()}else{g.trigger("analytics",{name:"rte.quick-edit.confirmation.staying"});if(h){j=true;a.history.forward()}else a.location.hash="editor";f.Editor.Drafts.bindUnloadMessage()}}else d()}function o(){c.isInEditPage()?a.location.hash!=="#editor"&&l():d()}function k(){j?j=false:c.isInEditPage()?l():d()}function m(a,b){return function(){n.every(b,
function(a){return a()})&&a()}}var h=!!a.history.pushState,j=false,e=a.location.href,p=[c.filterPreviewHashChange],q=[c.filterPreviewNavigationEvent];g.bind("rte-quick-edit-enable-handlers",function(){a.location.hash==="#editor"&&b("#editPageLink").click()});return function(){i();if(h){b(a).bind("popstate",m(k,q));b(a).bind("rte-quick-edit-push-state",i)}else{b(a).bind("hashchange",m(o,p));b(a).bind("rte-quick-edit-push-hash",i)}}});
require("confluence/module-exporter").safeRequire("confluence-quick-edit/view-content/pushed-navigation",function(b){require("ajs").toInit(function(){setTimeout(b,0)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.5b7fdbd666', location = 'aui.chunk.d94be0a9210a700c896f--755920dedd8cdb7aa16c.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.5b7fdbd666"],{fVKi:function(t,n,r){"use strict";r.r(n);var i=r("JFi+");n.default=function(t){function n(n){return e((function(){return t.hasAttribute(n)}),n+" wasn't defined")}function r(r){if(!n(r))return!1;var i=t.getAttribute(r);return e((function(){return document.getElementById(i)}),'an element with id set to "'+i+'" was not found')}function e(n,r){return!!n()||(t?i.error(r,t):i.error(r),!1)}return{attributeExists:n,refersTo:r,satisfiesRules:e,ariaControls:function(){return r("aria-controls")},ariaOwns:function(){return r("aria-owns")}}}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.8a641c03a4', location = 'aui.chunk.3242b57cec7cf8249eaf--cda411b08634c5067d51.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.8a641c03a4"],{kdZR:function(t,e,u){"use strict";function n(t){return null!==t}function i(t,e,u){u?t.setAttribute(e,""):t.removeAttribute(e)}function l(t,e){const u=t=>t.toLowerCase()===e.toLowerCase(),n=null===e,i=!n&&!t.values.filter(u).length;return n?t.hasOwnProperty("missingDefault")?t.missingDefault:null:i?t.hasOwnProperty("invalidDefault")?t.invalidDefault:t.hasOwnProperty("missingDefault")?t.missingDefault:null:t.values.length?t.values.filter(u)[0]:null}function o(t,e,u){t.setAttribute(e.attribute,u)}u.r(e),u.d(e,"computeBooleanValue",(function(){return n})),u.d(e,"setBooleanAttribute",(function(){return i})),u.d(e,"computeEnumValue",(function(){return l})),u.d(e,"setEnumAttribute",(function(){return o})),e.default={computeBooleanValue:n,setBooleanAttribute:i,computeEnumValue:l,setEnumAttribute:o}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.d727dd207f', location = 'aui.chunk.de01c5860af45d043e5b--b445726f8c43e9b4260b.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.d727dd207f"],{VtiI:function(i,n,s){"use strict";s.r(n);s("FStl"),s("Q0fs"),s("nqD9"),s("NjKm")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.543254b237', location = 'aui.chunk.2496bb5d5821eb9f97e3--e3bee42df72c5f62f136.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.543254b237"],{P3bb:function(e,t,n){"use strict";n.r(t);var i=n("+x/D"),o=n("vbuG"),r=n("TmQU"),u=n("kdZR"),s=n("fVKi"),a=n("KloK"),c=n("jEnx"),l=n("4dFR"),d=n("TK3y"),f=n("/soZ"),b=n("I7um"),p=n("ih6f");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){Object(f.doIfTrigger)(e,(function(n){n.setAttribute("aria-expanded","false"),t.setAttribute("aria-expanded",e.open)})),Object(f.setTrigger)(e,t)}function v(e,t){if(e._auiAlignment)e._auiAlignment.changeTarget(t),e._auiAlignment.enable();else{let n={overflowContainer:"viewport"===e.getAttribute("contained-by")?"viewport":"window",positionFixed:!1,eventsEnabled:!0};n=m(m({},n),{onCreate:()=>{L(e)&&Object(p.default)().enter(Object(i.default)(e),Object(i.default)(t))},onEvents:{enabled:()=>{L(e)&&Object(p.default)().enter(Object(i.default)(e))},disabled:()=>{L(e)&&Object(p.default)().exit(Object(i.default)(e))}}}),e._auiAlignment=new o.default(e,t,n)}}function h(e){e._auiAlignment&&(e._auiAlignment.destroy(),delete e._auiAlignment)}function T(e){return Object(d.default)(e).get("mouse-inside")||e.contains(document.activeElement)}function _(e,t){var n=t.currentTarget;n&&(j(e,n),v(e,n)),e.open||(e.open=!0),clearTimeout(e._closingTimeout)}function A(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){t.open&&!Object(c.default)(t).isPersistent()&&(clearTimeout(t._closingTimeout),t._closingTimeout=setTimeout((function(){T(t)||(t.open=!1),t._closingTimeout=null}),e))}}const y={click(e,t){e.open&&!Object(c.default)(e).isPersistent()?e.open=!1:(j(e,t.currentTarget),e.open=!0),clearTimeout(e._closingTimeout)},mouseenter:_,mouseleave:A(1e3),focus:_,blur:A(0)};function E(e){var t=e.currentTarget;Object(d.default)(t).set("mouse-inside",!0),t.message({type:"mouseenter"})}function w(e){var t=e.currentTarget;Object(d.default)(t).set("mouse-inside",!1),t.message({type:"mouseleave"})}function P(e){var t=e.currentTarget;"hover"===t.respondsTo&&A(1e3)(t)}function x(e){Object(d.default)(e).set("mouse-inside",void 0),e.removeEventListener("mouseenter",E),e.removeEventListener("mouseleave",w),e.removeEventListener("blur",P),"hover"===e.respondsTo&&(Object(d.default)(e).set("mouse-inside",!1),e.addEventListener("mouseenter",E),e.addEventListener("mouseleave",w),e.addEventListener("blur",P))}function V(e,t){return"".concat(e,".nested-layer-").concat(t)}function D(e){return Object(c.default)(e).show(),!0===Object(c.default)(e).isVisible()}function I(e){return Object(c.default)(e).hide(),!1===Object(c.default)(e).isVisible()}function L(e){return"hover"!==e.respondsTo}function k(e){e.__initialised||(Object(c.default)(e),Object(i.default)(e).on({["".concat(c.EVENT_PREFIX,"show")]:function(){const e=this;!function(e){let t=Object(i.default)(e);const n=e.id,o=e=>t.find(Object(f.getTrigger)(e.target)).length<1;Object(i.default)(document).on(V("aui-layer-show",n),(e=>{o(e)||t.attr("persistent","")})).on(V("aui-layer-hide",n),(e=>{o(e)||t.removeAttr("persistent")})).on(V("select2-opening",n),(()=>{t.attr("persistent","")})).on(V("select2-close",n),(()=>{setTimeout((()=>{t.removeAttr("persistent")}),150)}))}(e),Object(f.doIfTrigger)(e,(function(t){v(e,t),t.setAttribute("aria-expanded","true")}))},["".concat(c.EVENT_PREFIX,"hide")]:function(){const e=this;!function(e){const t=e.id;Object(i.default)(document).off(V("aui-layer-hide",t)).off(V("aui-layer-show",t)).off(V("select2-opening",t)).off(V("select2-close",t))}(e.id),e.ownerDocument.body.contains(e)?function(e){e._auiAlignment&&e._auiAlignment.disable()}(e):h(e),Object(f.doIfTrigger)(e,(function(e){e.setAttribute("aria-expanded","false")})),Object(f.setTrigger)(e,null)}}),e.__initialised=!0)}const R={attribute:"responds-to",values:["toggle","hover"],missingDefault:"toggle",invalidDefault:"toggle"},F=Object(l.default)("aui-inline-dialog",{prototype:{get open(){return Object(c.default)(this).isVisible()},set open(e){this.__propUpdate=!0,e?D(this):I(this)},get persistent(){return this.hasAttribute("persistent")},set persistent(e){u.default.setBooleanAttribute(this,"persistent",e)},get respondsTo(){var e=R.attribute;return u.default.computeEnumValue(R,this.getAttribute(e))},set respondsTo(e){const t=this.respondsTo;u.default.setEnumAttribute(this,R,e),t!==this.respondsTo&&x(this)},message:function(e){return function(e,t){var n={toggle:["click"],hover:["mouseenter","mouseleave","focus","blur"]}[e.respondsTo];n&&n.indexOf(t.type)>-1&&y[t.type](e,t)}(this,e),this}},attributes:{open:function(e,t){if(k(e),e.__propUpdate)delete e.__propUpdate;else{if("created"===t.type){D(e)||Object(u.setBooleanAttribute)(e,"open",!1)}if("removed"===t.type){I(e)||Object(u.setBooleanAttribute)(e,"open",!0)}}},"responds-to":function(e,t){u.default.computeEnumValue(R,t.oldValue)!==u.default.computeEnumValue(R,t.newValue)&&x(e)}},created:k,attached:function(e){Object(s.default)(e).attributeExists("id"),e.setAttribute("tabindex",0),e.setAttribute("role","dialog"),Object(f.doIfTrigger)(e,(function(t){t.setAttribute("aria-expanded",e.open)})),Object(f.forEachTrigger)(e,(function(e){e.setAttribute("aria-haspopup","true")})),x(e)},detached:function(e){Object(b.ifGone)(e).then((()=>{h(e),Object(f.forEachTrigger)(e,(function(e){e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded")}))}))},template:function(e){Object(i.default)('<div class="aui-inline-dialog-contents"></div>').append(e.childNodes).appendTo(e)}});Object(r.default)("aui/inline-dialog2",F),Object(a.default)("InlineDialog2",F),t.default=F},Rvtc:function(e,t,n){"use strict";n.r(t);n("AehQ"),n("THZ5"),n("VtiI");var i=n("P3bb");n.d(t,"InlineDialogEl",(function(){return i.default}))}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.inline-dialog2', location = 'aui.chunk.32425e0082182a521159--1c7652573c89388165f5.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.component.inline-dialog2"],[],[["Rvtc","runtime","aui.splitchunk.vendors--894c8113d9","aui.splitchunk.vendors--084821f40b","aui.splitchunk.0d131bcbf1","aui.splitchunk.fbbef27525","aui.splitchunk.444efc83be","aui.splitchunk.739b9ec8cc","aui.splitchunk.056561461c","aui.splitchunk.949297951c","aui.splitchunk.dd803a46b4","aui.splitchunk.994e478d48","aui.splitchunk.e54c7c7304","aui.splitchunk.fb15cffa72","aui.splitchunk.f1e06f97a4","aui.splitchunk.f673ef53ac","aui.splitchunk.8659b532c1","aui.splitchunk.d0110a864f","aui.splitchunk.afa5039e04","aui.splitchunk.bff3715233","aui.splitchunk.c750721820","aui.splitchunk.6d6f245ed3","aui.splitchunk.084821f40b","aui.splitchunk.5b8c290363","aui.splitchunk.baa83dbaf9","aui.splitchunk.36cd9d521c","aui.splitchunk.d925afe2c0","aui.splitchunk.5b7fdbd666","aui.splitchunk.8a641c03a4","aui.splitchunk.d727dd207f","aui.splitchunk.543254b237"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-previews:confluence-previews-jquery', location = '/js/confluence/preview-support.js' */
define("cp/confluence/preview-support",["ajs"],function(a){var d=function(){var e=b.SELECTOR_STRINGS.IMAGE+", "+b.SELECTOR_STRINGS.LINK_IMAGE+", "+b.SELECTOR_STRINGS.EXTERNAL_IMAGE;if(b.isPDFSupported()){e+=", "+b.SELECTOR_STRINGS.PDF+", "+b.SELECTOR_STRINGS.LINK_PDF}return e};var c=function(){return b.SELECTOR_STRINGS.IMAGE+", "+b.SELECTOR_STRINGS.EXTERNAL_IMAGE+", "+b.SELECTOR_STRINGS.FILE+", "+b.SELECTOR_STRINGS.LINK_FILE+", "+b.SELECTOR_STRINGS.ATTACHMENT_MACRO};var b={SELECTOR_STRINGS:{IMAGE:"img.confluence-embedded-image[data-linked-resource-id]",EXTERNAL_IMAGE:"img.confluence-embedded-image.confluence-external-resource",PDF:"a.confluence-embedded-file[data-nice-type='PDF Document']",LINK_IMAGE:"a[data-linked-resource-type='attachment'][data-nice-type='Image']",LINK_PDF:"a[data-linked-resource-type='attachment'][data-nice-type='PDF Document']",FILE:"a.confluence-embedded-file",LINK_FILE:"a[data-linked-resource-type='attachment']",FILE_OVERLAY:"span.confluence-embedded-file-wrapper .overlay",ATTACHMENT_MACRO:".plugin_attachments_container a.previewAttachmentLink"},VIEW_MODE:{FULL:"full",COMMENT:"comment",SIMPLE:"simple"},isPDFSupported:function(){return a.DarkFeatures.isEnabled("pdf-preview")},getFileSelectorString:function(){if(a.DarkFeatures.isEnabled("previews.trigger-all-file-types")){return c()}else{return d()}}};return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-previews:confluence-previews-jquery', location = '/js/confluence/preview.js' */
define("cp/confluence/preview",["underscore","jquery","cp/confluence/preview-support","ajs","confluence/jsUri"],function(k,e,f,i,b){var j,l;e(document).ready(g);function g(){var o=e(f.getFileSelectorString());o.off("click.fb");e(document.body).off("click.filePreviews");e(document.body).on("click.filePreviews",f.getFileSelectorString(),n);e(document.body).on("click.filePreviews",f.SELECTOR_STRINGS.FILE_OVERLAY,h);e(window).on("popstate",function(){if(!l&&i.DarkFeatures.isEnabled("previews.sharing.pushstate")){a()}});a()}function n(o){if(!o.altKey&&!o.ctrlKey&&!o.metaKey&&!e(this).parent().closest("a, #draft-changes-dialog, #cp-annotations, .diff-block-context, .diff-block-target").length){o.preventDefault();m(this)}}function h(p){p.preventDefault();var o=e(p.target);var q=o.closest("span.confluence-embedded-file-wrapper");m(q.find(f.SELECTOR_STRINGS.IMAGE+","+f.SELECTOR_STRINGS.FILE),undefined,undefined,o.closest(".comment-count-overlay").length>0)}function m(q,r,o,x){if(!l){var s="confluence-previews-css";var p="media-viewer";var y="viewattachments";WRM.require("wr!com.atlassian.confluence.plugins.confluence-previews:"+s);var z=e.Deferred(),u=z.promise();var t=setInterval(function(){for(var D=0;D<document.styleSheets.length;D++){var E=document.styleSheets[D];if(E.href&&(E.href.indexOf(s)!==-1||E.href.indexOf(p)!==-1||E.href.indexOf(y)!==-1)){w();return}if(document.styleSheets[D].imports&&document.all&&!window.atob){for(var C=0;C<document.styleSheets[D].imports.length;C++){if(document.styleSheets[D].imports[C].href.indexOf(s)!==-1){w();return}}}}},100);var w=function(){z.resolve();clearInterval(t)};var B=i.Meta.get("static-resource-url-prefix");var A="com.atlassian.confluence.plugins.confluence-previews:mediaviewer-chunks";var v=B+"/download/resources/"+A+"/";l=e.when(WRM.require(["wr!com.atlassian.confluence.plugins.confluence-previews:confluence-previews-js","wrc!media-viewer"]),u);l.done(function(){j=require("cp/confluence/file-preview-loader");d(q,r,o,x)});Confluence.PageLoadingIndicator(e("body")).showUntilResolved(l,"We were unable to load the file previewer")}else{l.done(k.partial(d,q,r,o,x))}return l}var d=function(q,p,s,t){var o=e("#content");var r=e(q).closest(".comment,.cq-content,.ic-content");if(!p){if(!(o.hasClass("page")||o.hasClass("blogpost"))){p=f.VIEW_MODE.SIMPLE}else{if(r.length){p=f.VIEW_MODE.COMMENT}}}if(p===f.VIEW_MODE.COMMENT){j.showPreviewerForComment(q,r,p,t)}else{if(p===f.VIEW_MODE.SIMPLE){j.showPreviewerForSingleFile(q,p,s)}else{p=f.VIEW_MODE.FULL;j.showPreviewer(undefined,q,p,t)}}};function a(){if(c()){var q=new b(window.location.href);var p=window.history.pushState&&i.DarkFeatures.isEnabled("previews.sharing.pushstate");if(q.getQueryParamValue("preview")&&!p){var r="#!/preview"+q.getQueryParamValue("preview");var o=decodeURIComponent(q.deleteQueryParam("preview").setAnchor(r).toString());if(window.history.replaceState){window.history.replaceState({},"",o)}else{window.location=o}}else{if(q.anchor().indexOf("!/preview")===0&&p){var o;if(q.getQueryParamValue("preview")){o=q.setAnchor("")}else{o=q.addQueryParam("preview",q.anchor().substr("!/preview".length,q.anchor().length)).setAnchor("")}window.history.replaceState({},"",o)}}m()}}function c(){var o=new b(window.location.href);return i.DarkFeatures.isEnabled("previews.sharing")&&(o.getQueryParamValue("preview")||(o.anchor()&&o.anchor().indexOf("!/preview")===0))}return{loadConfluencePreviews:m}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-previews:confluence-previews-jquery', location = '/js/confluence/jquery-previewer.js' */
require(["cp/confluence/preview","jquery"],function(b,a){a.fn.previewer=function(c){if(!a(this).length){return this}var d=a.extend({},c);return this.each(function(){var f=a(this);var e=f.closest("li");var g=d.src||f.attr("data-image-src")||f.attr("src");if(g){f.click(function(j){var i={src:g,type:d.type,thumbnail:g,title:d.title||e.attr("data-file-name")||g,id:e.attr("data-attachment-id"),ownerId:e.attr("data-owner-id")};var h=b.loadConfluencePreviews([i],d.viewMode||"simple",d.from||"custom");d.zindex&&h.done(function(){a(".cp-container").css({"z-index":d.zindex})})})}})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'org.randombits.confluence.toc:toc-plugin-analytics', location = 'net/customware/confluence/plugin/toc/analytics/analytics.js' */
AJS.toInit(function(){AJS.$(".toc-macro a").click(function(){AJS.trigger("analyticsEvent",{name:"confluence.toc-macro.heading-click"})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'org.randombits.confluence.toc:client-side-toc-resources', location = 'net/customware/confluence/plugin/toc/js/client-side-toc.js' */
require(["ajs"],function(p){p.toInit(function(d){function q(b){var a=d({});a.data("precedenceLevel",b);return a}function k(b){return d(b).data("precedenceLevel")}function m(b,a,c){if(0===b.length)return d();var e=b.map(k).reduce(function(f,l){return Math.min(f,l)});e!==k(b[0])&&b.unshift(q(e));var g=a.createTocLevelContainer(),h={subElements:[],currentItem:void 0,outline:void 0,flush:function(){0<this.subElements.length&&this.currentItem&&(m(this.subElements,a,this.outline).appendTo(this.currentItem),
this.subElements=[])},add:function(f){this.subElements.push(f)},resetItem:function(f){this.outline=(c||[]).slice(0);this.outline.push(f);this.currentItem=a.createTocItemContainer();this.currentItem.appendTo(g);return this.currentItem}},n=0;b.forEach(function(f){if(e===k(f))if(n++,h.flush(),h.resetItem(n),f.textContent){var l=h.outline.join(".");d(Confluence.Plugins.TableOfContents.Client.tocItemBody({outline:l,linkHref:"#"+f.id,linkText:f.textContent})).appendTo(h.currentItem)}else h.currentItem.addClass("toc-empty-item");
else h.add(f)});h.flush();0===c.length&&a.decorateToc&&a.decorateToc(g);return g}function r(b){return{createTocLevelContainer:function(){return this.createTocItemContainer()},createTocItemContainer:function(){return d(Confluence.Plugins.TableOfContents.Client.flatStyleTocItemContainer({cssClass:"toc-item-container"}))},decorateToc:function(a){function c(e,g){(e=e in b?b[e]:g)&&d(Confluence.Plugins.TableOfContents.Client.flatStyleTocSeparator({separator:e})).appendTo(a)}c("preseparator","[ ");d(a).find("span.toc-item-body").each(function(e,
g){0<e&&c("midseparator"," ] [ ");d(g).appendTo(a)});c("postseparator"," ]");d(a).find(".toc-item-container").remove()}}}function t(b){return{createTocLevelContainer:function(){return d(Confluence.Plugins.TableOfContents.Client.listStyleTocLevelContainer({cssliststyle:b.cssliststyle,csslistindent:b.csslistindent}))},createTocItemContainer:function(){return d(Confluence.Plugins.TableOfContents.Client.listStyleTocItemContainer())}}}function u(b){var a;b.includeheaderregex&&(a=new RegExp(b.includeheaderregex));
var c;b.excludeheaderregex&&(c=new RegExp(b.excludeheaderregex));return function(){var e=d(this).text();return a&&!a.test(e)||c&&c.test(e)?!1:!0}}function v(b,a){var c=a.headerelements,e=c.split(",");a=u(a);c=d("#content .wiki-content").find(c).filter(a).each(function(){var g=e.indexOf(this.nodeName);d(this).data("precedenceLevel",g)}).toArray();return m(c,b,[])}d(".client-side-toc-macro").each(function(){var b=d(this),a=b.data()||{};var c="flat"===a.structure?r(a):t(a);!0!==a.numberedoutline&&b.addClass("hidden-outline");
b.html(v(c,a))})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'org.randombits.confluence.toc:client-side-toc-resources', location = 'net/customware/confluence/plugin/toc/templates/client.soy' */
// This file was automatically generated from client.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Plugins.TableOfContents.Client.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Plugins == 'undefined') { Confluence.Plugins = {}; }
if (typeof Confluence.Plugins.TableOfContents == 'undefined') { Confluence.Plugins.TableOfContents = {}; }
if (typeof Confluence.Plugins.TableOfContents.Client == 'undefined') { Confluence.Plugins.TableOfContents.Client = {}; }


Confluence.Plugins.TableOfContents.Client.tocItemBody = function(opt_data, opt_ignored) {
  return '<span class="toc-item-body" data-outline="' + soy.$$escapeHtml(opt_data.outline) + '"><span class="toc-outline">' + soy.$$escapeHtml(opt_data.outline) + '</span><a href="' + soy.$$escapeHtml(opt_data.linkHref) + '" class="toc-link">' + soy.$$escapeHtml(opt_data.linkText) + '</a></span>';
};
if (goog.DEBUG) {
  Confluence.Plugins.TableOfContents.Client.tocItemBody.soyTemplateName = 'Confluence.Plugins.TableOfContents.Client.tocItemBody';
}


Confluence.Plugins.TableOfContents.Client.listStyleTocLevelContainer = function(opt_data, opt_ignored) {
  return '<ul style="' + ((opt_data.cssliststyle) ? ' list-style: ' + soy.$$escapeHtml(opt_data.cssliststyle) + ';' : '') + ((opt_data.csslistindent) ? ' padding-left: ' + soy.$$escapeHtml(opt_data.csslistindent) + ';' : '') + '"></ul>';
};
if (goog.DEBUG) {
  Confluence.Plugins.TableOfContents.Client.listStyleTocLevelContainer.soyTemplateName = 'Confluence.Plugins.TableOfContents.Client.listStyleTocLevelContainer';
}


Confluence.Plugins.TableOfContents.Client.listStyleTocItemContainer = function(opt_data, opt_ignored) {
  return '<li></li>';
};
if (goog.DEBUG) {
  Confluence.Plugins.TableOfContents.Client.listStyleTocItemContainer.soyTemplateName = 'Confluence.Plugins.TableOfContents.Client.listStyleTocItemContainer';
}


Confluence.Plugins.TableOfContents.Client.flatStyleTocItemContainer = function(opt_data, opt_ignored) {
  return '<span class="' + soy.$$escapeHtml(opt_data.cssClass) + '"></span>';
};
if (goog.DEBUG) {
  Confluence.Plugins.TableOfContents.Client.flatStyleTocItemContainer.soyTemplateName = 'Confluence.Plugins.TableOfContents.Client.flatStyleTocItemContainer';
}


Confluence.Plugins.TableOfContents.Client.flatStyleTocSeparator = function(opt_data, opt_ignored) {
  return '<span class="toc-separator">' + soy.$$escapeHtml(opt_data.separator) + '</span>';
};
if (goog.DEBUG) {
  Confluence.Plugins.TableOfContents.Client.flatStyleTocSeparator.soyTemplateName = 'Confluence.Plugins.TableOfContents.Client.flatStyleTocSeparator';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/store-1.3.1.js' */
(function(){var l={},h=window,k=h.document,c="localStorage",n="globalStorage",d="__storejs__",g;l.disabled=false;l.set=function(e,o){};l.get=function(e){};l.remove=function(e){};l.clear=function(){};l.transact=function(e,o){var p=l.get(e);if(typeof p=="undefined"){p={}}o(p);l.set(e,p)};l.serialize=function(e){return JSON.stringify(e)};l.deserialize=function(e){if(typeof e!="string"){return undefined}return JSON.parse(e)};function b(){try{return(c in h&&h[c])}catch(e){return false}}function m(){try{return(n in h&&h[n]&&h[n][h.location.hostname])}catch(e){return false}}if(b()){g=h[c];l.set=function(e,o){if(o===undefined){return l.remove(e)}g.setItem(e,l.serialize(o))};l.get=function(e){return l.deserialize(g.getItem(e))};l.remove=function(e){g.removeItem(e)};l.clear=function(){g.clear()}}else{if(m()){g=h[n][h.location.hostname];l.set=function(e,o){if(o===undefined){return l.remove(e)}g[e]=l.serialize(o)};l.get=function(e){return l.deserialize(g[e]&&g[e].value)};l.remove=function(e){delete g[e]};l.clear=function(){for(var e in g){delete g[e]}}}else{if(k.documentElement.addBehavior){var j,f;try{f=new ActiveXObject("htmlfile");f.open();f.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></frame>');f.close();j=f.w.frames[0].document;g=j.createElement("div")}catch(i){g=k.createElement("div");j=k.body}function a(e){return function(){var p=Array.prototype.slice.call(arguments,0);p.unshift(g);j.appendChild(g);g.addBehavior("#default#userData");g.load(c);var o=e.apply(l,p);j.removeChild(g);return o}}l.set=a(function(p,e,o){if(o===undefined){return l.remove(e)}p.setAttribute(e,l.serialize(o));p.save(c)});l.get=a(function(o,e){return l.deserialize(o.getAttribute(e))});l.remove=a(function(o,e){o.removeAttribute(e);o.save(c)});l.clear=a(function(q){var o=q.XMLDocument.documentElement.attributes;q.load(c);for(var p=0,e;e=o[p];p++){q.removeAttribute(e.name)}q.save(c)})}}}try{l.set(d,d);if(l.get(d)!=d){l.disabled=true}l.remove(d)}catch(i){l.disabled=true}if(typeof module!="undefined"){module.exports=l}else{if(typeof define==="function"&&define.amd){define(l)}else{this.store=l}}})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/page-visibility.js' */
define("atlassian/analytics/page-visibility",function(){var a=(document.hidden!==undefined);var b={supported:a,isHidden:function(){return a?document.hidden:false}};return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/user-activity-xhr-header.js' */
define("atlassian/analytics/user-activity-xhr-header",["atlassian/analytics/page-visibility"],function(c){var e="x-atlassian-mau-ignore";var d=XMLHttpRequest.prototype.send;var a=window.fetch;var b=false;return{install:function(){if(!b&&c.supported){XMLHttpRequest.prototype.send=function(){if(c.isHidden()){this.setRequestHeader(e,c.isHidden())}d.apply(this,arguments)};if(a){window.fetch=function(f,i){var g=i||{};var h=g.headers;if(c.isHidden()){g.headers=(h)?new Headers(h):new Headers();g.headers.set(e,c.isHidden())}return a.call(this,f,g)}}b=true}},uninstall:function(){if(b){XMLHttpRequest.prototype.send=d;if(a){window.fetch=a}}b=false}}});require("atlassian/analytics/user-activity-xhr-header").install();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/atlassian-analytics.js' */
(function(d){var q=AJS.$.ajax;var l="atlassian-analytics";var j=typeof AJS.contextPath==="function"?AJS.contextPath():"";var p=null;var m=null;var g=null;var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(z){var y=Math.random()*16|0,x=z=="x"?y:(y&3|8);return x.toString(16)});var t=function(){var x="unknown";if(document.body.id=="jira"){x="jira"}else{if(document.body.id=="com-atlassian-confluence"){x="confluence"}}m=l+"."+x;g=m+".lock"};var f=function(){if(store.get(g)){return false}store.set(g,r);return(store.get(g)===r)};var u=function(){store.set(g,null)};var i=function(){var y=[],A,B,x,z;if(AJS.EventQueue.length==0){return}y=store.get(m)||y;for(x=0,z=AJS.EventQueue.length;x<z;++x){B=AJS.EventQueue[x];if(B.name){A={name:B.name,properties:B.properties,time:B.time||0};y.push(A)}}AJS.EventQueue.length=0;store.set(m,y)};var v=0;var a=function(x){return Math.min(5000*Math.pow(2,x),5*60*1000)};var e=0;var h=function(){var A;function y(){setTimeout(h,a(v=0))}function x(){setTimeout(h,a(++v))}if(!f()){++e;if(e<20){return y()}}else{e=0}try{i();A=store.get(m);if(!A||!A.length){return y()}store.remove(m);if(!o(A)){return y()}var B=new Date().getTime();for(var z=0;z<A.length;z++){if(A[z].time>0){A[z].timeDelta=A[z].time-B}else{A[z].timeDelta=z-A.length}delete A[z].time}p=q({type:"POST",url:j+"/rest/analytics/1.0/publish/bulk",data:JSON.stringify(A),contentType:"application/json",dataType:"json"});p.fail(function(){AJS.EventQueue.concat(A);i();x()});p.done(function(){y()})}finally{u()}};var o=function(z){for(var y=z.length-1;y>=0;y--){var B="";var A=z[y];var x=A.properties;if(typeof A.name==="undefined"){B="you must provide a name for the event."}else{if(typeof x!=="undefined"&&x!==null){if(x.constructor!==Object){B="properties must be an object with key value pairs."}else{b(x)}}}if(B!==""){AJS.log("WARN: Invalid analytics event detected and ignored, "+B+"\nEvent: "+JSON.stringify(A));z.splice(y,1)}}return z.length};var b=function(z){for(var y in z){if(z.hasOwnProperty(y)){var x=z[y];if(c(x)&&k(x)){}else{if(c(x)&&x.toString){z[y]=x.toString()}else{z[y]=""}}}}};function c(x){return typeof x!=="undefined"&&x!==null}function k(x){return typeof x==="number"||typeof x==="string"||typeof x==="boolean"}var n=function(){if(p&&!(p.state()==="resolved"||p.state()==="rejected")){p.abort()}};AJS.EventQueue=AJS.EventQueue||[];var s=Array.prototype.push;AJS.EventQueue.push=function(x){x.time=new Date().getTime();s.call(AJS.EventQueue,x)};AJS.toInit(function(){t();setTimeout(h,500);w()});d(window).on("beforeunload",function(){n();i()});AJS.Analytics={triggerPrivacyPolicySafeEvent:function(x,y){AJS.log("WARN: 'triggerPrivacyPolicySafeEvent' has been deprecated");AJS.EventQueue.push({name:x,properties:y})}};AJS.bind("analytics",function(x,y){AJS.EventQueue.push({name:y.name,properties:y.data})});AJS.bind("analyticsEvent",function(x,y){AJS.EventQueue.push({name:y.name,properties:y.data})});var w=function(){if(window.location.pathname.indexOf("/secure/admin/ViewApplicationProperties")>-1){AJS.$("[data-property-id='analytics-enabled']").remove()}else{if(window.location.pathname.indexOf("/secure/admin/EditApplicationProperties")>-1){var y=AJS.$(":contains(Enable Atlassian analytics)");if(y.size()>0){var x=y[y.size()-2];if(x){x.remove()}}}}}}(AJS.$));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:policy-update-init', location = 'js/policy-update-init.js' */
AJS.toInit(function(){var a=WRM.data.claim("com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider");if(a){WRM.require("wrc!com.atlassian.analytics.analytics-client:policy-update")}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:programmatic-analytics-init', location = 'js/programmatic-analytics-init.js' */
(function(){var a=WRM.data.claim("com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider");if(a){WRM.require("wrc!com.atlassian.analytics.analytics-client:programmatic-analytics")}}());
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:application-header-administration-cog-resource', location = 'header/cog.js' */
var NavLinks=(function(a){a.ApplicationHeader=function(b){b.Cog=(function(){var c=function(){var d=AJS.$("#system-admin-menu-content");if(d.length>0){return d}var e=AJS.$("#admin-menu-link-content");if(e.length>0){return e}return AJS.$("#bamboo\\.global\\.header-admin\\.menu")};return{getDropdown:c}}());return b}(a.ApplicationHeader||{});return a}(NavLinks||{}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminshortcuts.soy' */
// This file was automatically generated from adminshortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.adminshortcuts.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.adminshortcuts == 'undefined') { navlinks.templates.adminshortcuts = {}; }


navlinks.templates.adminshortcuts.section = function(opt_data, opt_ignored) {
  var param5 = '<ul class="aui-list-truncate">';
  var linkList7 = opt_data.links;
  var linkListLen7 = linkList7.length;
  for (var linkIndex7 = 0; linkIndex7 < linkListLen7; linkIndex7++) {
    var linkData7 = linkList7[linkIndex7];
    param5 += '<li><a href="' + soy.$$escapeHtml(linkData7.link) + '">' + soy.$$escapeHtml(linkData7.label) + '</a></li>';
  }
  param5 += '</ul>';
  var output = '' + aui.dropdown2.section({id: 'nl-remote-admin-section', label: 'Other applications', content: param5});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.adminshortcuts.section.soyTemplateName = 'navlinks.templates.adminshortcuts.section';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminnavlinks.js' */
var NavLinks=(function(a){a.AdminShortcuts=(function(){var c=function(){return AJS.$.ajax({url:AJS.contextPath()+"/rest/menu/latest/admin",cache:false,dataType:"json"})};var b=function(){AJS.$("#nl-remote-admin-section").on("click","a",function(){NL.trackEvent("remoteAdminItemSelected",NL.getCurrentApplication(),$(this).attr("href"))})};return{render:function(){c().done(function(e){e=_.reject(e,function(f){return f.local===true});if(e.length){var d=navlinks.templates.adminshortcuts.section({links:e});a.ApplicationHeader.Cog.getDropdown().append(d);b()}})}}}());return a}(NavLinks||{}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts', location = 'adminshortcuts/adminshortcuts-cdn.js' */
AJS.toInit(function(){if(AJS.DarkFeatures&&AJS.DarkFeatures.isEnabled("rotp.admin.shortcuts")){NavLinks.AdminShortcuts.render()}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--02a4084a95', location = 'aui.chunk.9835e22e1b78c86dc53f--2123f72bb06ff40ad0fe.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.vendors--02a4084a95"],{M4tZ:function(E,n,o){var i,u,A;
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */u=[o("oDIA"),o("O+lX")],void 0===(A="function"==typeof(i=function(E){return E.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?i.apply(n,u):i)||(E.exports=A)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.keycode', location = 'aui.chunk.09b64181270e2539dc95--ac939fece05e0209a225.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["jquery.ui.keycode"],{wrJm:function(u,i,n){"use strict";n.r(i);n("M4tZ");i.default="jquery"}},[["wrJm","runtime","aui.splitchunk.vendors--20a97d6a33","aui.splitchunk.vendors--02a4084a95","aui.splitchunk.0d131bcbf1"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-projectshortcuts', location = 'projectshortcuts/projectshortcuts.soy' */
// This file was automatically generated from projectshortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.projectshortcuts.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.projectshortcuts == 'undefined') { navlinks.templates.projectshortcuts = {}; }


navlinks.templates.projectshortcuts.dialogContent = function(opt_data, opt_ignored) {
  return '' + ((opt_data.localShortcuts && opt_data.localShortcuts.length > 0) ? navlinks.templates.projectshortcuts.dialogContentShortcuts({shortcuts: opt_data.localShortcuts, listClass: 'projectshortcut-links'}) : '') + ((opt_data.remoteShortcuts != null) ? (opt_data.remoteShortcuts.length > 0) ? '<h2 class="projectshortcuts-heading">Related Links</h2>' + navlinks.templates.projectshortcuts.dialogContentShortcuts(soy.$$augmentMap(opt_data.remoteShortcuts, {shortcuts: opt_data.remoteShortcuts, listClass: 'projectshortcut-links'})) : '' : navlinks.templates.projectshortcuts.dialogLoading(null));
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContent.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContent';
}


navlinks.templates.projectshortcuts.headingWrapper = function(opt_data, opt_ignored) {
  return '<div class="project-dialog-header-wrapper"><div class="project-header"><img class="project-img" src="' + soy.$$escapeHtml(opt_data.logoUrl) + '"><h2 class="dialog-title">' + soy.$$escapeHtml(opt_data.title) + '</h2></div><div class="project-content-wrapper">' + soy.$$filterNoAutoescape(opt_data.contentHtml) + '</div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.headingWrapper.soyTemplateName = 'navlinks.templates.projectshortcuts.headingWrapper';
}


navlinks.templates.projectshortcuts.dialogContentShortcuts = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '<ul' + ((opt_data.listClass) ? ' class="' + soy.$$escapeHtml(opt_data.listClass) + '"' : '') + '>';
  var shortcutList35 = opt_data.shortcuts;
  var shortcutListLen35 = shortcutList35.length;
  for (var shortcutIndex35 = 0; shortcutIndex35 < shortcutListLen35; shortcutIndex35++) {
    var shortcutData35 = shortcutList35[shortcutIndex35];
    output += '<li' + ((shortcutIndex35 == shortcutListLen35 - 1) ? ' class="last"' : '') + '>' + navlinks.templates.projectshortcuts.dialogContentShortcut(shortcutData35) + '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContentShortcuts.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContentShortcuts';
}


navlinks.templates.projectshortcuts.dialogContentShortcut = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.link) + '"' + ((opt_data.tooltip) ? ' title="' + soy.$$escapeHtml(opt_data.tooltip) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.label) + '</a>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContentShortcut.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContentShortcut';
}


navlinks.templates.projectshortcuts.dialogLoading = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="projectshortcuts-loading">' + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogLoading.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogLoading';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-projectshortcuts', location = 'projectshortcuts/projectshortcuts.js' */
(function(e,g){var i,k={},m="key",b="name",j="entity-type";function f(s){var n=e(this),o=n.data(m),q=n.data(b),p=n.data(j);if(typeof o==="undefined"){return}s.preventDefault();i=new AJS.Dialog({width:600,keypressListener:function(u){if(u.which==jQuery.ui.keyCode.ESCAPE){i.remove()}},id:"project-shortcuts-dialog"}).addCancel("Close",function(){i.remove()}).addPanel("",navlinks.templates.projectshortcuts.headingWrapper({title:q,logoUrl:h(),contentHtml:navlinks.templates.projectshortcuts.dialogLoading({text:"Retrieving links…"})})).show();c(i);if(!k[o]){k[o]={entity:{title:q},localShortcuts:null,remoteShortcuts:null};d(AJS.contextPath()+"/rest/project-shortcuts/1.0/local/"+o,{entityType:p}).done(t);d(AJS.contextPath()+"/rest/project-shortcuts/1.0/remote/"+o,{entityType:p}).done(r).fail(function(){var u=i.getCurrentPanel().body.find(".project-content-wrapper");u.find(".projectshortcuts-loading").remove();AJS.messages.error(u,{body:"Could not retrieve remote project shortcuts",closeable:false});c(i)})}else{l(k[o])}function t(u){k[o].localShortcuts=u.shortcuts;l(k[o])}function r(u){k[o].remoteShortcuts=u.shortcuts;l(k[o])}}function h(){return e(".project-shortcut-dialog-trigger img").attr("src")}function l(n){if(n.localShortcuts){i.getCurrentPanel().html(navlinks.templates.projectshortcuts.headingWrapper({title:n.entity.title,logoUrl:h(),contentHtml:navlinks.templates.projectshortcuts.dialogContent(n)}));c(i)}}function a(p){var o=210;if(!p||p.length<=o){return p}var n=o;while(n>0&&p.charAt(n)!=" "){n--}if(n==0){n=o}p=p.substring(0,n);if(p.length>=n){p=p+"..."}return p}function c(n){var q=n.popup.element,p=q.find(".dialog-panel-body"),o=q.find(".dialog-components");p.height("auto");q.height(o.outerHeight()-1);e(".aui-shadow").remove()}function d(n,o){return e.ajax({url:n,cache:false,data:o,dataType:"json"})}e(document).on("click",".project-shortcut-dialog-trigger",f)}(jQuery,window.NL=(window.NL||{})));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:atlassian-ui-popup-display-controller', location = 'popups/DisplayController.js' */
AJS.Popups=AJS.Popups||{};AJS.Popups.DisplayController=function(){var c=[];var a=false;var b=false;AJS.toInit(function(){setTimeout(function(){AJS.Popups.DisplayController.render()},0)});return{request:function(d){c.push(d);if(a&&b===false){this.render()}},render:function(){c.sort(function(e,d){return e.weight-d.weight});a=true;if(c.length!==0){b=true;c[0].show()}}}}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.page.iconography', location = 'aui.chunk.0e489f4b2b9c5e735d98--50e9ccfcf1ce3886e7d4.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.page.iconography"],[],[["rSV2","runtime","aui.splitchunk.fbbef27525","aui.splitchunk.d7c46c2734","aui.splitchunk.56dfb54d0c","aui.splitchunk.908fe798b4"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:jira-issues-view-mode-resources', location = 'jira/jira-issues-view-mode/main.js' */
require(["ajs","jquery"],function(a,d){var c=function(){var b=d(".wiki-content [data-jira-key][data-client-id]");if(0==b.length)return!1;WRM.require("wr!confluence.extra.jira:jira-issues-view-mode-async-resource",function(){require(["confluence/jim/jira/jira-issues-view-mode/lazy-loading","confluence/jim/jira/jira-issues-view-mode/fix-ui"],function(e,f){e.init(b).done(function(){f.fixBreakIconInOldConf()})})})};a.toInit(c);a.bind("ic-jim-async-supported",c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:amd-support', location = 'amd/confluence-shim.js' */
define("confluence/jim/confluence-shim",function(){return window.Confluence});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:amd-support', location = 'amd/amd-exporter.js' */
define("confluence/jim/amd/module-exporter",[],function(){var f={namespace:function(d,e,a){var b=d.split(".");a=a||window;var c,h=b.length-1;for(c=0;c<h;c++){var g=a[b[c]];a=null!=g?g:a[b[c]]={}}a[b[c]]&&window.console&&window.console.warn&&window.console.warn('Value of "'+d+'" was overridden');a[b[c]]=e||a[b[c]]||{};return a[b[c]]},safeRequire:function(d,e){define&&void 0===define.amd&&(d=require(d),e&&e(d))},exportModuleAsGlobal:function(d,e,a){f.safeRequire(d,function(b){f.namespace(e,b);a&&a(b)})}};
return f});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:lodash-amd', location = 'applinks/internal/lib/lodash-amd-global.js' */
define('applinks/lib/lodash', function() {
        if (!window._) {
            throw "lodash not found";
        }
        return window._;
    });
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/lib-version.js' */
// NOTE: this is in "lib" because it's required by aui-amd.js. This module _cannot_ have any dependencies on non-lib
// modules (like "common")
define('applinks/lib/version', [
    'applinks/lib/lodash'
], function(
    _
) {

    function checkIntValue(value, desc) {
        if (_.isUndefined(value)) {
            return 0;
        } else if (typeof value !== 'number' || isNaN(value)) {
            throw new Error(desc + ': expected a number, was: <' + value + '>');
        } else {
            return Math.floor(value);
        }
    }

    function checkVersionObject(object, desc) {
        if (!object || !(object instanceof Version)) {
            throw new Error(desc + ': expected a Version object, was: <' + object + '>');
        }
        return object;
    }

    function compareInt(intOne, intTwo) {
        return intOne > intTwo ? 1 : intOne == intTwo ? 0 : -1;
    }

    /**
     * Constructs a version object that contains version information and can be compared with other version objects.
     *
     * @param major major version component
     * @param minor minor version component
     * @param bugfix bugfix version component
     * @constructor
     */
    function Version(major, minor, bugfix) {
        this.major = checkIntValue(major, 'major');
        this.minor = checkIntValue(minor, 'minor');
        this.bugfix = checkIntValue(bugfix, 'bugfix');
    }

    /**
     * Constructs a Version by parsing a version string.
     *
     * @param versionString version string to parse, expected to be in the form of <major>.<minor>.<bugfix>
     * @param versionDesc what version does the `versionString` represent
     */
    Version.parse = function(versionString, versionDesc) {
        versionDesc = versionDesc || 'versionString';
        if (!versionString) {
            throw new Error(versionDesc + ': expected a non-empty string');
        }
        var versionSplit = versionString.split('.');
        if (versionSplit.length !== 3) {
            throw new Error(versionDesc + ': expected <major>.<minor>.<bugfix> string, was: <' + versionString + '>');
        }
        return new Version(parseInt(versionSplit[0]), parseInt(versionSplit[1]), parseInt(versionSplit[2]));
    };

    /**
     * Comparator function to sort Version objects.
     *
     * @param versionOne first version object
     * @param versionTwo second version object
     * @returns {Number} comparison result
     * @see Version.compareTo(that)
     */
    Version.comparator = function(versionOne, versionTwo) {
        return checkVersionObject(versionOne, 'versionOne').compareTo(checkVersionObject(versionTwo, 'versionTwo'));
    };

    /**
     * Return -1, 0 or 1 as this Version object represents a version less than, equal to, or greater than `that`.
     *
     * @param that the other version to compare to
     * @returns {Number} comparison result
     */
    Version.prototype.compareTo = function(that) {
        checkVersionObject(that, 'that');
        var majorResult = compareInt(this.major, that.major);
        if (majorResult != 0) {
            return majorResult;
        }
        var minorResult = compareInt(this.minor, that.minor);
        if (minorResult != 0) {
            return minorResult;
        }
        return compareInt(this.bugfix, that.bugfix);
    };

    Version.prototype.greaterThan = function(that) {
        return this.compareTo(that) > 0;
    };

    Version.prototype.greaterThanOrEqual = function(that) {
        return this.compareTo(that) >= 0;
    };

    Version.prototype.lessThan = function(that) {
        return this.compareTo(that) < 0;
    };

    Version.prototype.lessThanOrEqual = function(that) {
        return this.compareTo(that) <= 0;
    };

    Version.prototype.equals = function(that) {
        return this.compareTo(that) == 0;
    };

    Version.prototype.toMinor = function() {
        return new Version(this.major, this.minor);
    };

    Version.prototype.toMajor = function() {
        return new Version(this.major);
    };

    Version.prototype.toString = function() {
        return this.major + '.' + this.minor + '.' + this.bugfix;
    };

    return Version;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-version-details.js' */
define('applinks/lib/aui-version-details', [
    'applinks/lib/version'
], function(
    Version
) {
    // minimum 5.9.x AUI versions - lower versions ship with bugs that break some of the Applinks functionality.
    var MINIMUM_59_VERSION = new Version(5, 9, 13);
    var VERSION_58 = new Version(5, 8);
    var VERSION_59 = new Version(5, 9);

    function checkVersion(version) {
        // if 5.9, must be >= the minimum required 5.9.x version
        if (version.lessThan(MINIMUM_59_VERSION) || version.lessThan(VERSION_59)) {
            throw new Error('AUI version ' + version + ' is too low, you need to upgrade AUI to ' + MINIMUM_59_VERSION
                + ' for Applinks to work');
        }
    }

    function addVersionDetails(AJS) {
        var ajsVersion = Version.parse(AJS.version, 'AUI version');
        checkVersion(ajsVersion);

        AJS.versionDetails = ajsVersion;
        AJS.versionDetails.is58 = ajsVersion.toMinor().equals(VERSION_58);
        AJS.versionDetails.is59 = ajsVersion.toMinor().equals(VERSION_59);

        return AJS;
    }

    return  {
        /**
         * Check AUI version for compatibility with Applinks and add `versionDetails` field.
         */
        addVersionDetails: addVersionDetails
    };
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/console-amd.js' */
define('applinks/lib/console', function() {
    return window.console;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/jquery-amd.js' */
define('applinks/lib/jquery', function() {
   return window.jQuery;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-amd.js' */
define('applinks/lib/aui', [
    'applinks/lib/window',
    'applinks/lib/aui-version-details'
], function(
    window,
    VersionDetails
) {
    var AJS = window.AJS;
    if (!AJS) {
        throw new Error('window.AJS not defined, cannot load AUI');
    }

    return VersionDetails.addVersionDetails(AJS);
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/wrm-amd.js' */
/**
 * Define Web resource manager as an AMD dependency. This should also be present in apps using Atlassian Plugins Web
 * Resources framework.
 */
define('applinks/lib/wrm', function() {
   return window.WRM;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/skate-amd.js' */
define('applinks/lib/skate', function() {
   // window.skate is not exposed as a global from AUI 5.9, this will return undefined with that version or later
   return window.skate;
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/window-amd.js' */
/**
 * Define window as AMD module to facilitate unit testing of some modules
 */
define('applinks/lib/window', function() {
    return window;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/spi-amd.js' */
/**
 * Define the Applinks SPI functions as AMD module to facilitate unit testing of some modules
 */
define('applinks/lib/spi', function() {
    return {get:
        function (){
            //required since code that depends on this global is run before the global is defined,
            // can be eliminated once this module is made properly AMD
            return AppLinks.SPI;
    }}
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/applinks-creation-amd.js' */
/**
 * Define the Applinks creation resources  as AMD module to facilitate unit testing of some modules
 */
define('applinks/lib/creation', function() {
    return {
        get: function () {
            //required since code that depends on this global is run before the global is defined,
            // can be eliminated once this module is made properly AMD
            return AppLinks.Creation;
        }
    }
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/docs.js' */
define('applinks/common/docs', [
    'applinks/lib/jquery',
    'applinks/lib/aui',
    'applinks/common/help-paths'
], function(
    $,
    AJS,
    ApplinksHelpPaths
) {
    // NOTE: should be moved to applinks/feature/help-link, see APLDEV-593

    return {
        /**
         * NOTE: this is a dynamically generated version of the link build in _help_link.vm, any update here should be
         * applied there.
         * @method createDocLink
         * @param pageKey a key that maps to a page in ual-help-paths.properties
         * @param sectionKey (Optional) a key that maps to an anchor section id in ual-help-paths.properties
         * @param classNames (Optional) Whitespace separated list of additional class names
         * @return an html &lt;a&gt; element targeting the specified page & section
         */
        createDocLink: function(pageKey, sectionKey, classNames) {
            return this._createDocLink(pageKey, sectionKey, classNames, "Help");
        },
        createDocLinkIcon: function(pageKey, sectionKey, classNames) {
            return this._createDocLink(pageKey, sectionKey, classNames, '')
                .append($('<span/>', {
                    "class": 'aui-icon aui-icon-small aui-iconfont-help',
                    "text": "Help"
                }));
        },

        _createDocLink: function(pageKey, sectionKey, classNames, text) {
            if (!classNames) {
                classNames = '';
            } else {
                classNames = ' ' + classNames;
            }
            return $('<a/>', {
                'class': 'ual-help-link help-link' + classNames,
                href: this.getDocHref(pageKey, sectionKey),
                target: '_blank',
                'data-help-link-key': pageKey,
                text: text,
                title: "Help"
            });
        },

        /**
         * @method getDocHref
         * @param pageKey a key that maps to a page in ual-help-paths.properties
         * @param sectionKey (Optional) a key that maps to an anchor section id in ual-help-paths.properties
         * @return the url of the given page and section (if specified)
         */
        getDocHref: function(pageKey, sectionKey) {
            var link = ApplinksHelpPaths.getFullPath(pageKey);
            if (sectionKey) {
                link += '#' + ApplinksHelpPaths.getPath(sectionKey);
            }
            return link;
        }
    };

});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/help-paths.js' */
define('applinks/common/help-paths', [
    'applinks/lib/console',
    'applinks/lib/wrm',
    'applinks/lib/lodash',
    'applinks/common/modules',
    'applinks/common/preconditions'
], function(
    console,
    WRM,
    _,
    ApplinksModules,
    Preconditions
) {
    // NOTE: should be moved to applinks/feature/help-link, see APLDEV-593

    // lazy-load help paths, facilitates unit-testing
    var allHelpPaths = _.memoize(function() {
        var helpPaths = WRM.data.claim(ApplinksModules.dataFqn(ApplinksModules.COMMON_EXPORTED, 'applinks-help-paths'));
        if (!helpPaths.entries) {
            console.warn('Help paths not found, all help links are likely to be broken.');
        }
        return helpPaths.entries || {};
    });

    var getPath = function(key, sectionKey) {
        Preconditions.nonEmptyString(key, 'key');
        var path = allHelpPaths()[key] || key;
        if (sectionKey) {
            Preconditions.nonEmptyString(sectionKey, 'sectionKey');
            var prefix = path.replace(/\+/g, ''); // "g" flag to remove _all_ '+' signs
            path += '#' +prefix + '-' + sectionKey;
        }
        return path;
    };

    function endsWith(string, suffix) {
        return string.indexOf(suffix, string.length - suffix.length) !== -1;
    }

    function addSuffixIfRequired(string, suffix) {
        return endsWith(string, suffix) ? string : string + suffix;
    }

    return {
        /**
         * @param key {string} key to get the path for
         * @returns {string} relative help path that can be appended to any relevant docs base URL
         */
        getPath: getPath,

        /**
         * @param key {string} key to get the path for
         * @param sectionKey {string} optional key of the anchor on the target page
         * @returns {string} full help path including the base URL
         */
        getFullPath: function(key, sectionKey) {
            var baseUrl = this.baseUrl();
            return addSuffixIfRequired(baseUrl, '/') + this.getPath(key, sectionKey);
        },

        /**
         * @returns {string} configured base URL for the help paths
         */
        baseUrl: _.partial(getPath, 'applinks.docs.root')
    }
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/events.js' */
define('applinks/common/events', [
    'applinks/lib/jquery',
    'applinks/lib/lodash',
    'applinks/lib/window',
    'applinks/common/preconditions'
], function(
    $,
    _,
    window,
    Preconditions
) {
    var PREFIX = 'applinks.event.';

    function applinksEvent(eventId) {
        return PREFIX + Preconditions.nonEmptyString(eventId, 'eventId');
    }

    /**
     * Provides common Applinks event IDs and a simple event system facade API. This is a preferred way to subscribe to
     * and raise Applinks-specific events as it does not depend on a specific event bus or event target (such as
     * `document`), as well as facilitates unit testing.
     */
    return {
        PREREADY: applinksEvent('preready'),
        READY: applinksEvent('ready'),

        /**
         * Raised when applinks list is first loaded
         */
        APPLINKS_LOADED: applinksEvent('loaded'),
        /**
         * Raised when applinks list is updated
         */
        APPLINKS_UPDATED: applinksEvent('updated'),

        /**
         * This event is only raised when linking to Atlassian applications
         * Can be consumed by other plugins
         */
        NEW_APPLINK_CREATED: applinksEvent('created'),

        /**
         * Raised when orphaned upgrade operation succeeds in creating a new Applink from the orphaned relationship
         */
        ORPHANED_UPGRADE: applinksEvent('orphaned.upgrade'),

        /**
         * Raised when v3 onboarding has finished or, or has never run on the current page (and won't).
         */
        V3_ONBOARDING_FINISHED: applinksEvent('v3-onboarding-finished'),

        // legacy events
        Legacy: {
            MESSAGE_BOX_DISPLAYED: applinksEvent('message-box-displayed')
        },

        applinksEvent: applinksEvent,

        on: function(events, handler, context) {
            var handlerWithContext = context ? _.bind(handler, context) : handler;
            $(window.document).on(events, handlerWithContext);
        },

        off: function(events, handler) {
            $(window.document).off(events, handler);
        },

        trigger: function(event, data) {
            $(window.document).trigger(event, data);
        }
    }
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/i18n.js' */
define('applinks/common/i18n', [
    'applinks/lib/lodash',
    'applinks/lib/jquery',
    'applinks/lib/wrm',
    'applinks/common/modules',
    'applinks/common/preconditions',
    'applinks/common/products'
], function(
    _,
    $,
    WRM,
    ApplinksModules,
    Preconditions,
    ApplinksProducts
) {
    var getAllEntityTypes = _.memoize(function() {
        var val = WRM.data.claim(ApplinksModules.dataFqn(ApplinksModules.COMMON_EXPORTED, 'entity-types'));
        return Preconditions.hasValue(val, 'entity-types', 'Entity Types data not found');
    });

    var getAllAuthTypes = _.memoize(function() {
        var val = WRM.data.claim(ApplinksModules.dataFqn(ApplinksModules.COMMON_EXPORTED, 'authentication-types'));
        return Preconditions.hasValue(val, 'authentication-types', 'Authentication Types data not found');
    });

    return {
        
        /**
         * @param typeId ID of the application type to resolve
         * @returns {string} resolved i18n-ed type name, or the original `typeId` if there is no mapping
         */
        getApplicationTypeName: function(typeId) {
            return ApplinksProducts.getTypeName(typeId);
        },

        /**
         * @param typeId ID of the entity type to resolve
         * @returns {string} resolved i18n-ed singular entity type name, or the original `typeId` if there is no mapping
         */
        getEntityTypeName: function(typeId) {
            return getAllEntityTypes().singular[typeId] || typeId;
        },

        /**
         * @param typeId ID of the entity type to resolve
         * @returns {string} resolved i18n-ed plural entity type name, or the original `typeId` if there is no mapping
         */
        getPluralizedEntityTypeName: function(typeId) {
            return getAllEntityTypes().plural[typeId] || typeId;
        },

        /**
         * @param type ID of the authentication type to resolve (usually in a form of full class name)
         * @returns {string} resolved i18n-ed authentication type name, or the original `type` if there is no mapping
         */
        getAuthenticationTypeName: function(type) {
            return getAllAuthTypes()[type] || type;
        }
    };
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/modules.js' */
/**
 * Applinks plugin modules core constants and definitions.
 */
define('applinks/common/modules', function() {
    return {
        /**
         * Applinks plugin key
         */
        PLUGIN_KEY: 'com.atlassian.applinks.applinks-plugin',

        // key web resource keys
        COMMON_EXPORTED: 'applinks-common-exported',
        COMMON: 'applinks-common',

        /**
         * Fully qualifies a module name using the plugin key.
         *
         * @param {string} moduleName module name to qualify
         * @returns {string} fully qualified name
         */
        fqn: function(moduleName) {
            return this.PLUGIN_KEY + ':' + moduleName;
        },

        /**
         * Fully qualifies web-resource data using module name and data key.
         *
         * @param {string} moduleName module name
         * @param {string} dataKey key of the data element
         * @returns {string} fully qualified name
         */
        dataFqn: function(moduleName, dataKey) {
            return this.fqn(moduleName) + '.' + dataKey;
        }
    };
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/preconditions.js' */
define('applinks/common/preconditions', [
    'applinks/lib/lodash'
], function(
    _
) {
    function nonEmptyString(value, varName, customMessage) {
        return _checkArgument(
            _.isString(value) && !_.isEmpty(value),
            customMessage,
            _withVarName(varName, ': expected a non-empty string, was: <' + value + '>'),
            value
        );
    }

    function isFunction(value, varName, customMessage) {
        return _checkArgument(
            _.isFunction(value),
            customMessage,
            _withVarName(varName, ': expected a function, was: ' + value),
            value
        );
    }

    function isArray(value, varName, customMessage) {
        return _checkArgument(
            _.isArray(value),
            customMessage,
            _withVarName(varName, ': expected an array, was: ' + value),
            value
        );
    }

    function hasValue(value, varName, customMessage) {
        return _checkArgument(
            value,
            customMessage,
            _withVarName(varName, ': expected a value'),
            value
        );
    }

    function _checkArgument(test, message, defaultMessage, actualValue) {
        var actualMessage = message ? message : defaultMessage;
        if (!test) {
            throw new Error(actualMessage)
        }
        return actualValue || test;
    }

    function _withVarName(varName, msg) {
        return (varName || '[unspecified]') + msg;
    }

    return {
        // applinks support 1.5.2+ underscore and its lodash counterparts
        // _.partial works differently in lodash@2.x vs its newer and underscore versions
        //  thus replacing _.partial with vanilla JS for full compatibility
        checkArgument: function(test, message, actualValue) {
            return _checkArgument(test, message, '', actualValue);
        },
        nonEmptyString: nonEmptyString,
        isArray: isArray,
        isFunction: isFunction,
        hasValue: hasValue
    };
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/products.js' */
define('applinks/common/products', [
    'applinks/lib/lodash',
    'applinks/lib/wrm',
    'applinks/common/modules',
    'applinks/common/preconditions'
], function(
    _,
    WRM,
    ApplinksModules,
    Preconditions
) {
    var getAllTypes = _.memoize(function() {
        var val = WRM.data.claim(ApplinksModules.dataFqn(ApplinksModules.COMMON_EXPORTED, 'applinks-types'));
        return Preconditions.hasValue(val, 'types', 'Application Types data not found');
    });

    /**
     * @param typeId ID of the application type to resolve
     * @returns {string} resolved i18n-ed type name, or the original `typeId` if there is no mapping
     */
    function getTypeName(typeId) {
        return getAllTypes()[typeId] || typeId;
    }

    /**
     * Map of Atlassian product keys to application type IDs
     */
    return {
        BAMBOO: 'bamboo',
        BITBUCKET: 'stash', // special case, see java class com.atlassian.applinks.application.bitbucket.BitbucketApplicationTypeImpl.TYPE_ID
        CONFLUENCE: 'confluence',
        FECRU: 'fecru',
        JIRA: 'jira',
        REFAPP: 'refapp',
        STASH: 'stash',
        getTypeName: getTypeName
    };
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.core', location = 'aui.chunk.81859c77a35803f186d6--a965583ff2f1059e0380.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.core"],[],[["7KGX","runtime","aui.splitchunk.0d131bcbf1","aui.splitchunk.444efc83be","aui.splitchunk.739b9ec8cc","aui.splitchunk.994e478d48","aui.splitchunk.479fe6ee76","aui.splitchunk.2e16019fb9","aui.splitchunk.8771ceac91","aui.splitchunk.7873ba9060","aui.splitchunk.0fc208f3fe","aui.splitchunk.2a34183e72"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-util-js', location = 'applinks/internal/non-amd/rest-service.js' */
// NOTE: this is used outside of Applinks. See atlassian-plugin.xml for more details about the associated restrictions

(function(AppLinksI18n, ApplinksDocs, ApplinksEvents) {
    var $ = AJS.$;

    /**
     * The triggering of AppLinks initialisation can be customised by setting a function on
     * AJS.AppLinksInitialisationBinder. The binder function should take a single argument which is a zero-arg function to
     * run and should execute this function when appropriate.
     */
    AppLinks = $.extend(window.AppLinks || {}, {
        Event: {
            NAMESPACE: 'applinks'
        },
        I18n: AppLinksI18n,
        Docs: ApplinksDocs
    });
    AppLinks.Event = $.extend(window.AppLinks.Event, ApplinksEvents);

    // Is there an overridden initialisation binder?
    if (AJS.AppLinksInitialisationBinder) {
        AppLinks.initialisationBinder = AJS.AppLinksInitialisationBinder;
    } else {
        // The default bind if no specific binder is specified
        AppLinks.initialisationBinder = function(f) {
            AJS.toInit(f);
        }
    }

    function parseJsonResponse(xhr) {
        var respJSON = xhr.responseText;
        var respObj;
        try {
            respObj = JSON.parse(respJSON);
        } catch (e) {
            console && console.error && console.error('invalid JSON response', respJSON, xhr);
        }
        return respObj || {};
    }

    var restUrlVersionMatch = new RegExp('rest/applinks(?:.*?)/(\\d\\.\\d|\\d)/');
    /**
     * Determine the REST endpoint version of a given URL.
     * @param url
     */
    function versionOf(url) {
        var results = restUrlVersionMatch.exec(url);
        return results && results.length === 2 ? results[1] : false;
    }

    AppLinks.initialisationBinder(function() {
        AppLinks = $.extend(window.AppLinks || {}, {
            failure: function(data) {
                if (data.status == 401) {
                    window.location.reload();
                } else {
                    var message = AppLinks.parseError(data);
                    var errorDivs = $('.page-error');

                    if (errorDivs.length > 0) {
                        errorDivs.html(message).fadeIn('slow');
                    } else {
                        alert('REST request failed: ' + message);
                    }
                }
            },
            jsonRequest: function(url, type, data, success, error, beforeSend) {
                if (data) {
                    data = JSON.stringify(data);
                }
                $(".page-error").fadeOut('fast');
                if (!error) error = AppLinks.failure;
                return jQuery.ajax({
                    url: url,
                    type: type,
                    data: data,
                    dataType: 'json',
                    contentType: "application/json; charset=utf-8",
                    beforeSend: beforeSend,
                    cache: false,
                    success: success,
                    error: error,
                    jsonp: false
                });
            },
            xmlRequest: function(url, type, data, success, error, beforeSend) {
                if (data) {
                    data = JSON.stringify(data);
                }
                $(".page-error").fadeOut('fast');
                if (!error) error = AppLinks.failure;
                return jQuery.ajax({
                    url: url,
                    type: type,
                    data: data,
                    dataType: 'xml',
                    contentType: "application/xml; charset=utf-8",
                    beforeSend: beforeSend,
                    cache: false,
                    success: success,
                    error: error
                });
            },
            parseError: function(errorData) {
                var error = parseJsonResponse(errorData);
                var message = error && error.message;
                if (message) {
                    return $.isArray(message) ? message.join(' ') : message;
                }
                if (errorData) {
                    return errorData.statusText ? errorData.statusText : errorData;
                }
                return 'An unknown error occurred. Check the console logs for details.';
            },
            put: function(url, data, success, error, beforeSend) {
                return AppLinks.jsonRequest(url, 'PUT', data, success, error, beforeSend);
            },
            post: function(url, data, success, error, beforeSend) {
                return AppLinks.jsonRequest(url, 'POST', data, success, error, beforeSend);
            },
            update: function(data, success, error, beforeSend) {
                var selfLink = AppLinks.self_link(data);
                /**
                 * Adapt to the version of the endpoint and the HTTP verb it uses.
                 * yes, this is not "REST-ful". The verb is wrong. It has been wrong since 2014.
                 * It is simpler to adapt than it is to release a new endpoint.
                 */
                var restMethod = versionOf(selfLink) === '1.0' ? AppLinks.put : AppLinks.post;
                restMethod(selfLink, data, success, error, beforeSend);
            },
            get: function(url, success, error, beforeSend) {
                return AppLinks.jsonRequest(url, 'GET', null, success, error, beforeSend);
            },
            getXml: function(url, success, error, beforeSend) {
                return AppLinks.xmlRequest(url, 'GET', null, success, error, beforeSend);
            },
            self_link: function(item) {
                for (var i = 0, _i = item.link.length; i < _i; i++) {
                    var link = item.link[i];
                    if (link.rel == "self") return link.href;
                }

                throw "No self-link found";
            },
            del: function(urlOrObject, success, error, beforeSend) {
                var url;
                if (typeof(urlOrObject) == 'string') url = urlOrObject;
                else url = AppLinks.self_link(urlOrObject);
                return AppLinks.jsonRequest(url, 'DELETE', null, success, error, beforeSend);
            },
            SPI: $.extend({}, {
                API_VERSION: "1.0",
                REST_RESOURCE_URL: AJS.contextPath() + "/rest/applinks/",
                BASE_URL: AJS.contextPath() + "/rest/applinks/1.0",
                OAUTH_REST_RESOURCE_URL: AJS.contextPath() + "/rest/applinks-oauth/",
                OAUTH_BASE_URL: AJS.contextPath() + "/rest/applinks-oauth/1.0",

                /**
                 * Update the API version and associated urls.
                 * @param version
                 */
                setApiVersion: function(version){
                    AppLinks.SPI.API_VERSION = version;
                    AppLinks.SPI.setBaseUrl(AppLinks.SPI.REST_RESOURCE_URL + AppLinks.SPI.API_VERSION);
                },
                setBaseUrl: function(url){
                    AppLinks.SPI.BASE_URL = url;
                },
                setOAuthBaseUrl: function(url){
                    AppLinks.SPI.OAUTH_BASE_URL = url;
                },
                /**
                 * Build a base URL for rest calls using the specified baseUrl.
                 * @param baseUrl
                 * @returns {string}
                 */
                getRemoteRestBaseUrl: function(baseUrl) {
                    return baseUrl + "/rest/applinks/" + AppLinks.SPI.API_VERSION;
                },
                /**
                 * Build a base URL for plugin servlet calls using the specified baseUrl.
                 * @param baseUrl
                 * @returns {string}
                 */
                getRemotePluginServletBaseUrl: function(baseUrl) {
                    return baseUrl + "/plugins/servlet";
                },
                getAllLinks: function(success, failure) {
                    var url = AppLinks.SPI.BASE_URL + "/applicationlink";
                    return AppLinks.get(url, success, failure);
                },
                getAllLinksWithAuthInfo: function(success, failure) {
                    var url = AppLinks.SPI.BASE_URL + "/listApplicationlinks";
                    return AppLinks.get(url, success, failure);
                },
                getApplicationLinkState: function(id, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + "/listApplicationlinkstates/id/" + id;
                    return AppLinks.get(url, success, failure);
                },
                getLinksOfType: function(typeId, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + "/applicationlink/type/" + typeId;
                    return AppLinks.get(url, success, failure);
                },
                tryToFetchManifest: function(url, success, failure) {
                    var restUrl = AppLinks.SPI.BASE_URL + '/applicationlinkForm/manifest.json?url=' + encodeURIComponent(url);
                    return AppLinks.get(restUrl, success, failure, function(jqxhr) {
                        jqxhr.setRequestHeader("X-Atlassian-Token", "no-check");
                    });
                },
                getManifestFor: function(id, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/manifest/' + id + ".json";
                    return AppLinks.get(url, success, failure);
                },
                getLocalManifest: function(success, failure){
                    var url = AppLinks.SPI.BASE_URL + '/manifest.json';
                    return AppLinks.get(url, success, failure);
                },
                /**
                 * Attempt to get the Manifest of the remote application, via a direct REST call.
                 * Requires CORS enabled on the REST resource.
                 * @param url
                 * @param success
                 * @param failure
                 * @returns {*}
                 */
                getRemoteManifest: function(remoteBaseUrl, success, failure){
                    var remoteManifestUrl = AppLinks.SPI.getRemoteRestBaseUrl(remoteBaseUrl) + '/manifest.json';
                    return AppLinks.get(remoteManifestUrl, success, failure);
                },
                /**
                 * Attempt to get the OAuth Consumer Info of the remote application, via a direct call.
                 * Requires CORS enabled on the REST resource.
                 * @param url
                 * @param success
                 * @param failure
                 * @returns {*}
                 */
                getRemoteOAuthConsumerInfo: function(remoteBaseUrl, success, failure){
                    var remoteManifestUrl = AppLinks.SPI.getRemotePluginServletBaseUrl(remoteBaseUrl) + '/oauth/consumer-info';
                    return AppLinks.getXml(remoteManifestUrl, success, failure);
                },
                getApplinkStatus: function (applinkId, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/status/' + applinkId;
                    return AppLinks.get(url, success, failure);
                },
                createStaticUrlAppLink: function(applicationType, success, failure) {
                    var restUrl = AppLinks.SPI.BASE_URL + '/applicationlinkForm/createStaticUrlAppLink?typeId=' + applicationType;
                    return AppLinks.post(restUrl, null, success, failure);
                },
                createLink: function(applicationLink, username, password, createTwoWayLink, customRpcUrl, rpcUrl, configFormValues, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/applicationlinkForm/createAppLink';
                    var data = {
                        applicationLink: applicationLink,
                        username: username,
                        password: password,
                        createTwoWayLink: createTwoWayLink,
                        customRpcURL: customRpcUrl,
                        rpcUrl: rpcUrl,
                        configFormValues: configFormValues
                    };
                    return AppLinks.post(url, data, success, failure);
                },
                createLinkWithOrphanedTrust : function(applicationLink, username, password, createTwoWayLink, customRpcUrl, rpcUrl, configFormValues, orphanedTrust, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/applicationlinkForm/createAppLink';
                    var data = {
                        applicationLink: applicationLink,
                        username: username,
                        password: password,
                        createTwoWayLink: createTwoWayLink,
                        customRpcURL: customRpcUrl,
                        rpcUrl: rpcUrl,
                        configFormValues: configFormValues,
                        orphanedTrust: orphanedTrust
                    };
                    return AppLinks.post(url, data, success, failure);
                },
                verifyTwoWayLinkDetails : function (remoteUrl, rpcUrl, username, password, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/applicationlinkForm/details';
                    var data = {
                        username: username,
                        password: password,
                        remoteUrl: remoteUrl,
                        rpcUrl: rpcUrl
                    };
                    return AppLinks.post(url, data, success, failure);
                },
                getApplicationLinkInfo: function (appId, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/applicationlinkInfo/id/" + appId;
                    return AppLinks.get(url, success, error);
                },
                deleteLink: function(applicationLink, reciprocate, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/applicationlink/" + applicationLink.id;
                    if (reciprocate) url += "?reciprocate=true";
                    return AppLinks.del(url, success, error);
                },
                makePrimary: function(applicationLink, success) {
                    var url = AppLinks.SPI.BASE_URL + "/applicationlink/primary/" + applicationLink.id;
                    return AppLinks.post(url, null, success);
                },
                relocate: function(applicationLink, newUrl, suppressWarnings, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/relocateApplicationlink/" + applicationLink.id + "?newUrl=" + encodeURIComponent(newUrl) +
                        "&nowarning=" + (suppressWarnings ? "true" : "false");
                    return AppLinks.post(url, null, success, error);
                },
                legacyUpgrade: function(applicationLink, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/upgrade/legacy/" + applicationLink.id;
                    return AppLinks.post(url, null, success, error);
                },
                ualUpgrade: function(applicationLink, body, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/upgrade/ual/" + applicationLink.id;
                    return AppLinks.post(url, body, success, error);
                },
                getEntityTypesForApplicationType: function(applicationType, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/type/entity/" + applicationType;
                    return AppLinks.get(url, success, error);
                },
                getLocalEntitiesWithLinksToApplication: function(applicationLinkId, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entitylink/localEntitiesWithLinksTo/" + applicationLinkId + ".json";
                    return AppLinks.get(url, success, error);
                },
                getEntityLinksForApplication: function(applicationLinkId, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entities/" + applicationLinkId + ".json";
                    AppLinks.get(url, success, error);
                },
                getEntityLinksForApplicationUsingAnonymousAccess: function(applicationLinkId, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entities/anonymous/" + applicationLinkId + ".json";
                    return AppLinks.get(url, success, error);
                },
                createNonUalEntityLink: function(localType, localKey, applicationId, remoteTypeId, remoteKey, name, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entitylink/" + localType + "/" + localKey + "?reciprocate=false";
                    var data = {
                        applicationId: applicationId,
                        typeId: remoteTypeId,
                        key: remoteKey,
                        name: name,
                        isPrimary: false
                    };
                    return AppLinks.put(url, data, success, error);
                },
                createEntityLink: function(localType, localKey, entity, reciprocate, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + "/entitylink/" + localType + "/" + localKey + "?reciprocate=";
                    url += (reciprocate ? "true" : "false");
                    return AppLinks.put(url, entity, success, failure);
                },
                getConfiguredEntityLinks: function(localType, localKey, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entitylink/primaryLinks/" + localType + "/" + localKey + ".json";
                    return AppLinks.get(url, success, error);
                },
                deleteEntityLink: function(localTypeId, localKey, entity, reciprocate, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entitylink/" + localTypeId + "/" + localKey + "?typeId=" + entity.typeId + "&key=" + entity.key + "&applicationId=" + entity.applicationId + "&reciprocate=" + reciprocate;
                    return AppLinks.del(url, success, error);
                },
                makePrimaryEntityLink: function(localTypeID, localKey, entity, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/entitylink/primary/" + localTypeID + "/" + localKey + "?typeId=" + entity.typeId + "&key=" + entity.key + "&applicationId=" + entity.applicationId;
                    return AppLinks.post(url, null, success, error);
                },
                canDeleteAppLink: function(applicationId, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/permission/reciprocate-application-delete/" + applicationId;
                    return AppLinks.get(url, success, error);
                },
                canDeleteEntityLink: function(localTypeId, localKey, entity, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/permission/reciprocate-entity-delete/" + entity.applicationId + "/" + localTypeId + "/" + localKey + "/" + entity.typeId + "/" + entity.key;
                    return AppLinks.get(url, success, error);
                },
                canCreateReciprocateEntityLink: function(applicationId, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/permission/reciprocate-entity-create/" + applicationId;
                    return AppLinks.get(url, success, error);
                },
                processPermissionCode: function(settings) {
                    var config = {
                        noPermission: function() {},
                        missing: function() {},
                        credentialsRequired: function(authUrl) {},
                        authenticationFailed: function(authUrl) {},
                        noAuthentication: function(authUrl) {},
                        noAuthenticationConfigured: function() {},
                        noConnection: function() {},
                        allowed: function() {},
                        unrecognisedCode: function(code) {},
                        updateView: function(message, icon, button) {}
                    };

                    if (!settings) settings = {};

                    settings = $.extend(config, settings);

                    return function(data) {
                        var code = data.code;
                        if (code == "NO_PERMISSION") {
                            settings.noPermission();
                        } else if (code == "MISSING") {
                            settings.missing();
                        } else if (code == "CREDENTIALS_REQUIRED") {
                            settings.credentialsRequired(data.url);
                        } else if (code == "AUTHENTICATION_FAILED") {
                            settings.authenticationFailed(data.url);
                        } else if (code == "NO_AUTHENTICATION") {
                            settings.noAuthentication(data.url);
                        } else if (code == "NO_AUTHENTICATION_CONFIGURED") {
                            settings.noAuthenticationConfigured();
                        } else if (code == "NO_CONNECTION") {
                            settings.noConnection();
                        } else if (code == "ALLOWED") {
                            settings.allowed();
                        } else {
                            settings.unrecognisedCode(data.code);
                        }
                    };
                },
                addAuthenticationTrigger: function(target, authUrl, callbacks) {
                    if (!callbacks) {
                        callbacks = {};
                    }

                    if (typeof callbacks.onSuccess == "undefined") {
                        callbacks.onSuccess = function() {
                            location.reload();
                        }
                    }

                    if (typeof callbacks.onFailure == "undefined") {
                        callbacks.onFailure = function() {
                            return true;
                        }
                    }
                    //Unbind previous click listener, otherwise we might end up opening multiple windows.
                    $(target).off('click.applinks');
                    $(target).on('click.applinks', function() {
                        if (callbacks.before) {
                            callbacks.before();
                        }
                        AppLinks.authenticateRemoteCredentials(authUrl, callbacks.onSuccess, callbacks.onFailure);
                    });
                },
                deleteOrphanedTrust: function(id, type, success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/orphaned-trust/" + type + "/" + id;
                    return AppLinks.del(url, success, error);
                },
                getOrphanedTrust: function(success, error) {
                    var url = AppLinks.SPI.BASE_URL + "/orphaned-trust/";
                    return AppLinks.get(url, success, error);
                },
                showCreateEntityLinkSuggestion: function() {
                    return true;
                },
                getApplicationLink: function(id, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/applicationlink/' + id;
                    return AppLinks.get(url, success, failure);
                },
                createApplicationLink: function(id, name, rpcUrl, displayUrl, typeId, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/applicationlink';
                    var data = {
                        id: id,
                        name: name,
                        rpcUrl: rpcUrl,
                        displayUrl: displayUrl,
                        typeId: typeId
                    };
                    return AppLinks.put(url, data, success, failure);
                },
// TODO APLDEV-3 extract OAuth creation code into OAuth specific js files in the Oauth plugin.
                createConsumer: function(id, key, name, description, sharedSecret, publicKey, twoLOAllowed, executingTwoLOUser, twoLOImpersonationAllowed, outgoing, success, failure) {
                    var url = AppLinks.SPI.OAUTH_BASE_URL + '/applicationlink/' + id + '/authentication/consumer';
                    var data = {
                        key: key,
                        name: name,
                        description: description,
                        sharedSecret: sharedSecret,
                        publicKey: publicKey,
                        outgoing: outgoing,
                        twoLOAllowed: twoLOAllowed,
                        executingTwoLOUser: executingTwoLOUser,
                        twoLOImpersonationAllowed: twoLOImpersonationAllowed
                    };
                    return AppLinks.put(url, data, success, failure);
                },
                createConsumerAutoConfigure: function(id, twoLOAllowed, executingTwoLOUser, twoLOImpersonationAllowed, success, failure) {
                    var url = AppLinks.SPI.OAUTH_BASE_URL + '/applicationlink/' + id + '/authentication/consumer?autoConfigure=true';
                    var data = {
                        twoLOAllowed: twoLOAllowed,
                        executingTwoLOUser: executingTwoLOUser,
                        twoLOImpersonationAllowed: twoLOImpersonationAllowed
                    };
                    return AppLinks.put(url, data, success, failure);
                },
                registerProvider: function(id, provider, config, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/applicationlink/' + id + '/authentication/provider';
                    var data = {
                        config : config,
                        provider : provider
                    };
                    return AppLinks.put(url, data, success, failure);
                },
                enableFeature: function(featureName, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/features/' + featureName;
                    return AppLinks.put(url, {}, success, failure);
                },
                disableFeature: function(featureName, success, failure) {
                    var url = AppLinks.SPI.BASE_URL + '/features/' + featureName;
                    return AppLinks.del(url, success, failure);
                }
            }, (window.AppLinks && window.AppLinks.SPI) || {})
        });

        AppLinks.UI = {
            showInfoBox: function(message) {
                $('.aui-message.aui-message-success').remove();
                AppLinks.UI.createMessage('success', message, 'page-info');
            },
            hideInfoBox: function() {
                $('.aui-message.aui-message-success').remove();
            },
            showErrorBox: function(message) {
                AppLinks.UI.createMessage('error', message, 'page-error');
            },
            hideErrorBox: function() {
                $('.aui-message.aui-message-error').remove();
            },
            showWarningBox: function(messages) {
                if ($.isArray(messages) && messages.length > 0) {
                    var ulEl = $("<ul></ul>");
                    $(messages).each(function(index) {
                        ulEl.append($("<li/>", {
                            text: messages[index]
                        }));
                    });
                    var messageEl = $('<div class="page-warning"></div>').append(ulEl);
                    AppLinks.UI.createMessage('warning', messageEl.html(), 'page-warning');
                } else {
                    AppLinks.UI.createMessage('warning', messages, 'page-warning');
                }
            },
            hideWarningBox: function() {
                $('.aui-message.aui-message-warning').remove();
            },
            shortenString: function(message, maxLength) {
                if (message.length  > maxLength) {
                    message = message.substring(0, maxLength) + "...";
                }
                return message;
            },
            createMessage: function(type, message, cssClass) {
                var messageEl = $('<div class="' + cssClass + '">');
                messageEl.html(message);
                AJS.messages[type](".applinks-message-bar", {
                    title: "",
                    body: messageEl.wrap('<div></div>').parent().html(),
                    closeable: true
                });
                $(document).trigger(AppLinks.Event.Legacy.MESSAGE_BOX_DISPLAYED);
            },
            displayValidationErrorMessages: function (errorClass, rootEl, messages) {
                if ($.isArray(messages)) {
                    $(messages).each(function(i,v) {
                        var d = $('<div class="error applinks-error">');
                        d.text(v);
                        $(rootEl).find("." + errorClass).append(d);
                    });
                } else if(typeof messages != 'undefined'){
                    var d = $('<div class="error applinks-error">');
                    d.text(messages.toString());
                    $(rootEl).find("." + errorClass).append(d);
                }
            },
            displayValidationError: function(errorClass, rootEl, errorFn) {
                return function(xhr) {
                    if (xhr.status == 401) {
                        window.location.reload();
                        return;
                    }
                    $('.applinks-error').remove();
                    $('aui-spinner').remove();

                    var respObj = parseJsonResponse(xhr);
                    var messages = respObj.message;

                    if (typeof respObj.fields == "undefined") {
                        AppLinks.UI.displayValidationErrorMessages(errorClass, rootEl, messages);
                    } else {
                        var fields = respObj.fields;
                        $(fields).each(function(index) {
                            var d = $('<div class="error applinks-error" id="' + fields[index] + '-error">');
                            d.text(messages[index]);
                            if ($(rootEl).find('.' + fields[index]).length > 0) {
                                d.insertAfter($(rootEl).find('.' + fields[index]));
                            } else {
                                d.insertAfter($(rootEl).find('.' + errorClass).append(d));
                            }
                        });
                    }
                    $(rootEl).find('.' + errorClass).addClass("fully-populated-errors");
                    if (errorFn) {
                        errorFn();
                    }
                }
            },
            addProtocolToURL : function(url) {
                var newUrl = $.trim(url);
                var tempURL = newUrl.toLowerCase();
                var hasProtocol = false;
                if (tempURL.length >= 7) {
                    if (tempURL.substring(0,7).indexOf('http') != -1) {
                        hasProtocol = true;
                    }
                }
                //default protocol is http
                if (!hasProtocol) {
                    newUrl = 'http://' + newUrl;
                }
                return newUrl;
            },
            /**
             * Similar to the standard Javascript join() method, but nicer in that
             * it uses a different delimiter for the last node (by default "and"),
             * so that:
             * {code}
             * "1, 2 and 3" == prettyJoin(['1', '2', '3'], function(value) {return value;});
             * {code}
             *
             * @param inputArray
             * @param resolveFn
             * @param finalDelimiter
             */
            prettyJoin : function(inputArray, resolveFn, finalDelimiter) {
                if (!finalDelimiter) {
                    finalDelimiter = "and";
                }
                var maxLength = inputArray.length;
                var message = "";
                $.each(inputArray, function(index, value) {
                    if (index == (maxLength - 1) && maxLength > 1) {
                        message += " " + finalDelimiter + "  " + resolveFn(value);
                    } else {
                        message += resolveFn(value);
                        if (index + 2 < maxLength) {
                            message += ", ";
                        }
                    }
                });
                return message;
            },
            showLoadingIcon: function(element) {
                $('<aui-spinner size="small" class="applinks-loading"></aui-spinner>').insertBefore(element);
            },
            hideLoadingIcon: function(element) {
                $(element).prev('aui-spinner').remove();
            },
            findUrl: function(text) {
                var url = undefined;
                var lcText = text.toLowerCase();
                var startOfUrl = lcText.indexOf('http:');
                if (startOfUrl == -1) {
                    startOfUrl = lcText.indexOf('https:');
                }
                if (startOfUrl > -1) {
                    var endOfUrl = lcText.indexOf(' ', startOfUrl);
                    if (endOfUrl == -1) {
                        endOfUrl = lcText.length;
                    }
                    url = text.substring(startOfUrl, endOfUrl); // use _case-sensitive_ version to retrieve the actual URL
                }
                return url;
            },
            findApplicationType : function(id) {
                id = id.toLowerCase();
                if (id.indexOf("jira") != -1) {
                    return "jira";
                } else if (id.indexOf("fisheye") != -1) {
                    return "fecru";
                } else if (id.indexOf("confluence") != -1) {
                    return "confluence";
                } else if (id.indexOf("refapp") != -1) {
                    return "refapp";
                } else {
                    return undefined;
                }
            },
            escapeSelector: function(selector) {
                // based on http://samuelsjoberg.com/archive/2009/09/escape-jquery-selectors
                return selector.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g, "\\$1");
            },
            sanitiseHTML: function(input) {
                var replacements = {
                    "<": "&lt;",
                    '"': "&quot;",
                    "&": "&amp;"
                };
                return input.replace(/[<"&]/g, function(match) {
                    return replacements[match];
                });
            },
            refreshOrphanedTrust: function() {
                // post dialog -- check whether we need to remove any orphaned-trust entries
                var updateOrphanedTrust = function(data) {
                    $("tr.orphaned-trust-row").each(function() {
                        var $this = $(this);
                        var id = $this.attr("data-id");
                        var type = $this.attr("data-type");
                        var stillExists = false;
                        for (var i = 0; i < data.orphanedTrust.length; i++) {
                            var ot = data.orphanedTrust[i];
                            if (id == ot.id && type == ot.type) {
                                stillExists = true;
                                break;
                            }
                        }
                        if (!stillExists) {
                            $this.remove();
                            if (data.orphanedTrust.length == 0) {
                                // we just removed the last orphaned trust cert, hide warning!
                                $(".orphaned-trust-warning").hide();
                            }
                        }
                    });
                };

                AppLinks.SPI.getOrphanedTrust(updateOrphanedTrust);
            },
            removeCssClass: function(element, prefix) {
                $(element).removeClass( function(index, className) {
                    var classes = className.split(' ');
                    var classToRemove = "";
                    $.each(classes, function(index, value) {
                        if (value.indexOf(prefix) != -1) {
                            classToRemove = value;
                        }
                    });
                    return classToRemove;
                } );
            }
        };

        /**
         * Add jQuery event system to AppLinks.UI namespace.
         */
        (function(){
            var eventBus = $({});
            $.each(['bind', 'unbind', 'trigger'], function(i, current){
                AppLinks.UI[current] = function(){
                    return eventBus[current].apply(eventBus, arguments);
                }
            });
        })();

        $(document).trigger(AppLinks.Event.PREREADY);
        $(document).trigger(AppLinks.Event.READY);
    });
})(require('applinks/common/i18n'), require('applinks/common/docs'), require('applinks/common/events'));

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-util-js', location = 'applinks/internal/non-amd/autocomplete.js' */
// NOTE: this is used outside of Applinks. See atlassian-plugin.xml for more details about the associated restrictions

AJS.$(document).bind(AppLinks.Event.READY, function() {
/**
 * TODO: THIS CODE IS COPIED FROM CONFLUENCE and should be part of AUI/AJS.
 * IF AUI comes with the InputDrivenDropDown when can remove this file.
 * https://studio.atlassian.com/browse/AJS-471
 *
 * A simple cache manager that supports a
 * FIFO cache invalidation strategy.
 *
 * @class cacheManager
 * @namespace AJS.Confluence
 * @constructor
 * @param cacheSize the size of the cache before keys are invalidated
 */
AppLinks.autoComplete = {
        cacheManager : function (cacheSize) {
    var cache = {},
        cacheStack = [],
        cacheSize = cacheSize || 30;

    return {
        /**
         * Return the value stored in the cache for the given key
         * @method get
         * @param key {String}
         */
        get: function(key) {
            return cache[key];
        },
        /**
         * Put the given key, value in the cache
         * @method put
         * @param key {String}
         * @param value {Object}
         */
        put: function(key, value) {
            cache[key] = value;
            cacheStack.push(key);
            if (cacheStack.length > cacheSize) {
                delete cache[cacheStack.shift()];
            }
        },
        /**
         * Clear the cache.
         */
        clear : function() {
            cache = {};
            cacheStack = [];
        }
    };
}};


(function($){
    /**
     * Check that all items in the drop down can be displayed - show ellipses at the end of any that
     * are too long. Also remove any unused properties that the dropDown may have stored for each
     * item in the list.
     *
     * @method truncateText
     * @private
     */
    var truncateText = function (dd) {
        AJS.log("InputDrivenDropDown: truncating text");
        var width = dd.$.closest(".aui-dropdown").width(),
            rightPadding = 20; // add some padding so the ellipsis doesn't run over the edge of the box

        $("a span:not(.icon)", dd.$).each(function () {
            var $a = $(this),
                elpss = $("<var></var>").html("&#8230;"),
                elwidth = elpss.width(),
                isLong = false;

            $a.wrapInner($("<em>"));
            $("em", $a).each(function () {
                var $label = $(this);

                $label.show();
                if (this.offsetLeft + this.offsetWidth > width) {
                    var childNodes = this.childNodes,
                        success = false;

                    for (var j = childNodes.length - 1; j >= 0; j--) {
                        var childNode = childNodes[j],
                            truncatedChars = 1,
                            valueAttr = (childNode.nodeType == 3) ? "nodeValue" : "innerHTML",
                            nodeText = childNode[valueAttr];

                        do {
                            if (truncatedChars <= nodeText.length) {
                                childNode[valueAttr] = nodeText.substr(0, nodeText.length - truncatedChars++);
                            } else { // if we cannot fit even one character of the next word, then try truncating the node just previous to this
                                break;
                            }
                        } while (this.offsetLeft + this.offsetWidth + elwidth > width - rightPadding);

                        if (truncatedChars <= nodeText.length) {
                            // we've managed truncate part of the word and fit it in
                            success = true;
                            break;
                        }
                    }

                    if (success) {
                        isLong = true;
                    } else {
                        $label.hide();
                    }
                }
            });
            if (isLong) {
                $a.append(elpss);
                this.elpss = elpss;
            }
        });
    };

    var highlightTokens = function(dd, tokens) {
        if (!tokens.length || !tokens[0]) return;

        AJS.log("InputDrivenDropDown: highlighting tokens");

        // escape regex chars .*+?|()[]{}\ first
        for (var i = 0, ii = tokens.length; i < ii; i++) {
            var token = tokens[i];
            tokens[i] = token ? token.replace(/[\.\*\+\?\|\(\)\[\]{}\\]/g, "\\$") : "";
        }

        var regex = new RegExp("(" + tokens.join("|") + ")", "gi");

        $("li a:not(.dropdown-prevent-highlight) span", dd.$).each(function() {
            var span = $(this),
                html = span.html().replace(regex, "<strong>$1</strong>");
            span.html(html);
        });
    };

    /**
     * Builds and shows the dropdown.
     *
     * @param idd the InputDrivenDropdown
     * @param dropdownData in the form { matrix, query, queryTokens }
     * @private
     */
    var makeDropdown = function (idd, dropdownData) {
        var options = idd.options,
            old_dd = idd.dd;

        if (old_dd) {
            old_dd.hide();
            old_dd.$.remove();
        }

        options.ajsDropDownOptions = options.ajsDropDownOptions || {};
        if (options.ajsDropDownOptions && !options.ajsDropDownOptions.alignment) { // default to left alignment
            options.ajsDropDownOptions.alignment = "left";
        }
        //this needs to be moved into aui
        options.ajsDropDownOptions.selectionHandler = options.ajsDropDownOptions.selectionHandler || function(e, element) {
            if(e.type != "click") {
                e.preventDefault();
                $("a",element).click();
                document.location = $("a",element).attr("href");
            }
        };

        /* Fixing an AUI bug in here:  AJS.dropdown puts the raw 'matrix[i].name' as html, without escaping it !
           The solution is to override their displayHandler
         */
        /**
         * Escape obj.name and return it
         */
        options.ajsDropDownOptions.displayHandler = function (obj) {
            return AJS.escapeHtml(obj.name);
        }

        var dd = idd.dd = new AJS.dropDown(dropdownData.matrix, options.ajsDropDownOptions)[0];

        // could move into dropdown.js in AUI
        if (options.ajsDropDownOptions && options.ajsDropDownOptions.className) {
            dd.$.addClass(options.ajsDropDownOptions.className);
        }

        // place the created drop down using the configured dropdownPlacement function
        // if there is none then use a default behaviour
        if (options.dropdownPlacement) {
            options.dropdownPlacement(dd.$);
        } else {
            AJS.log("No dropdownPlacement function specified. Appending dropdown to the body.");
            $("body").append(dd.$);
        }

        highlightTokens(dd, dropdownData.queryTokens || [dropdownData.query]);
        truncateText(dd);

        if (options.dropdownPostprocess) {
            options.dropdownPostprocess(dd.$);
        }
        dd.show(idd._effect);

        if (typeof options.onShow == "function") {
            options.onShow.call(dd, dd.$);
        }

        return dd;
    };

    /**
     * Provides a controller-agnostic object that listens for controller changes and populates a dropdown
     * via a callback. Most aspects can be customized via the options object parameter.
     * <br>
     * Options are:
     * <li>
     *   getDataAndRunCallback - (required) callback method used to provide data for the dropdown. It must take
     *                          two parameters, user input value and the callback function to execute.
     * </li>
     * <li>
     *   onShow - function to call when the drop-down is displayed
     * </li>
     * <li>
     *   dropdownPlacement - a function that will be called with the drop down and which should place it in the
     *                          correct place on the page. The supplied arguments are 1) the input that issued the
     *                          search, 2) the dropDown to be placed.
     * </li>
     * <li>
     *   ajsDropDownOptions - any options the underlying dropDown component can handle expects
     * </li>
     * <li>
     *   onDeath - callback to run when dropdown dies
     * </li>
     * @class InputDrivenDropDown
     * @namespace AJS
     */
    function InputDrivenDropDown(id, options) {
        this._effect = "appear";
        this._timer = null;

        this.id = id;
        this.options = options;
        this.inactive = false;
        this.busy = false;
        this.cacheManager = AppLinks.autoComplete.cacheManager();
    }

    /**
     * Clears the cache.
     */
    InputDrivenDropDown.prototype.clearCache = function () {
        this.cacheManager.clear();
    };

    /**
     * This method should be called when the user input for this dropdown has changed.
     * It will check the cache before fetching data (via options.getDataAndRunCallback)
     * and displaying the dropdown.
     *
     * @param value {String} the new value of the user input
     * @param force {Boolean} force a change to occur regardless of user input
     */
    InputDrivenDropDown.prototype.change = function (value, force) {
        var t = this;
        if (value != t._value || force) {
            t._value = value;
            t.busy = false;

            clearTimeout(t._timer);

            if (force || (/\S{0,}/).test(value)) {
                var cachedVal = t.cacheManager.get(value);
                if (cachedVal) {
                    makeDropdown(t, cachedVal);
                } else {
                    t.busy = true;
                    t._timer = setTimeout(function () { // delay sending a request to give the user a chance to finish typing their search term(s)
                        t.options.getDataAndRunCallback.call(t, value, t.show);
                    }, 200);
                }
            } else {
                t.dd && t.dd.hide();
            }
        }
    };

    /**
     * Gets the number of visible options in the dropdown.
     */
    InputDrivenDropDown.prototype.dropDownLength = function () {
        return this.dd.links ? this.dd.links.length : 0;
    };
    
    /**
     * Gets the specified menu item from the dropdown list.
     * 
     * @param index {Integer} the 0-based index of the dropdown option list
     */
    InputDrivenDropDown.prototype.dropDownItem = function (index) {
        return this.dropDownLength() > index ? this.dd.links[index] : null;
    };
    
    /**
     * Hides the drop down
     */
    InputDrivenDropDown.prototype.hide = function () {
        this.dd && this.dd.hide();
    };

    /**
     * Hides and removes the drop down from the DOM.
     */
    InputDrivenDropDown.prototype.remove = function () {
        var dd = this.dd;
        if (dd) {
            this.hide();
            dd.$.remove();
        }
        this.inactive = true;
        this.options.onDeath && this.options.onDeath();
    };

    /**
     * Shows the drop down with the given matrix data and query.
     * <br>
     * Matrix property should be an array of arrays, where the sub-arrays represent the different
     * search categories.
     *
     * Expected properties of category sub-array objects are:
     *  - href
     *  - name
     *  - className
     *  - html (optional, replaces href and name)
     *  - icon (optional)
     *
     *
     * @param matrix {Array} matrix to populate the drop down from
     * @param query {String} the user input string that triggered this show
     * @param queryTokens {Array} an array of strings of the query tokens. Use for highlighting search terms.
     */
    InputDrivenDropDown.prototype.show = function (matrix, query, queryTokens) {
        if (this.inactive) {
            AJS.log("Quick search abandoned before server response received, ignoring. " + this);
            return;
        }

        var dropdownData = {
            matrix: matrix,
            query: query,
            queryTokens: queryTokens
        };
        this.cacheManager.put(query, dropdownData);

        makeDropdown(this, dropdownData);
        this.busy = false;
    };

    /**
     * Returns an InputDrivenDropDown. See InputDrivenDropDown for more documentation.
     * @param options {Object} options for the InputDrivenDropDown
     * @constructor
     */
    AppLinks.inputDrivenDropdown = function (options) {
        return new InputDrivenDropDown("inputdriven-dropdown", options);
    };

})(jQuery);
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-util-js', location = 'js/fecru-compatibility.js' */
if (jQuery != undefined && AJS != undefined) jQuery = AJS.$; // make sure we're extending the correct jQuery
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:feature-oauth-dance', location = 'applinks/internal/feature/oauth/oauth-callback.js' */
define('applinks/feature/oauth-callback', [
    'applinks/lib/window',
    'applinks/lib/lodash',
    'applinks/common/preconditions'
], function(
    window,
    _,
    Preconditions
) {
    function OAuthCallback(url) {
        Preconditions.nonEmptyString(url, 'url');
        this._url = url;
    }

    OAuthCallback.prototype.source = function(source) {
        Preconditions.hasValue(source, 'source');
        this._source = source;
        return this;
    };

    OAuthCallback.prototype.onSuccess = function(callback) {
        Preconditions.isFunction(callback, 'onSuccess');
        this._onSuccess = callback;
        return this;
    };

    OAuthCallback.prototype.onFailure = function(callback) {
        Preconditions.isFunction(callback, 'onFailure');
        this._onFailure = callback;
        return this;
    };

    // API for OAuth to invoke callbacks
    OAuthCallback.prototype.success = function() {
        this.oauthWindow.close();
        if (this._onSuccess) {
            this._onSuccess(this._source);
        }
        // free up the oauthCallback object
        delete window.oauthCallback;
    };

    OAuthCallback.prototype.failure = function() {
        this.oauthWindow.close();
        if (this._onFailure) {
            this._onFailure(this._source);
        }
        // free up the oauthCallback object
        delete window.oauthCallback;
    };

    // start the dance
    OAuthCallback.prototype.open = function() {
        // required for OAuth callbacks to fire
        window.oauthCallback = this;
        this.oauthWindow = window.open(this._url, 'com_atlassian_applinks_authentication');
    };

    return OAuthCallback;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:feature-oauth-dance', location = 'applinks/internal/feature/oauth/oauth-dance.js' */
define('applinks/feature/oauth-dance', [
    'applinks/lib/console',
    'applinks/lib/jquery',
    'applinks/lib/lodash',
    'applinks/lib/window',
    'applinks/common/events',
    'applinks/common/preconditions',
    'applinks/feature/oauth-callback'
], function(
    console,
    $,
    _,
    window,
    ApplinksEvents,
    Preconditions,
    OAuthCallback
) {
    /**
     * Creates a new OAuth Dance. This initializes elements found by `selector` within `scope` to initiate the OAuth
     * dance on click. The elements need to have a `data-authorisation-uri` attribute that points to the authorisation
     * page to open.
     *
     * @param scope {string} optional selector for scope, if not defined then global `document` will be used
     * @param selector {string} selector for the DOM elements to initialize OAuth dance for. If not defined then scope will be used
     * @constructor
     */
    function OAuthDance(scope, selector) {
        this._scope = scope || window.document;
        this._selector = selector;
    }

    OAuthDance.prototype.onSuccess = function(callback) {
        Preconditions.isFunction(callback, 'onSuccess');
        this._onSuccess = callback;
        return this;
    };

    OAuthDance.prototype.onFailure = function(callback) {
        Preconditions.isFunction(callback, 'onFailure');
        this._onFailure = callback;
        return this;
    };

    OAuthDance.prototype.defaultSuccess = function() {
        return this.onSuccess(function() {
            window.location.reload()
        });
    };

    OAuthDance.prototype.defaultFailure = function() {
        return this.onFailure(function() { return true });
    };

    /**
     * Wire up click events for the selected elements to initiate OAuth dance.
     */
    OAuthDance.prototype.initialize = function() {
        var that = this;
        if (this._selector) {
            $(this._scope).on('click', this._selector, function(e) {
                e.preventDefault();
                that._open($(this));
            });
        } else {
            $(this._scope).on('click', function(e) {
                e.preventDefault();
                that._open($(this));
            });
        }
    };

    /**
     * Start the OAuth dance for the given selector/scope.
     */
    OAuthDance.prototype.start = function() {
        var $scope = $(this._scope);
        var $element = this._selector ? $scope.find(this._selector) : $scope;
        this._open($element);
    };

    OAuthDance.prototype._open = function(element) {
        if (element.length !== 1) {
            console.warn('Could not trigger OAuth dance, the source is not a single HTML element: ' + element);
            return;
        }
        
        var authorisationUri = element.attr('data-authorisation-uri');

        if (authorisationUri) {
            this._onSuccess || this.defaultSuccess();
            this._onFailure || this.defaultFailure();
            new OAuthCallback(authorisationUri)
                .source(element)
                .onSuccess(this._onSuccess)
                .onFailure(this._onFailure)
                .open();
        } else {
            console.warn('Could not trigger OAuth dance, data-authorisation-uri missing for: ' + element);
        }
    };

    return OAuthDance;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-oauth-ui', location = 'js/oauth-dialog.js' */
// NOTE: this is used outside of Applinks. See atlassian-plugin.xml for more details about the associated restrictions

/**
 * @deprecated use applinks/feature/oauth-callback and applinks/feature/oauth-dance AMD module
 */
(function($, ApplinksEvents, OAuthCallback) {
    // rest-service.js will load the AppLinks name space
    AppLinks.authenticateRemoteCredentials = function (url, onSuccess, onFailure) {
        $('.applinks-error').remove();
        new OAuthCallback(url).onSuccess(onSuccess).onFailure(onFailure).open();
    };
})(require('applinks/lib/jquery'), require('applinks/common/events'), require('applinks/feature/oauth-callback'));

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:common', location = 'util/retry-caller.js' */
define("confluence/jim/util/retry-caller",["ajs","jquery","underscore"],function(r,d,h){return function(k,a){a=a||{};var l=a.args,m="function"===typeof a.tester?a.tester:function(){return!0},e=a.delays||[.1,.3,.5,.7,1],n=e.length,c=d.Deferred(),p=c.promise(),b=a.context||c,f=0,g=function(){if(f===n)return c.rejectWith(b,[b,"exceed-maximum-called-times",""]);var q=e[f++];h.delay(function(){d.when(k.apply(b,l)).then(function(){c.notify.apply(b,arguments);m.apply(b,arguments)?g():c.resolveWith(b,arguments)},
function(){c.rejectWith(b,arguments)})},q)};g();return p}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:common', location = 'util/common.js' */
AJS.JiraIssues={Remote:{}};var appLinksI18n={entries:{}};
jQuery(document).ready(function(){AJS.JiraIssues=jQuery.extend(AJS.JiraIssues||{},{bindOAuthLink:function(a,b){var d=function(){b()},e=function(){},k=a.attr("href");a.click(function(l){AppLinks.authenticateRemoteCredentials(k,d,e);l.preventDefault()})},getOAuthRealm:function(a){a=a.getResponseHeader("WWW-Authenticate")||"";return(a=/OAuth realm="([^"]+)"/.exec(a))?a[1]:null}});jQuery("a.static-oauth-init").each(function(){AJS.JiraIssues.bindOAuthLink(jQuery(this),function(){window.location.reload()})});
jQuery("a.anonymous-init").each(function(a,b){a=encodeURIComponent(window.location.pathname.replace(Confluence.getContextPath(),""));a=Confluence.getContextPath()+"/login.action?os_destination\x3d"+a;AJS.$(b).attr("href",a)});var w=function(a){for(var b=AJS.JiraIssues.Remote[a],d="",e=0;e<b.length;e++)d+=b[e].key+(e<b.length-1?",":"");var k=function(c){c="/sr/jira.issueviews:searchrequest-xml/temp/SearchRequest.xml?jqlQuery\x3d"+encodeURIComponent("issuekey in ("+c+")")+"\x26returnMax\x3dtrue";return contextPath+
"/plugins/servlet/issue-retriever?appId\x3d"+a+"\x26url\x3d"+encodeURIComponent(c)+"\x26columns\x3dsummary\x26columns\x3dtype\x26columns\x3dresolution\x26columns\x3dstatus"},l=function(c){AJS.$("item",c).each(function(){for(var m=AJS.$("link",this).text(),h=AJS.$("key",this).text(),f=AJS.$("summary",this).text(),p=AJS.$("type",this),g="-1"!=AJS.$("resolution",this).attr("id"),v=AJS.$("status",this),r=AJS.$(".unknown-jira-issue."+h),q=0;q<r.length;q++){var t=AJS.$("\x3ca style\x3d\"background-image: url('"+
p.attr("iconUrl")+'\')" href\x3d"'+m+'"\x3e\x3c/a\x3e');t.text(h);var u=AJS.$('\x3cspan class\x3d"jira-status"\x3e\x3c/span\x3e');u.text(v.text().toUpperCase());var n=AJS.$('\x3cspan class\x3d"jira-issue'+(g?" resolved":"")+'" \x3e\x3c/span\x3e');n.append(t);n.append(document.createTextNode(" - "+f+" - "));n.append(u);AJS.$(r[q]).replaceWith(n)}})};d=k(d);AJS.$.ajax({url:d,success:l,error:function(c){if(401==c.status){var m=AJS.JiraIssues.getOAuthRealm(c);if(m){var h={};AJS.$(b).each(function(){if(!h[this.key]){h[this.key]=
!0;var f=AJS.$('\x3cspan class\x3d"oauth-msg"\x3e - \x3ca class\x3d"oauth-init" href\x3d"'+m+'"\x3e'+"Authenticate"+"\x3c/a\x3e "+"to see issue details"+"\x3c/span\x3e");AJS.$(".unknown-jira-issue."+this.key).addClass("single-issue-oauth").append(f)}});AJS.JiraIssues.bindOAuthLink(AJS.$(".single-issue-oauth a.oauth-init"),function(){window.location.reload()})}}else 400==c.status&&1<b.length&&AJS.$(b).each(function(){var f=this.key,p=k(f);
AJS.$.ajax({url:p,success:l,error:function(g){g=AJS.$(".unknown-jira-issue."+f);g.removeClass("single-issue-oauth");AJS.$(".oauth-msg",g).remove();g.addClass("jira-error")}})})}})};AJS.$(".unknown-jira-issue").each(function(a,b){b=AJS.$(b);a=b.attr("data-app-link");b=b.attr("data-key");AJS.JiraIssues.Remote[a]=AJS.JiraIssues.Remote[a]||[];AJS.JiraIssues.Remote[a].push({key:b})});for(var x in AJS.JiraIssues.Remote)w(x)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:web-resources', location = 'templates/extra/jira/jiraIssues.js' */
jQuery(document).ready(function(){var k=jQuery.extend(window.JiraIssues||{},{ADG_ENABLED:4E3<=AJS.Meta.getNumber("build-number"),ADG_FONT_SIZE_OVER_FLEXIGRID_FONT_SIZE_RATIO:14/11,onSuccessFunction:function(b){if(!jQuery("fieldset input[name\x3d'height']",b).length){var a=jQuery(".bDiv table[id^\x3d'jiraissues_table']",b)[0],c=a.grid;a=a.clientHeight+jQuery(".hDiv",b)[0].clientHeight;jQuery(".bDiv",b).css("height",a+"px");c.options.height=a;c.fixHeight(a)}},onErrorFunction:function(b,a,c,e,d){c=jQuery("#"+
a);d=e.getResponseHeader("WWW-Authenticate")||"";if("401"==e.status&&-1!=d.indexOf("OAuth")){if(e=/OAuth realm="([^"]+)"/.exec(d)){c.empty();k.bigMessageFunction(a,'\x3ca class\x3d"oauth-init" href\x3d"'+e[1]+'"\x3e'+"Authenticate"+"\x3c/a\x3e "+"to retrieve your issues"+"\x3c/span\x3e");jQuery(".bmDiv",b).css({"z-index":2});var l=function(){window.location.reload()},h=function(){};a=jQuery(".oauth-init",c.parent());var m=a.attr("href");a.click(function(g){AppLinks.authenticateRemoteCredentials(m,
l,h);g.preventDefault()});AJS.$(".gBlock").remove()}}else if("400"==e.status)k.bigMessageFunction(a,"The Jira server was not able to process the search. This may indicate a problem with the syntax of this macro. Alternatively, if this table is requesting specific issue keys, you may not have permission to view one of these issues.");else{var f=jQuery("iframe.jiraissues_errorMsgSandbox",b);f.load(function(){var g=this.contentWindow||this.contentDocument;g=jQuery((g.document?g.document:g).body);jQuery("a",g).each(function(){this.target="_top"});jQuery(".pPageStat",b).empty().text(g.text());g=jQuery("div.bmDiv",b)[0];f.removeClass("hidden");f.css({height:g.clientHeight+"px",
width:g.clientWidth+"px"})});f[0].src=jQuery("fieldset input[name\x3d'retrieverUrlHtml']",b).val();k.bigMessageFunction(a,f)}jQuery(b).find(".pReload").removeClass("loading");c[0].grid.loading=!1;jQuery(b).find(".pButton").each(function(){jQuery(this).removeClass("pBtnOver");jQuery(this).css({cursor:"default",opacity:"0.3"})});jQuery(b).find("span.pcontrol input").attr("readonly","true")},onReloadFunction:function(b,a,c){jQuery(".bmDiv",a).remove();jQuery(".bmDistance",a).remove();c.onSubmit=function(){k.reloadOnSubmitFunction(b,
c);return!0}},reloadOnSubmitFunction:function(b,a){a.params=[{name:"useCache",value:!1}];a.onSubmit=function(){k.onSubmitFunction(b,a);return!0}},onSubmitFunction:function(b,a){a.params=[{name:"useCache",value:b}]},showTrustWarningsFunction:function(b,a){b=jQuery(b).children(".trusted_warnings");a.trustedMessage?(b.find("td:last").html(a.trustedMessage),b.css("display","block")):b.css("display","none")},preProcessFunction:function(b,a,c,e,d){c&&k.showTrustWarningsFunction(b,e);0==e.total&&(jQuery(".pPageStat",
b).html(d),k.bigMessageFunction(a,d),jQuery(".pReload",b).removeClass("loading"))},bigMessageFunction:function(b,a){var c=jQuery("\x3cdiv\x3e\x3c/div\x3e"),e=jQuery("\x3cdiv\x3e\x3c/div\x3e");c.addClass("bmDistance");e.addClass("bmDiv");"string"==typeof a?e.html("\x3cp\x3e\x3cstrong\x3e"+a+"\x3c/strong\x3e\x3c/p\x3e"):a.appendTo(e);jQuery("#"+b).after(e).after(c)},getParamsFrom:function(b){var a={};b.children("input").each(function(){a[jQuery(this).attr("name")]=jQuery(this).attr("value")});return a},
initializeColumnWidth:function(b,a){var c={},e=function(p){return k.ADG_ENABLED?Math.round(p*k.ADG_FONT_SIZE_OVER_FLEXIGRID_FONT_SIZE_RATIO):p};if(!a||!a.length)return c;b=b.width()-(37+11*a.length);for(var d=!1,l=!1,h=0,m=e(140),f=0,g=a.length;f<g;f++){var n=a[f].name;switch(n){case "summary":d=!0;h++;break;case "description":l=!0;h++;break;case "type":h++;c[n]=30;b-=30;break;case "priority":h++;c[n]=50;b-=50;break;case "status":h++;c[n]=e(100);b-=e(100);break;case "key":h++;c[n]=e(90);b-=e(90);
break;case "comments":case "attachments":case "version":case "component":case "resolution":h++;c[n]=e(80);b-=e(80);break;default:c[n]=m}}if(d||l)b-=m*(a.length-h),d&&l?(c.summary=Math.max(b/2,250),c.description=Math.max(b/2,250)):d?c.summary=Math.max(b,250):c.description=Math.max(b,250);else if(!d&&!l&&a.length>h)for(m=b/(a.length-h),f=0;f<g;f++)({resolution:!0,key:!0,type:!0,priority:!0,status:!0})[a[f]]||(c[a[f]]=m);return c}});jQuery(".jiraissues_table").each(function(b,a){var c=jQuery(a),e=c.children("fieldset"),
d=k.getParamsFrom(e),l="jiraissues_table_"+b;c.append('\x3ctable id\x3d"'+l+'" style\x3d"display:none"\x3e\x3c/table\x3e');c.css("width",d.width);var h=[];e.children(".columns").each(function(f){var g=jQuery(this).hasClass("nowrap");h[f]={display:this.name,name:this.value,nowrap:g,sortable:!0,align:"left"}});var m=k.initializeColumnWidth(c,h);jQuery.each(h,function(f,g){g.width=m[g.name]});b=jQuery("\x3cdiv\x3e\x3c/div\x3e");jQuery("\x3ca\x3e\x3c/a\x3e").attr({rel:"nofollow",href:d.clickableUrl}).text(d.title).appendTo(b);
jQuery("#"+l).flexigrid({url:d.retrieverUrlHtml,method:"GET",dataType:"json",colModel:h,sortname:d.sortField,sortorder:d.sortOrder,usepager:!0,title:b.html(),page:parseInt(d.requestedPage,10),useRp:!1,rp:parseInt(d.resultsPerPage,10),showTableToggleBtn:!0,height:d.height?parseInt(d.height,10):480,onSuccess:function(){k.onSuccessFunction(a)},onSubmit:function(){k.onSubmitFunction(d.useCache,this);return!0},preProcess:function(f){k.preProcessFunction(a,l,d.showTrustWarnings,f,d.nomsg);return f},onError:function(f,
g,n){k.onErrorFunction(a,l,d.jiraissuesError,f,g,n)},onReload:function(){k.onReloadFunction(d.useCache,a,this);return!0},errormsg:d.errormsg,pagestat:d.pagestat,procmsg:d.procmsg,nomsg:d.nomsg})});jQuery(".jiraissues_count").each(function(b,a){var c=jQuery(a);jQuery.ajax({cache:!1,type:"GET",url:c.find(".url").text(),data:{useCache:c.find(".use-cache").text(),rp:c.find(".rp").text(),showCount:"true"},success:function(e){var d=c.find(".result");1==e?d.text(AJS.format("{0} issue",
e)):d.text(AJS.format("{0} issues",e));d.removeClass("hidden");jQuery(".calculating, .error, .data",c).remove()},error:function(e){var d=jQuery(".error",c).removeClass("hidden"),l=e.getResponseHeader("WWW-Authenticate")||"",h=!1;if(401===e.status&&-1!=l.indexOf("OAuth")){var m=/OAuth realm="([^"]+)"/.exec(l);m&&(d.empty().append(AJS.$("\x3ca/\x3e",{href:m[1],"class":"oauth-init"}).text("Authenticate").click(function(){AppLinks.authenticateRemoteCredentials(m[1],
function(){window.location.reload()},function(){});return!1})).append(AJS.$("\x3cspan/\x3e",{text:" "+"to retrieve your issues"})),h=!0)}h||d.text(AJS.format(d.text(),e.status));jQuery(".calculating, .result, .data",c).remove()}})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.banner', location = 'aui.chunk.9cd5a86a207fd4143307--9af9854fb9fe4a83ebd9.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.component.banner"],{vjN3:function(e,n,t){"use strict";t.r(n),t.d(n,"banner",(function(){return d}));t("iRqc"),t("FStl"),t("Q0fs"),t("nqD9");var u=t("+x/D"),i=t("Ioyv"),a=t("TmQU"),c=t("KloK");function r(e){var n=function(e){let{body:n,type:t="error"}=e;return Object(u.default)('<div class="aui-banner" role="banner"></div>').append(u.default.parseHTML(n||"")).addClass("aui-banner-".concat(t))}(e);return o().find(".aui-banner").get().forEach((function(e){e.hasAttribute("hidden")&&Object(u.default)(e).remove()})),function(e){var n=o();if(!n.length)throw new Error("You must implement the application header");e.prependTo(n),Object(i.recomputeStyle)(e),e[0].removeAttribute("hidden")}(n),n[0]}function o(){return Object(u.default)("#header")}Object(a.default)("aui/banner",r),Object(c.default)("banner",r);var d=r}},[["vjN3","runtime","aui.splitchunk.0d131bcbf1","aui.splitchunk.fbbef27525","aui.splitchunk.444efc83be","aui.splitchunk.739b9ec8cc","aui.splitchunk.056561461c","aui.splitchunk.949297951c","aui.splitchunk.56dfb54d0c","aui.splitchunk.f673ef53ac","aui.splitchunk.8659b532c1","aui.splitchunk.462ee5f9ef"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.synchrony-interop:synchrony-status-banner-loader', location = '/js/synchrony-down-banner-loader.js' */
require(["ajs","wrm","aui/banner","wrm/context-path","confluence/api/event"],function(a,b,c,d,e){a.toInit(function(){!0===b.data.claim("com.atlassian.confluence.plugins.synchrony-interop:synchrony-status-banner-loader.synchrony-status")&&(c({body:"There\u0027s a problem with collaborative editing. People may be unable to save or publish."+'\x26nbsp;\x3ca href\x3d"'+d()+'/admin/confluence-collaborative-editor-plugin/configure.action"\x3e'+"Troubleshoot this problem"+"\x3c/a\x3e"}),e.trigger("confluence.header-resized"))})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:app-resources', location = 'templates/recently.soy' */
// This file was automatically generated from recently.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace RY.Templates.
 */

if (typeof RY == 'undefined') { var RY = {}; }
if (typeof RY.Templates == 'undefined') { RY.Templates = {}; }


RY.Templates.body = function(opt_data, opt_ignored) {
  return '<div id="recently-viewed" class="aui-group"><div class="aui-item"><div class="top"><div class="filter"><form class="aui"><input class="filter-input text" type="text" placeholder="' + soy.$$escapeHtmlAttribute('Filter') + '"></form></div></div><div class="pages"></div></div></div>';
};
if (goog.DEBUG) {
  RY.Templates.body.soyTemplateName = 'RY.Templates.body';
}


RY.Templates.pageCollection = function(opt_data, opt_ignored) {
  return '<div class="groups"></div><div class="empty"></div>';
};
if (goog.DEBUG) {
  RY.Templates.pageCollection.soyTemplateName = 'RY.Templates.pageCollection';
}


RY.Templates.pageGroup = function(opt_data, opt_ignored) {
  return '<h3>' + soy.$$escapeHtml(opt_data.title) + '</h3><ul></ul>';
};
if (goog.DEBUG) {
  RY.Templates.pageGroup.soyTemplateName = 'RY.Templates.pageGroup';
}


RY.Templates.pageItem = function(opt_data, opt_ignored) {
  return '<a href=' + soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeUri(opt_data.href)) + '><div class="page-icon"><span class="aui-icon content-type-' + soy.$$escapeHtmlAttribute(opt_data.type) + '">' + soy.$$escapeHtml(opt_data.type) + '</span></div><div class="page-title"><span class="ellipsis" href=' + soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeUri(opt_data.href)) + '>' + soy.$$escapeHtml(opt_data.title) + ' - ' + soy.$$escapeHtml(opt_data.space) + '</span></div></a>';
};
if (goog.DEBUG) {
  RY.Templates.pageItem.soyTemplateName = 'RY.Templates.pageItem';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:app-resources', location = 'js/util.js' */
var RY=RY||{};
(function(){var b=new Date,h=(new Date(b)).getTime(),k=(new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime(),l=(new Date(b.getFullYear(),b.getMonth(),b.getDate()-1)).getTime();RY.util=RY.Util={analytics:{trackDialogOpen:function(){AJS.trigger("analytics",{name:"recently-viewed-dialog-open"})},trackPageOpen:function(){AJS.trigger("analytics",{name:"recently-viewed-page-open"})}},quote:function(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},diffInDays:function(a,c){return Math.floor((a-c)/
864E5)},daysSince:function(a){return a>=k?0:a>=l?1:RY.util.diffInDays(h,a)},wait:function(a,c,m){var d,e,f,n=function(){e=setTimeout(function(){a.apply(m,f)},c)};return function(){f=arguments;var g=new Date;d&&g-d<c&&clearTimeout(e);n();d=g}}}})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:app-resources', location = 'js/page-storage.js' */
var RY=RY||{};
RY.RecentPageStorage=function(f){var c={},g=function(){var b=function(a,d){return"lastSeen"===a&&_.isString(d)?(new Date(d)).getTime():d};try{c=JSON.parse(f.getItem("com.atlassian.confluence.plugins.recently.viewed.pages.v1"),b)||{}}catch(a){c={}}return c},h=function(){var b=_.values(c),a=b.length-100;if(0<a){var d=_.sortBy(b,function(e){return e.lastSeen});_.times(a,function(){var e=d.shift();delete c[e.id]})}};this.addCurrentPage=function(b){if(b.id&&b.title){g();var a=c[b.id];a||(c[b.id]=a={});
a=_.extend(a,b);a.lastSeen=(new Date).getTime();a.count=a.count+1||1;h();try{f.setItem("com.atlassian.confluence.plugins.recently.viewed.pages.v1",JSON.stringify(c))}catch(d){}}};this.getPages=function(){return _.values(g())}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:app-resources', location = 'js/filter.js' */
var RY=RY||{};
RY.FilterView=Backbone.View.extend({className:"filter",events:{"input .filter-input":"onInput","keyup .filter-input":"onInput","keydown .filter-input":"onKeydown"},initialize:function(){_.bindAll(this,"render","onInput","onKeydown","search");this.navigationEvents=this.options.navigationEvents;this.onInput=RY.util.wait(this.onInput,100,this)},render:function(){this.$input=this.$(".filter-input");return this},onInput:function(a){a&&_.contains([37,38,39,40],a.which)||this.search()},onKeydown:function(a){switch(a.which){case 13:this.navigationEvents.trigger("select");a.preventDefault();
a.stopPropagation();break;case 38:this.navigationEvents.trigger("previous");a.preventDefault();break;case 40:this.navigationEvents.trigger("next"),a.preventDefault()}},search:function(){var a=this.$input.val();this.collection.search(a)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:app-resources', location = 'js/page-model.js' */
var RY=RY||{};
(function(){var d="undefined"!=typeof ConfluenceMobile?ConfluenceMobile.AppData.get("confluence-context-path"):AJS.contextPath();RY.Page=Backbone.Model.extend({href:function(){return d+this.get("url")},daysSinceLastSeen:function(){return RY.util.daysSince(this.get("lastSeen"))}});RY.PageCollection=Backbone.Collection.extend({model:RY.Page,url:d+"/rest/recentlyviewed/1.0/recent?includeTrashedContent\x3dtrue",search:function(a){if(0===this._queryLength(a))var c=this.models;else{var e=a.match(/[^\s-]+/g);
c=this.filter(function(b){var f=b.get("title");b=b.get("space");var g=(f+b).toLowerCase();return _.all(e,function(h){return-1!==g.indexOf(h.toLowerCase())})})}this.trigger("filter",c,a);return c},_queryLength:function(a){return String.prototype.trim?a.trim().length:AJS.$.trim(a).length},comparator:function(a){return-a.get("lastSeen")}})})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:app-resources', location = 'js/page.js' */
var RY=RY||{};RY.PageView=Backbone.View.extend({tagName:"li",className:"ry-page",template:RY.Templates.pageItem,initialize:function(){_.bindAll(this,"hide","show","render")},hide:function(){this.$el.hide().removeClass("shown")},show:function(){this.$el.show().addClass("shown")},render:function(){var a=this.model.toJSON();a.href=this.model.href();this.$el.html(this.template(a));return this}});
RY.PageGroupView=Backbone.View.extend({className:"group",template:RY.Templates.pageGroup,initialize:function(){_.bindAll(this,"hide","hideAll","show","showBorder","showPages","add","render");this.title=this.options.title;this.modelViews={}},hide:function(){this.$el.hide()},hideAll:function(){this.$el.removeClass("border").hide();_.invoke(_.values(this.modelViews),"hide")},show:function(){this.$el.show()},showBorder:function(){this.$el.addClass("border")},showPages:function(a){var b=this,c=!1;_.each(a,
function(f){if(f=b.modelViews[f.cid])c=!0,f.show()});c&&this.show();return c},add:function(a){var b=new RY.PageView({model:a});this.modelViews[a.cid]=b;this.$list.append(b.render().el)},render:function(){this.$el.html(this.template({title:this.title}));this.$list=this.$("ul");return this}});
RY.PageNavigator=function(a,b,c){function f(e){pageItems=a.find("li.shown");var g=pageItems.index(pageItems.filter(".highlight"));d&&d.removeClass("highlight");e+=g;0>e&&(e=pageItems.length-1);e>=pageItems.length&&(e=0);d=pageItems.eq(e);d.addClass("highlight")}function h(){if(d.length){var e=b.children(),g=b.height(),l=d.outerHeight(!0),k=d.position().top;0>k?0===a.find("li.shown").index(d)?b.scrollTop(0):b.scrollTop(d.offset().top-e.offset().top):k>g&&b.scrollTop(d.offset().top-e.offset().top-g+
l)}}var d=null;c.on("select",function(){if(d&&d.is(":visible")){RY.util.analytics.trackPageOpen();var e=d.find(".page-title span").attr("href");window.location=e}},this);c.on("previous",function(){f(-1);h()},this);c.on("next",function(){f(1);h()},this)};
RY.PageCollectionView=Backbone.View.extend({template:RY.Templates.pageCollection,events:{"click .page-title a":RY.util.analytics.trackPageOpen},initialize:function(){_.bindAll(this,"checkEmpty","filter","_groupForPage","addOne","showEmptyMessage","clearEmptyMessage","addAll","render");this.modelViews={};this.collection.on("reset",this.addAll,this);this.collection.on("add",this.addOne,this);this.collection.on("filter",this.filter,this)},checkEmpty:function(a,b){var c=this.collection.isEmpty();a=0===
a.length;c||a?(c?b="Sorry mate, looks like you haven\u0027t visited any pages yet.":(b=AJS.contextPath()+"/dosearchsite.action?queryString\x3d"+encodeURIComponent(b),b="We didn\u0027t find any matching pages in your history."+" "+AJS.format("\u003ca href=\u0022{0}\u0022\u003eClick here\u003c/a\u003e to search for this term instead.",b)),this.showEmptyMessage(b)):this.clearEmptyMessage()},filter:function(a,b){this.checkEmpty(a,b||"");b=[this.$today,this.$yesterday,this.$older];_.invoke(b,
"hideAll");var c=[];_.each(b,function(f){f.showPages(a)&&c.push(f)});1<c.length&&(c.pop(),_.invoke(c,"showBorder"))},_groupForPage:function(a){a=a.daysSinceLastSeen();return 0===a?this.$today:1===a?this.$yesterday:this.$older},addOne:function(a){this._groupForPage(a).add(a)},showEmptyMessage:function(a){this.$(".empty").html(AJS.$("\x3cp\x3e").html(a))},clearEmptyMessage:function(){this.$(".empty").html("")},addAll:function(){this.collection.each(this.addOne)},render:function(){this.$el.html(this.template());
this.$today=new RY.PageGroupView({title:"Today"});this.$yesterday=new RY.PageGroupView({title:"Yesterday"});this.$older=new RY.PageGroupView({title:"Older"});var a=this.$(".groups");a.append(this.$today.render().el);a.append(this.$yesterday.render().el);a.append(this.$older.render().el);
_.invoke([this.$today,this.$yesterday,this.$older],"hideAll");return this}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:main-resources', location = 'js/main.js' */
var RY=RY||{};
AJS.toInit(function(b){b("#view-user-history-link").unbind("click");b("#view-user-history-link").click(function(a){a.preventDefault();a=new AJS.Dialog({width:600,height:500,id:"recently-viewed-dialog",closeOnOutsideClick:!0});var c=b(RY.Templates.body());a.addHeader("Recently viewed pages");a.addPanel("SinglePanel",c);a.addLink("Close",function(d){d.hide()});var g=b("\x3cdiv\x3e",{"class":"dialog-tip"}).text("Hint: type \u0022g\u0022 and then \u0022r\u0022 anywhere to quickly open this menu");
a.popup.element.find(".dialog-button-panel").append(g);var e=new RY.PageCollection,f=new RY.PageCollectionView({collection:e});c.find(".pages").html(f.render().el);a.gotoPanel(0);a.show();var h=b("#recently-viewed-dialog").spin("large");e.fetch({success:function(){h.spinStop();var d=_.extend({},Backbone.Events);new RY.PageNavigator(f.$el,c.parent(),d);(new RY.FilterView({collection:e,el:c.find(".filter"),navigationEvents:d})).render().search()}});RY.util.analytics.trackDialogOpen()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacemenu-resources', location = 'js/space-menu.js' */
AJS.toInit(function(a){var c=a(Confluence.Templates.BrowseSpaces.spacesLink());a("#space-directory-link").replaceWith(a(c));var e=function(d){var b=a("#space-menu-link-content");b.html(d.template);AJS&&AJS.Confluence&&AJS.Confluence.Analytics&&AJS.Confluence.Analytics.setAnalyticsSource&&AJS.Confluence.Analytics.setAnalyticsSource(b.find("a"),"spacemenu");a("#create-space-header").click(function(){AJS.trigger("analytics",{name:"create-space-from-header"});Confluence.SpaceBlueprint.Dialog.launch();
return!1})};a("#space-menu-link-content").on("aui-dropdown2-show",function(){AJS.trigger("analytics",{name:"open-space-menu"});a("#space-menu-link-content .aui-dropdown2-section")&&a("#space-menu-link-content .aui-dropdown2-section").length||a.ajax({url:Confluence.getContextPath()+"/rest/ia/1.0/spacesmenu",type:"GET",dataType:"json",cache:!1,success:e});return!1})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacemenu-resources', location = 'soy/space-menu.soy' */
// This file was automatically generated from space-menu.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.BrowseSpaces.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.BrowseSpaces == 'undefined') { Confluence.Templates.BrowseSpaces = {}; }


Confluence.Templates.BrowseSpaces.spacesLink = function(opt_data, opt_ignored) {
  return '' + aui.dropdown2.trigger({menu: {id: 'space-menu-link-content'}, id: 'space-menu-link', tagName: 'a', extraClasses: 'aui-nav-link', title: 'Spaces', showIcon: false, text: 'Spaces'}) + aui.dropdown2.contents({id: 'space-menu-link-content', extraClasses: 'aui-style-default aui-dropdown2-in-header'});
};
if (goog.DEBUG) {
  Confluence.Templates.BrowseSpaces.spacesLink.soyTemplateName = 'Confluence.Templates.BrowseSpaces.spacesLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:space-ia-analytics', location = 'js/space-ia-analytics.js' */
(function(f){function d(){var b=f(".acs-side-bar"),a=b.find("a:not(.external_link a, #acs-configure-link)");c(a,"sidebar");a=b.find("[data-collapsed-tooltip\x3d'"+AJS.I18n.getText("Pages")+"']");c(a,"sidebar-pages");a=b.find("[data-collapsed-tooltip\x3d'"+AJS.I18n.getText("Blog")+"']");c(a,"sidebar-blogs");a=b.find(".quick-links-section li:not(.external_link) a");c(a,"spaceshortcut");a=b.find(".ia-secondary-container a:not(.more-children-link)");"pages"==b.find(".ia-secondary-container").data("tree-type")?
c(a,"contextnavchildmode"):"page-tree"==b.find(".ia-secondary-container").data("tree-type")?c(a,"contextnavpagetreemode"):c(a,"contextnav")}function e(b){return function(){AJS.trigger("analytics",{name:"space-ia-nav",data:{linkType:b}})}}var c=AJS.Confluence.Analytics.setAnalyticsSource;AJS.toInit(function(b){b(".acs-side-bar").find(".ia-secondary-container .more-children-link").click(e("context-nav.more-children"));AJS.bind("sidebar.exit-configure-mode",d);AJS.bind("sidebar.flyout-triggered",function(a,
g){e("flyout-triggered."+g.flyout)()});AJS.bind("pagetree-children-loaded",d);d()})})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.aui.staging:persistable', location = 'js/persistable.js' */
define("confluence/persistable",["skate","confluence/storage-manager"],function(f,g){var d=g("confluence","userSettings");return f("data-persist",{type:f.types.ATTRIBUTE,created:function(b){if(!b.name)throw'Missing attribute "name"';var c=b.getAttribute("data-persist"),a=b.getAttribute("data-persist-scope"),a=a?b.name+"."+a.replace(/\./g,"-"):b.name,a=d.getItem(a),e=b.getAttribute("data-default-value");if(/value|checked/.test(c))a=a||e||null,null!==a&&("checked"===c&&(a="true"===a),b[c]=a);else throw"Persistable only works with 'value' or 'checked' attributes!";
},events:{change:function(b){var c=b.getAttribute("data-persist"),a=b.getAttribute("data-persist-scope"),a=a?b.name+"."+a.replace(/\./g,"-"):b.name,e=b.getAttribute("data-default-value");String(b[c])===e?d.removeItem(a):d.setItem(a,b[c],2592E3)}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-quicknav:quicknav-resources', location = 'js/quick-nav.js' */
define("confluence-quicknav/quick-nav",["jquery","confluence/api/logger"],function(b,l){var f=[],d,g=function(a){return function(e){a.closest("form").find(".quick-nav-drop-down").append(e)}},h=function(a){"undefined"!==typeof a?f.push(a):l.log("WARN: Attempted to add a dropdown post-process function that was undefined.")},m=function(a){b("a",a).each(function(){var a=b(this),c=a.find("span").data("properties");(c=c?c.spaceName:null)&&!a.is(".content-type-spacedesc")&&(a.after(a.clone().attr("class",
"space-name").html(c)),a.parent().addClass("with-space-name"))})};return{addDropDownPostProcess:h,setMakeParams:function(a){d=a},init:function(){var a=b("#quick-search-query"),e=g(a),c=b("#space-blog-quick-search-query"),k=b("#confluence-space-key");a.quicksearch("/rest/quicknav/1/search",null,{dropdownPlacement:e,dropdownPostprocess:function(a){b.each(f,function(c,b){b&&b(a)})},makeParams:function(a){return d?d(a):{query:a}},ajsDropDownOptions:{className:"quick-search-dropdown"}});h(m);c.length&&
k.length&&c.quicksearch("/rest/quicknav/1/search?type\x3dblogpost\x26spaceKey\x3d"+b("\x3ci\x3e\x3c/i\x3e").html(k.attr("content")).text(),null,{dropdownPlacement:g(c)})}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-quicknav/quick-nav","Confluence.QuickNav");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources', location = '/js/confluence-license-banner.js' */
require(["ajs","jquery"],function(c,b){c.toInit(function(){var g=WRM.data.claim("com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources.license-details");if(g){var d={destroyBanner:function(){b("#license-banner").slideUp(function(){b("#license-banner").remove()})},remindMeLater:function(){b.ajax({type:"POST",dataType:"json",contentType:"application/json; charset\x3dutf-8",data:JSON.stringify({atl_token:c.Meta.get("atl-token")}),url:c.contextPath()+"/rest/licensebanner/1.0/reminder/later"});
d.destroyBanner()},remindMeNever:function(){b.ajax({type:"POST",dataType:"json",contentType:"application/json; charset\x3dutf-8",data:JSON.stringify({atl_token:c.Meta.get("atl-token")}),url:c.contextPath()+"/rest/licensebanner/1.0/reminder/never"});d.destroyBanner()},createBanner:function(a){var f;a.showLicenseExpiryBanner?f=Confluence.Templates.LicenseBanner.expiryBanner({days:a.daysBeforeLicenseExpiry,mac:a.renewUrl,sales:a.salesUrl}):a.showMaintenanceExpiryBanner&&(f=Confluence.Templates.LicenseBanner.maintenanceBanner({days:a.daysBeforeMaintenanceExpiry,
mac:a.renewUrl,sales:a.salesUrl}));f&&(a=b(f),b("#full-height-container").prepend(a),b("#license-banner-later").click(function(e){e.preventDefault();d.remindMeLater()}),b("#license-banner-never").click(function(e){e.preventDefault();d.remindMeNever()}),a.find(".icon-close").click(function(e){e.preventDefault();d.remindMeLater()}))}};d.createBanner(g)}else c.warn("Unable to claim my required data")})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources', location = 'soy/confluence-license-banner.soy' */
// This file was automatically generated from confluence-license-banner.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.LicenseBanner.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.LicenseBanner == 'undefined') { Confluence.Templates.LicenseBanner = {}; }


Confluence.Templates.LicenseBanner.wrapper = function(opt_data, opt_ignored) {
  return '<div>' + soy.$$filterNoAutoescape(opt_data.contentHTML) + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.LicenseBanner.wrapper.soyTemplateName = 'Confluence.Templates.LicenseBanner.wrapper';
}


Confluence.Templates.LicenseBanner.expiryBanner = function(opt_data, opt_ignored) {
  var output = '';
  var renewTag__soy8 = '<a id="license-banner-my-link" target="_blank" href="' + soy.$$escapeHtml(opt_data.mac) + '">';
  var end__soy12 = '</a>';
  var mailTag__soy14 = '<a id="license-banner-sales-link" target="_blank" href="' + soy.$$escapeHtml(opt_data.sales) + '">';
  output += Confluence.Templates.LicenseBanner.wrapper({contentHTML: '' + aui.message.warning({content: '<div id="license-banner-content" data-days="' + soy.$$escapeHtml(opt_data.days) + '" data-subscription="true">' + ((opt_data.days < 0) ? soy.$$filterNoAutoescape(AJS.format('Your subscription has expired. This site is now read-only. To keep using Confluence, {0}renew online{1} or {2}contact us{3}.',renewTag__soy8,end__soy12,mailTag__soy14,end__soy12)) : (opt_data.days == 0) ? soy.$$filterNoAutoescape(AJS.format('Your subscription will expire today and your site will become read-only. To keep using Confluence, {0}renew online{1} or {2}contact us{3}.',renewTag__soy8,end__soy12,mailTag__soy14,end__soy12)) : soy.$$filterNoAutoescape(AJS.format('Your subscription will expire in {0,choice,1#{0} day|1\x3c{0} days}. Your site will become read-only after the expiry. To keep using Confluence, {1}renew online{2} or {3}contact us{4}.',opt_data.days,renewTag__soy8,end__soy12,mailTag__soy14,end__soy12))) + '</div>', isCloseable: opt_data.days > 7, id: 'license-banner'})});
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.LicenseBanner.expiryBanner.soyTemplateName = 'Confluence.Templates.LicenseBanner.expiryBanner';
}


Confluence.Templates.LicenseBanner.maintenanceBanner = function(opt_data, opt_ignored) {
  var output = '';
  var renewTag__soy39 = '<a id="license-banner-my-link" target="_blank" href="' + soy.$$escapeHtml(opt_data.mac) + '">';
  var end__soy43 = '</a>';
  var later__soy45 = '<a href="#" id="license-banner-later">';
  var never__soy47 = '<a href="#" id="license-banner-never">';
  output += Confluence.Templates.LicenseBanner.wrapper({contentHTML: '' + aui.message.warning({content: '<div id="license-banner-content" data-days="' + soy.$$escapeHtml(opt_data.days) + '" data-subscription="false">' + ((opt_data.days < 0) ? soy.$$filterNoAutoescape(AJS.format('You no longer have access Support and Updates. {0}Renew online{1}, {2}remind me later{3} or {4}never remind me again{5}.',renewTag__soy39,end__soy43,later__soy45,end__soy43,never__soy47,end__soy43)) : (opt_data.days == 0) ? soy.$$filterNoAutoescape(AJS.format('You will lose access to Support and Updates today. {0}Renew online{1}, {2}remind me later{3} or {4}never remind me again{5}.',renewTag__soy39,end__soy43,later__soy45,end__soy43,never__soy47,end__soy43)) : soy.$$filterNoAutoescape(AJS.format('You will lose access to Support and Updates in {0,choice,1#{0} day|1\x3c{0} days}. {1}Renew online{2}, {3}remind me later{4} or {5}never remind me again{6}.',opt_data.days,renewTag__soy39,end__soy43,later__soy45,end__soy43,never__soy47,end__soy43))) + '</div>', id: 'license-banner'})});
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.LicenseBanner.maintenanceBanner.soyTemplateName = 'Confluence.Templates.LicenseBanner.maintenanceBanner';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:legacy-browser-metrics', location = '/js/legacy/browser-metrics.js' */
(function(){var a=window.BrowserMetrics||{};a.isFunction=function(b){return !!(b&&b.constructor&&b.call&&b.apply)};a.isEnabled=function(){if(a.enabled===undefined){a.enabled=true}return a.enabled};window.BrowserMetrics=a}());(function(){var b=window.BrowserMetrics||{};if(b.isEnabled()){var f=5;var e=12000;var c=function(g){return Math.round(g)};var a=function(g){return Math.round(g*100)/100};var d=function(k){var h=(function(){var n=/^(\w+):\/\/([^\/]*)(.*)$/;return function(p){var o=p.match(n);if(!o){return{path:p}}return{scheme:o[1],host:o[2],path:o[3]}}}());var i=(function(){var n=["secureConnectionStart","requestStart","responseStart","responseEnd","domContentLoadedEventStart","domContentLoadedEventEnd","loadEventEnd"];return function(o){if(k.performance){var s=k.performance.timing;var p=s.navigationStart;if(p){for(var r=0;r<n.length;++r){var q=n[r];var t=s[q];if(t){o(q,t-p)}}}}}}());var g=(function(){var o=[{key:"LOGIN",pattern:/^\/login.*/i},{key:"J-DASH",pattern:/^\/secure\/dashboard\.jspa.*/i},{key:"J-ISSUE",pattern:/^\/browse\/\w+\-\w+.*/i},{key:"J-NAV",pattern:/^\/issues.*/i},{key:"J-RAPID",pattern:/secure\/rapidboard\.jspa/i},{key:"SD-AGENT",pattern:/^(\/\w+)?\/servicedesk\/agent\/.*/i},{key:"SD-CUSTOMER",pattern:/^(\/\w+)?\/servicedesk\/customer\/.*/i},{key:"C-DASH",pattern:/^\/wiki(\/)?(\?.*|#.*)?$/i},{key:"C-DASH",pattern:/^\/wiki\/dashboard\.action.*$/i},{key:"C-SPACE",pattern:/^\/wiki\/display\/\w+(\?.*|#.*)?$/i},{key:"C-PAGE",pattern:/^\/wiki\/display\/\w+\/.*/i},{key:"C-PAGE",pattern:/^\/wiki\/pages\/viewpage\.action.*/i},{key:"C-BLOG",pattern:/^\/wiki\/display\/~\w+\/\d+\/\d+\/\d+\/.*/i},{key:"C-EDITOR",pattern:/^\/wiki\/pages\/editpage\.action.*/i},{key:"C-CREATE",pattern:/^\/wiki\/pages\/createpage\.action.*/i}];return function n(){var r=h(k.location.href).path;for(var p=0;p<o.length;++p){var q=o[p];if(r.match(q.pattern)){return q.key}}return null}}());function j(){var n=g();if(n){i(function(p,r){var o="browser.metrics."+p,q={version:f,page:n,value:r>e?"x":Math.ceil((r)/100),rawValue:c(r)};AJS.Analytics?AJS.Analytics.triggerPrivacyPolicySafeEvent(o,q):AJS.trigger("analyticsEvent",{name:o,data:q})})}}function m(){try{j()}catch(n){if(window.console){window.console.log("Error reporting browser metrics: "+n)}}}function l(){if(k.performance.timing.loadEventEnd){m()}else{setTimeout(l,1000)}}if(k.performance&&k.performance.timing){l()}};if(!window.ATL_PERF){window.ATL_PERF={}}window.ATL_PERF.initPageLoad=d}}());
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:legacy-browser-metrics', location = '/js/legacy/browser-metrics-events.js' */
(function(){var b=window.BrowserMetrics||{};if(b.isEnabled()){var e=5;var d=12000;var a=function(f){return Math.round(f*100)/100};var c=function(g){var l={};function h(){return g.performance&&g.performance.now?g.performance.now():new Date().getTime()}function n(o){return o===Object(o)}function k(o){if(n(o)){return o.eventName+"."+o.eventType}else{return o}}function m(o){if(n(o)){return o.eventName}else{return o}}function j(o){if(n(o)){return o.eventType}else{return""}}function f(o){var p=k(o);l[p]=h()}function i(r,u){var v=k(r);if(!l[v]){throw ("Error logging browser metrics event end: no start event for key '"+v+"'")}var t=h()-l[v];l[v]=null;var o=m(r),q=j(r);var p="browser.metrics.e."+o+(u?"."+u:""),s={version:e,value:t>d?"x":Math.ceil((t)/100),rawValue:a(t),eventType:q};g.AJS.Analytics?g.AJS.Analytics.triggerPrivacyPolicySafeEvent(p,s):g.AJS.trigger("analyticsEvent",{name:p,data:s})}return{start:f,end:i}};if(!window.ATL_PERF){window.ATL_PERF={}}window.ATL_PERF.initEvents=c}}());
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:legacy-browser-metrics', location = '/js/legacy/browser-metrics-init.js' */
(function(){var a=window.BrowserMetrics||{};if(a.isEnabled()){if(Math.random()<0.1){window.ATL_PERF&&window.ATL_PERF.initPageLoad&&window.ATL_PERF.initPageLoad(window)}window.ATL_PERF&&window.ATL_PERF.initEvents&&(function(){window.BrowserMetrics=window.ATL_PERF.initEvents(window)}())}}());
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.adaptavist.confluence.contentFormattingMacros:clickable-resources', location = 'js/clickable.js' */
jQuery(function($) {
    $(".clickable").live("click", function(event) {
        // Ensure we don't override any normal links or nested clickables within the clickable element
        if ($(event.target).closest("a[href]").length === 0 && $(event.target).closest(".clickable").length === 1) {
            // Use the href from the clickable element or the first nested link
            var href = $(this).attr("href") || $('a[href]:first', this).attr("href");
            if (href) {
                location.href = href;
            }
        }
    });
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.adaptavist.confluence.contentFormattingMacros:alert-resources', location = 'js/alert.js' */
AJS.toInit(function () {

    AJS.$(".adaptavist-alert").each(function () {

        var title = $(this).attr('title');
        var type = $(this).attr('type').toLowerCase();
        var content = $(this).attr('contentBody');

        require('aui/flag')({
            type: type,
            title: title,
            body: content
        });
    });

});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.adaptavist.confluence.contentFormattingMacros:rollover-resource', location = 'js/rollover.js' */
AJS.toInit(function () {

    var allRolloverMacros = AJS.$('.rollover-parameters');
    function validateUrl(url) {
        const regex = /((http(s):\/\/.))|((www\.))[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g;
        return regex.test(url);
    }

    function checkForHTTP(url){
        const http = /http(s):\/\/./g;
        if (!http.test(url)){
            return "https://" + url 
        }
        return url;
    }

    AJS.$.each(allRolloverMacros, function (index, macro) {
        var targetID = macro.getAttribute('targetid');
        var normalClass = macro.getAttribute('normal-class');
        var overClass = macro.getAttribute('over-class');

        var targetElement = AJS.$('#' + targetID);
        var link = allRolloverMacros[index].getAttribute("rollover-link");
        var targetText = targetElement.text()

        if (targetID != null) {
            targetElement.addClass(normalClass);
            if (!(overClass === "${overClass}")) {
                targetElement.hover(
                    function () {
                        AJS.$(this).removeClass(normalClass);
                        AJS.$(this).addClass(overClass);
                    }, function () {
                        AJS.$(this).removeClass(overClass);
                        AJS.$(this).addClass(normalClass);
                    }
                );
            }

            if (validateUrl(link)) {
                targetElement.html('<a class="external-link rolloverLink" rel="nofollow" href="" ></a>');
                targetElement.children().text(targetText);
                targetElement.children().attr('href', checkForHTTP(link));
            }
        }
    });
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.pattern.multi-step-progress', location = 'aui.chunk.1d3617ed19ae816fb26a--ebaa5e73b2dc661dd9e6.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.pattern.multi-step-progress"],{qc5q:function(i,u,n){"use strict";n.r(u);n("FStl"),n("Q0fs"),n("nqD9")}},[["qc5q","runtime","aui.splitchunk.fbbef27525","aui.splitchunk.056561461c","aui.splitchunk.949297951c"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.adaptavist.confluence.contentFormattingMacros:cfm-blueprint-wizard', location = 'soy/blueprint/wizard-page1.soy' */
// This file was automatically generated from wizard-page1.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace CFM.Blueprints.
 */

if (typeof CFM == 'undefined') { var CFM = {}; }
if (typeof CFM.Blueprints == 'undefined') { CFM.Blueprints = {}; }


CFM.Blueprints.cfmBlueprintWizardPage1 = function(opt_data, opt_ignored) {
  return '<div class="aui-group"><div class="aui-item wizard-page-left"><form name="cfm-wizard-page-one" action="#" method="post" class="aui"><fieldset><div class="cfm-wizard-description">' + soy.$$escapeHtml('This wizard provides the ability to quick start a page that uses selected Content Formatting macros.') + '</div><div class="cfm-page-title-padding"><label for="text-input">Page title<span class="aui-icon icon-required cfm-req">required</span></label><input class="text medium-field" type="text" id="cfm-page-title" name="title" title="title"></input></div><div><label for="cfm-blueprints-dropdown" class="blueprints-label-padding">Templates</label><!-- Trigger --><a href="#cfm-blueprints-dropdown-trigger" aria-owns="cfm-blueprints-dropdown" aria-haspopup="true" class="aui-button aui-style-default aui-dropdown2-trigger cfm-blueprints-dropdown-text">Selection</a><!-- Dropdown --><div id="cfm-blueprints-dropdown" class="aui-style-default aui-dropdown2"><div class="aui-dropdown2-section"><ul><li class="cfm-blueprint-selected"><a href="#1mpj">Multi-Page Journey</a></li><li class="cfm-blueprint-selected"><a href="#2shp">Space Home Page</a></li><li class="cfm-blueprint-selected"><a href="#3f">Finance</a></li><li class="cfm-blueprint-selected"><a href="#4a">Academic</a></li><li class="cfm-blueprint-selected"><a href="#5b">Blog</a></li><li class="cfm-blueprint-selected"><a href="#6sr">Software Requirements</a></li></ul></div></div></div><div class="cfm-blueprint-description">' + soy.$$escapeHtml('Start by entering a page Title and selecting a template from the dropdown.') + '</div></fieldset></form></div><div class="cfm-vertical-line"></div><div class="aui-item"><div class="cfm-blueprints-picture">&nbsp;</div></div></div>';
};
if (goog.DEBUG) {
  CFM.Blueprints.cfmBlueprintWizardPage1.soyTemplateName = 'CFM.Blueprints.cfmBlueprintWizardPage1';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.adaptavist.confluence.contentFormattingMacros:cfm-wizard-resources', location = 'soy/blueprint/wizard-page1.soy' */
// This file was automatically generated from wizard-page1.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace CFM.Blueprints.
 */

if (typeof CFM == 'undefined') { var CFM = {}; }
if (typeof CFM.Blueprints == 'undefined') { CFM.Blueprints = {}; }


CFM.Blueprints.cfmBlueprintWizardPage1 = function(opt_data, opt_ignored) {
  return '<div class="aui-group"><div class="aui-item wizard-page-left"><form name="cfm-wizard-page-one" action="#" method="post" class="aui"><fieldset><div class="cfm-wizard-description">' + soy.$$escapeHtml('This wizard provides the ability to quick start a page that uses selected Content Formatting macros.') + '</div><div class="cfm-page-title-padding"><label for="text-input">Page title<span class="aui-icon icon-required cfm-req">required</span></label><input class="text medium-field" type="text" id="cfm-page-title" name="title" title="title"></input></div><div><label for="cfm-blueprints-dropdown" class="blueprints-label-padding">Templates</label><!-- Trigger --><a href="#cfm-blueprints-dropdown-trigger" aria-owns="cfm-blueprints-dropdown" aria-haspopup="true" class="aui-button aui-style-default aui-dropdown2-trigger cfm-blueprints-dropdown-text">Selection</a><!-- Dropdown --><div id="cfm-blueprints-dropdown" class="aui-style-default aui-dropdown2"><div class="aui-dropdown2-section"><ul><li class="cfm-blueprint-selected"><a href="#1mpj">Multi-Page Journey</a></li><li class="cfm-blueprint-selected"><a href="#2shp">Space Home Page</a></li><li class="cfm-blueprint-selected"><a href="#3f">Finance</a></li><li class="cfm-blueprint-selected"><a href="#4a">Academic</a></li><li class="cfm-blueprint-selected"><a href="#5b">Blog</a></li><li class="cfm-blueprint-selected"><a href="#6sr">Software Requirements</a></li></ul></div></div></div><div class="cfm-blueprint-description">' + soy.$$escapeHtml('Start by entering a page Title and selecting a template from the dropdown.') + '</div></fieldset></form></div><div class="cfm-vertical-line"></div><div class="aui-item"><div class="cfm-blueprints-picture">&nbsp;</div></div></div>';
};
if (goog.DEBUG) {
  CFM.Blueprints.cfmBlueprintWizardPage1.soyTemplateName = 'CFM.Blueprints.cfmBlueprintWizardPage1';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.adaptavist.confluence.contentFormattingMacros:cfm-wizard-resources', location = 'soy/blueprint/wizard-page2.soy' */
// This file was automatically generated from wizard-page2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace CFM.Blueprints.
 */

if (typeof CFM == 'undefined') { var CFM = {}; }
if (typeof CFM.Blueprints == 'undefined') { CFM.Blueprints = {}; }


CFM.Blueprints.cfmBlueprintWizardPage2 = function(opt_data, opt_ignored) {
  return '<div class="aui-group cfm-dialog-no-scroll"><div class="aui-item"><form name="cfm-wizard-page-two" action="#" method="post" class="aui"><fieldset class="rows"><div class="cfm-wizard-description">' + soy.$$escapeHtml('Please add the additional page or pages required for the Multi-Page Journey template.') + '</div><div class="aui-group"><div class="aui-item create-button-rows"><div class="cfm-wizard-page-two-validation"></div><table class="aui" id="cfm-wizard-dataTable"><thead><tr><th>Page Title</th><th>Actions</th></tr></thead><tbody><tr id="groupRow0"><td class="cfm-input-field"><input id="cfm-page-title-input-0" class="text buttonInputLabel" type="text" value="" required="required" tabindex="10"/></td><td class="cfm-actions"><input type="button" class="aui-button cfmAddPageTitleRowInput" value="+" data-row-index="0" tabindex="10"/><input type="button" class="aui-button cfmRemovePageTitleRowInput" data-row-index="0" value="-" tabindex="10" disabled/></td></tr></tbody></table></div></div></fieldset></form></div></div>';
};
if (goog.DEBUG) {
  CFM.Blueprints.cfmBlueprintWizardPage2.soyTemplateName = 'CFM.Blueprints.cfmBlueprintWizardPage2';
}


CFM.Blueprints.addPageTitleRow = function(opt_data, opt_ignored) {
  return '<tr id="groupRow' + soy.$$escapeHtml(opt_data.rowIndex) + '"><td class="cfm-input-field"><input id="cfm-page-title-input-' + soy.$$escapeHtml(opt_data.rowIndex) + '" class="text buttonInputLabel" type="text" value="" required="required" tabindex="10"/></td><td class="cfm-actions"><input type="button" class="aui-button cfmAddPageTitleRowInput" value="+" data-row-index="' + soy.$$escapeHtml(opt_data.rowIndex) + '" tabindex="10"/><input type="button" class="aui-button cfmRemovePageTitleRowInput" data-row-index="' + soy.$$escapeHtml(opt_data.rowIndex) + '" value="-" tabindex="10"/></td></tr>';
};
if (goog.DEBUG) {
  CFM.Blueprints.addPageTitleRow.soyTemplateName = 'CFM.Blueprints.addPageTitleRow';
}


CFM.Blueprints.addDuplicateValidationMessage = function(opt_data, opt_ignored) {
  return '<div class="cfm-invalid-page-title">' + soy.$$escapeHtml('Each title must be unique') + '</div>';
};
if (goog.DEBUG) {
  CFM.Blueprints.addDuplicateValidationMessage.soyTemplateName = 'CFM.Blueprints.addDuplicateValidationMessage';
}


CFM.Blueprints.addExistsValidationMessage = function(opt_data, opt_ignored) {
  return '<div class="cfm-invalid-page-title">' + soy.$$escapeHtml('A page with this title already exists') + '</div>';
};
if (goog.DEBUG) {
  CFM.Blueprints.addExistsValidationMessage.soyTemplateName = 'CFM.Blueprints.addExistsValidationMessage';
}


CFM.Blueprints.addEmptyValidationMessage = function(opt_data, opt_ignored) {
  return '<div class="cfm-invalid-page-title">' + soy.$$escapeHtml('This field can not be empty') + '</div>';
};
if (goog.DEBUG) {
  CFM.Blueprints.addEmptyValidationMessage.soyTemplateName = 'CFM.Blueprints.addEmptyValidationMessage';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.adaptavist.confluence.contentFormattingMacros:cfm-wizard-resources', location = 'soy/blueprint/wizard-page3.soy' */
// This file was automatically generated from wizard-page3.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace CFM.Blueprints.
 */

if (typeof CFM == 'undefined') { var CFM = {}; }
if (typeof CFM.Blueprints == 'undefined') { CFM.Blueprints = {}; }


CFM.Blueprints.cfmBlueprintWizardPage3 = function(opt_data, opt_ignored) {
  return '<div class="aui-group cfm-wizard-page-two"><div class="cfm-wizard-description">' + soy.$$escapeHtml('You finished the wizard setup successfully. Click create to get started with your template.') + '</div></div><div class="aui-item"><div class="cfm-blueprints-picture-complete">&nbsp;</div></div>';
};
if (goog.DEBUG) {
  CFM.Blueprints.cfmBlueprintWizardPage3.soyTemplateName = 'CFM.Blueprints.cfmBlueprintWizardPage3';
}


CFM.Blueprints.docoLink = function(opt_data, opt_ignored) {
  return '<a class="add-remove-customise-templates-trigger button-panel-link" href="https://www.adaptavist.com/doco/display/CFP/Templates" tabindex="-1">' + soy.$$escapeHtml('Documentation') + '</a>';
};
if (goog.DEBUG) {
  CFM.Blueprints.docoLink.soyTemplateName = 'CFM.Blueprints.docoLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.adaptavist.confluence.contentFormattingMacros:cfm-wizard-resources', location = 'js/blueprint-wizard.js' */
AJS.toInit(function ($) {

    var selectedBlueprint;
    var pageTwoData = {};
    var rowIndex = 1;
    var stepTwoTitles = [];

    function handleWizardPage1Submit(e, state) {
        var pageOneValidationElement = $('.cfm-blueprint-description');
        if (!state.pageData.title) {
            pageOneValidationElement.text("Please enter a unique page title");
            addValidationStyling(pageOneValidationElement);
            return false;
        }

        if (doesPageExist(state.pageData.title, state.wizardData.spaceKey)) {
            pageOneValidationElement.text("Page title already exists, please enter a unique title");
            addValidationStyling(pageOneValidationElement);
            return false;
        }

        if (!selectedBlueprint) {
            pageOneValidationElement.text("Please select a template from the dropdown");
            addValidationStyling(pageOneValidationElement);
            return false;
        }

        state.pageData.userSelectedBlueprint = selectedBlueprint;
        if (selectedBlueprint === 'Multi-Page Journey') {
            state.nextPageId = 'cfmBlueprintWizardPage2';
        } else {
            state.nextPageId = 'cfmBlueprintWizardPage3';
        }
        return true;
    }

    function handleWizardPage2Submit(e, state) {
        pageTwoData = {};
        stepTwoTitles = [];
        var success = true;
        var allPageTitles = [];
        resetValidation();
        $('#cfm-wizard-dataTable > tbody > tr').each(function (index) {
            allPageTitles.push($('#cfm-page-title').val());
            var pageTwoValidationElement;
            var pageTitle = $(this).find('.cfm-input-field > input').val();
            var pageIndex = 'page' + index;
            pageTwoData[pageIndex] = pageTitle;
            stepTwoTitles.push(pageTitle);

            //check if user provided same title twice
            if ($.inArray($(this).find('.buttonInputLabel').val(), allPageTitles) !== -1 && pageTitle || state.wizardData.pages.cfmBlueprintWizardPage1.title === pageTitle) {
                //add error text
                var pageTitleDuplicateValidationMessage = CFM.Blueprints.addDuplicateValidationMessage();
                $(this).find('.cfm-input-field').append(pageTitleDuplicateValidationMessage);
                //style the error message
                pageTwoValidationElement = $(this).find($('.cfm-invalid-page-title'));
                addValidationStyling(pageTwoValidationElement);
                success = false;
            } else {
                allPageTitles.push($(this).find('.buttonInputLabel').val());
            }

            if (doesPageExist(pageTitle, state.wizardData.spaceKey)) {
                if ($(this).find('.buttonInputLabel').val()) {
                    //show page title already exists message
                    var pageTitleExistsValidationMessage = CFM.Blueprints.addExistsValidationMessage();
                    $(this).find('.cfm-input-field').append(pageTitleExistsValidationMessage);
                    pageTwoValidationElement = $(this).find($('.cfm-invalid-page-title'));
                } else {
                    //show field empty message
                    var pageTitleEmptyValidationMessage = CFM.Blueprints.addEmptyValidationMessage();
                    $(this).find('.cfm-input-field').append(pageTitleEmptyValidationMessage);
                    pageTwoValidationElement = $(this).find($('.cfm-invalid-page-title'));
                }

                addValidationStyling(pageTwoValidationElement);
                $(this).find(pageTwoValidationElement).addClass('blueprint-validation');

                success = false;
            }
        });

        var errorMessages = $('.cfm-invalid-page-title');
        if ($(errorMessages).size() > 0) {
            errorMessages[0].scrollIntoView(false);
        }
        state.wizardData.pageTwoNewPageTitles = pageTwoData;
        return success;
    }

    function handleWizardPage3Submit(e, state) {
        //subsumes the normal blueprint wizard and use an action to complete the specified tasks
        if (state.wizardData.pages.cfmBlueprintWizardPage1.userSelectedBlueprint === "Blog") {
            $('#create-dialog').find('.button-panel-cancel-link').click();
            var blogPayload = {
                "title": state.wizardData.pages.cfmBlueprintWizardPage1.title,
                "space": state.wizardData.spaceKey
            };
            createBlog(blogPayload);
            e.preventDefault();
        } else if (state.wizardData.pages.cfmBlueprintWizardPage1.userSelectedBlueprint === "Multi-Page Journey") {
            $('#create-dialog').find('.button-panel-cancel-link').click();
            var journeyPayload = {
                "stepOnePageTitle": state.wizardData.pages.cfmBlueprintWizardPage1.title,
                "space": state.wizardData.spaceKey,
                "parentPageId": state.wizardData.parentPageId,
                "stepTwoPageTitles": stepTwoTitles
            };
            createJourneyPages(journeyPayload);
            e.preventDefault();
        } else {
            return true;
        }
    }

    function createBlog(blogPayload) {
        $.ajax({
            type: 'POST',
            async: false,
            url: AJS.params.baseUrl + '/cfm/blueprint/create/blog/cfm-create-blog.action',
            data: blogPayload
        }).success(function () {
            window.location.href = AJS.params.baseUrl + '/pages/viewrecentblogposts.action?key=' + blogPayload.space;
        }).error(function () {
            var failMessage = "Failed to call Content Formatting blueprint create blog action";
            console.log(failMessage);
        });
    }

    function createJourneyPages(journeyPayload) {
        $.ajax({
            type: 'POST',
            async: false,
            url: AJS.params.baseUrl + '/cfm/blueprint/create/journeypages/cfm-create-multi-page-journey-pages.action',
            data: journeyPayload
        }).success(function () {
            window.location.href = AJS.params.baseUrl + '/display/' + journeyPayload.space + '/' + journeyPayload.stepOnePageTitle;
        }).error(function () {
            var failMessage = "Failed to call Content Formatting blueprint create journey pages action";
            console.log(failMessage);
        });
    }

    function handleWizardPage1Input(e, state) {
        $('.dialog-button-panel').append(CFM.Blueprints.docoLink());
        $('.cfm-blueprints-picture').prop('class', 'cfm-blueprints-picture');
        var descriptionElement = $('.cfm-blueprint-description');
        //handle dropdown blueprint selection
        $('.cfm-blueprint-selected').on('click', function (event) {
            descriptionElement.removeClass('blueprint-validation');
            selectedBlueprint = event.target.text;
            $('.cfm-blueprints-dropdown-text').text(selectedBlueprint);
            descriptionElement.text(getBlueprintDescriptionAndUpdateImage('page1', selectedBlueprint));
        });
        //handle page title change
        $('#cfm-page-title').on('change', function () {
            descriptionElement.removeClass('blueprint-validation');
            descriptionElement.text(getBlueprintDescriptionAndUpdateImage('page1', selectedBlueprint));
        });
        //close dropdown if cancel button is clicked while dropdown open
        $('.dialog-button-panel .button-panel-link.button-panel-cancel-link').on('click', function () {
            $('#cfm-blueprints-dropdown').remove();
        });
    }

    function createKeyCodeRange(start, end) {
        var keyCodeArray = [];
        for (var i = start; i <= end; i++) {
            keyCodeArray.push(i);
        }
        return keyCodeArray;
    }

    function handleWizardPage2Input(e, state) {
        $('.dialog-button-panel').append(CFM.Blueprints.docoLink());
        var table = $('#cfm-wizard-dataTable');
        var keyCodeArray = createKeyCodeRange(48, 90);
        keyCodeArray.push(13);
        keyCodeArray.push(32);

        //add page title table row
        table.on('keypress click', '.cfmAddPageTitleRowInput', function (event) {
            if ($.inArray(event.which, keyCodeArray) === -1) {
                var tableRow = $('#cfm-wizard-dataTable > tbody > tr');
                var newRow = CFM.Blueprints.addPageTitleRow({rowIndex: rowIndex});
                rowIndex++;
                //add new table row on appropriate index
                tableRow.eq($.inArray($(event.target).parent().parent()[0], tableRow)).after(newRow);
                //make first row 'remove button' clickable
                $('#groupRow' + $('#cfm-wizard-dataTable tbody tr .cfmAddPageTitleRowInput')[0].getAttribute('data-row-index') + ' .cfm-actions .cfmRemovePageTitleRowInput').removeAttr('disabled');
            } else {
                event.preventDefault();
            }
        });

        //remove page title table row
        table.on('keypress click', '.cfmRemovePageTitleRowInput', function (event) {
            if (event.which !== 13 && event.which !== 32) {
                var rowIndex = event.target.getAttribute('data-row-index');
                $('#groupRow' + rowIndex).remove();
                //make first row 'remove button' disabled
                if ($('#cfm-wizard-dataTable tbody tr').length === 1) {
                    $('#groupRow' + $('#cfm-wizard-dataTable tbody tr .cfmAddPageTitleRowInput')[0].getAttribute('data-row-index') + ' .cfm-actions .cfmRemovePageTitleRowInput').prop('disabled', true);
                }
            } else {
                event.preventDefault();
            }
        });
    }

    function handleWizardPage3Input(e, state) {
        $('.dialog-button-panel').append(CFM.Blueprints.docoLink());
        $('.cfm-blueprint-description').text(getBlueprintDescriptionAndUpdateImage('page3', selectedBlueprint));
    }

    //displays the appropriate description message and image based on the selected blueprint and wizard dialog step.
    function getBlueprintDescriptionAndUpdateImage(dialogPage, selectedBlueprint) {
        var description;
        switch (selectedBlueprint) {
            case "Multi-Page Journey":
                description = "Create several pages that a user can follow from start to finish.";
                updateBlueprintImage(dialogPage, 'multi-page-journey');
                break;
            case "Space Home Page":
                description = "Design a new Space Home Page.";
                updateBlueprintImage(dialogPage, 'space-home-page');
                break;
            case "Finance":
                description = "This template displays financial performance data.";
                updateBlueprintImage(dialogPage, 'finance');
                break;
            case "Blog":
                description = "Get started with a blog.";
                updateBlueprintImage(dialogPage, 'blog');
                break;
            case "Software Requirements":
                description = "Create a software requirements document.";
                updateBlueprintImage(dialogPage, 'software-requirements');
                break;
            case "Academic":
                description = "Use mathematical formulae and cite works.";
                updateBlueprintImage(dialogPage, 'academic');
                break;
            default:
                description = "Start by entering a page Title and selecting a template from the dropdown.";
        }
        return description;
    }

    function updateBlueprintImage(dialogPage, selectedBlueprint) {
        var blueprintPictureElement = $('.cfm-blueprints-picture');
        var blueprintPictureElementComplete = $('.cfm-blueprints-picture-complete');
        if (dialogPage === 'page1') {
            blueprintPictureElement.prop('class', 'cfm-blueprints-picture');
            blueprintPictureElement.addClass(dialogPage).addClass(selectedBlueprint);
        } else {
            blueprintPictureElementComplete.prop('class', 'cfm-blueprints-picture-complete');
            blueprintPictureElementComplete.addClass(dialogPage).addClass(selectedBlueprint);
        }
    }

    function doesPageExist(pageTitle, spaceKey) {
        var success = false;
        $.ajax({
            type: 'GET',
            async: false,
            url: AJS.params.baseUrl + '/rest/api/content?spaceKey=' + spaceKey + '&title=' + pageTitle,
            dataType: 'json'
        }).success(function (json) {
            if (json.size > 0) {
                success = true;
            } else {
                success = false;
            }
        });
        return success;
    }

    function addValidationStyling(element) {
        element.addClass('blueprint-validation');
        element.addClass('validation-error');

        //shake error message
        setTimeout(function () {
            element.removeClass('validation-error');
        }, 100);
    }

    function resetValidation() {
        $('.cfm-invalid-page-title').remove();
    }

    //reset some elements when navigating backwards to page 1
    function handleWizardPage1PreRender() {
        selectedBlueprint = false;
    }

    Confluence.Blueprint.setWizard('com.adaptavist.confluence.contentFormattingMacros:cfm-blueprint-item', function (wizard) {
        wizard.on('submit.cfmBlueprintWizardPage1', handleWizardPage1Submit);
        wizard.on('submit.cfmBlueprintWizardPage2', handleWizardPage2Submit);
        wizard.on('submit.cfmBlueprintWizardPage3', handleWizardPage3Submit);
        wizard.on('pre-render.cfmBlueprintWizardPage1', handleWizardPage1PreRender);
        wizard.on('post-render.cfmBlueprintWizardPage1', handleWizardPage1Input);
        wizard.on('post-render.cfmBlueprintWizardPage2', handleWizardPage2Input);
        wizard.on('post-render.cfmBlueprintWizardPage3', handleWizardPage3Input);
    });
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.soy' */
// This file was automatically generated from appswitcher.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher == 'undefined') { navlinks.templates.appswitcher = {}; }


navlinks.templates.appswitcher.linkSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    output += '<div class="aui-nav-heading sidebar-section-header">' + soy.$$escapeHtml(opt_data.title) + '</div><ul class="aui-nav nav-links">';
    var linkList8 = opt_data.list;
    var linkListLen8 = linkList8.length;
    for (var linkIndex8 = 0; linkIndex8 < linkListLen8; linkIndex8++) {
      var linkData8 = linkList8[linkIndex8];
      output += navlinks.templates.appswitcher.applicationsItem(linkData8);
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.linkSection.soyTemplateName = 'navlinks.templates.appswitcher.linkSection';
}


navlinks.templates.appswitcher.applicationsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link"><a href="' + soy.$$escapeHtml(opt_data.link) + '" ' + ((opt_data.self) ? 'class="checked"' : '') + ' title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span></a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.applicationsItem.soyTemplateName = 'navlinks.templates.appswitcher.applicationsItem';
}


navlinks.templates.appswitcher.shortcutsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link"><a href="' + soy.$$escapeHtml(opt_data.link) + '" ' + ((opt_data.self) ? 'class="checked"' : '') + ' title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.shortcutsItem.soyTemplateName = 'navlinks.templates.appswitcher.shortcutsItem';
}


navlinks.templates.appswitcher.error = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-error">' + soy.$$filterNoAutoescape('Something went wrong, please \x3cspan class\x3d\x22app-switcher-retry\x22\x3etry again\x3c/span\x3e.') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.error.soyTemplateName = 'navlinks.templates.appswitcher.error';
}


navlinks.templates.appswitcher.sidebarContents = function(opt_data, opt_ignored) {
  return '<div class="aui-page-panel-nav"><nav class="aui-navgroup aui-navgroup-vertical"><div class="app-switcher-section app-switcher-applications"><div class="aui-nav-heading">' + soy.$$escapeHtml('Application Links') + '</div><div class="app-switcher-loading">' + soy.$$filterNoAutoescape('Loading...') + '</div></div><div class="app-switcher-section app-switcher-shortcuts"><div class="aui-nav-heading">' + soy.$$escapeHtml('Shortcuts') + '</div><div class="app-switcher-loading">' + soy.$$filterNoAutoescape('Loading...') + '</div></div></nav></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.sidebarContents.soyTemplateName = 'navlinks.templates.appswitcher.sidebarContents';
}


navlinks.templates.appswitcher.trigger = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-appswitcher">' + soy.$$escapeHtml('Linked Applications') + '</span>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.trigger.soyTemplateName = 'navlinks.templates.appswitcher.trigger';
}


navlinks.templates.appswitcher.projectHeaderSection = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-title">' + aui.avatar.avatar({size: 'large', avatarImageUrl: opt_data.avatarUrl, isProject: true, title: opt_data.name}) + '<div class="sidebar-project-name">' + soy.$$escapeHtml(opt_data.name) + '</div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.projectHeaderSection.soyTemplateName = 'navlinks.templates.appswitcher.projectHeaderSection';
}


navlinks.templates.appswitcher.cogDropdown = function(opt_data, opt_ignored) {
  var output = '';
  var dropdownList__soy74 = '' + navlinks.templates.appswitcher.dropdownList({list: opt_data.links});
  output += aui.dropdown2.dropdown2({menu: {id: opt_data.id, content: dropdownList__soy74, extraClasses: 'aui-style-default sidebar-customize-section'}, trigger: {showIcon: false, content: '<span class="aui-icon aui-icon-small aui-iconfont-configure"></span>', container: '#app-switcher'}});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.cogDropdown.soyTemplateName = 'navlinks.templates.appswitcher.cogDropdown';
}


navlinks.templates.appswitcher.dropdownList = function(opt_data, opt_ignored) {
  var output = '<ul class="sidebar-admin-links">';
  var linkList82 = opt_data.list;
  var linkListLen82 = linkList82.length;
  for (var linkIndex82 = 0; linkIndex82 < linkListLen82; linkIndex82++) {
    var linkData82 = linkList82[linkIndex82];
    output += '<li class="nav-link"><a href="' + soy.$$escapeHtml(linkData82.href) + '" title="' + soy.$$escapeHtml(linkData82.title) + '"><span class="nav-link-label">' + soy.$$escapeHtml(linkData82.label) + '</span></a></li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.dropdownList.soyTemplateName = 'navlinks.templates.appswitcher.dropdownList';
}


navlinks.templates.appswitcher.switcher = function(opt_data, opt_ignored) {
  var output = '';
  if (true) {
    if (AJS.DarkFeatures.isEnabled('rotp.sidebar')) {
      var sidebarContents__soy97 = '' + navlinks.templates.appswitcher.sidebarContents(null);
      var triggerContent__soy99 = '' + navlinks.templates.appswitcher.trigger(null);
      output += navlinks.templates.appswitcher.sidebar({sidebar: {id: 'app-switcher', content: sidebarContents__soy97}, trigger: {showIcon: false, content: triggerContent__soy99}});
    } else {
      output += navlinks.templates.appswitcher_old.switcher(null);
    }
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.switcher.soyTemplateName = 'navlinks.templates.appswitcher.switcher';
}


navlinks.templates.appswitcher.sidebar = function(opt_data, opt_ignored) {
  return '<button class="sidebar-trigger app-switcher-trigger" aria-owns="' + soy.$$escapeHtml(opt_data.sidebar.id) + '" aria-haspopup="true" >' + soy.$$filterNoAutoescape(opt_data.trigger.content) + '</button><div id=' + soy.$$escapeHtml(opt_data.sidebar.id) + ' class="app-switcher-sidebar aui-style-default sidebar-offscreen" data-is-sidebar="true" data-is-user-admin="' + soy.$$escapeHtml(false) + '">' + soy.$$filterNoAutoescape(opt_data.sidebar.content) + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.sidebar.soyTemplateName = 'navlinks.templates.appswitcher.sidebar';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.js' */
(function(e,a){var d="is-user-admin";var c="#app-switcher";a.SideBar=function(f){var g=this;this.$sidebar=null;f=e.extend({sidebarContents:null},f);this.getLinks=function(){return e.ajax({url:AJS.contextPath()+"/rest/menu/latest/appswitcher",cache:false,dataType:"json"}).done(this.updateAppLinks).fail(this.showAppSwitcherError)};this.populateProjectHeader=function(i,h){g.getSidebar().find(".app-switcher-shortcuts .aui-nav-heading").after(navlinks.templates.appswitcher.projectHeaderSection({avatarUrl:h,name:i}))};this.getProjectData=function(){var h=e(".project-shortcut-dialog-trigger"),i=h.data("key"),j=h.data("entity-type");if(h.size()==0||!i||!j){e(".app-switcher-shortcuts").remove();return}var l,k;k=e.ajax({url:AJS.contextPath()+"/rest/project-shortcuts/1.0/local/"+i,cache:false,data:{entityType:j},dataType:"json"});l=e.ajax({url:AJS.contextPath()+"/rest/project-shortcuts/1.0/remote/"+i,cache:false,data:{entityType:j},dataType:"json"});e.when(k,l).then(function(n,m){g.updateProjectShortcuts(n,m,{key:i,entityType:j,name:h.data("name"),avatarUrl:h.find("img").prop("src")})},g.showProjectShortcutsError)};this.getSidebar=function(){if(!this.$sidebar){this.$sidebar=e(f.sidebarContents)}return this.$sidebar};this.addApplicationsCog=function(){e(".app-switcher-applications .aui-nav-heading").before(navlinks.templates.appswitcher.cogDropdown({id:"sidebar-applications-admin-dropdown",links:[{href:AJS.contextPath()+"/plugins/servlet/customize-application-navigator",label:"Customize navigator",title:"Add new entries, hide existing or restrict who sees what"},{href:AJS.contextPath()+"/plugins/servlet/applinks/listApplicationLinks",label:"Manage application links",title:"Link to more Atlassian applications"}]}))};this.addProjectShortcutsCog=function(h,j){var i=[{href:AJS.contextPath()+"/plugins/servlet/custom-content-links-admin?entityKey="+h,label:"Customize shortcuts",title:""}];if(g.entityMappings[j]){i.push({href:g.generateEntityLinksUrl(h,g.entityMappings[j]),label:"Manage product links",title:""})}g.getSidebar().find(".app-switcher-shortcuts .aui-nav-heading").before(navlinks.templates.appswitcher.cogDropdown({id:"sidebar-project-shortcuts-admin-dropdown",links:i}))};this.updateAppLinks=function(h){e(function(){g.getSidebar().find(".app-switcher-applications").html(navlinks.templates.appswitcher.linkSection({title:"Application Links",list:h}));if(g.getSidebar().data(d)){g.addApplicationsCog()}g.bindAnalyticsHandlers(g.getSidebar(),h)})};this.updateProjectShortcuts=function(k,i,j){var l=k[0].shortcuts,h=i[0].shortcuts;g.getSidebar().find(".app-switcher-shortcuts").html(navlinks.templates.appswitcher.linkSection({title:"Shortcuts",list:l.concat(h)}));if(g.getSidebar().data(d)){g.addProjectShortcutsCog(j.key,j.entityType)}g.populateProjectHeader(j.name,j.avatarUrl);g.bindAnalyticsHandlers(g.getSidebar(),data)};this.entityMappings={"confluence.space":"com.atlassian.applinks.api.application.confluence.ConfluenceSpaceEntityType","jira.project":"com.atlassian.applinks.api.application.jira.JiraProjectEntityType","bamboo.project":"com.atlassian.applinks.api.application.bamboo.BambooProjectEntityType","stash.project":"com.atlassian.applinks.api.application.stash.StashProjectEntityType"};this.generateEntityLinksUrl=function(h,i){if(i===g.entityMappings["confluence.space"]){return AJS.contextPath()+"/spaces/listentitylinks.action?typeId="+i+"&key="+h}else{return AJS.contextPath()+"/plugins/servlet/applinks/listEntityLinks/"+i+"/"+h}};this.showAppSwitcherError=function(){e(function(){var h=g.getSidebar();h.find(".app-switcher-applications .app-switcher-loading").replaceWith(navlinks.templates.appswitcher.error());h.off(".appswitcher").on("click.appswitcher",".app-switcher-retry",e.proxy(g.retryLoading,g))})};this.showProjectShortcutsError=function(){e(function(){var h=g.getSidebar();h.find(".app-switcher-shortcuts .app-switcher-loading").replaceWith(navlinks.templates.appswitcher.error());h.off(".appswitcher").on("click.appswitcher",".app-switcher-retry",e.proxy(g.retryLoading,g))})};this.retryLoading=function(h){this.getSidebar().html(navlinks.templates.appswitcher.sidebarContents());this.getLinks();this.getProjectData();h&&h.stopPropagation()};this.bindAnalyticsHandlers=function(h,i){};this.getLinks();e(this.getProjectData);this.toggleSidebar=function(j){j.preventDefault();var k=g.getSidebar(),i=e("body"),h=e(window.document);if(!i.hasClass("app-switcher-open")){var m=e("#header");k.css("left",-k.width());k.parent("body").length||k.appendTo("body");b({data:k});k.animate({left:0},300);function l(n){var p=n.target&&e(n.target),o=n.keyCode;if(n.originalEvent===j.originalEvent){return}if(p&&!o&&!(p.closest(k).length||p.closest(m).length)&&j.which==1&&!(n.shiftKey||n.ctrlKey||n.metaKey)){g.toggleSidebar()}else{if(o===27){g.toggleSidebar()}}}h.on("click.appSwitcher",l);h.on("keydown.appSwitcher",l);h.on("scroll.appSwitcher",k,b)}else{h.off(".appSwitcher")}i.toggleClass("app-switcher-open")};e("#header").on("click",".app-switcher-trigger",this.toggleSidebar)};function b(h){var f=e(document).scrollTop(),i=e("#header"),g=(i.height()+i.offset().top)-f;if(g>=0){h.data.css({top:g,position:"fixed"})}else{h.data.css({top:0,left:0,position:"fixed"})}}e(function(){if(e(c).data("is-sidebar")===true){new a.SideBar({sidebarContents:c})}})}(jQuery,window.NL=(window.NL||{})));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher_old.js' */
var APPSWITCHER_TRIGGER_CLICK="appswitcher.trigger.click";var APPSWITCHER_DROPDOWN_SHOW="appswitcher.dropdown.show";var APPSWITCHER_DROPDOWN_DISPLAY_ERROR="appswitcher.dropdown.display.error";var APPSWITCHER_APP_LINK_CLICK="appswitcher.app.link.click";var APPSWITCHER_CONFIGURE_LINK_CLICK="appswitcher.configure.link.click";(function(c,f){var b="isAppSuggestionAvailable";var d="isSiteAdminUser";var e="isUserAdmin";var a="#app-switcher";f.AppSwitcher=function(j){var l=AJS.contextPath()+"/plugins/servlet/customize-application-navigator";var k="unified.usermanagement";var m=this;this.$dropdown=null;j=c.extend({dropdownContents:null},j);this.getLinks=function(){return c.ajax({url:AJS.contextPath()+"/rest/menu/latest/appswitcher",cache:false,dataType:"json"}).done(this.updateDropdown).fail(this.showError)};this.getDropdown=function(){if(!this.$dropdown){this.$dropdown=c(j.dropdownContents);this.envData=this.$dropdown.data("environment")}return this.$dropdown};this.updateDropdown=function(n){c(function(){m.getDropdown().html(navlinks.templates.appswitcher_old.applications({apps:n,showAdminLink:m.envData[e],adminLink:l}));m.bindAnalyticsHandlers();if(m.envData[b]===true){m.handleSuggestionApps(n)}})};this.bindAnalyticsHandlers=function(){c(".app-switcher-trigger").on("click",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_TRIGGER_CLICK})});c("#app-switcher").on("aui-dropdown2-show",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_DROPDOWN_SHOW})});c("#app-switcher .nav-link").on("click",function(){var p="custom";var q=c(this).find("a");var o=q.attr("href");var n=window.location.hostname;if(o&&o.indexOf("bitbucket.org")>-1){p="bitbucket-cloud"}else{if(o.indexOf(n+"/wiki")>-1){p="confluence"}else{if(o.indexOf(n+"/build")>-1){p="bamboo"}else{if(o.indexOf(n)>-1){p="jira"}}}}AJS.trigger("analyticsEvent",{name:APPSWITCHER_APP_LINK_CLICK,data:{product:p}})});c(".nav-link-edit-wrapper").on("click",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_CONFIGURE_LINK_CLICK})})};this.isBillingSystemEnabled=function(){return(this.envData[d]===true)&&AJS.DarkFeatures.isEnabled(k)};this.handleSuggestionApps=function(q){var r=_.map(q,function(s){return s.applicationType.toLowerCase()});var o=c("<div id='app-switcher-suggestion-apps' class='aui-dropdown2-section'/>");o.html(navlinks.templates.appswitcher_old.suggestionApps);var p=o.find(".suggestion-apps");var n=false;_.each(g,function(s){if(!_.contains(r,s.appName)){n=true;p.append(navlinks.templates.appswitcher_old.suggestionApp({suggestionApp:s,isBillingSystemEnabled:m.isBillingSystemEnabled()}))}});if(!n){return}c("#app-switcher").append(o);c(".app-discovery-suggestion-app").click(function(){var t=c(this).find("a");var s;if(m.envData[d]===true){s="appswitcher.discovery.siteadmin.select.inproduct."}else{s="appswitcher.discovery.user.select."}s=s+t.attr("id").toLowerCase();AJS.trigger("analytics",{name:s})});c(".app-discovery-suggestion-app").hover(function(){c(this).find("a").removeClass("active").removeClass("aui-dropdown2-active")});c(".app-discovery-cancel-button").click(function(){AJS.trigger("analytics",{name:"appswitcher.discovery.nothanks.button.click"});i(h,"true");o.remove()})};this.showError=function(){c(function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_DROPDOWN_DISPLAY_ERROR});m.getDropdown().html(navlinks.templates.appswitcher_old.error()).off(".appswitcher").on("click.appswitcher",".app-switcher-retry",c.proxy(m.retryLoading,m))})};this.retryLoading=function(n){this.getDropdown().html(navlinks.templates.appswitcher_old.loading());this.getLinks();n&&n.stopPropagation()};this.getLinks()};var h="key-no-thanks";var g=[{appName:"jira",appDesc:"Issue & Project Tracking Software",discoveryUrl:"https://www.atlassian.com/software/jira",billingSystemDiscoveryUrl:"/admin/billing/addapplication"},{appName:"confluence",appDesc:"Collaboration and content sharing",discoveryUrl:"https://www.atlassian.com/software/confluence",billingSystemDiscoveryUrl:"/admin/billing/addapplication?product=confluence.ondemand"},{appName:"bamboo",appDesc:"Continuous integration",discoveryUrl:"https://www.atlassian.com/software/bamboo",billingSystemDiscoveryUrl:"/admin/billing/addapplication?product=bamboo.ondemand"}];var i=function(j,k){c.ajax({url:AJS.contextPath()+"/rest/menu/latest/userdata/",type:"PUT",contentType:"application/json",data:JSON.stringify({key:j,value:k})})};c(function(){if(c(a).data("is-switcher")===true){new f.AppSwitcher({dropdownContents:a})}})}(jQuery,window.NL=(window.NL||{})));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher_old.soy' */
// This file was automatically generated from appswitcher_old.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher_old.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher_old == 'undefined') { navlinks.templates.appswitcher_old = {}; }


navlinks.templates.appswitcher_old.applications = function(opt_data, opt_ignored) {
  return '' + navlinks.templates.appswitcher_old.applicationsSection({list: opt_data.apps, listClass: 'nav-links', showDescription: opt_data.showDescription}) + ((opt_data.custom) ? navlinks.templates.appswitcher_old.applicationsSection({list: opt_data.custom, showDescription: opt_data.showDescription}) : '') + ((opt_data.showAdminLink) ? navlinks.templates.appswitcher_old.adminSection(opt_data) : '');
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applications.soyTemplateName = 'navlinks.templates.appswitcher_old.applications';
}


navlinks.templates.appswitcher_old.applicationsSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    var param19 = '<ul' + ((opt_data.listClass) ? ' class="' + soy.$$escapeHtml(opt_data.listClass) + '"' : '') + '>';
    var linkList27 = opt_data.list;
    var linkListLen27 = linkList27.length;
    for (var linkIndex27 = 0; linkIndex27 < linkListLen27; linkIndex27++) {
      var linkData27 = linkList27[linkIndex27];
      param19 += navlinks.templates.appswitcher_old.applicationsItem(soy.$$augmentMap(linkData27, {showDescription: opt_data.showDescription}));
    }
    param19 += '</ul>';
    output += aui.dropdown2.section({content: param19});
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applicationsSection.soyTemplateName = 'navlinks.templates.appswitcher_old.applicationsSection';
}


navlinks.templates.appswitcher_old.applicationsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link' + ((opt_data.self) ? ' nav-link-local' : '') + '"><a href="' + soy.$$escapeHtml(opt_data.link) + '" class="aui-dropdown2-radio ' + ((opt_data.self) ? 'aui-dropdown2-checked' : '') + '" title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applicationsItem.soyTemplateName = 'navlinks.templates.appswitcher_old.applicationsItem';
}


navlinks.templates.appswitcher_old.adminSection = function(opt_data, opt_ignored) {
  return '' + aui.dropdown2.section({content: '<ul class="nav-links"><li><a class="nav-link-edit-wrapper" href="' + soy.$$escapeHtml(opt_data.adminLink) + '"><span class="nav-link-edit">' + soy.$$filterNoAutoescape('Configure...') + '</span></a></li></ul>'});
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.adminSection.soyTemplateName = 'navlinks.templates.appswitcher_old.adminSection';
}


navlinks.templates.appswitcher_old.error = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-error">' + soy.$$filterNoAutoescape('Something went wrong, please \x3cspan class\x3d\x22app-switcher-retry\x22\x3etry again\x3c/span\x3e.') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.error.soyTemplateName = 'navlinks.templates.appswitcher_old.error';
}


navlinks.templates.appswitcher_old.loading = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-loading">' + soy.$$filterNoAutoescape('Loading...') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.loading.soyTemplateName = 'navlinks.templates.appswitcher_old.loading';
}


navlinks.templates.appswitcher_old.trigger = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-appswitcher">' + soy.$$escapeHtml('Linked Applications') + '</span>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.trigger.soyTemplateName = 'navlinks.templates.appswitcher_old.trigger';
}


navlinks.templates.appswitcher_old.switcher = function(opt_data, opt_ignored) {
  var output = '';
  if (true) {
    var loadingContent__soy81 = '' + navlinks.templates.appswitcher_old.loading(null);
    var triggerContent__soy83 = '' + navlinks.templates.appswitcher_old.trigger(null);
    output += aui.dropdown2.dropdown2({menu: {id: 'app-switcher', content: loadingContent__soy81, extraClasses: 'aui-style-default', extraAttributes: {'data-environment': {}, 'data-is-switcher': 'true'}}, trigger: {tagName: 'button', showIcon: false, content: triggerContent__soy83, extraClasses: 'app-switcher-trigger aui-dropdown2-trigger-arrowless', extraAttributes: {href: '#app-switcher'}}});
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.switcher.soyTemplateName = 'navlinks.templates.appswitcher_old.switcher';
}


navlinks.templates.appswitcher_old.suggestionApp = function(opt_data, opt_ignored) {
  var output = '';
  var href__soy89 = opt_data.isBillingSystemEnabled == true ? opt_data.suggestionApp.billingSystemDiscoveryUrl : opt_data.suggestionApp.discoveryUrl;
  output += '<li class="app-discovery-suggestion-app"><a id="' + soy.$$escapeHtml(opt_data.suggestionApp.appName) + '" href="' + soy.$$escapeHtml(href__soy89) + '" class="app-discovery-link aui-icon-container app-discovery-' + soy.$$escapeHtml(opt_data.suggestionApp.appName) + '-product-icon" title="' + soy.$$escapeHtml(href__soy89) + '" target="_blank"></a><div class="app-discovery-small">' + soy.$$escapeHtml(opt_data.suggestionApp.appDesc) + '</div></li>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.suggestionApp.soyTemplateName = 'navlinks.templates.appswitcher_old.suggestionApp';
}


navlinks.templates.appswitcher_old.suggestionApps = function(opt_data, opt_ignored) {
  return '<ul class=\'nav-links suggestion-apps\'><li><span class=\'app-discovery-suggest-title nav-link-label\'><h6>' + soy.$$escapeHtml('Try other Atlassian apps') + '</h6></span></li></ul><div class=\'buttons-container app-discovery-suggest-apps-buttons\'><div class=\'buttons\'><button class=\'aui-button aui-button-link app-discovery-cancel-button\' name=\'cancel\' accesskey=\'c\' href=\'#\'>' + soy.$$escapeHtml('Don\x27t show this again') + '</button></div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.suggestionApps.soyTemplateName = 'navlinks.templates.appswitcher_old.suggestionApps';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:common-header-resources', location = '/includes/js/header-user-menu.js' */
define("confluence/header-user-menu",["jquery","confluence/meta","underscore"],function(a,c,b){function d(){var b=c.get("current-user-avatar-uri-reference");a("#user-menu-link").find(".aui-avatar-inner img").attr("src",b)}return function(){b.defer(d)}});require("confluence/module-exporter").safeRequire("confluence/header-user-menu",function(a){require("ajs").toInit(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:general-analytics-bindings', location = '/includes/js/analytics-bindings.js' */
define("confluence/analytics-bindings",["jquery","confluence/analytics-support"],function(b,d){return function(){function e(a,c){b(a).on("click",".view-historical-version-trigger",function(){d.publish("confluence.page.view-historical.from-"+(c||"unknown"))})}function f(a,c){b(a).on("click",".restore-historical-version-trigger",function(){d.publish("confluence.page.restore-historical.from-"+(c||"unknown"))})}function g(a,c){b("#header .aui-header-secondary "+a).on("click",function(){var a=b(this).hasClass("aui-dropdown2-active")?
"expanded":"collapsed";d.publish("confluence.header.dropdown."+c,{state:a})})}e("#page-history-warning","navigation");e("#page-history-container","history");e(".diff-menu","diff");f("#page-history-warning","navigation");f("#page-history-container","history");g("#admin-menu-link","administration");g("#user-menu-link","profile")}});require("confluence/module-exporter").safeRequire("confluence/analytics-bindings",function(b){require("ajs").toInit(b)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-read-only-mode-bootstrap', location = 'main/quick-reload-read-only-mode-bootstrap.js' */
require(["ajs","confluence/dark-features","confluence-quick-reload/main/quick-reload-manager","confluence-quick-reload/handlers/quick-reload-read-only-mode"],function(b,c,a,d){b.toInit(function(){c.isEnabled("quickreload.disabled")||(a.addHandler(d),a.enable())})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-slack-server-integration-plugin:slack-link-error-resources', location = 'oauth2/confluence-slack-link-error.js' */
require([
    'jquery',
    'underscore',
    'aui/flag',
    'wrm/data'
], function (
    $,
    _,
    flag,
    wrmData
) {
    var pluginKey = "com.atlassian.confluence.plugins.confluence-slack-server-integration-plugin";
    var providedData = wrmData.claim(pluginKey + ":slack-link-error-resources.slack-link-error");

    $(function() {
        if (providedData && providedData.errorString) {
            flag({
                type: "error",
                title: "Error connecting Slack account",
                persistent: true,
                body: _.escape(providedData.errorString)
            });
        }
    });
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-slack-server-integration-plugin:slack-links-support', location = 'cookie/js.cookie.js' */
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */

// modified to become a module
define("slack/js-cookies", [], function () {

	function extend () {
		var i = 0;
		var result = {};
		for (; i < arguments.length; i++) {
			var attributes = arguments[ i ];
			for (var key in attributes) {
				result[key] = attributes[key];
			}
		}
		return result;
	}

	function decode (s) {
		return s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
	}

	function init (converter) {
		function api() {}

		function set (key, value, attributes) {
			if (typeof document === 'undefined') {
				return;
			}

			attributes = extend({
				path: '/'
			}, api.defaults, attributes);

			if (typeof attributes.expires === 'number') {
				attributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);
			}

			// We're using "expires" because "max-age" is not supported by IE
			attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';

			try {
				var result = JSON.stringify(value);
				if (/^[\{\[]/.test(result)) {
					value = result;
				}
			} catch (e) {}

			value = converter.write ?
				converter.write(value, key) :
				encodeURIComponent(String(value))
					.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);

			key = encodeURIComponent(String(key))
				.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)
				.replace(/[\(\)]/g, escape);

			var stringifiedAttributes = '';
			for (var attributeName in attributes) {
				if (!attributes[attributeName]) {
					continue;
				}
				stringifiedAttributes += '; ' + attributeName;
				if (attributes[attributeName] === true) {
					continue;
				}

				// Considers RFC 6265 section 5.2:
				// ...
				// 3.  If the remaining unparsed-attributes contains a %x3B (";")
				//     character:
				// Consume the characters of the unparsed-attributes up to,
				// not including, the first %x3B (";") character.
				// ...
				stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];
			}

			return (document.cookie = key + '=' + value + stringifiedAttributes);
		}

		function get (key, json) {
			if (typeof document === 'undefined') {
				return;
			}

			var jar = {};
			// To prevent the for loop in the first place assign an empty array
			// in case there are no cookies at all.
			var cookies = document.cookie ? document.cookie.split('; ') : [];
			var i = 0;

			for (; i < cookies.length; i++) {
				var parts = cookies[i].split('=');
				var cookie = parts.slice(1).join('=');

				if (!json && cookie.charAt(0) === '"') {
					cookie = cookie.slice(1, -1);
				}

				try {
					var name = decode(parts[0]);
					cookie = (converter.read || converter)(cookie, name) ||
						decode(cookie);

					if (json) {
						try {
							cookie = JSON.parse(cookie);
						} catch (e) {}
					}

					jar[name] = cookie;

					if (key === name) {
						break;
					}
				} catch (e) {}
			}

			return key ? jar[key] : jar;
		}

		api.set = set;
		api.get = function (key) {
			return get(key, false /* read as raw */);
		};
		api.getJSON = function (key) {
			return get(key, true /* read as json */);
		};
		api.remove = function (key, attributes) {
			set(key, '', extend(attributes, {
				expires: -1
			}));
		};

		api.defaults = {};

		api.withConverter = init;

		return api;
	}

	return init(function () {});

});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-slack-server-integration-plugin:slack-links-support', location = 'links/slack-links.js' */
require([
    'jquery',
    'slack/js-cookies',
    'wrm/context-path'
], function (
    $,
    jsCookies,
    wrmContextPath
) {

    var SLACK_NATIVE_LINK_ENABLED = "SLACK_NATIVE_LINK_ENABLED";

    function getTeamUrl(teamId) {
        return $.ajax({
            url: wrmContextPath() + "/rest/slack/latest/connection/" + teamId + "/info",
            type: "GET"
        });
    }

    function getMessageLink(teamId, channelId, messageTimestamp) {
        return $.ajax({
            url: wrmContextPath() + "/rest/slack/latest/channels/" + teamId + "/" + channelId + "/" + messageTimestamp,
            type: "GET"
        });
    }

    function isSlackNativeLinkEnabled() {
        return jsCookies.get(SLACK_NATIVE_LINK_ENABLED) === "true";
    }

    function sendAnalyticEvent() {
        var linkType = isSlackNativeLinkEnabled() ? "inapp" : "web";
        var nativeEnabled = navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? "native.enabled" : "native.disabled";
        var metric  = 'notifications.slack.link.clicked.' + linkType  + '.' + nativeEnabled;
        AJS.trigger('analyticsEvent', {name: metric});
    }

    function findTheRightElement(element, tagName) {
        var levels = 2;
        while (levels > 0 && element.prop("tagName").toLowerCase() !== tagName.toLowerCase()) {
            element = element.parent();
            levels--;
        }
        return element;
    }

    $(document).on("click", ".slack-team-link-url", function (event) {
        event.preventDefault();

        var target = findTheRightElement($(event.target), "A");
        var teamId = target.data("team-id");

        if (isSlackNativeLinkEnabled()) {
            window.location = "slack://open?team=" + teamId;
        } else {
            getTeamUrl(teamId)
                .done(function(data) {
                    window.open(data.teamUrl, "slack");
                })
                .fail(function() {
                    window.location = "slack://open?team=" + teamId;
                });
        }

        sendAnalyticEvent();
    });

    $(document).on("click", ".slack-channel-link-url", function (event) {
        event.preventDefault();

        var target = findTheRightElement($(event.target), "A");
        var teamId = target.data("team-id");
        var channelId = target.data("channel-id");

        if (isSlackNativeLinkEnabled()) {
            window.location = "slack://channel?team=" + teamId + "&id=" + channelId;
        } else {
            window.open("https://slack.com/app_redirect?team=" + teamId + "&channel=" + channelId, "slack");
        }

        sendAnalyticEvent();
    });

    var openSlackUserUrl = function (event) {
        event.preventDefault();

        var target = findTheRightElement($(event.target), "A");
        var teamId = target.data("team-id");
        var userId = target.data("user-id");

        if (isSlackNativeLinkEnabled()) {
            window.location = "slack://user?team=" + teamId + "&id=" + userId;
        } else {
            window.open("https://slack.com/app_redirect?team=" + teamId + "&channel=" + userId, "slack");
        }

        sendAnalyticEvent();
    };
    $(document).on("click", ".slack-user-link-url", openSlackUserUrl);

    $(document).on("click", ".slack-message-link-url", function (event) {
        event.preventDefault();

        var target = findTheRightElement($(event.target), "A");
        var teamId = target.data("team-id");
        var channelId = target.data("channel-id");
        var messageTs = target.attr("data-message-ts");

        getMessageLink(teamId, channelId, messageTs)
            .done(function(data) {
                window.open(data.link, "slack");
            })
            .fail(function() {
                var jiraFlag = require('jira/flag');
                jiraFlag.showWarningMsg(
                    "Could not retrieve link to message",
                    "You may not have access to the message or it may have been deleted.");
            });

        sendAnalyticEvent();
    });

    // exports
    window.Slack = window.Slack || {};
    window.Slack.SlackLinks = window.Slack.SlackLinks || {};
    window.Slack.SlackLinks.openSlackUserUrl = openSlackUserUrl;

});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-slack-server-integration-plugin:slack-status-resources', location = 'js/confluence-slack-status.js' */
require([
    'jquery',
    'wrm/context-path'
], function (
    $,
    wrmContextPath
) {
    function handleAjaxComplete(event, jqXhr, settings) {
        if (/userinfopopup\.action/.test(settings.url)) {
            $('.vcard').each(function () {
                var $vcard = $(this);
                var username = $(".userLogoLink", $vcard).attr('data-username');
                if (username && !$vcard.hasClass('slack-status-applied')) {
                    $vcard.addClass('slack-status-applied');
                    addSlackLinkToCard($vcard, username);
                }
            });
        }
    }

    function addSlackLinkToCard($vcard, username) {
        $.getJSON(wrmContextPath() + '/rest/slack/latest/users/' + encodeURI(username), function (response) {
            if (!response) {
                return;
            }

            var $slackIcon;
            if (response.length === 1) {
                $slackIcon = $(Confluence.Templates.Slack.User.slackIcon({
                    slackUsers: response
                }));

                // When user link is in a inline popup (.ajs-content-hover class), clicks are not propagated
                // to our root document node listener due to a Confluence script, so delegating listener does not work
                // So here a click listener added directly to link node
                $slackIcon.click(handleSlackUserLinkClicked);
            } else if (response.length > 1) {
                $slackIcon = $(Confluence.Templates.Slack.User.slackIcon({
                    slackUsers: response
                }));
                $slackIcon.click(function(event) {
                    event.preventDefault();
                });

                var slackSectionMarkup = Confluence.Templates.Slack.User.teamLinks({
                    slackUsers: response
                });
                var $slackSection = $(slackSectionMarkup);
                var $popupMenu = $vcard.closest('.contents').find('#user-popup-menu-admin-secondary');
                $popupMenu.append($slackSection);
                $popupMenu.find('.slack-user-link-url').click(handleSlackUserLinkClicked);
            }
            $vcard.find('h4').append($slackIcon);
        });
    }

    function handleSlackUserLinkClicked(event) {
        // Manually opens DM
        window.Slack.SlackLinks.openSlackUserUrl(event);
        // prevent handling if delegating listener in case Confluence scripts will change in future
        event.stopPropagation();
    }

    $(function () {
        $('body').bind('ajaxComplete', handleAjaxComplete);
    });
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-slack-server-integration-plugin:slack-status-resources', location = 'templates/confluence-slack-user-link.soy' */
// This file was automatically generated from confluence-slack-user-link.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Slack.User.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Slack == 'undefined') { Confluence.Templates.Slack = {}; }
if (typeof Confluence.Templates.Slack.User == 'undefined') { Confluence.Templates.Slack.User = {}; }


Confluence.Templates.Slack.User.teamLinks = function(opt_data, opt_ignored) {
  var output = '<li class="slack-user-link-menu-header">' + soy.$$escapeHtml('Slack') + '</li>';
  var userList6 = opt_data.slackUsers;
  var userListLen6 = userList6.length;
  for (var userIndex6 = 0; userIndex6 < userListLen6; userIndex6++) {
    var userData6 = userList6[userIndex6];
    output += '<li><a href="#" class="slack-user-link-url" data-user-id="' + soy.$$escapeHtml(userData6.slackUserId) + '" data-team-id="' + soy.$$escapeHtml(userData6.teamId) + '">' + soy.$$escapeHtml(AJS.format('Contact on {0}',userData6.teamName)) + '</a></li>';
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Slack.User.teamLinks.soyTemplateName = 'Confluence.Templates.Slack.User.teamLinks';
}


Confluence.Templates.Slack.User.slackIcon = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.slackUsers.length == 0) {
  } else if (opt_data.slackUsers.length == 1) {
    var user__soy19 = opt_data.slackUsers[0];
    output += '<a href="#" class="slack-direct-chat slack-user-link-url" data-user-id="' + soy.$$escapeHtml(user__soy19.slackUserId) + '" data-team-id="' + soy.$$escapeHtml(user__soy19.teamId) + '" title="' + soy.$$escapeHtml(AJS.format('Open 1-1 chat on {0}',user__soy19.teamName)) + '"></a>';
  } else if (opt_data.slackUsers.length > 1) {
    output += '<a href="#" class="slack-direct-chat" title="' + soy.$$escapeHtml('Click More to send a message to this user in Slack') + '"></a>';
  }
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Slack.User.slackIcon.soyTemplateName = 'Confluence.Templates.Slack.User.slackIcon';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.mywork.mywork-confluence-host-plugin:mw-header-anchor', location = 'templates/anchor.soy' */
// This file was automatically generated from anchor.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace MyWork.Templates.Anchor.
 */

if (typeof MyWork == 'undefined') { var MyWork = {}; }
if (typeof MyWork.Templates == 'undefined') { MyWork.Templates = {}; }
if (typeof MyWork.Templates.Anchor == 'undefined') { MyWork.Templates.Anchor = {}; }


MyWork.Templates.Anchor.tasksFeatureDiscovery = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml('See the tasks assigned to you, or created by you, in the Tasks tab of your profile.') + '</p><ul class="mw-tasks-discovery-controls"><li><a id="mw-tasks-discovery-view" href="' + soy.$$escapeHtml(opt_data.tasksUrl) + '" class="aui-button aui-style"><p>' + soy.$$escapeHtml('View Tasks') + '</p></a></li><li><a id="mw-tasks-discovery-dismiss" href="#">' + soy.$$escapeHtml('Dismiss') + '</a></li></ul>';
};
if (goog.DEBUG) {
  MyWork.Templates.Anchor.tasksFeatureDiscovery.soyTemplateName = 'MyWork.Templates.Anchor.tasksFeatureDiscovery';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.mywork.mywork-confluence-host-plugin:mw-header-anchor', location = 'js/miniview-anchor.js' */
var MW=MW||{$:jQuery};MW.MV={};
AJS.toInit(function(){if(!AJS.Meta||AJS.Meta.get("remote-user")){MW.MV.AnchorManager=function(){function y(){MW.$(document).keydown(function(a){AJS.InlineDialog.current&&27==a.which&&!MW.$(a.target).is(":input")&&AJS.InlineDialog.current.hide()})}function z(){MW.$("#header-menu-bar").find(".ajs-drop-down").each(function(){this.hide()})}function t(a){return MW.$("body",a.document).find("a[href]:visible, button:not([disabled]), input, textarea, select, details,[tabindex]:not([tabindex\x3d'-1']):visible")}function A(a,
e){(new IntersectionObserver(function(f){f.forEach(function(n){0<n.intersectionRatio&&e()})})).observe(a)}function B(a,e){function f(b){if("escKey"===b.data)l();else if("getParentConfig"===b.data&&b.origin===location.protocol+"//"+location.host){b=JSON.stringify({parentConfig:{parentUrl:location.href,preload:MW.Dialog.preload,unread:p}});var c=MW.$("#"+a+"-miniview-iframe")[0].contentWindow;c.postMessage(b,"*");c.document.addEventListener("keydown",n(c));MW.Dialog.preload&&(MW.Dialog.preload=!1)}}
function n(b){return function(c){if("Tab"==c.key){var d=t(b),g=d[0],q=d[d.length-1];d.length?c.shiftKey&&b.document.activeElement===g?l():b.document.activeElement===q&&l():l()}}}function l(){MW.$("#notifications-anchor").focus();u.hide()}var u;window.addEventListener?window.addEventListener("message",f,!1):window.attachEvent("onmessage",f);MW.Dialog=AJS.InlineDialog(MW.$("#"+a+"-anchor"),a+"-miniview",function(b,c,d){0===MW.$(b).children().length?MW.$(b).append(MW.$('\x3ciframe id\x3d"'+a+'-miniview-iframe" src\x3d"'+
e+'" frameborder\x3d"0"\x3e\x3c/iframe\x3e')):(b=JSON.stringify({unread:p}),MW.$("#"+a+"-miniview-iframe")[0].contentWindow.postMessage(b,"*"));z();d()},{width:500,height:520,hideDelay:null,initCallback:function(){u=this;MW.$("#notifications-anchor").attr("aria-expanded","true");var b=MW.$("#"+a+"-miniview-iframe")[0].contentWindow;A(MW.$("#inline-dialog-notifications-miniview")[0],function(){var c=t(b)[0];c?c.focus():b.focus()})},hideCallback:function(){if(!0!==this.preload){var b=JSON.stringify({markAllRead:!0});
MW.$("#"+a+"-miniview-iframe")[0].contentWindow.postMessage(b,"*");MW.$("#notifications-anchor").attr("aria-expanded","false")}},noBind:!0});MW.Tasks=function(){var b,c=$("#user-menu-link"),d=$("#user-menu-link-content"),g=d.find("#view-mytasks-link"),q=function(h,k,r){k=MyWork.Templates.Anchor.tasksFeatureDiscovery({tasksUrl:AJS.contextPath()+"/plugins/inlinetasks/mytasks.action"});h.html(k);h.find("#mw-tasks-discovery-dismiss").click(function(){b.hide()});r()};return{closeAndDiscoverMyTasks:function(){MW.Dialog.hide();
d.is(":visible")||c.trigger("aui-button-invoke");var h=function(){b.hide()};d.one("aui-dropdown2-hide",h);b=AJS.InlineDialog(g,"my-tasks-discovery",q,{hideCallback:function(){b.unbind("click focusin mousedown",k);d.unbind("aui-dropdown2-hide",h);d.is(":visible")&&c.trigger("aui-button-invoke");MW.$("#inline-dialog-my-tasks-discovery").remove()},gravity:"w",useLiveEvents:!0,width:300,noBind:!0});d.find(".user-item.active").removeClass("active");g.addClass("active");g.focus();var k=function(r){r.stopPropagation()};
b.on("click focusin mousedown",k);b.show()}}}();MW.$("#"+a+"-anchor").click(function(b){b.preventDefault();MW.$("#"+a+"-miniview-iframe").is(":visible")?MW.Dialog.hide():MW.Dialog.show()});v&&MW.$("#"+a+"-anchor").click()}var w=contextPath+"/plugins/servlet/notifications-miniview",p=0,v=/[?&]show-miniview/.test(window.location.search),x=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?\\#\x26]"+a+"\x3d([^\x26#]*)")).exec(window.location.search);if(null!==a)return decodeURIComponent(a[1].replace(/\+/g,
" "))}("show-miniview");x&&(w+="#notification/"+x);var C=function(a){var e=!1,f;return function(){if(e)return f;e=!0;return f=a.apply(this,arguments)}}(function(){MW.Dialog.getOptions().closeOthers=!1;MW.Dialog.preload=!0;MW.Dialog.show();MW.Dialog.hide();MW.Dialog.getOptions().closeOthers=!0});return{setupAnchors:function(){MW.$("#notifications-anchor").html('\x3cdiv class\x3d"badge-i aui-icon aui-icon-small aui-iconfont-notification"\x3e\x3c/div\x3e\x3cspan class\x3d"badge-w"\x3e\x3cspan class\x3d"badge" aria-hidden\x3d"true"\x3e\x3c/span\x3e\x3c/span\x3e').attr({title:"Open Notifications",
role:"button","aria-label":"Notifications","aria-expanded":"false"});B("notifications",w);y()},updateNotificationCount:function(a){var e=MW.$("#notifications-anchor"),f=e.find(".badge");e.find(".aui-icon");f.html(9>=a?a:"9+");p=a;0<a?(e.addClass("unread").removeClass("read").attr("aria-label",AJS.format("Notifications: {0} new",a)),e.is(":visible")&&!v&&C()):e.addClass("read").removeClass("unread").attr("aria-label","Notifications")}}}();
MW.MV.AnchorManager.setupAnchors();var m=new MW.AnchorUtil(MW.$,contextPath,MW.MV.AnchorManager.updateNotificationCount);m.setupAnchors();MW.$("#notifications-anchor").click(function(){AJS.trigger("analytics",{name:"mywork.host.button.clicked.notifications",data:{}});MW.MV.AnchorManager.updateNotificationCount(0)});document.addEventListener("visibilitychange",function(){document.hidden?m.stopRequests(!0):m.startRequests()},!1);MW.$("body").click(function(){m.startRequests()})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.mywork.mywork-confluence-host-plugin:mw-header-anchor', location = 'js/util/anchor-util.js' */
MW.AnchorUtil=function(t,n,p){function e(){3E5>(new Date).getTime()-f&&a||l();f=(new Date).getTime()}function l(){a&&clearTimeout(a);a=setTimeout(function(){c()},m=q(m))}function q(b){return Math.min(3E5>(new Date).getTime()-f?d:1.25*b,g)}function c(b){MW.$.getJSON(r+(b?"?pageid\x3d"+b:""),function(h){var k=1E3*h.timeout;g=1E3*h.maxTimeout||g;k&&k!=d&&(d=k,e());p(h.count)});l()}var d=3E4,a,r=n+"/rest/mywork/latest/status/notification/count",f=(new Date).getTime(),g=3E5,m=0;return{setupAnchors:function(){AJS&&
AJS.Meta&&AJS.Meta.get&&("page"===AJS.Meta.get("content-type")||"blogpost"===AJS.Meta.get("content-type"))?c(AJS.Meta.get("page-id")):c();e()},startRequests:e,stopRequests:function(b){window.clearInterval(a);a=void 0;!0===b&&(d=3E4)},updateAnchors:c}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-search-ui-plugin:search-ui-client-templates', location = 'soy/search-ui-client-templates.soy' */
// This file was automatically generated from search-ui-client-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.SearchUI.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.SearchUI == 'undefined') { Confluence.Templates.SearchUI = {}; }


Confluence.Templates.SearchUI.helpUrl = function(opt_data, opt_ignored) {
  return '' + soy.$$escapeHtml("https:\/\/docs.atlassian.com\/confluence\/docs-716\/Search");
};
if (goog.DEBUG) {
  Confluence.Templates.SearchUI.helpUrl.soyTemplateName = 'Confluence.Templates.SearchUI.helpUrl';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-search-ui-plugin:confluence-search-ui-plugin-resources', location = '/js/confluence-search-ui-analytics-support.js' */
'use strict';

/**
 * Utility functions for publishing new search ui analytics
 * @module confluence/searchui/analytics-support
 */
define('confluence/search-ui/analytics-support', ['window', 'document', 'confluence/api/event', 'confluence/api/url'], function (window, document, eventApi, url) {
    "use strict";

    var SEARCH_UI_LEAVE_CONTENT_FROM_SEARCH_RESULT = 'confluence-search-ui-leave-content-from-new-search';
    var SEARCH_UI_EDIT_CONTENT_FROM_SEARCH_RESULT = 'confluence-search-ui-edit-content-from-new-search';
    /**
     * trigger analytic
     * @since 6.13.0
     * @public
     * @param name the analytic name
     * @param data the analytic data
     */
    function triggerAnalytic(name, data) {
        data = data || {};
        eventApi.trigger('analytics', { name: name, data: data });
    }

    /**
     * @param urlString
     * @returns {*} return array of searchId
     */
    function extractAnalyticsData(urlString) {
        var params = url.parse(urlString).queryParams;
        return params && params.searchId ? params.searchId : [];
    }

    /**
     * trigger period analytic event when beforeunload event happen
     * @param searchId searchId
     * @param period the period in millisecond
     */
    function triggerPeriodEventViewContentFromSearch(searchId, period) {
        triggerAnalytic(SEARCH_UI_LEAVE_CONTENT_FROM_SEARCH_RESULT, { searchId: searchId, period: period });
    }

    /**
     * trigger period analytic event when enter editor init.rte
     * @param searchId searchId
     * @param period the period in millisecond
     */
    function triggerPeriodEvenEditContentFromSearch(searchId, period) {
        triggerAnalytic(SEARCH_UI_EDIT_CONTENT_FROM_SEARCH_RESULT, { searchId: searchId, period: period });
    }

    /**
     * Remove
     * @param urlString
     * @returns {*}
     */
    function removeSearchIdUrl(urlString) {
        var parsedUrl = url.parse(urlString);
        delete parsedUrl.queryParams.searchId;
        return url.format(parsedUrl);
    }

    /**
     * Clean analytic parameter
     */
    function replaceStateAfterCleaningUpAnalyticsParameters() {
        var cleanUrl = removeSearchIdUrl(document.URL);
        if (document.URL !== cleanUrl) {
            window.history.replaceState(null, '', cleanUrl);
        }
    }

    /**
     * Init analytic for period
     * @since 6.13
     * @public
     */
    function initAnalytic() {
        var analyticsData = extractAnalyticsData(document.URL);
        var searchId = analyticsData[0];
        if (!searchId) {
            return;
        }

        var currentDate = new Date();
        window.addEventListener('beforeunload', function () {
            var currentTriggerTime = new Date();
            var period = currentTriggerTime.getTime() - currentDate.getTime();
            triggerPeriodEventViewContentFromSearch(searchId, period);
        });
        eventApi.bind('init.rte', function () {
            var currentTriggerTime = new Date();
            var period = currentTriggerTime.getTime() - currentDate.getTime();
            triggerPeriodEvenEditContentFromSearch(searchId, period);
        });
        // Check if browser supports HTML5 replaceState()
        if (window.history && window.history.replaceState) {
            replaceStateAfterCleaningUpAnalyticsParameters();
        }
    }

    return {
        init: initAnalytic
    };
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-search-ui-plugin:confluence-search-ui-plugin-resources', location = '/js/confluence-search-ui-plugin.js' */
require(['ajs', 'wrm', 'document', 'confluence/api/logger', 'confluence/meta', 'confluence/api/constants', 'confluence/search-ui/analytics-support'],
    function (ajs, wrm, document, logger, meta, constants, analyticsSupport) {
        const eventsTriggeringPluginLazyLoad = ['keydown', 'input', 'click'];
        const eventsTriggeringForQuickSearchEnabled = ['click', 'focusout', 'focus'];
        var searchUI;
        var searchInput;
        var searchInputButton;
        var spinner;
        var tooltip;
        var isTooltipShown = false;
        var isLoading = false;

        function toggleIcon() {
            searchUI.classList.toggle("hide-icon");
        }

        function startLoading() {
            isLoading = true;
            toggleIcon();
            spinner.style.display = 'block';
        }

        function stopLoading() {
            isLoading = false;
            toggleIcon();
            spinner.style.display = 'none';
        }

        function unregisterHandlers() {
            eventsTriggeringPluginLazyLoad.forEach(function (event) {
                searchInput.removeEventListener(event, lazyLoadManager);
            });
            searchInputButton.removeEventListener('click', lazyLoadManagerForIcon);
            searchInputButton.removeEventListener('keydown', lazyLoadManagerForIcon);
        }

        // TODO: would be great remove those events too
        function unregisterHandlersForQuickEnabledScope() {
            eventsTriggeringForQuickSearchEnabled.forEach(function (event) {
                searchInput.removeEventListener(event, handleClickAndFocusEvent);
                searchInputButton.removeEventListener(event, handleClickAndFocusEvent);
            });
        }

        function showTooltip() {
            if (!isTooltipShown) {
                tooltip.style.display = 'block';
                isTooltipShown = true;
            }
        }

        function hideTooltip() {
            if (isTooltipShown) {
                tooltip.style.display = 'none';
                isTooltipShown = false;
            }
        }

        function handleClickAndFocusEvent(event) {
            if (event && event.type ==='focusout') {
                hideTooltip()
                return;
            }

            showTooltip();
            event.stopPropagation();
        }

        function handleInputEvent(event) {
            if (event.target.value) {
                showTooltip();
            } else {
                hideTooltip();
            }
        }

        function handleKeyDownEvent(event) {
            const ENTER_KEY_CODE = 13;
            if (event.keyCode === ENTER_KEY_CODE) {
                const searchTerm = event.target.value;
                const cql = searchTerm ? '?cql=&queryString=' + encodeURIComponent(searchTerm) : '';
                window.location.href = constants.CONTEXT_PATH + '/dosearchsite.action' + cql;
            }
        }

        function handleDocumentClick(event) {
            if (searchUI.contains(event.target)) {
                showTooltip();
            } else {
                hideTooltip();
            }
        }

        function lazyLoadManager(event) {
            if (!event) return;
            if(event.type === 'keydown' && event.keyCode !== 13) return;
            lazyLoad();
        }

        function lazyLoadManagerForIcon(event) {
            if (!event) return;
            if (event.type === 'keydown'
            && event.keyCode !== 13
            && event.keyCode !== 32) return;
            lazyLoad();
        }

        function lazyLoad() {
            if (isLoading) return;

            startLoading();
            wrm
                .require(['wrc!confluence-search-ui-plugin-main'])
                .done(function () {
                    require(['confluence-search-ui-plugin-main'], function (SearchUI) {
                        SearchUI.default.init();
                        unregisterHandlers();
                        stopLoading();
                    });
                })
                .fail(function () {
                    stopLoading();
                    logger.error('fail to load confluence-search-ui-plugin-main');
                });
        }

        ajs.toInit(function () {
            searchUI = document.getElementById('search-ui');
            // login screen doesn't have navigation search
            if (!searchUI) {
                logger.log('no search-ui element found');
                return;
            }

            analyticsSupport.init();
            searchInput = searchUI.querySelector('#quick-search-query');
            searchInputButton = searchUI.querySelector('#quick-search-query-button');
            spinner = searchUI.querySelector('aui-spinner');
            tooltip = searchUI.querySelector('[role=alert]');

            if (!meta.get('global-settings-quick-search-enabled')) {
                searchInputButton.addEventListener('keydown', handleKeyDownEvent);
                searchInput.addEventListener('keydown', handleKeyDownEvent);
                searchInput.addEventListener('input', handleInputEvent);

                eventsTriggeringForQuickSearchEnabled.forEach(function (event) {
                    searchInputButton.addEventListener(event, handleClickAndFocusEvent);
                    searchInput.addEventListener(event, handleClickAndFocusEvent);
                });

                document.addEventListener('click', handleDocumentClick);
            } else {
                eventsTriggeringPluginLazyLoad.forEach(function (event) {
                    searchInput.addEventListener(event, lazyLoadManager);
                });
                searchInputButton.addEventListener('click', lazyLoadManagerForIcon);
                searchInputButton.addEventListener('keydown', lazyLoadManagerForIcon);
            }
        });
    });

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.dialog-wizard:dialog-wizard-resources', location = '/soy/dialog-wizard.soy' */
// This file was automatically generated from dialog-wizard.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.DialogWizard.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.DialogWizard == 'undefined') { Confluence.Templates.DialogWizard = {}; }


Confluence.Templates.DialogWizard.pageContainer = function(opt_data, opt_ignored) {
  return '<div class="dialog-wizard-page-wrapper"><div class="dialog-wizard-page-main"></div><div class="dialog-wizard-page-description">' + ((opt_data.descriptionHeaderLink && opt_data.descriptionHeader) ? '<h3><a href=\'' + soy.$$escapeHtml(opt_data.descriptionHeaderLink) + '\' target=\'_blank\'>' + soy.$$escapeHtml(opt_data.descriptionHeader) + '</a></h3>' : (opt_data.descriptionHeader) ? '<h3>' + soy.$$escapeHtml(opt_data.descriptionHeader) + '</h3>' : '') + '<p>' + soy.$$escapeHtml(opt_data.descriptionContent) + '</p></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.DialogWizard.pageContainer.soyTemplateName = 'Confluence.Templates.DialogWizard.pageContainer';
}


Confluence.Templates.DialogWizard.waitIcon = function(opt_data, opt_ignored) {
  return '<img class="wait-icon" src="' + soy.$$escapeHtml("/confluence") + '/images/icons/wait.gif">';
};
if (goog.DEBUG) {
  Confluence.Templates.DialogWizard.waitIcon.soyTemplateName = 'Confluence.Templates.DialogWizard.waitIcon';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.dialog-wizard:dialog-wizard-resources', location = '/js/dialog-wizard.js' */
(function($){var FormStateControl=require("confluence/form-state-control");function findNextPageId(pageId,pages){var thisPageIdIndex=-1;_.each(pages,function(element,index){if(element.id==pageId){thisPageIdIndex=index;return}});return pages[thisPageIdIndex+1].id}Confluence.DialogWizard=function(dialog,finalAction){function newPage(config,pageId,soyRenderContext,wizardData,wizard){var wizardPage=_.find(config.wizard.pages,function(page){return page.id==pageId});wizard.trigger("pre-render."+pageId,{soyRenderContext:soyRenderContext,wizardData:wizardData});try{var soyTemplateFunction=eval(wizardPage.templateKey);var $soyRender=$(soyTemplateFunction(soyRenderContext))}catch(e){throw Error("wizard points to a non-existent Soy template '"+wizardPage.templateKey+"'. Check your web-resources or server logs.")}$soyRender.find("a, area, button, input, object, select, textarea").attr("tabindex","10");var $panelContent;if(wizardPage.descriptionContent){$panelContent=$(Confluence.Templates.DialogWizard.pageContainer({descriptionHeaderLink:wizardPage.descriptionHeaderLink,descriptionHeader:wizardPage.descriptionHeader,descriptionContent:wizardPage.descriptionContent}));$panelContent.addClass("with-description").find(".dialog-wizard-page-main").append($soyRender)}else{$panelContent=$soyRender}var dialogPageId=pageId;if(dialog.id=="create-dialog"){dialogPageId="create-dialog-"+pageId}var page=dialog.addPage(dialogPageId).page[dialog.curpage];page.addHeader(wizardPage.title).addPanel("SinglePanel",$panelContent,"singlePanel");page.element.find("form").submit(function(){return false});if(wizardPage.descriptionContent){page.element.find(".dialog-panel-body").css({padding:0})}Confluence.Binder.autocompleteMultiUser($soyRender);Confluence.Binder.placeholder($soyRender);function nextCallback(ev){$soyRender.find(".placeholded").val("");var pageData={};var formArray=$soyRender.parent().find("form").serializeArray();_.each(formArray,function(item){pageData[item.name]=item.value});var e=$.Event("submit."+pageId);var state={$container:$soyRender,wizardData:wizardData,pageData:pageData};var validationDeferred=$.Deferred();validationDeferred.done(function(){wizardData.pages[pageId]=pageData;var nextPageId;if(state.nextPageId){nextPageId=state.nextPageId}else{nextPageId=!wizardPage.last&&findNextPageId(pageId,config.wizard.pages)}if(!state.nextPageId&&wizardPage.last){doFinalAction(ev,state,wizardData,finalAction,wizard);FormStateControl.disableElement(dialog.popup.element.find(":input,a").filter(":visible"));buttons.prepend(Confluence.Templates.DialogWizard.waitIcon())}else{newPage(config,nextPageId,soyRenderContext,wizardData,wizard)}});validationDeferred.fail(function(){AJS.log("dialog aborted by on-submit callback on page: "+pageId)});state.validationDeferred=validationDeferred;wizard.trigger(e,state);if(state.async){return}if(e.isDefaultPrevented()){validationDeferred.reject();return}validationDeferred.resolve()}var buttons=dialog.addFullButtonPanel(page,nextCallback,null,wizardPage.last);buttons.find(".button-panel-back").click(function(){delete wizardData.pages[pageId]});buttons.find(".aui-button-primary").attr("tabindex","10");$soyRender.find("input, select, textarea").eq(0).focus();wizard.trigger("post-render."+pageId,{$container:$soyRender,wizardData:wizardData})}function doFinalAction(ev,state,wizardData,finalAction,wizard){if(state.finalUrl){if(ev.type==="click"&&ev.which===2){var windowOpened=window.open(state.finalUrl);windowOpened.opener=null}else{window.location=state.finalUrl}}else{_.each(wizardData.pages,function(pageData){_.extend(wizardData,pageData)});delete wizardData.pages;finalAction(ev,wizardData,null,wizard)}return{success:function(callback){callback()}}}return{newPage:newPage,doFinalAction:doFinalAction}}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-business-blueprints:common-template-resources', location = 'com/atlassian/confluence/plugins/blueprint/common/soy/common-templates.soy' */
// This file was automatically generated from common-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Blueprints.Common.Index.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Blueprints == 'undefined') { Confluence.Blueprints = {}; }
if (typeof Confluence.Blueprints.Common == 'undefined') { Confluence.Blueprints.Common = {}; }
if (typeof Confluence.Blueprints.Common.Index == 'undefined') { Confluence.Blueprints.Common.Index = {}; }


Confluence.Blueprints.Common.Index.detailsSummaryMacro = function(opt_data, opt_ignored) {
  return '<ac:macro ac:name="detailssummary"><ac:parameter ac:name="label">' + soy.$$escapeHtml(opt_data.label) + '</ac:parameter><ac:parameter ac:name="spaces">' + soy.$$escapeHtml(opt_data.spaces) + '</ac:parameter><ac:parameter ac:name="firstcolumn">' + soy.$$escapeHtml(opt_data.firstcolumn) + '</ac:parameter><ac:parameter ac:name="headings">' + soy.$$escapeHtml(opt_data.headings) + '</ac:parameter><ac:parameter ac:name="blankTitle">' + soy.$$escapeHtml(opt_data.blankTitle) + '</ac:parameter><ac:parameter ac:name="blankDescription">' + soy.$$escapeHtml(opt_data.blankDescription) + '</ac:parameter><ac:parameter ac:name="contentBlueprintId">' + soy.$$escapeHtml(opt_data.contentBlueprintId) + '</ac:parameter><ac:parameter ac:name="blueprintModuleCompleteKey">' + soy.$$escapeHtml(opt_data.blueprintModuleCompleteKey) + '</ac:parameter><ac:parameter ac:name="createButtonLabel">' + soy.$$escapeHtml(opt_data.createButtonLabel) + '</ac:parameter></ac:macro>';
};
if (goog.DEBUG) {
  Confluence.Blueprints.Common.Index.detailsSummaryMacro.soyTemplateName = 'Confluence.Blueprints.Common.Index.detailsSummaryMacro';
}


Confluence.Blueprints.Common.Index.createFromTemplateMacro = function(opt_data, opt_ignored) {
  return '<ac:macro ac:name="create-from-template"><ac:parameter ac:name="blueprintModuleCompleteKey">' + soy.$$escapeHtml(opt_data.moduleKey) + '</ac:parameter><ac:parameter ac:name="buttonLabel">' + soy.$$escapeHtml(opt_data.buttonLabel) + '</ac:parameter><ac:parameter ac:name="spaceKey">' + soy.$$escapeHtml(opt_data.spaceKey) + '</ac:parameter><ac:parameter ac:name="templateName">' + soy.$$escapeHtml(opt_data.templateName) + '</ac:parameter></ac:macro>';
};
if (goog.DEBUG) {
  Confluence.Blueprints.Common.Index.createFromTemplateMacro.soyTemplateName = 'Confluence.Blueprints.Common.Index.createFromTemplateMacro';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-business-blueprints:meeting-notes-resources', location = 'com/atlassian/confluence/plugins/meetingnotes/soy/how-to.soy' */
// This file was automatically generated from how-to.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Blueprints.Meeting.Notes.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Blueprints == 'undefined') { Confluence.Blueprints = {}; }
if (typeof Confluence.Blueprints.Meeting == 'undefined') { Confluence.Blueprints.Meeting = {}; }
if (typeof Confluence.Blueprints.Meeting.Notes == 'undefined') { Confluence.Blueprints.Meeting.Notes = {}; }


Confluence.Blueprints.Meeting.Notes.howTo = function(opt_data, opt_ignored) {
  return '<h1>' + soy.$$escapeHtml('With meeting notes you can...') + '</h1><ol class="howto-steps"><li class="howto-step"><div><h3>' + soy.$$escapeHtml('Crowd-source your agenda') + '</h3><p>' + soy.$$escapeHtml('Distribute an agenda and keep meetings focused.') + '</p></div></li><li class="howto-step"><div><h3>' + soy.$$escapeHtml('Capture meeting minutes') + '</h3><p>' + soy.$$escapeHtml('Take notes and make them available to everyone.') + '</p></div></li><li class="howto-step"><div><h3>' + soy.$$escapeHtml('Create and assign tasks') + '</h3><p>' + soy.$$escapeHtml('Assign action items for attendees to work on afterward.') + '</p></div></li></ol>';
};
if (goog.DEBUG) {
  Confluence.Blueprints.Meeting.Notes.howTo.soyTemplateName = 'Confluence.Blueprints.Meeting.Notes.howTo';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-business-blueprints:meeting-notes-resources', location = 'com/atlassian/confluence/plugins/meetingnotes/soy/user-mention.soy' */
// This file was automatically generated from user-mention.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Meeting.Notes.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Meeting == 'undefined') { Confluence.Templates.Meeting = {}; }
if (typeof Confluence.Templates.Meeting.Notes == 'undefined') { Confluence.Templates.Meeting.Notes = {}; }


Confluence.Templates.Meeting.Notes.userMention = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.userkey) ? '<li><p><ac:link><ri:user ri:userkey="' + soy.$$escapeHtml(opt_data.userkey) + '" /></ac:link></p></li><li><p><ac:placeholder ac:type="mention">' + soy.$$escapeHtml('@mention a person to add them as an attendee and they will be notified.') + '</ac:placeholder></p></li>' : '<li><p><ac:placeholder ac:type="mention">' + soy.$$escapeHtml('@mention a person to add them as an attendee and they will be notified.') + '</ac:placeholder></p></li>');
};
if (goog.DEBUG) {
  Confluence.Templates.Meeting.Notes.userMention.soyTemplateName = 'Confluence.Templates.Meeting.Notes.userMention';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.elitesoftsp.confluence.tiny.question.answer.plugins:tnqa-question-answer-blueprint-resources', location = 'js/tnqa-question-blueprint.js' */
(function(a){a(function(){function b(){var c="com.elitesoftsp.confluence.tiny.question.answer.plugins:tnqa-question-answer-blueprint-webitem";Confluence.Blueprint.setDirectCallback(c,function(f,d){d.finalUrl=Confluence.getContextPath()+"/display/"+d.spaceKey+"/qa/questions/ask"})}b()})}(AJS.$));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-confluence:atst-common', location = 'js/ajs-amd.js' */
define('troubleshooting/ajs', [], function () {
    'use strict';

    return AJS;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-confluence:atst-healthcheck-sensors', location = 'js/sensors.js' */
require([
    'troubleshooting/sensors/page-protocols',
    'troubleshooting/ajs'
], function(
    protocolSensor,
    AJS
) {
    var sensors = [protocolSensor];

    AJS.toInit(function() {

        function hash(str) {
            var hash = 0;
            for (var i = 0; i < str.length; ++i) {
                hash = 31 * hash + str.charCodeAt(i);
                hash |= 0; // this reduces the number to 32bits and prevents Infinity
            }
            return hash;
        }

        //this handles cases when the user disabled access to local storage
        var localStorageWrapper = {
            getWithDefaultOnError: function(sensorName, defaultValue) {
                try {
                    return window.localStorage.getItem(sensorName) || "0";
                } catch (e) {
                    return defaultValue;
                }
            },
            setItemQuietly: function (key, value) {
                try {
                    window.localStorage.setItem(key, value);
                } catch (ignored) {
                }
            }
        };

        // Iterate through each sensor and ingest any data it has for us...
        // but only if it's actually working properly in this client.
        sensors.forEach(function(sensor) {
            if (!sensor.isWorking()) {
                return
            }

            var sensorData = {};
            var newData = sensor.getData();
            for (var key in newData) {
                if (newData.hasOwnProperty(key)) {
                    sensorData[key] = newData[key];
                }
            }

            var sensorName = 'atst.healthcheck.sensors.' + sensor.getName();
            var currentHash = hash(JSON.stringify(sensorData)).toString(36);
            var previousHash = localStorageWrapper.getWithDefaultOnError(sensorName, currentHash);
            if (previousHash===currentHash && Math.random()>0.01) {
                return;
            }
            // What's one more analytics event to the world? A drop in the data ocean.
            AJS.trigger('analytics', {
                name: sensorName,
                data: sensorData
            });
            localStorageWrapper.setItemQuietly(sensorName, currentHash);
        });

    });
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-confluence:atst-healthcheck-sensors', location = 'js/sensors/page-protocols.js' */
define('troubleshooting/sensors/page-protocols', ['troubleshooting/ajs'], function(AJS) {
    var baseUrl = AJS.contextPath();
    var hasPerfData = window.performance && typeof window.performance.getEntriesByType === 'function';

    // WARNING: This is a rough assumption based on how the WRM works.
    // Consuming this from the WRM would be a better option, but meh.
    // See: https://bitbucket.org/atlassian/atlassian-plugins-webresource/src/master/atlassian-plugins-webresource/src/main/java/com/atlassian/plugin/webresource/WebResourceUrlProviderImpl.java
    // See also: https://stash.atlassian.com/projects/CP/repos/static-assets-url/browse/src/main/resources/ui/health-checks/health-checks.js
    var WRM_STATIC_ASSET_REGEX = new RegExp(baseUrl + '/s/.+?/_/');

    function isStaticResource(resource) {
        return WRM_STATIC_ASSET_REGEX.test(resource.name);
    }

    function getNextHopData(resource) {
        return (resource && resource.nextHopProtocol) || 'unknown';
    }

    function unique(elem, pos, arr) {
        return arr.indexOf(elem) === pos;
    }

    return {
        isWorking: function() {
            return hasPerfData;
        },
        getName: function() {
          return 'page-protocols';
        },
        getData: function() {
            var resources = window.performance.getEntriesByType('resource');
            var navigation = window.performance.getEntriesByType('navigation');
            var resourceProtocols = resources
                .filter(isStaticResource)
                .map(getNextHopData)
                .filter(unique)
                .sort();
            if (!resourceProtocols.length) {
                resourceProtocols.push('unknown');
            }
            return {
                resourceProtocols: resourceProtocols,
                navigationProtocol: getNextHopData(navigation[0]),
                userAgent: navigator.getUserAgent && "use-js-client-hints" || navigator.userAgent
            };
        }
    }
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:custom-protocol-launcher', location = '/includes/js/custom-protocol-launcher.js' */
define("confluence/custom-protocol-launcher",["document","confluence/api/logger"],function(b,c){return{openUri:function(d){var e=b.body,a;a=b.querySelector("#confluence_hiddenIframe");a||(a=b.createElement("iframe"),a.src="about:blank",a.id="confluence_hiddenIframe",a.style.display="none",e.appendChild(a));try{a.contentWindow.location.href=d}catch(f){c.log("Error while try to open URI"+f)}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-page-hierarchy-plugin:confluence-copy-page-hierarchy-plugin-loader', location = 'js/loader.js' */
/**
 * Async resources loader for copy-page-hierarchy resources.
 */
require([
    'ajs',
    'wrm',
    'confluence/legacy'
], function (AJS, WRM, Confluence) {
    var COPY_CONTEXT = 'confluence-copy-page-hierarchy';
    var DELETE_CONTEXT = 'confluence-delete-page-hierarchy';
    var PAGE_HIERARCHY_NAMESPACE = 'confluencePageHierarchy';

    AJS.toInit(function ($) {
        var $toolsCopyLink = $('#action-copy-page-link');
        var $operationsCopyLink = $('#copyPageLink');
        var $toolsDeleteLink = $('#action-remove-content-link');

        _loadResourcesAsync($toolsCopyLink, COPY_CONTEXT);
        _loadResourcesAsync($operationsCopyLink, COPY_CONTEXT);
        _loadResourcesAsync($toolsDeleteLink, DELETE_CONTEXT);
        _checkInProgressDeleteFlow($toolsDeleteLink);
    });

    /**
     * Loads the require resources for either copy or delete
     * @param {jQuery} $button The button that loads the resources
     * @param {string} context The WRM resource context to load
     * @returns {undefined}
     * @private
     */
    function _loadResourcesAsync($button, context) {
        if ($button.length) {
            $button.off('click.' + PAGE_HIERARCHY_NAMESPACE);
            $button.one('click.' + PAGE_HIERARCHY_NAMESPACE, function (e) {
                e.preventDefault();
                _loadResources($button, context);
            });
        }
    }

    /**
     * Function handler to run when the delete or copy button is clicked
     * @param {jQuery} $button The button that loads the resources
     * @param {string} context The WRM resource context to load
     * @returns {Promise|{then:Function}} a then-able object which will be called once resources load
     * @private
     */
    function _loadResources($button, context) {
        var loadingIndicator = Confluence.PageLoadingIndicator($('body'));
        loadingIndicator.show();
        $button.off('click.' + PAGE_HIERARCHY_NAMESPACE);

        AJS.debug('Loading ' + context + ' resources...');
        return WRM.require(['wrc!' + context], function () {
            loadingIndicator.hide();
            $button.addClass(PAGE_HIERARCHY_NAMESPACE);
            AJS.debug('Loaded ' + context + ' resources.');
        });
    }

    /**
     * Checks to see if there is a flow in progress based on url parameters
     * and loads the resources if the flow is in progress.
     * @param {jQuery} $toolsDeleteLink The Delete button, if present
     * @returns {undefined}
     * @private
     */
    function _checkInProgressDeleteFlow($toolsDeleteLink) {
        var hash = window.location.hash;
        if (hash.indexOf('delete-complete') === 1) {
            _loadResources($toolsDeleteLink, DELETE_CONTEXT).then(function() {
                // Webdriver test code expects the `.confluencePageHierarchy` class to indicate
                // all code has lazy-loaded.
                $("#content").addClass(PAGE_HIERARCHY_NAMESPACE);
            });
        }
    }
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:jirachart-resources', location = '/jirachart/jirachart.js' */
AJS.toInit(function(){var c=require("confluence/form-state-control");AJS.$(".jira-chart-macro-img").load(function(a){AJS.log("Jira Chart Macro - chart image loaded");c.enableElement(AJS.$(".insert-jira-chart-macro-button",window.parent.document))}).error(function(a){AJS.log("Jira Chart Macro - chart image loaded error");c.disableElement(AJS.$(".insert-jira-chart-macro-button",window.parent.document));var b=AJS.$(a.target).parent();a=b.parent();b.remove();b="Unable to render Jira chart macro due to an execution error.";
AJS.messages.error(a,{body:b})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:jirachart-resources', location = '/jirachart/twodimensionalchart-showlink.js' */
var TwoDimensionalShowLink=function(a){var g=function(b){var d=a("#two-dimensional-chart-"+b),c=d.position();a("\x3cdiv /\x3e",{id:"twodimensional-dark-layout-"+b,"class":"jim-sortable-dark-layout",css:{top:c.top+"px",left:c.left+"px",width:d.width()+"px",height:d.height()+"px"}}).appendTo(d.parent())},e=function(b){a("#twodimensional-dark-layout-"+b).remove()},k=function(){var b=a(this).attr("data-chart-id");g(b);var d={pageId:a("#chart-page-id-"+b).val(),wikiMarkup:a("#chart-wiki-"+b).val(),isShowMore:a(this).attr("data-is-show-more")};
AJS.$.ajax({type:"POST",dataType:"html",url:Confluence.getContextPath()+"/plugins/servlet/twoDimensionalShowMoreRenderer",data:d,success:function(c){if(a(c).find(".aui-message.error,.aui-message.aui-message-error").length)c=a(c).find(".message").text(),a("#two-dimensional-chart-"+b).find(".show-error").html(c);else{var h=a(c).find(".show-link-container a").attr("data-chart-id");a("#two-dimensional-chart-"+b).replaceWith(c);f(h)}e(b)},error:function(){a("#two-dimensional-chart-"+b).find(".show-error").html("Unable to render Jira chart macro. Execution has timed out.");
e(b)}})},f=function(b){a("#show-link-"+b).on("click",k)};return{init:function(){a(".show-link-container a").each(function(){f(a(this).attr("data-chart-id"))})}}}(AJS.$);AJS.$(function(){TwoDimensionalShowLink.init()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:synchrony-util', location = '/js/synchrony-util.js' */
define("confluence-collaborative-editor-plugin/synchrony-util",["ajs","jquery","underscore","confluence/meta","confluence/legacy"],function(d,f,t,g,e){function h(a){var b=g.get(a);void 0===b&&(b=f('meta[name\x3d"ajs-'+a+'"]').attr("content"),void 0!==b?g.set(a,b):(console.error("Missing '"+a+"' metadata value"),n()&&d.trigger("editor.error.message",{messageKey:"collaborative-editor-load-failure",message:d.I18n.getText("editor.collaborative-editing.refresh-editor.error"),close:"manual"})));return b}
function p(){return h("synchrony-base-url").split(",")}function l(a,b,c){if(0===c.length||0===b.length)a.reject();else{var m=c[0];f.ajax({url:m+"/heartbeat",cache:!1}).done(function(q,r,u){200===u.status?(k=m,q=0<c.slice(1).length?"primary":"secondary",r=0<k.indexOf("synchrony-proxy")?"synchrony-proxy":"synchrony-direct",g.set("synchrony-connection-order",q),g.set("synchrony-connection-type",r),f.when.apply(this,b.map(function(v){return f.ajax({url:m+"/resources"+v,dataType:"script",cache:!0,error:function(y,
w,x){d.error("synchrony-util.loadScriptForUrls has failed with error status "+w,x)}})})).then(function(){a.resolve()},function(){d.error("synchrony-util.loadScriptForUrls has failed for URLs "+JSON.stringify(b));a.fail()})):l(a,b,c.slice(1))}).fail(function(){l(a,b,c.slice(1))})}}function n(){return d.Rte.getEditor()&&d.Rte.getEditor().initialized}var k;return{retrieveMetadata:h,getEntityId:function(){return"/"+h("synchrony-app-id")+"/confluence-"+e.getContentId()},synchronyReady:function(){return"0"!==
e.getContentId()},getServiceUrl:function(){return(k?k:p()[0])+"/v1"},getXhrFallbackFlag:function(){return h("use-xhr-fallback")},getLatestRevisionWithAttr:function(a,b){return t.last(a.filter(function(c){return c.meta&&c.meta[b]}))},hasRevisionType:function(a,b){return a.some(function(c){return c.meta&&c.meta.type===b})},hasRevisionTrigger:function(a,b){return a.some(function(c){return c.meta&&c.meta.trigger===b})},asArray:function(){return Array.prototype.slice.call(arguments)},time:function(a){e.debugTime&&
e.debugTime(a)},timeEnd:function(a){e.debugTimeEnd&&e.debugTimeEnd(a)},loadScript:function(a){var b=f.Deferred(),c=p();l(b,a,c);return b.promise()},isEditorInitialised:n}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:synchrony-content', location = '/js/synchrony-content.js' */
define("confluence-collaborative-editor-plugin/synchrony-content","jquery underscore ajs confluence/meta confluence/legacy confluence-collaborative-editor-plugin/synchrony-util".split(" "),function(d,h,f,n,p,k){var e;return{getContent:function(a){if("limited"===a.syncRevSource)return{error:"limited-mode"};var b=a.title,c=a.editorContent;var l="\x3cbody data-title\x3d'"+h.escape(b)+"'\x3e"+c+"\x3c/body\x3e";var m=!!d("\x3cdiv\x3e"+c+"\x3c/div\x3e").find(".fatal-render-error").length,g=a.syncRev;return{title:b,
raw:c,html:l,error:m,confRev:a.confRev,syncRev:"dummy-sync-rev"===g?null:g,syncRevSource:a.syncRevSource}},isUnpublished:function(){return k.retrieveMetadata("new-page")},fixTinymceCaretContainer:function(a,b){var c;!(c=!a.childNodes.length)&&(c=1===a.childNodes.length)&&(c=a.firstChild&&a.firstChild.classList&&a.firstChild.classList.contains("synchrony-container")&&/^\s*$/.test(a.firstChild.textContent));c&&b.setContent("")},writeTitleToRootElement:function(){var a=d("#content-title").val();if(a!==
e){var b=frames.wysiwygTextarea_ifr;(void 0!==b.contentDocument?b.contentDocument:b.document).body.setAttribute("data-title",a);e=a}},readTitleFromRootElement:function(a){a.hasAttribute("data-title")&&(a=a.getAttribute("data-title"),a!==e&&(d("#content-title").val(a),e=a))},bindPostPasteFix:function(){d(document).bind("prePaste",function(){f.trigger("synchrony.stop",{id:"confluence.postpaste-fix"})}).bind("postPaste",function(){setTimeout(function(){f.trigger("synchrony.start",{id:"confluence.postpaste-fix"})},
0)})},isContentEmpty:function(a){return/^\s+$/.test(a)||0===d(d.parseHTML?d.parseHTML(a):a).text().trim().length}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.watch-button:watch-resources', location = 'js/watch-model.js' */
define("confluence-watch-button/watch-model",["ajs","backbone"],function(c,e){return e.Model.extend({saveSettings:function(b,a,f){this.trigger("request");var d=this;return c.safe.ajax({url:b,type:a?"POST":"DELETE",contentType:"application/json",dataType:"json",data:{}}).done(function(){d.set(f,a);d.trigger("sync",d)}).fail(function(){d.trigger("error")})},saveWatchPage:function(b){var a=c.contextPath()+"/rest/api/user/watch/content/"+this.get("pageId");return this.saveSettings(a,b,"watchingPage")},
saveWatchBlogs:function(b){var a=c.contextPath()+"/rest/api/user/watch/space/"+this.get("spaceKey")+"?contentType\x3dblogpost";return this.saveSettings(a,b,"watchingBlogs")},saveWatchSpace:function(b){var a=c.contextPath()+"/rest/api/user/watch/space/"+this.get("spaceKey");return this.saveSettings(a,b,"watchingSpace")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.watch-button:watch-resources', location = 'js/watch-view.js' */
define("confluence-watch-button/watch-view",["jquery","ajs","underscore","backbone","confluence/flag"],function(e,b,g,h,k){return h.View.extend({events:{"change #cw-watch-page":"changeWatchPage","change #cw-watch-blogs":"changeWatchBlogs","change #cw-watch-space":"changeWatchSpace"},initialize:function(){g.bindAll(this,"render","initTooltips","changeWatchPage","changeWatchBlogs","changeWatchSpace","togglePageEnabledState","toggleBlogsEnabledState","startLoading","stopLoading","setTitle","_restoreCheckboxState",
"_disableAllElements","_rememberLastState","_revertToLastState");this.model.on("sync change:watchingSpace",this.togglePageEnabledState,this);this.model.on("change:watchingSpace",this.toggleBlogsEnabledState,this);this.model.on("request",this.startLoading,this);this.model.on("sync",this.setTitle,this);this.model.on("sync",this.stopLoading,this);this.model.on("sync",this._restoreCheckboxState,this);this.model.on("error",this._revertToLastState,this)},render:function(){this.$el.html(Confluence.Watch.Templates.dialogBody(this.model.toJSON()));
this.initTooltips();this.setTitle(this.model);"READ_ONLY"===b.Meta.get("access-mode")&&this._disableAllElements();return this},_revertToLastState:function(){var a=this.currentModel.get("watchingPage"),c=this.currentModel.get("watchingSpace"),f=this.currentModel.get("watchingBlogs"),d=this.$("#cw-watch-page");d.prop("checked",a||c);d.prop("disabled",this.currentModel.get("watchPageDisabled"));d=this.$("#cw-watch-space");d.prop("checked",c);d.prop("disabled",this.currentModel.get("watchSpaceDisabled"));
d=this.$("#cw-watch-blogs");d.prop("checked",f);d.prop("disabled",this.currentModel.get("watchBlogsDisabled"));this.$(".cw-manage-watchers").removeClass("disabled");this.model.set("watchingPage",a);this.model.set("watchingBlogs",f);this.model.set("watchingSpace",c);this.stopLoading();this.errorFlag=new k(e.extend({},{close:"manual",type:"error",extraClasses:"confluence-menu-flag",fifo:!0,stack:"menu"},{body:"This site is read-only. You can\u0027t make changes right now."}))},_rememberLastState:function(){this.errorFlag&&
this.errorFlag.close();this.currentModel=this.model.clone();this.currentModel.set("watchPageDisabled",this.$("#cw-watch-page").prop("disabled"));this.currentModel.set("watchSpaceDisabled",this.$("#cw-watch-space").prop("disabled"));this.currentModel.set("watchBlogsDisabled",this.$("#cw-watch-blogs").prop("disabled"));this.$targetCheckbox.prop("disabled",!0)},_disableAllElements:function(){this.$("input[type\x3d'checkbox']").prop("disabled",!0);this.$(".cw-manage-watchers").addClass("disabled")},_restoreCheckboxState:function(){this.$targetCheckbox&&
this.$targetCheckbox.prop("disabled",!1)},initTooltips:function(){this.$(".cw-tooltip").tooltip({gravity:"e",offset:5,delayIn:0});this.togglePageEnabledState(this.model);this.toggleBlogsEnabledState(this.model)},changeWatchPage:function(a){this.$targetCheckbox=e(a.target);this._rememberLastState();a=this.$targetCheckbox.is(":checked");this.model.saveWatchPage(a)},changeWatchBlogs:function(a){this.$targetCheckbox=e(a.target);this._rememberLastState();a=this.$targetCheckbox.is(":checked");this.model.saveWatchBlogs(a)},
changeWatchSpace:function(a){this.$targetCheckbox=e(a.target);this._rememberLastState();a=this.$targetCheckbox.is(":checked");this.model.saveWatchSpace(a)},togglePageEnabledState:function(a){var c=a.get("watchingPage");a=a.get("watchingSpace");this.$("#cw-watch-page").prop("disabled",a);this.$("#cw-watch-page").prop("checked",c||a);c=a?"You will receive updates for this page because you are watching this space.":"";this.$(".cw-tooltip-watch-page").attr("original-title",c)},toggleBlogsEnabledState:function(a){var c=a.get("watchingBlogs");
a=a.get("watchingSpace");this.$("#cw-watch-blogs").prop("disabled",a);this.$("#cw-watch-blogs").prop("checked",c||a);c=a?"You are subscribed to all blog posts because you are watching this space.":"";this.$(".cw-tooltip-watch-blogs").attr("original-title",c)},startLoading:function(){this.$(".cw-status").addClass("loading")},stopLoading:function(){this.$(".cw-status").removeClass("loading")},setTitle:function(){var a=this.model.get("watchingPage"),c=this.model.get("watchingBlogs"),f=this.model.get("watchingSpace"),d=
this.model.get("isBlogPost");a=f?{title:"You are watching this space",description:"Receiving email updates for all content in this space."}:a&&d&&c?{title:"You are watching this blog post",description:"Receiving email updates about changes to this blog post and all new blog posts in this space."}:a&&d?{title:"You are watching this blog post",description:"Receiving email updates about changes to this blog post."}:a?{title:"You are watching this page",
description:"Receiving email updates about changes to this page."}:d&&c?{title:"You are watching for new blog posts",description:"Receiving email updates for new blog posts in this space."}:d?{title:"You are not watching this blog",description:"Start watching to receive email updates about changes to this blog."}:{title:"You are not watching this page",description:"Start watching to receive email updates about changes to this page."};
this.$(".cw-title").text(a.title);this.$(".cw-title-description").text(a.description)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.watch-button:watch-resources', location = 'js/notification.js' */
define("confluence-watch-button/watch-notification",["jquery","confluence/flag"],function(d,b){return function(c){var a=document.getElementById("watch-notification");null!=a&&a.close();b({type:"success",body:c,close:"auto"}).setAttribute("id","watch-notification")}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.watch-button:watch-resources', location = 'js/watch.js' */
require("jquery underscore ajs confluence-watch-button/watch-model confluence-watch-button/watch-view confluence-watch-button/watch-notification".split(" "),function(g,m,b,n,p,q){function r(c,d){l(c,d);var a=new n(d),h=new p({model:a});b.InlineDialog(c,"confluence-watch",function(e,f,t){h.setElement(e);h.render();t()},{width:325,offsetX:-180,cacheContent:!1,hideDelay:null,hideCallback:function(){g(".tipsy").hide()}});a.on("change:watchingPage change:watchingBlogs change:watchingSpace",function(e){l(c,
e.toJSON())});a.on("change:watchingPage",function(e,f){b.trigger("analytics",{name:f?"watch-page":"unwatch-page"})});a.on("change:watchingBlogs",function(e,f){b.trigger("analytics",{name:f?"watch-blogs":"unwatch-blogs"})});a.on("change:watchingSpace",function(e,f){b.trigger("analytics",{name:f?"watch-space":"unwatch-space"})});u(a);var k=!1;g(document).on("keyup",function(){k=!1});window.CW_watchPage=function(){if(!k){k=!0;var e=a.get("watchingSpace"),f=a.get("watchingPage");e?g("body, #splitter-content").animate({scrollTop:0},
300,function(){c.click();setTimeout(function(){g(".cw-tooltip-watch-page").tipsy("show")},50)}):(e=!f,a.saveWatchPage(e),e=e?"You started watching this page.":"You stopped watching this page.",q(e))}}}function l(c,d){var a=d.isBlogPost&&d.watchingBlogs,h=d.watchingSpace;d.watchingPage||a||h?(d=c.find(".aui-icon").removeClass("aui-iconfont-unwatch").addClass("aui-iconfont-watch"),a=b.format("{0}W{1}atching","\x3cu\x3e",
"\x3c/u\x3e"),c.prop("title","Stop watching (w)").children("span").empty().append(d).append(" "+a)):(d=c.find(".aui-icon").removeClass("aui-iconfont-watch").addClass("aui-iconfont-unwatch"),a=b.format("{0}W{1}atch","\x3cu\x3e","\x3c/u\x3e"),c.prop("title","Watch (w)").children("span").empty().append(d).append(" "+a))}function u(c){c.on("change:watchingPage",function(d,a){b.trigger(a?"watchpage.pageoperation":
"unwatchpage.pageoperation")})}b.toInit(function(){var c=g("#watch-content-button");if(c.length){c.click(function(a){a.preventDefault()});var d=b.Meta.get("page-id");g.getJSON(b.contextPath()+"/rest/watch-button/1.0/watchState/"+d,function(a){m.extend(a,{pageId:d,spaceKey:b.Meta.get("space-key"),spaceName:b.Meta.get("space-name")});r(c,a);c.addClass("watch-state-initialised")})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.watch-button:watch-resources', location = 'templates/watch.soy' */
// This file was automatically generated from watch.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Watch.Templates.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Watch == 'undefined') { Confluence.Watch = {}; }
if (typeof Confluence.Watch.Templates == 'undefined') { Confluence.Watch.Templates = {}; }


Confluence.Watch.Templates.dialogBody = function(opt_data, opt_ignored) {
  return '<div class="cw-status"><h2 class="cw-title"></h2><p class="cw-title-description"></p></div><form class="aui cw-dialog"><div class="cw-tooltip cw-tooltip-watch-page"><div class="checkbox"><input class="checkbox" type="checkbox" id="cw-watch-page" ' + ((opt_data.watchingPage) ? 'checked' : '') + '><label for="cw-watch-page">' + ((opt_data.isBlogPost) ? soy.$$escapeHtml('Watch blog post') : soy.$$escapeHtml('Watch page')) + '</label></div></div>' + ((opt_data.isBlogPost) ? '<div class="cw-tooltip cw-tooltip-watch-blogs"><div class="checkbox"><input class="checkbox" type="checkbox" id="cw-watch-blogs" ' + ((opt_data.watchingBlogs) ? 'checked' : '') + '><label for="cw-watch-blogs">' + soy.$$escapeHtml('Watch for new blog posts in this space') + '</label></div></div>' : '') + '<div class="checkbox"><input class="checkbox" type="checkbox" id="cw-watch-space" ' + ((opt_data.watchingSpace) ? 'checked' : '') + '><label for="cw-watch-space">' + soy.$$escapeHtml('Watch all content in this space') + '</label></div></form>' + ((opt_data.isAdmin) ? '<div class="cw-manage-watchers-wrapper"><button class="aui-button aui-button-link cw-manage-watchers">' + soy.$$escapeHtml('Manage Watchers') + '</button></div>' : '');
};
if (goog.DEBUG) {
  Confluence.Watch.Templates.dialogBody.soyTemplateName = 'Confluence.Watch.Templates.dialogBody';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.share-page:share-dialog-service', location = 'js/service/share-page.js' */
define("confluence/share-page/service/share-page",["ajs","wrm","jquery"],function(k,e,c){return{initDialog:function(d,f,g,a){var b=c(d);if(b.length)b.off("click.share-page").on("click.share-page",function(h){b.off("click.share-page");a.beforeLoad&&"function"===typeof a.beforeLoad&&a.beforeLoad();e.require(["wrc!share-page-async-loader"]).done(function(){a.afterLoad&&"function"===typeof a.afterLoad&&a.afterLoad();require("confluence/share-page/dialog-async-loader")(d,f,c.extend(!1,{hideCallback:function(){a.onHide&&
"function"===typeof a.onHide&&a.onHide()},width:250,hideDelay:36E5},g),a);b.click()});h.preventDefault();return!1})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.share-page:share-dialog-service', location = 'js/service/share-dialog-loader.js' */
define("confluence/share-page/service/share-dialog-loader",["wrm","confluence/api/logger"],function(a,b){return{init:function(c,d){a.require(["wrc!share-dialog-react"]).done(function(){require(["share-dialog-react"],function(e){e.init(c,d)})}).fail(function(){b.error("fail to load share-dialog-app")})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.share-page:view-resources', location = 'js/view-init.js' */
require(["ajs","confluence/meta","confluence/share-page/service/share-page","confluence/share-page/service/share-dialog-loader","confluence/dark-features"],function(a,b,g,h,k){var l="page"===b.get("content-type")?"Share this page":"Share this blog post",m="page"===b.get("content-type")?"Take a look at this page":"Take a look at this blog post";a.toInit(function(c){if(k.isEnabled("react.share.dialog"))h.init("share-react-link");
else{var d=c("#shareContentLink");c("#shareContentLink").length&&g.initDialog("#shareContentLink","shareContentPopup",{},{heading:l,notePlaceholder:m,link:function(){return c('link[rel\x3d"shortlink"]').prop("href")},entityId:function(){return b.get("page-id")},restriction:function(){return require("confluence/share-page/fetch/content-restrictions")(b.get("content-id")).pipe(function(e){var f={};if(e.read.restrictions.user.size||e.read.restrictions.group.size||e.update.restrictions.user.size||e.update.restrictions.group.size)f.type=
"restrict",f.message="Restrictions on this page may prevent people viewing or editing.";return f})},copyOption:"share",shareType:"view",contentType:b.get("content-type"),errorText:"An unexpected error occurred. Please try again.",beforeLoad:function(){d.find(".aui-icon").css("visibility","hidden");d.spin()},afterLoad:function(){d.find(".aui-icon").css("visibility","visible");d.spinStop()},onHide:function(){c(".dashboard-actions .explanation").hide()}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:page-analytics', location = '/includes/js/page.js' */
define("confluence/page",["ajs","jquery","confluence/analytics-support","window","document"],function(a,c,e,f,g){var i=a.Meta.get("page-id"),d=function(b,a){e.publish("confluence.page."+b,c.extend({pageID:i},a||{}))},j=(new Date).getTime();return function(){var b=c("#main-content");if(0!==b.length){d("view");b.on("click","a",function(a){a=-1<a.currentTarget.href.indexOf(f.location.host)?"internal":"external";d("link.click",{linkType:a})});var h=c(f),e=(new Date).getTime();h.on("scroll.content",a.debounce(function(){var a=
g.body.scrollTop+g.body.offsetHeight,c=b.offset().top+b.height();a>c&&(d("scroll-to-bottom",{secondsSinceReadyEvent:((new Date).getTime()-e)/1E3,secondsSincePageLoad:((new Date).getTime()-j)/1E3}),h.off("scroll.content"))},200));setTimeout(function(){d("reading")},3E5)}}});require("confluence/module-exporter").safeRequire("confluence/page",function(a){require("ajs").toInit(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.macros.advanced:blog-post-resources', location = 'com/atlassian/confluence/plugins/macros/advanced/blog-posts.js' */
jQuery(function(a){a(".macro-blank-experience .create-post").bind("click",function(){var b=AJS.Meta.get("base-url")+"/pages/createblogpost.action?spaceKey\x3d"+AJS.Meta.get("space-key");window.location=b})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.macros.multimedia:flash-autosize', location = 'javascript/flash-autosize.js' */
AJS.toInit(function(c){function f(g,d){if(20<=d)AJS.log("unable to auto size flash - took too long to load");else{var a=c([]);g.each(function(){var b=c(this),e;if(this.GetVariable){if(!b.attr("height"))if(e=this.GetVariable("height"))b.height(e);else{a=a.add(b);return}b.attr("width")||((e=this.GetVariable("width"))?b.width(e):a=a.add(b))}});a.length&&setTimeout(function(){f(a,d+1)},100)}}f(c('embed[type\x3d"application/x-shockwave-flash"]'),0);c(window).bind("render-content-loaded",function(g,d){f(c('embed[type\x3d"application/x-shockwave-flash"]',
d),0)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.view-source:view-source-menu-resources', location = 'com/atlassian/confluence/plugins/viewsource/js/viewsource.js' */
define("confluence-view-source/viewsource",["jquery","window"],function(a,b){return function(){a("#action-view-source-link").click(function(a){b.open(this.href,(this.id+"-popupwindow").replace(/-/g,"_"),"width=800, height=600, scrollbars, resizable").opener=null;a.preventDefault();return!1})}});require("confluence/module-exporter").safeRequire("confluence-view-source/viewsource",function(a){require("ajs").toInit(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.view-storage-format:view-storage-menu-resources', location = 'com/atlassian/confluence/plugins/viewstorage/js/viewstorage.js' */
AJS.toInit(function(a){a(".view-storage-link, .view-storage-link a").click(function(b){window.open(this.href,(this.id+"-popupwindow").replace(/-/g,"_"),"width\x3d800, height\x3d600, scrollbars, resizable");b.preventDefault();return!1})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-request-access-plugin:confluence-request-access-plugin-loader', location = '/js/loader.js' */
require(["ajs","wrm"],function(a,b){!a.$(".page-gadget").length&&a.toInit(function(){b.require(["wrc!request-access-plugin"])})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickedit:quick-comment-hide-traditional', location = 'jscripts/add-comment-hider.js' */
define("confluence-quick-edit/add-comment-hider",[],function(){return function(a){a("#comments-actions").hide()}});require("confluence/module-exporter").safeRequire("confluence-quick-edit/add-comment-hider",function(a){require("ajs").toInit(a)});
}catch(e){WRMCB(e)};